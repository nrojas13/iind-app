webpackJsonp([8,22],{"/Trv":function(t,e,i){"use strict";var n=i("3j3K"),o=i("2Je8"),a=i("ukuU");i.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=function(){function t(){}return t}();s=r([i.i(n.NgModule)({imports:[o.b],declarations:[a.a],exports:[a.a]})],s)},"/U6W":function(t,e,i){"use strict";var n=i("pbU0");i.d(e,"a",function(){return o});var o=function(){function t(t,e,i){this.index=t,this.data=e,this._dataSet=i,this.isSelected=!1,this.isInEditing=!1,this.cells=[],this.process()}return t.prototype.getCell=function(t){return this.cells.find(function(e){return e.getColumn()===t})},t.prototype.getCells=function(){return this.cells},t.prototype.getData=function(){return this.data},t.prototype.getIsSelected=function(){return this.isSelected},t.prototype.getNewData=function(){var t=Object.assign({},this.data);return this.getCells().forEach(function(e){return t[e.getColumn().id]=e.newValue}),t},t.prototype.setData=function(t){this.data=t,this.process()},t.prototype.process=function(){var t=this;this.cells=[],this._dataSet.getColumns().forEach(function(e){var i=t.createCell(e);t.cells.push(i)})},t.prototype.createCell=function(t){var e=t.settings.defaultValue?t.settings.defaultValue:"",i=void 0===this.data[t.id]?e:this.data[t.id];return new n.a(i,this,t,this._dataSet)},t}()},"3BAp":function(t,e,i){"use strict";var n=i("3j3K"),o=i("tfux");i.d(e,"a",function(){return l});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(t){function e(e){var i=t.call(this)||this;return i.resolver=e,i}return a(e,t),e.prototype.ngOnChanges=function(t){var e=this;if(this.cell&&!this.customComponent){var i=this.resolver.resolveComponentFactory(this.cell.getColumn().editor.component);this.customComponent=this.dynamicTarget.createComponent(i),this.customComponent.instance.cell=this.cell,this.customComponent.instance.inputClass=this.inputClass,this.customComponent.instance.onStopEditing.subscribe(function(){return e.onStopEditing()}),this.customComponent.instance.onEdited.subscribe(function(t){return e.onEdited(t)}),this.customComponent.instance.onClick.subscribe(function(t){return e.onClick(t)})}},e.prototype.ngOnDestroy=function(){this.customComponent&&this.customComponent.destroy()},e}(o.a);r([i.i(n.ViewChild)("dynamicTarget",{read:n.ViewContainerRef}),s("design:type",Object)],l.prototype,"dynamicTarget",void 0),l=r([i.i(n.Component)({selector:"table-cell-custom-editor",template:"\n    <ng-template #dynamicTarget></ng-template>\n  "}),s("design:paramtypes",[n.ComponentFactoryResolver])],l)},"3ERO":function(t,e,i){"use strict";var n=i("3j3K"),o=i("pbU0");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.onStopEditing=new n.EventEmitter,this.onEdited=new n.EventEmitter,this.onClick=new n.EventEmitter}return t}();a([i.i(n.Input)(),r("design:type",o.a)],s.prototype,"cell",void 0),a([i.i(n.Input)(),r("design:type",String)],s.prototype,"inputClass",void 0),a([i.i(n.Output)(),r("design:type",Object)],s.prototype,"onStopEditing",void 0),a([i.i(n.Output)(),r("design:type",Object)],s.prototype,"onEdited",void 0),a([i.i(n.Output)(),r("design:type",Object)],s.prototype,"onClick",void 0)},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"4bAY":function(t,e,i){"use strict";var n=i("3j3K"),o=i("/U6W"),a=i("bICd");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.custom=new n.EventEmitter}return t.prototype.onCustom=function(t,e){e.preventDefault(),e.stopPropagation(),this.custom.emit({action:t.name,data:this.row.getData(),source:this.source})},t}();r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"grid",void 0),r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"row",void 0),r([i.i(n.Input)(),s("design:type",Object)],l.prototype,"source",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"custom",void 0),l=r([i.i(n.Component)({selector:"ng2-st-tbody-custom",changeDetection:n.ChangeDetectionStrategy.OnPush,template:'\n      <a *ngFor="let action of grid.getSetting(\'actions.custom\')" href="#"\n         class="ng2-smart-action ng2-smart-action-custom-custom" \n         [innerHTML]="action.title"\n         (click)="onCustom(action, $event)"></a>\n        '})],l)},"6ENF":function(t,e,i){"use strict";var n=i("3j3K"),o=i("NVOs"),a=i("vfyQ"),r=i("oVzB"),s=i("Dgu4"),l=i("6Yye");i.n(l);i.d(e,"a",function(){return d});var c=function(){},u={provide:o.g,useExisting:i.i(n.forwardRef)(function(){return d}),multi:!0},d=function(){function t(t){this.completerService=t,this.inputName="",this.inputId="",this.pause=s.c,this.minSearchLength=s.b,this.maxChars=s.e,this.overrideSuggested=!1,this.clearSelected=!1,this.clearUnselected=!1,this.fillHighlighted=!0,this.placeholder="",this.autoMatch=!1,this.disableInput=!1,this.autofocus=!1,this.openOnFocus=!1,this.autoHighlight=!1,this.selected=new n.EventEmitter,this.highlighted=new n.EventEmitter,this.blur=new n.EventEmitter,this.focusEvent=new n.EventEmitter,this.opened=new n.EventEmitter,this.keyup=new n.EventEmitter,this.keydown=new n.EventEmitter,this.searchStr="",this.control=new o.h(""),this.displaySearching=!0,this.displayNoResults=!0,this._onTouchedCallback=c,this._onChangeCallback=c,this._focus=!1,this._open=!1,this._textNoResults=s.f,this._textSearching=s.g}return Object.defineProperty(t.prototype,"value",{get:function(){return this.searchStr},set:function(t){t!==this.searchStr&&(this.searchStr=t),this._onChangeCallback(t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.autofocus&&(this._focus=!0)},t.prototype.ngAfterViewChecked=function(){this._focus&&(this.ctrInput.nativeElement.focus(),this._focus=!1)},t.prototype.onTouched=function(){this._onTouchedCallback()},t.prototype.writeValue=function(t){this.searchStr=t},t.prototype.registerOnChange=function(t){this._onChangeCallback=t},t.prototype.registerOnTouched=function(t){this._onTouchedCallback=t},Object.defineProperty(t.prototype,"datasource",{set:function(t){t&&(t instanceof Array?this.dataService=this.completerService.local(t):this.dataService="string"==typeof t?this.completerService.remote(t):t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textNoResults",{set:function(t){this._textNoResults!=t&&(this._textNoResults=t,this.displayNoResults=this._textNoResults&&"false"!==this._textNoResults)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textSearching",{set:function(t){this._textSearching!=t&&(this._textSearching=t,this.displaySearching=this._textSearching&&"false"!==this._textSearching)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.completer.selected.subscribe(function(e){t.selected.emit(e)}),this.completer.highlighted.subscribe(function(e){t.highlighted.emit(e)}),this.completer.opened.subscribe(function(e){t._open=e,t.opened.emit(e)})},t.prototype.onBlur=function(){this.blur.emit(),this.onTouched()},t.prototype.onFocus=function(){this.focusEvent.emit(),this.onTouched()},t.prototype.onKeyup=function(t){this.keyup.emit(t)},t.prototype.onKeydown=function(t){this.keydown.emit(t)},t.prototype.onChange=function(t){this.value=t},t.prototype.open=function(){this.completer.open()},t.prototype.close=function(){this.completer.clear()},t.prototype.focus=function(){this.ctrInput?this.ctrInput.nativeElement.focus():this._focus=!0},t.prototype.isOpen=function(){return this._open},t}();d.decorators=[{type:n.Component,args:[{selector:"ng2-completer",template:'\n        <div class="completer-holder" ctrCompleter>\n            <input #ctrInput [attr.id]="inputId.length > 0 ? inputId : null" type="search" class="completer-input" ctrInput [ngClass]="inputClass" \n                [(ngModel)]="searchStr" (ngModelChange)="onChange($event)" [attr.name]="inputName" [placeholder]="placeholder"\n                [attr.maxlength]="maxChars" [tabindex]="fieldTabindex" [disabled]="disableInput" \n                [clearSelected]="clearSelected" [clearUnselected]="clearUnselected"\n                [overrideSuggested]="overrideSuggested" [openOnFocus]="openOnFocus" [fillHighlighted]="fillHighlighted" \n                (blur)="onBlur()" (focus)="onFocus()" (keyup)="onKeyup($event)" (keydown)="onKeydown($event)"\n                autocomplete="off" autocorrect="off" autocapitalize="off" />\n\n            <div class="completer-dropdown-holder"\n                *ctrList="dataService;\n                    minSearchLength: minSearchLength;\n                    pause: pause;\n                    autoMatch: autoMatch;\n                    initialValue: initialValue;\n                    autoHighlight: autoHighlight;\n                    let items = results;\n                    let searchActive = searching;\n                    let isInitialized = searchInitialized;\n                    let isOpen = isOpen;">\n                <div class="completer-dropdown" ctrDropdown *ngIf="isInitialized && isOpen && ((items.length > 0 || displayNoResults) || (searchActive && displaySearching))">\n                    <div *ngIf="searchActive && displaySearching" class="completer-searching">{{_textSearching}}</div>\n                    <div *ngIf="!searchActive && (!items || items.length === 0)" class="completer-no-results">{{_textNoResults}}</div>\n                    <div class="completer-row-wrapper" *ngFor="let item of items; let rowIndex=index">\n                        <div class="completer-row" [ctrRow]="rowIndex" [dataItem]="item">\n                            <div *ngIf="item.image || item.image === \'\'" class="completer-image-holder">\n                                <img *ngIf="item.image != \'\'" src="{{item.image}}" class="completer-image" />\n                                <div *ngIf="item.image === \'\'" class="completer-image-default"></div>\n                            </div>\n                            <div class="completer-item-text" [ngClass]="{\'completer-item-text-image\': item.image || item.image === \'\' }">\n                                <completer-list-item class="completer-title" [text]="item.title" [matchClass]="matchClass" [searchStr]="searchStr" [type]="\'title\'"></completer-list-item>\n                                <completer-list-item *ngIf="item.description && item.description != \'\'" class="completer-description" [text]="item.description"\n                                    [matchClass]="matchClass" [searchStr]="searchStr" [type]="\'description\'">\n                                </completer-list-item>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',styles:['\n    .completer-dropdown {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description {\n        font-size: 14px;\n    }\n\n    .completer-image-default {\n        width: 16px; \n        height: 16px;\n        background-image: url("demo/res/img/default.png");\n    }\n\n    .completer-image-holder {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image {\n        float: right;\n        width: 90%;\n    }\n    '],providers:[u]}]}],d.ctorParameters=function(){return[{type:r.a}]},d.propDecorators={dataService:[{type:n.Input}],inputName:[{type:n.Input}],inputId:[{type:n.Input}],pause:[{type:n.Input}],minSearchLength:[{type:n.Input}],maxChars:[{type:n.Input}],overrideSuggested:[{type:n.Input}],clearSelected:[{type:n.Input}],clearUnselected:[{type:n.Input}],fillHighlighted:[{type:n.Input}],placeholder:[{type:n.Input}],matchClass:[{type:n.Input}],fieldTabindex:[{type:n.Input}],autoMatch:[{type:n.Input}],disableInput:[{type:n.Input}],inputClass:[{type:n.Input}],autofocus:[{type:n.Input}],openOnFocus:[{type:n.Input}],initialValue:[{type:n.Input}],autoHighlight:[{type:n.Input}],selected:[{type:n.Output}],highlighted:[{type:n.Output}],blur:[{type:n.Output}],focusEvent:[{type:n.Output,args:["focus"]}],opened:[{type:n.Output}],keyup:[{type:n.Output}],keydown:[{type:n.Output}],completer:[{type:n.ViewChild,args:[a.a]}],ctrInput:[{type:n.ViewChild,args:["ctrInput"]}],datasource:[{type:n.Input}],textNoResults:[{type:n.Input}],textSearching:[{type:n.Input}]}},"6okf":function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("aXxY");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){}return t}();r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"grid",void 0),r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"source",void 0),r([i.i(n.Input)(),s("design:type",Boolean)],l.prototype,"isAllSelected",void 0),l=r([i.i(n.Component)({selector:"[ng2-st-checkbox-select-all]",template:'\n    <input type="checkbox" [ngModel]="isAllSelected">\n  '})],l)},"8lCG":function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("/U6W");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){}return t.prototype.onSave=function(t){t.preventDefault(),t.stopPropagation(),this.grid.save(this.row,this.editConfirm)},t.prototype.onCancelEdit=function(t){t.preventDefault(),t.stopPropagation(),this.row.isInEditing=!1},t.prototype.ngOnChanges=function(){this.saveButtonContent=this.grid.getSetting("edit.saveButtonContent"),this.cancelButtonContent=this.grid.getSetting("edit.cancelButtonContent")},t}();r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"grid",void 0),r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"row",void 0),r([i.i(n.Input)(),s("design:type",n.EventEmitter)],l.prototype,"editConfirm",void 0),l=r([i.i(n.Component)({selector:"ng2-st-tbody-create-cancel",template:'\n    <a href="#" class="ng2-smart-action ng2-smart-action-edit-save"\n        [innerHTML]="saveButtonContent" (click)="onSave($event)"></a>\n    <a href="#" class="ng2-smart-action ng2-smart-action-edit-cancel"\n        [innerHTML]="cancelButtonContent" (click)="onCancelEdit($event)"></a>\n  '})],l)},"9LEY":function(t,e,i){"use strict";var n=i("3j3K"),o=i("tfux");i.d(e,"a",function(){return l});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(t){function e(){return t.call(this)||this}return a(e,t),e.prototype.getEditorType=function(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type},e}(o.a);l=r([i.i(n.Component)({selector:"table-cell-default-editor",template:'<div [ngSwitch]="getEditorType()"><select-editor *ngSwitchCase="\'list\'" [cell]="cell" [inputClass]="inputClass" (onClick)="onClick($event)" (onEdited)="onEdited($event)" (onStopEditing)="onStopEditing()"></select-editor><textarea-editor *ngSwitchCase="\'textarea\'" [cell]="cell" [inputClass]="inputClass" (onClick)="onClick($event)" (onEdited)="onEdited($event)" (onStopEditing)="onStopEditing()"></textarea-editor><checkbox-editor *ngSwitchCase="\'checkbox\'" [cell]="cell" [inputClass]="inputClass" (onClick)="onClick($event)"></checkbox-editor><completer-editor *ngSwitchCase="\'completer\'" [cell]="cell"></completer-editor><input-editor *ngSwitchDefault [cell]="cell" [inputClass]="inputClass" (onClick)="onClick($event)" (onEdited)="onEdited($event)" (onStopEditing)="onStopEditing()"></input-editor></div>'}),s("design:paramtypes",[])],l)},A9BM:function(t,e,i){"use strict";var n=i("esOA"),o=(i.n(n),i("Fzro"));i.d(e,"a",function(){return a});var a=function(){function t(t){var e=this;this.http=t,this.administrador_id="2",this.calendarConfigHomologaciones={startDate:n.DayPilot.Date.today(),viewType:"Week",onTimeRangeSelected:function(t){for(var i=t.start.value,n=t.end.value,o=new Date(i).getTime(),a=new Date(n).getTime(),r=o;r<a;r+=18e5){console.log(new Date(r)),console.log(new Date(r+18e5));var s={text:"Homologaciones",start:new Date(r-18e6),end:new Date(r+18e5-18e6)};e.events_homologaciones.push(s),console.log(e.events_homologaciones)}}},this.calendarConfigConsejeria={startDate:n.DayPilot.Date.today(),viewType:"Week",onTimeRangeSelected:function(t){var i=t.start.value,n=t.end.value,o={text:"Consejeria",start:i,end:n};e.events_consejeria.push(o),console.log(e.events_consejeria)}}}return t.prototype.ngOnInit=function(){},t.prototype.ngAfterViewInit=function(){var t=this;this.http.get("http://51.143.100.161:3000/horarios/").map(function(t){return t.json()}).subscribe(function(e){t.events_homologaciones=[],t.events_consejeria=[],e.forEach(function(e){var i={text:e.tipo_cita,start:e.fecha_inicio,end:e.fecha_fin};"Homologaciones"===i.text?t.events_homologaciones.push(i):"Consejeria"===i.text&&t.events_consejeria.push(i)})})},t.prototype.onGuardarCalendario=function(t){var e=this,i=[];"Homologaciones"===t?i=this.events_homologaciones:"Consejeria"===t&&(i=this.events_consejeria),i.forEach(function(i){var n={tipo_cita:t,fecha_inicio:i.start.value,fecha_fin:i.end.value,administrador_id:e.administrador_id};console.log(JSON.stringify(n));var a=new o.l;a.append("Content-Type","application/json"),e.http.post("http://51.143.100.161:3000/horarios/",JSON.stringify(n),{headers:a}).map(function(t){return t.json()}).subscribe(function(t){console.log(t)})})},t.prototype.onBorrarUltimo=function(t){var e=[];"Homologaciones"===t?e=this.events_homologaciones:"Consejeria"===t&&(e=this.events_consejeria),e.pop()},t.ctorParameters=function(){return[{type:o.k}]},t}()},BIbo:function(t,e,i){"use strict";var n=i("3j3K"),o=i("pbU0");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t}();a([i.i(n.Input)(),r("design:type",o.a)],s.prototype,"cell",void 0),s=a([i.i(n.Component)({selector:"table-cell-view-mode",changeDetection:n.ChangeDetectionStrategy.OnPush,template:'\n    <div [ngSwitch]="cell.getColumn().type">\n        <custom-view-component *ngSwitchCase="\'custom\'" [cell]="cell"></custom-view-component>\n        <div *ngSwitchCase="\'html\'" [innerHTML]="cell.getValue()"></div>\n        <div *ngSwitchDefault>{{ cell.getValue() }}</div>\n    </div>\n    '})],s)},BXdK:function(t,e,i){"use strict";var n=i("/U6W"),o=i("FLi/");i.d(e,"a",function(){return a});var a=function(){function t(t,e){void 0===t&&(t=[]),this.columnSettings=e,this.data=[],this.columns=[],this.rows=[],this.willSelect="first",this.createColumns(e),this.setData(t),this.createNewRow()}return t.prototype.setData=function(t){this.data=t,this.createRows()},t.prototype.getColumns=function(){return this.columns},t.prototype.getRows=function(){return this.rows},t.prototype.getFirstRow=function(){return this.rows[0]},t.prototype.getLastRow=function(){return this.rows[this.rows.length-1]},t.prototype.findRowByData=function(t){return this.rows.find(function(e){return e.getData()===t})},t.prototype.deselectAll=function(){this.rows.forEach(function(t){t.isSelected=!1})},t.prototype.selectRow=function(t){var e=t.isSelected;return this.deselectAll(),t.isSelected=!e,this.selectedRow=t,this.selectedRow},t.prototype.multipleSelectRow=function(t){return t.isSelected=!t.isSelected,this.selectedRow=t,this.selectedRow},t.prototype.selectPreviousRow=function(){if(this.rows.length>0){var t=this.selectedRow?this.selectedRow.index:0;return t>this.rows.length-1&&(t=this.rows.length-1),this.selectRow(this.rows[t]),this.selectedRow}},t.prototype.selectFirstRow=function(){if(this.rows.length>0)return this.selectRow(this.rows[0]),this.selectedRow},t.prototype.selectLastRow=function(){if(this.rows.length>0)return this.selectRow(this.rows[this.rows.length-1]),this.selectedRow},t.prototype.willSelectFirstRow=function(){this.willSelect="first"},t.prototype.willSelectLastRow=function(){this.willSelect="last"},t.prototype.select=function(){if(0!==this.getRows().length)return this.willSelect?("first"===this.willSelect&&this.selectFirstRow(),"last"===this.willSelect&&this.selectLastRow(),this.willSelect=""):this.selectFirstRow(),this.selectedRow},t.prototype.createNewRow=function(){this.newRow=new n.a(-1,{},this),this.newRow.isInEditing=!0},t.prototype.createColumns=function(t){for(var e in t)t.hasOwnProperty(e)&&this.columns.push(new o.a(e,t[e],this))},t.prototype.createRows=function(){var t=this;this.rows=[],this.data.forEach(function(e,i){t.rows.push(new n.a(i,e,t))})},t}()},BkNs:function(t,e,i){"use strict";var n=i("jdeX"),o=(i.n(n),i("3j3K")),a=i("rCTf"),r=(i.n(a),i("vfyQ")),s=i("Dgu4");i.d(e,"a",function(){return c});var l=function(){function t(t,e,i,n){this.results=t,this.searching=e,this.searchInitialized=i,this.isOpen=n}return t}(),c=function(){function t(t,e,i,n){this.completer=t,this.templateRef=e,this.viewContainer=i,this.cd=n,this.ctrListMinSearchLength=s.b,this.ctrListPause=s.c,this.ctrListAutoMatch=!1,this.ctrListAutoHighlight=!1,this.term=null,this.searchTimer=null,this.clearTimer=null,this.ctx=new l([],!1,!1,!1),this._initialValue=null}return t.prototype.ngOnInit=function(){this.completer.registerList(this),this.viewContainer.createEmbeddedView(this.templateRef,new l([],!1,!1,!1))},Object.defineProperty(t.prototype,"dataService",{set:function(t){var e=this;this._dataService=t,this._dataService&&this._dataService.catch(function(t){return e.handleError(t)}).subscribe(function(t){e.ctx.searchInitialized=!0,e.ctx.searching=!1,e.ctx.results=t,e.ctrListAutoMatch&&1===t.length&&t[0].title&&!i.i(s.a)(e.term)&&t[0].title.toLocaleLowerCase()===e.term.toLocaleLowerCase()&&e.completer.onSelected(t[0]),e._initialValue&&(e.initialValue=e._initialValue,e._initialValue=null),e.ctrListAutoHighlight&&(e.completer.autoHighlightIndex=e.getBestMatchIndex()),e.refreshTemplate()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialValue",{set:function(t){var e=this;this._dataService&&"function"==typeof this._dataService.convertToItem?setTimeout(function(){var i=e._dataService.convertToItem(t);i&&e.completer.onSelected(i,!1)}):this._dataService||(this._initialValue=t)},enumerable:!0,configurable:!0}),t.prototype.search=function(t){var e=this;!i.i(s.a)(t)&&t.length>=this.ctrListMinSearchLength&&this.term!==t?(this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.ctx.searching||(this.ctx.results=[],this.ctx.searching=!0,this.ctx.searchInitialized=!0,this.refreshTemplate()),this.clearTimer&&this.clearTimer.unsubscribe(),this.searchTimer=a.Observable.timer(this.ctrListPause).subscribe(function(){e.searchTimerComplete(t)})):!i.i(s.a)(t)&&t.length<this.ctrListMinSearchLength&&this.clear()},t.prototype.clear=function(){var t=this;this.searchTimer&&this.searchTimer.unsubscribe(),this.clearTimer=a.Observable.timer(s.d).subscribe(function(){t._clear()})},t.prototype.open=function(){this.ctx.searchInitialized||this.search(""),this.refreshTemplate()},t.prototype.isOpen=function(t){this.ctx.isOpen=t},t.prototype._clear=function(){this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.dataService&&this.dataService.cancel(),this.viewContainer.clear()},t.prototype.searchTimerComplete=function(t){if(i.i(s.a)(t)||t.length<this.ctrListMinSearchLength)return void(this.ctx.searching=!1);this.term=t,this._dataService.search(t)},t.prototype.handleError=function(t){this.ctx.searching=!1;var e="search error";return t&&(e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error"),console&&console.error&&console.error(e),this.refreshTemplate(),a.Observable.throw(e)},t.prototype.refreshTemplate=function(){this.viewContainer.clear(),this.ctx.results&&this.ctx.isOpen&&this.viewContainer.createEmbeddedView(this.templateRef,this.ctx),this.cd.markForCheck()},t.prototype.getBestMatchIndex=function(){var t=this;if(!this.ctx.results)return null;var e=this.ctx.results.findIndex(function(e){return e.title.toLowerCase()===t.term.toLocaleLowerCase()});return e<0&&(e=this.ctx.results.findIndex(function(e){return e.title.toLowerCase().startsWith(t.term.toLocaleLowerCase())})),e<0&&(e=this.ctx.results.findIndex(function(e){return e.title.toLowerCase().includes(t.term.toLocaleLowerCase())})),e<0?null:e},t}();c.decorators=[{type:o.Directive,args:[{selector:"[ctrList]"}]}],c.ctorParameters=function(){return[{type:r.a,decorators:[{type:o.Host}]},{type:o.TemplateRef},{type:o.ViewContainerRef},{type:o.ChangeDetectorRef}]},c.propDecorators={ctrListMinSearchLength:[{type:o.Input}],ctrListPause:[{type:o.Input}],ctrListAutoMatch:[{type:o.Input}],ctrListAutoHighlight:[{type:o.Input}],dataService:[{type:o.Input,args:["ctrList"]}],initialValue:[{type:o.Input,args:["ctrListInitialValue"]}]}},DfI3:function(t,e,i){"use strict";function n(t,e,i){void 0===t&&(t={});var n=e.split("."),o=a({},t);return n.forEach(function(t){o&&void 0!==o[t]&&(o=o[t])}),void 0===o?i:o}var o=i("M4fF");i.n(o);i.d(e,"a",function(){return a}),i.d(e,"c",function(){return r}),e.b=n;var a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var n,r,s=arguments[0],l=Array.prototype.slice.call(arguments,1);return l.forEach(function(t){"object"!=typeof t||Array.isArray(t)||Object.keys(t).forEach(function(e){return r=s[e],n=t[e],n===s?void 0:"object"!=typeof n||null===n?void(s[e]=n):Array.isArray(n)?void(s[e]=i.i(o.cloneDeep)(n)):"object"!=typeof r||null===r||Array.isArray(r)?void(s[e]=a({},n)):void(s[e]=a(r,n))})}),s},r=function(){function t(){var t=this;this.promise=new Promise(function(e,i){t.resolve=e,t.reject=i})}return t}()},Dgu4:function(t,e,i){"use strict";function n(t){return void 0===t||null===t}i.d(e,"e",function(){return o}),i.d(e,"b",function(){return a}),i.d(e,"c",function(){return r}),i.d(e,"g",function(){return s}),i.d(e,"f",function(){return l}),i.d(e,"d",function(){return c}),e.a=n;var o=524288,a=3,r=100,s="Searching...",l="No results found",c=50},DjRm:function(t,e,i){"use strict";var n=i("3j3K"),o=i("3ERO");i.d(e,"a",function(){return l});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(t){function e(){return t.call(this)||this}return a(e,t),e.prototype.onChange=function(t){var e=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().true||!0,i=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().false||!1;this.cell.newValue=t.target.checked?e:i},e}(o.a);l=r([i.i(n.Component)({selector:"checkbox-editor",styles:[":host input,:host textarea{width:100%;line-height:normal;padding:.375em .75em} /*# sourceMappingURL=editor.component.css.map */ "],template:'\n    <input [ngClass]="inputClass"\n           type="checkbox"\n           class="form-control"\n           [name]="cell.getId()"\n           [disabled]="!cell.isEditable()"\n           [checked]="cell.getValue() == (cell.getColumn().getConfig()?.true || true)"\n           (click)="onClick.emit($event)"\n           (change)="onChange($event)">\n    '}),s("design:paramtypes",[])],l)},Dzj1:function(t,e,i){"use strict";var n=i("EEr4"),o=(i.n(n),i("Dgu4"));i.d(e,"a",function(){return r});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=function(t){function e(){return t.call(this)||this}return a(e,t),e.prototype.cancel=function(){},e.prototype.searchFields=function(t){return this._searchFields=t,this},e.prototype.titleField=function(t){return this._titleField=t,this},e.prototype.descriptionField=function(t){return this._descriptionField=t,this},e.prototype.imageField=function(t){return this._imageField=t,this},e.prototype.convertToItem=function(t){var e,n,a=null;return e=this._titleField?this.extractTitle(t):t,this._descriptionField&&(n=this.extractValue(t,this._descriptionField)),this._imageField&&(a=this.extractValue(t,this._imageField)),i.i(o.a)(e)?null:{title:e,description:n,image:a,originalObject:t}},e.prototype.extractMatches=function(t,e){var i=this,n=this._searchFields?this._searchFields.split(","):null;return null!==this._searchFields&&void 0!==this._searchFields&&""!=e?t.filter(function(t){return(n?n.map(function(e){return i.extractValue(t,e)}).filter(function(t){return!!t}):[t]).some(function(t){return t.toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0})}):t},e.prototype.extractTitle=function(t){var e=this;return this._titleField.split(",").map(function(i){return e.extractValue(t,i)}).reduce(function(t,e){return t?t+" "+e:e})},e.prototype.extractValue=function(t,e){var i,n;if(e){i=e.split("."),n=t;for(var o=0;o<i.length;o++)n&&(n=n[i[o]])}else n=t;return n},e.prototype.processResults=function(t){var e,i=[];if(t&&t.length>0)for(e=0;e<t.length;e++){var n=this.convertToItem(t[e]);n&&i.push(n)}return i},e}(n.Subject)},EdWH:function(t,e,i){"use strict";var n=i("3j3K"),o=i("pbU0");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.inputClass="",this.edited=new n.EventEmitter}return t.prototype.onEdited=function(t){return this.edited.next(t),!1},t.prototype.getEditorType=function(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type},t}();a([i.i(n.Input)(),r("design:type",o.a)],s.prototype,"cell",void 0),a([i.i(n.Input)(),r("design:type",String)],s.prototype,"inputClass",void 0),a([i.i(n.Output)(),r("design:type",Object)],s.prototype,"edited",void 0),s=a([i.i(n.Component)({selector:"table-cell-edit-mode",template:'\n      <div [ngSwitch]="getEditorType()">\n        <table-cell-custom-editor *ngSwitchCase="\'custom\'"\n                                  [cell]="cell"\n                                  [inputClass]="inputClass"\n                                  (edited)="onEdited($event)">\n        </table-cell-custom-editor>\n        <table-cell-default-editor *ngSwitchDefault\n                                  [cell]="cell"\n                                  [inputClass]="inputClass"\n                                  (edited)="onEdited($event)">\n        </table-cell-default-editor>\n      </div>\n    '})],s)},F6un:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("aXxY");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.ref=t,this.create=new n.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.ref.nativeElement.classList.add("ng2-smart-actions-title","ng2-smart-actions-title-add")},t.prototype.ngOnChanges=function(){this.isActionAdd=this.grid.getSetting("actions.add"),this.addNewButtonContent=this.grid.getSetting("add.addButtonContent")},t.prototype.onAdd=function(t){t.preventDefault(),t.stopPropagation(),"external"===this.grid.getSetting("mode")?this.create.emit({source:this.source}):this.grid.createFormShown=!0},t}();r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"grid",void 0),r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"source",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"create",void 0),l=r([i.i(n.Component)({selector:"[ng2-st-add-button]",template:'\n    <a *ngIf="isActionAdd" href="#" class="ng2-smart-action ng2-smart-action-add-add"\n        [innerHTML]="addNewButtonContent" (click)="onAdd($event)"></a>\n  '}),s("design:paramtypes",[n.ElementRef])],l)},"FLi/":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(t,e,i){this.id=t,this.settings=e,this.dataSet=i,this.title="",this.type="",this.class="",this.width="",this.isSortable=!1,this.isEditable=!0,this.isAddable=!0,this.isFilterable=!1,this.sortDirection="",this.defaultSortDirection="",this.editor={type:"",config:{},component:null},this.filter={type:"",config:{}},this.renderComponent=null,this.process()}return t.prototype.getOnComponentInitFunction=function(){return this.onComponentInitFunction},t.prototype.getCompareFunction=function(){return this.compareFunction},t.prototype.getValuePrepareFunction=function(){return this.valuePrepareFunction},t.prototype.getFilterFunction=function(){return this.filterFunction},t.prototype.getConfig=function(){return this.editor&&this.editor.config},t.prototype.getFilterType=function(){return this.filter&&this.filter.type},t.prototype.getFilterConfig=function(){return this.filter&&this.filter.config},t.prototype.process=function(){this.title=this.settings.title,this.class=this.settings.class,this.width=this.settings.width,this.type=this.prepareType(),this.editor=this.settings.editor,this.filter=this.settings.filter,this.renderComponent=this.settings.renderComponent,this.isFilterable=void 0===this.settings.filter||!!this.settings.filter,this.defaultSortDirection=-1!==["asc","desc"].indexOf(this.settings.sortDirection)?this.settings.sortDirection:"",this.isSortable=void 0===this.settings.sort||!!this.settings.sort,this.isEditable=void 0===this.settings.editable||!!this.settings.editable,this.isAddable=void 0===this.settings.addable||!!this.settings.addable,this.sortDirection=this.prepareSortDirection(),this.compareFunction=this.settings.compareFunction,this.valuePrepareFunction=this.settings.valuePrepareFunction,this.filterFunction=this.settings.filterFunction,this.onComponentInitFunction=this.settings.onComponentInitFunction},t.prototype.prepareType=function(){return this.settings.type||this.determineType()},t.prototype.prepareSortDirection=function(){return"desc"===this.settings.sort?"desc":"asc"},t.prototype.determineType=function(){return"text"},t}()},Fzro:function(t,e,i){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function n(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return w.Get;case"POST":return w.Post;case"PUT":return w.Put;case"DELETE":return w.Delete;case"OPTIONS":return w.Options;case"HEAD":return w.Head;case"PATCH":return w.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function o(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}function a(t){for(var e=new Uint16Array(t.length),i=0,n=t.length;i<n;i++)e[i]=t.charCodeAt(i);return e.buffer}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 * @param {?=} rawParams
 * @return {?}
 */
function r(t){void 0===t&&(t="");var e=new Map;if(t.length>0){t.split("&").forEach(function(t){var i=t.indexOf("="),n=-1==i?[t,""]:[t.slice(0,i),t.slice(i+1)],o=n[0],a=n[1],r=e.get(o)||[];r.push(a),e.set(o,r)})}return e}function s(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function l(){var t="object"==typeof window?window:{};return null===j&&(j=t[N]={}),j}function c(t){var e=new M;return Object.keys(t).forEach(function(i){var n=t[i];n&&Array.isArray(n)?n.forEach(function(t){return e.append(i,t.toString())}):e.append(i,n.toString())}),e}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function u(t,e){return t.createConnection(e).response}function d(t,e,i,n){var o=t;return e?o.merge(new X({method:e.method||i,url:e.url||n,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):o.merge(new X({method:i,url:n}))}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function h(){return new G}function f(t,e){return new nt(t,e)}function p(t,e){return new ot(t,e)}var v=i("3j3K"),g=i("rCTf"),y=(i.n(g),i("Qbdm"));i.d(e,"a",function(){return b}),i.d(e,"d",function(){return Y}),i.d(e,"e",function(){return K}),i.d(e,"j",function(){return X}),i.d(e,"b",function(){return S}),i.d(e,"h",function(){return _}),i.d(e,"l",function(){return P}),i.d(e,"k",function(){return nt}),i.d(e,"g",function(){return at}),i.d(e,"i",function(){return E}),i.d(e,"m",function(){return M}),i.d(e,"c",function(){return h}),i.d(e,"f",function(){return f});var m=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);t.prototype=null===e?Object.create(e):(i.prototype=e.prototype,new i)},b=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}();b.decorators=[{type:v.Injectable}],b.ctorParameters=function(){return[]};var w={};w.Get=0,w.Post=1,w.Put=2,w.Delete=3,w.Options=4,w.Head=5,w.Patch=6,w[w.Get]="Get",w[w.Post]="Post",w[w.Put]="Put",w[w.Delete]="Delete",w[w.Options]="Options",w[w.Head]="Head",w[w.Patch]="Patch";var D={};D.Unsent=0,D.Open=1,D.HeadersReceived=2,D.Loading=3,D.Done=4,D.Cancelled=5,D[D.Unsent]="Unsent",D[D.Open]="Open",D[D.HeadersReceived]="HeadersReceived",D[D.Loading]="Loading",D[D.Done]="Done",D[D.Cancelled]="Cancelled";var C={};C.Basic=0,C.Cors=1,C.Default=2,C.Error=3,C.Opaque=4,C[C.Basic]="Basic",C[C.Cors]="Cors",C[C.Default]="Default",C[C.Error]="Error",C[C.Opaque]="Opaque";var k={};k.NONE=0,k.JSON=1,k.FORM=2,k.FORM_DATA=3,k.TEXT=4,k.BLOB=5,k.ARRAY_BUFFER=6,k[k.NONE]="NONE",k[k.JSON]="JSON",k[k.FORM]="FORM",k[k.FORM_DATA]="FORM_DATA",k[k.TEXT]="TEXT",k[k.BLOB]="BLOB",k[k.ARRAY_BUFFER]="ARRAY_BUFFER";var x={};x.Text=0,x.Json=1,x.ArrayBuffer=2,x.Blob=3,x[x.Text]="Text",x[x.Json]="Json",x[x.ArrayBuffer]="ArrayBuffer",x[x.Blob]="Blob";var P=function(){function t(e){var i=this;if(this._headers=new Map,this._normalizedNames=new Map,e)return e instanceof t?void e.forEach(function(t,e){t.forEach(function(t){return i.append(e,t)})}):void Object.keys(e).forEach(function(t){var n=Array.isArray(e[t])?e[t]:[e[t]];i.delete(t),n.forEach(function(e){return i.append(t,e)})})}return t.fromResponseHeaderString=function(e){var i=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var n=t.slice(0,e),o=t.slice(e+1).trim();i.set(n,o)}}),i},t.prototype.append=function(t,e){var i=this.getAll(t);null===i?this.set(t,e):i.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(i,n){return t(i,e._normalizedNames.get(n),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(i,n){var o=[];i.forEach(function(t){return o.push.apply(o,t.split(","))}),e[t._normalizedNames.get(n)]=o}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase())||null:null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),_=function(){function t(t){var e=void 0===t?{}:t,i=e.body,n=e.status,o=e.headers,a=e.statusText,r=e.type,s=e.url;this.body=null!=i?i:null,this.status=null!=n?n:null,this.headers=null!=o?o:null,this.statusText=null!=a?a:null,this.type=null!=r?r:null,this.url=null!=s?s:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),S=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:C.Default,headers:new P})||this}return m(e,t),e}(_);S.decorators=[{type:v.Injectable}],S.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var A=function(){function t(){}return t.prototype.createConnection=function(t){},t}(),E=(function(){function t(){}}(),function(){function t(){}return t.prototype.configureRequest=function(t){},t}()),T=function(t){return t>=200&&t<300},R=function(){function t(){}return t.prototype.encodeKey=function(t){return s(t)},t.prototype.encodeValue=function(t){return s(t)},t}(),M=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new R),this.rawParams=t,this.queryEncoder=e,this.paramsMap=r(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0===e||null===e)return void this.delete(t);var i=this.paramsMap.get(t)||[];i.length=0,i.push(e),this.paramsMap.set(t,i)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,i){var n=e.paramsMap.get(i)||[];n.length=0,n.push(t[0]),e.paramsMap.set(i,n)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var i=this.paramsMap.get(t)||[];i.push(e),this.paramsMap.set(t,i)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,i){for(var n=e.paramsMap.get(i)||[],o=0;o<t.length;++o)n.push(t[o]);e.paramsMap.set(i,n)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,i){var n=e.paramsMap.get(i)||[];n.length=0;for(var o=0;o<t.length;++o)n.push(t[o]);e.paramsMap.set(i,n)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(i,n){i.forEach(function(i){return e.push(t.queryEncoder.encodeKey(n)+"="+t.queryEncoder.encodeValue(i))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),H=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof M)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:a(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),B=function(t){function e(e){var i=t.call(this)||this;return i._body=e.body,i.status=e.status,i.ok=i.status>=200&&i.status<=299,i.statusText=e.statusText,i.headers=e.headers,i.type=e.type,i.url=e.url,i}return m(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(H),O=0,N="__ng_jsonp__",j=null,I=function(){function t(){}return t.prototype.build=function(t){var e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+O++},t.prototype.requestCallback=function(t){return N+"."+t+".finished"},t.prototype.exposeConnection=function(t,e){l()[t]=e},t.prototype.removeConnection=function(t){l()[t]=null},t.prototype.send=function(t){document.body.appendChild(t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(t)},t}();I.decorators=[{type:v.Injectable}],I.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var U="JSONP injected script did not invoke callback.",L="JSONP requests must use GET request method.",F=function(){function t(){}return t.prototype.finished=function(t){},t}(),z=function(t){function e(e,i,n){var o=t.call(this)||this;if(o._dom=i,o.baseResponseOptions=n,o._finished=!1,e.method!==w.Get)throw new TypeError(L);return o.request=e,o.response=new g.Observable(function(t){o.readyState=D.Loading;var a=o._id=i.nextRequestID();i.exposeConnection(a,o);var r=i.requestCallback(o._id),s=e.url;s.indexOf("=JSONP_CALLBACK&")>-1?s=s.replace("=JSONP_CALLBACK&","="+r+"&"):s.lastIndexOf("=JSONP_CALLBACK")===s.length-"=JSONP_CALLBACK".length&&(s=s.substring(0,s.length-"=JSONP_CALLBACK".length)+"="+r);var l=o._script=i.build(s),c=function(e){if(o.readyState!==D.Cancelled){if(o.readyState=D.Done,i.cleanup(l),!o._finished){var a=new _({body:U,type:C.Error,url:s});return n&&(a=n.merge(a)),void t.error(new B(a))}var r=new _({body:o._responseData,url:s});o.baseResponseOptions&&(r=o.baseResponseOptions.merge(r)),t.next(new B(r)),t.complete()}},u=function(e){if(o.readyState!==D.Cancelled){o.readyState=D.Done,i.cleanup(l);var a=new _({body:e.message,type:C.Error});n&&(a=n.merge(a)),t.error(new B(a))}};return l.addEventListener("load",c),l.addEventListener("error",u),i.send(l),function(){o.readyState=D.Cancelled,l.removeEventListener("load",c),l.removeEventListener("error",u),o._dom.cleanup(l)}}),o}return m(e,t),e.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==D.Cancelled&&(this._responseData=t)},e}(F),W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return m(e,t),e}(A),J=function(t){function e(e,i){var n=t.call(this)||this;return n._browserJSONP=e,n._baseResponseOptions=i,n}return m(e,t),e.prototype.createConnection=function(t){return new z(t,this._browserJSONP,this._baseResponseOptions)},e}(W);J.decorators=[{type:v.Injectable}],J.ctorParameters=function(){return[{type:I},{type:_}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var V=/^\)\]\}',?\n/,q=function(){function t(t,e,i){var n=this;this.request=t,this.response=new g.Observable(function(a){var r=e.build();r.open(w[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(r.withCredentials=t.withCredentials);var s=function(){var e=1223===r.status?204:r.status,n=null;204!==e&&"string"==typeof(n=void 0===r.response?r.responseText:r.response)&&(n=n.replace(V,"")),0===e&&(e=n?200:0);var s=P.fromResponseHeaderString(r.getAllResponseHeaders()),l=o(r)||t.url,c=r.statusText||"OK",u=new _({body:n,status:e,headers:s,statusText:c,url:l});null!=i&&(u=i.merge(u));var d=new B(u);if(d.ok=T(e),d.ok)return a.next(d),void a.complete();a.error(d)},l=function(t){var e=new _({body:t,type:C.Error,status:r.status,statusText:r.statusText});null!=i&&(e=i.merge(e)),a.error(new B(e))};if(n.setDetectedContentType(t,r),null==t.headers&&(t.headers=new P),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return r.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=r.responseType)switch(t.responseType){case x.ArrayBuffer:r.responseType="arraybuffer";break;case x.Json:r.responseType="json";break;case x.Text:r.responseType="text";break;case x.Blob:r.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return r.addEventListener("load",s),r.addEventListener("error",l),r.send(n.request.getBody()),function(){r.removeEventListener("load",s),r.removeEventListener("error",l),r.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case k.NONE:break;case k.JSON:e.setRequestHeader("content-type","application/json");break;case k.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case k.TEXT:e.setRequestHeader("content-type","text/plain");break;case k.BLOB:var i=t.blob();i.type&&e.setRequestHeader("content-type",i.type)}},t}(),G=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=i.i(y.u)().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),Y=function(){function t(t,e,i){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=i}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new q(t,this._browserXHR,this._baseResponseOptions)},t}();Y.decorators=[{type:v.Injectable}],Y.ctorParameters=function(){return[{type:b},{type:_},{type:E}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var X=function(){function t(t){var e=void 0===t?{}:t,i=e.method,o=e.headers,a=e.body,r=e.url,s=e.search,l=e.params,c=e.withCredentials,u=e.responseType;this.method=null!=i?n(i):null,this.headers=null!=o?o:null,this.body=null!=a?a:null,this.url=null!=r?r:null,this.params=this._mergeSearchParams(l||s),this.withCredentials=null!=c?c:null,this.responseType=null!=u?u:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new P(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof M?t.clone():"string"==typeof t?new M(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var i=new M;return Object.keys(t).forEach(function(n){var o=t[n];Array.isArray(o)?o.forEach(function(t){return e._appendParam(n,t,i)}):e._appendParam(n,o,i)}),i},t.prototype._appendParam=function(t,e,i){"string"!=typeof e&&(e=JSON.stringify(e)),i.append(t,e)},t}(),K=function(t){function e(){return t.call(this,{method:w.Get,headers:new P})||this}return m(e,t),e}(X);K.decorators=[{type:v.Injectable}],K.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var $=function(t){function e(e){var i=t.call(this)||this,o=e.url;i.url=e.url;var a=e.params||e.search;if(a){var r=void 0;if(r="object"!=typeof a||a instanceof M?a.toString():c(a).toString(),r.length>0){var s="?";-1!=i.url.indexOf("?")&&(s="&"==i.url[i.url.length-1]?"":"&"),i.url=o+s+r}}return i._body=e.body,i.method=n(e.method),i.headers=new P(e.headers),i.contentType=i.detectContentType(),i.withCredentials=e.withCredentials,i.responseType=e.responseType,i}return m(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return k.JSON;case"application/x-www-form-urlencoded":return k.FORM;case"multipart/form-data":return k.FORM_DATA;case"text/plain":case"text/html":return k.TEXT;case"application/octet-stream":return this._body instanceof it?k.ARRAY_BUFFER:k.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?k.NONE:this._body instanceof M?k.FORM:this._body instanceof tt?k.FORM_DATA:this._body instanceof et?k.BLOB:this._body instanceof it?k.ARRAY_BUFFER:this._body&&"object"==typeof this._body?k.JSON:k.TEXT},e.prototype.getBody=function(){switch(this.contentType){case k.JSON:case k.FORM:return this.text();case k.FORM_DATA:return this._body;case k.TEXT:return this.text();case k.BLOB:return this.blob();case k.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(H),Q=function(){},Z="object"==typeof window?window:Q,tt=Z.FormData||Q,et=Z.Blob||Q,it=Z.ArrayBuffer||Q,nt=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var i;if("string"==typeof t)i=u(this._backend,new $(d(this._defaultOptions,e,w.Get,t)));else{if(!(t instanceof $))throw new Error("First argument must be a url string or Request instance.");i=u(this._backend,t)}return i},t.prototype.get=function(t,e){return this.request(new $(d(this._defaultOptions,e,w.Get,t)))},t.prototype.post=function(t,e,i){return this.request(new $(d(this._defaultOptions.merge(new X({body:e})),i,w.Post,t)))},t.prototype.put=function(t,e,i){return this.request(new $(d(this._defaultOptions.merge(new X({body:e})),i,w.Put,t)))},t.prototype.delete=function(t,e){return this.request(new $(d(this._defaultOptions,e,w.Delete,t)))},t.prototype.patch=function(t,e,i){return this.request(new $(d(this._defaultOptions.merge(new X({body:e})),i,w.Patch,t)))},t.prototype.head=function(t,e){return this.request(new $(d(this._defaultOptions,e,w.Head,t)))},t.prototype.options=function(t,e){return this.request(new $(d(this._defaultOptions,e,w.Options,t)))},t}();nt.decorators=[{type:v.Injectable}],nt.ctorParameters=function(){return[{type:A},{type:X}]};var ot=function(t){function e(e,i){return t.call(this,e,i)||this}return m(e,t),e.prototype.request=function(t,e){if("string"==typeof t&&(t=new $(d(this._defaultOptions,e,w.Get,t))),!(t instanceof $))throw new Error("First argument must be a url string or Request instance.");if(t.method!==w.Get)throw new Error("JSONP requests must use GET request method.");return u(this._backend,t)},e}(nt);ot.decorators=[{type:v.Injectable}],ot.ctorParameters=function(){return[{type:A},{type:X}]};var at=function(){function t(){}return t}();at.decorators=[{type:v.NgModule,args:[{providers:[{provide:nt,useFactory:f,deps:[Y,X]},b,{provide:X,useClass:K},{provide:_,useClass:S},Y,{provide:E,useFactory:h}]}]}],at.ctorParameters=function(){return[]};var rt=function(){function t(){}return t}();rt.decorators=[{type:v.NgModule,args:[{providers:[{provide:ot,useFactory:p,deps:[W,X]},I,{provide:X,useClass:K},{provide:_,useClass:S},{provide:W,useClass:J}]}]}],rt.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
new v.Version("4.1.3")},GvoF:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("aXxY"),r=i("DfI3"),s=i("UOqW");i.d(e,"a",function(){return u});var l=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(){this.settings={},this.rowSelect=new n.EventEmitter,this.userRowSelect=new n.EventEmitter,this.delete=new n.EventEmitter,this.edit=new n.EventEmitter,this.create=new n.EventEmitter,this.custom=new n.EventEmitter,this.deleteConfirm=new n.EventEmitter,this.editConfirm=new n.EventEmitter,this.createConfirm=new n.EventEmitter,this.rowHover=new n.EventEmitter,this.defaultSettings={mode:"inline",selectMode:"single",hideHeader:!1,hideSubHeader:!1,actions:{columnTitle:"Actions",add:!0,edit:!0,delete:!0,custom:[],position:"left"},filter:{inputClass:""},edit:{inputClass:"",editButtonContent:"Edit",saveButtonContent:"Update",cancelButtonContent:"Cancel",confirmSave:!1},add:{inputClass:"",addButtonContent:"Add New",createButtonContent:"Create",cancelButtonContent:"Cancel",confirmCreate:!1},delete:{deleteButtonContent:"Delete",confirmDelete:!1},attr:{id:"",class:""},noDataMessage:"No data found",columns:{},pager:{display:!0,perPage:10},rowClassFunction:function(){return""}},this.isAllSelected=!1}return t.prototype.ngOnChanges=function(t){this.grid?(t.settings&&this.grid.setSettings(this.prepareSettings()),t.source&&(this.source=this.prepareSource(),this.grid.setSource(this.source))):this.initGrid(),this.tableId=this.grid.getSetting("attr.id"),this.tableClass=this.grid.getSetting("attr.class"),this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader"),this.isPagerDisplay=this.grid.getSetting("pager.display"),this.rowClassFunction=this.grid.getSetting("rowClassFunction")},t.prototype.editRowSelect=function(t){"multi"===this.grid.getSetting("selectMode")?this.onMultipleSelectRow(t):this.onSelectRow(t)},t.prototype.onUserSelectRow=function(t){"multi"!==this.grid.getSetting("selectMode")&&(this.grid.selectRow(t),this.emitUserSelectRow(t),this.emitSelectRow(t))},t.prototype.onRowHover=function(t){this.rowHover.emit(t)},t.prototype.multipleSelectRow=function(t){this.grid.multipleSelectRow(t),this.emitUserSelectRow(t),this.emitSelectRow(t)},t.prototype.onSelectAllRows=function(t){this.isAllSelected=!this.isAllSelected,this.grid.selectAllRows(this.isAllSelected),this.emitUserSelectRow(null),this.emitSelectRow(null)},t.prototype.onSelectRow=function(t){this.grid.selectRow(t),this.emitSelectRow(t)},t.prototype.onMultipleSelectRow=function(t){this.emitSelectRow(t)},t.prototype.initGrid=function(){var t=this;this.source=this.prepareSource(),this.grid=new o.a(this.source,this.prepareSettings()),this.grid.onSelectRow().subscribe(function(e){return t.emitSelectRow(e)})},t.prototype.prepareSource=function(){return this.source instanceof a.a?this.source:this.source instanceof Array?new s.a(this.source):new s.a},t.prototype.prepareSettings=function(){return i.i(r.a)({},this.defaultSettings,this.settings)},t.prototype.changePage=function(t){this.resetAllSelector()},t.prototype.sort=function(t){this.resetAllSelector()},t.prototype.filter=function(t){this.resetAllSelector()},t.prototype.resetAllSelector=function(){this.isAllSelected=!1},t.prototype.emitUserSelectRow=function(t){var e=this.grid.getSelectedRows();this.userRowSelect.emit({data:t?t.getData():null,isSelected:t?t.getIsSelected():null,source:this.source,selected:e&&e.length?e.map(function(t){return t.getData()}):[]})},t.prototype.emitSelectRow=function(t){this.rowSelect.emit({data:t?t.getData():null,isSelected:t?t.getIsSelected():null,source:this.source})},t}();l([i.i(n.Input)(),c("design:type",Object)],u.prototype,"source",void 0),l([i.i(n.Input)(),c("design:type",Object)],u.prototype,"settings",void 0),l([i.i(n.Output)(),c("design:type",Object)],u.prototype,"rowSelect",void 0),l([i.i(n.Output)(),c("design:type",Object)],u.prototype,"userRowSelect",void 0),l([i.i(n.Output)(),c("design:type",Object)],u.prototype,"delete",void 0),l([i.i(n.Output)(),c("design:type",Object)],u.prototype,"edit",void 0),l([i.i(n.Output)(),c("design:type",Object)],u.prototype,"create",void 0),l([i.i(n.Output)(),c("design:type",Object)],u.prototype,"custom",void 0),l([i.i(n.Output)(),c("design:type",Object)],u.prototype,"deleteConfirm",void 0),l([i.i(n.Output)(),c("design:type",Object)],u.prototype,"editConfirm",void 0),l([i.i(n.Output)(),c("design:type",Object)],u.prototype,"createConfirm",void 0),l([i.i(n.Output)(),c("design:type",n.EventEmitter)],u.prototype,"rowHover",void 0),u=l([i.i(n.Component)({selector:"ng2-smart-table",styles:[":host{font-size:1rem}:host /deep/ *{box-sizing:border-box}:host /deep/ button,:host /deep/ input,:host /deep/ optgroup,:host /deep/ select,:host /deep/ textarea{color:inherit;font:inherit;margin:0}:host /deep/ table{line-height:1.5em;border-collapse:collapse;border-spacing:0;display:table;width:100%;max-width:100%;overflow:auto;word-break:normal;word-break:keep-all}:host /deep/ table tr th{font-weight:700}:host /deep/ table tr section{font-size:.75em;font-weight:700}:host /deep/ table tr td,:host /deep/ table tr th{font-size:.875em;margin:0;padding:.5em 1em}:host /deep/ a{color:#1e6bb8;text-decoration:none}:host /deep/ a:hover{text-decoration:underline} /*# sourceMappingURL=ng2-smart-table.component.css.map */ "],template:'<table [id]="tableId" [ngClass]="tableClass"><thead ng2-st-thead *ngIf="!isHideHeader || !isHideSubHeader" [grid]="grid" [isAllSelected]="isAllSelected" [source]="source" [createConfirm]="createConfirm" (create)="create.emit($event)" (selectAllRows)="onSelectAllRows($event)" (sort)="sort($event)" (filter)="filter($event)"></thead><tbody ng2-st-tbody [grid]="grid" [source]="source" [deleteConfirm]="deleteConfirm" [editConfirm]="editConfirm" [rowClassFunction]="rowClassFunction" (edit)="edit.emit($event)" (delete)="delete.emit($event)" (custom)="custom.emit($event)" (userSelectRow)="onUserSelectRow($event)" (editRowSelect)="editRowSelect($event)" (multipleSelectRow)="multipleSelectRow($event)" (rowHover)="onRowHover($event)"></tbody></table><ng2-smart-table-pager *ngIf="isPagerDisplay" [source]="source" (changePage)="changePage($event)"></ng2-smart-table-pager>'})],u)},Hxte:function(t,e,i){"use strict";var n=i("3j3K"),o=i("EEr4"),a=(i.n(o),i("u8XI")),r=i("Layv"),s=i("q3ik"),l=(i.n(s),i("aV5h"));i.n(l);i.d(e,"a",function(){return h});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t){function e(e){var i=t.call(this)||this;return i.completerService=e,i.completerContent=new o.Subject,i}return c(e,t),e.prototype.ngOnInit=function(){var t=this,e=this.column.getFilterConfig().completer;e.dataService=this.completerService.local(e.data,e.searchFields,e.titleField),e.dataService.descriptionField(e.descriptionField),this.changesSubscription=this.completerContent.map(function(t){return t&&t.title||t||""}).distinctUntilChanged().debounceTime(this.delay).subscribe(function(e){t.query=e,t.setFilter()})},e.prototype.inputTextChanged=function(t){""===t&&this.completerContent.next(t)},e}(r.a);h=u([i.i(n.Component)({selector:"completer-filter",template:'\n    <ng2-completer [(ngModel)]="query"\n                   (ngModelChange)="inputTextChanged($event)"\n                   [dataService]="column.getFilterConfig().completer.dataService"\n                   [minSearchLength]="column.getFilterConfig().completer.minSearchLength || 0"\n                   [pause]="column.getFilterConfig().completer.pause || 0"\n                   [placeholder]="column.getFilterConfig().completer.placeholder || \'Start typing...\'"\n                   (selected)="completerContent.next($event)">\n    </ng2-completer>\n  '}),d("design:paramtypes",[a.b])],h)},"I+b6":function(t,e,i){"use strict";var n=i("3j3K"),o=i("vfyQ");i.d(e,"a",function(){return a}),i.d(e,"b",function(){return r});var a=function(){function t(t,e){this.row=t,this.index=e}return t}(),r=function(){function t(t,e){this.completer=t,this.el=e,this.rows=[],this.completer.registerDropdown(this)}return t.prototype.ngOnInit=function(){var t=getComputedStyle(this.el.nativeElement);this.isScrollOn=t.maxHeight&&"auto"===t.overflowY},t.prototype.ngOnDestroy=function(){this.completer.registerDropdown(null)},t.prototype.ngAfterViewInit=function(){var t=this,e=this.completer.autoHighlightIndex;e&&setTimeout(function(){t.highlightRow(e)},0)},t.prototype.onMouseDown=function(t){var e=this;this.completer.cancelBlur(!0),setTimeout(function(){e.completer.cancelBlur(!1)},0)},t.prototype.registerRow=function(t){this.rows.push(t)},t.prototype.highlightRow=function(t){var e=this.rows.find(function(e){return e.index===t});if(t<0)return this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=void 0,void this.completer.onHighlighted(null);if(e&&(this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=e,this.currHighlighted.row.setHighlighted(!0),this.completer.onHighlighted(this.currHighlighted.row.getDataItem()),this.isScrollOn&&this.currHighlighted)){var i=this.dropdownRowTop();if(i<0)this.dropdownScrollTopTo(i-1);else{var n=this.currHighlighted.row.getNativeElement();this.dropdownHeight()<n.getBoundingClientRect().bottom&&(this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(n)),this.el.nativeElement.getBoundingClientRect().bottom-this.dropdownRowOffsetHeight(n)<n.getBoundingClientRect().top&&this.dropdownScrollTopTo(n.getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))))}}},t.prototype.clear=function(){this.rows=[]},t.prototype.onSelected=function(t){this.completer.onSelected(t)},t.prototype.selectCurrent=function(){this.currHighlighted?this.onSelected(this.currHighlighted.row.getDataItem()):this.rows.length>0&&this.onSelected(this.rows[0].row.getDataItem())},t.prototype.nextRow=function(){var t=0;this.currHighlighted&&(t=this.currHighlighted.index+1),this.highlightRow(t)},t.prototype.prevRow=function(){var t=-1;this.currHighlighted&&(t=this.currHighlighted.index-1),this.highlightRow(t)},t.prototype.dropdownScrollTopTo=function(t){this.el.nativeElement.scrollTop=this.el.nativeElement.scrollTop+t},t.prototype.dropdownRowTop=function(){return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))},t.prototype.dropdownHeight=function(){return this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).maxHeight,10)},t.prototype.dropdownRowOffsetHeight=function(t){var e=getComputedStyle(t);return t.offsetHeight+parseInt(e.marginTop,10)+parseInt(e.marginBottom,10)},t}();r.decorators=[{type:n.Directive,args:[{selector:"[ctrDropdown]"}]}],r.ctorParameters=function(){return[{type:o.a,decorators:[{type:n.Host}]},{type:n.ElementRef}]},r.propDecorators={onMouseDown:[{type:n.HostListener,args:["mousedown",["$event"]]}]}},JIYj:function(t,e,i){"use strict";var n=i("3j3K"),o=i("FLi/"),a=i("aXxY");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.sort=new n.EventEmitter}return t}();r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"column",void 0),r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"source",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"sort",void 0),l=r([i.i(n.Component)({selector:"ng2-st-column-title",template:'\n    <div class="ng2-smart-title">\n      <ng2-smart-table-title [source]="source" [column]="column" (sort)="sort.emit($event)"></ng2-smart-table-title>\n    </div>\n  '})],l)},K8AB:function(t,e,i){"use strict";var n=i("3j3K"),o=i("u8XI"),a=i("3ERO");i.d(e,"a",function(){return c});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(t){function e(e){var i=t.call(this)||this;return i.completerService=e,i.completerStr="",i}return r(e,t),e.prototype.ngOnInit=function(){if(this.cell.getColumn().editor&&"completer"===this.cell.getColumn().editor.type){var t=this.cell.getColumn().getConfig().completer;t.dataService=this.completerService.local(t.data,t.searchFields,t.titleField),t.dataService.descriptionField(t.descriptionField)}},e.prototype.onEditedCompleter=function(t){return this.cell.newValue=t.title,!1},e}(a.a);c=s([i.i(n.Component)({selector:"completer-editor",template:'\n    <ng2-completer [(ngModel)]="completerStr"\n                   [dataService]="cell.getColumn().getConfig().completer.dataService"\n                   [minSearchLength]="cell.getColumn().getConfig().completer.minSearchLength || 0"\n                   [pause]="cell.getColumn().getConfig().completer.pause || 0"\n                   [placeholder]="cell.getColumn().getConfig().completer.placeholder || \'Start typing...\'"\n                   (selected)="onEditedCompleter($event)">\n    </ng2-completer>\n    '}),l("design:paramtypes",[o.b])],c)},Layv:function(t,e,i){"use strict";var n=i("3j3K"),o=i("FLi/");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.delay=300,this.filter=new n.EventEmitter}return t.prototype.ngOnDestroy=function(){this.changesSubscription&&this.changesSubscription.unsubscribe()},t.prototype.setFilter=function(){this.filter.emit(this.query)},t}();a([i.i(n.Input)(),r("design:type",String)],s.prototype,"query",void 0),a([i.i(n.Input)(),r("design:type",String)],s.prototype,"inputClass",void 0),a([i.i(n.Input)(),r("design:type",o.a)],s.prototype,"column",void 0),a([i.i(n.Output)(),r("design:type",Object)],s.prototype,"filter",void 0)},M4fF:function(t,e,i){(function(t,n){var o;(function(){function a(t,e){return t.set(e[0],e[1]),t}function r(t,e){return t.add(e),t}function s(t,e,i){switch(i.length){case 0:return t.call(e);case 1:return t.call(e,i[0]);case 2:return t.call(e,i[0],i[1]);case 3:return t.call(e,i[0],i[1],i[2])}return t.apply(e,i)}function l(t,e,i,n){for(var o=-1,a=null==t?0:t.length;++o<a;){var r=t[o];e(n,r,i(r),t)}return n}function c(t,e){for(var i=-1,n=null==t?0:t.length;++i<n&&!1!==e(t[i],i,t););return t}function u(t,e){for(var i=null==t?0:t.length;i--&&!1!==e(t[i],i,t););return t}function d(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(!e(t[i],i,t))return!1;return!0}function h(t,e){for(var i=-1,n=null==t?0:t.length,o=0,a=[];++i<n;){var r=t[i];e(r,i,t)&&(a[o++]=r)}return a}function f(t,e){return!!(null==t?0:t.length)&&x(t,e,0)>-1}function p(t,e,i){for(var n=-1,o=null==t?0:t.length;++n<o;)if(i(e,t[n]))return!0;return!1}function v(t,e){for(var i=-1,n=null==t?0:t.length,o=Array(n);++i<n;)o[i]=e(t[i],i,t);return o}function g(t,e){for(var i=-1,n=e.length,o=t.length;++i<n;)t[o+i]=e[i];return t}function y(t,e,i,n){var o=-1,a=null==t?0:t.length;for(n&&a&&(i=t[++o]);++o<a;)i=e(i,t[o],o,t);return i}function m(t,e,i,n){var o=null==t?0:t.length;for(n&&o&&(i=t[--o]);o--;)i=e(i,t[o],o,t);return i}function b(t,e){for(var i=-1,n=null==t?0:t.length;++i<n;)if(e(t[i],i,t))return!0;return!1}function w(t){return t.split("")}function D(t){return t.match(We)||[]}function C(t,e,i){var n;return i(t,function(t,i,o){if(e(t,i,o))return n=i,!1}),n}function k(t,e,i,n){for(var o=t.length,a=i+(n?1:-1);n?a--:++a<o;)if(e(t[a],a,t))return a;return-1}function x(t,e,i){return e===e?$(t,e,i):k(t,_,i)}function P(t,e,i,n){for(var o=i-1,a=t.length;++o<a;)if(n(t[o],e))return o;return-1}function _(t){return t!==t}function S(t,e){var i=null==t?0:t.length;return i?M(t,e)/i:jt}function A(t){return function(e){return null==e?ot:e[t]}}function E(t){return function(e){return null==t?ot:t[e]}}function T(t,e,i,n,o){return o(t,function(t,o,a){i=n?(n=!1,t):e(i,t,o,a)}),i}function R(t,e){var i=t.length;for(t.sort(e);i--;)t[i]=t[i].value;return t}function M(t,e){for(var i,n=-1,o=t.length;++n<o;){var a=e(t[n]);a!==ot&&(i=i===ot?a:i+a)}return i}function H(t,e){for(var i=-1,n=Array(t);++i<t;)n[i]=e(i);return n}function B(t,e){return v(e,function(e){return[e,t[e]]})}function O(t){return function(e){return t(e)}}function N(t,e){return v(e,function(e){return t[e]})}function j(t,e){return t.has(e)}function I(t,e){for(var i=-1,n=t.length;++i<n&&x(e,t[i],0)>-1;);return i}function U(t,e){for(var i=t.length;i--&&x(e,t[i],0)>-1;);return i}function L(t,e){for(var i=t.length,n=0;i--;)t[i]===e&&++n;return n}function F(t){return"\\"+en[t]}function z(t,e){return null==t?ot:t[e]}function W(t){return qi.test(t)}function J(t){return Gi.test(t)}function V(t){for(var e,i=[];!(e=t.next()).done;)i.push(e.value);return i}function q(t){var e=-1,i=Array(t.size);return t.forEach(function(t,n){i[++e]=[n,t]}),i}function G(t,e){return function(i){return t(e(i))}}function Y(t,e){for(var i=-1,n=t.length,o=0,a=[];++i<n;){var r=t[i];r!==e&&r!==dt||(t[i]=dt,a[o++]=i)}return a}function X(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=t}),i}function K(t){var e=-1,i=Array(t.size);return t.forEach(function(t){i[++e]=[t,t]}),i}function $(t,e,i){for(var n=i-1,o=t.length;++n<o;)if(t[n]===e)return n;return-1}function Q(t,e,i){for(var n=i+1;n--;)if(t[n]===e)return n;return n}function Z(t){return W(t)?et(t):bn(t)}function tt(t){return W(t)?it(t):w(t)}function et(t){for(var e=Ji.lastIndex=0;Ji.test(t);)++e;return e}function it(t){return t.match(Ji)||[]}function nt(t){return t.match(Vi)||[]}var ot,at="4.17.4",rt=200,st="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",lt="Expected a function",ct="__lodash_hash_undefined__",ut=500,dt="__lodash_placeholder__",ht=1,ft=2,pt=4,vt=1,gt=2,yt=1,mt=2,bt=4,wt=8,Dt=16,Ct=32,kt=64,xt=128,Pt=256,_t=512,St=30,At="...",Et=800,Tt=16,Rt=1,Mt=2,Ht=3,Bt=1/0,Ot=9007199254740991,Nt=1.7976931348623157e308,jt=NaN,It=4294967295,Ut=It-1,Lt=It>>>1,Ft=[["ary",xt],["bind",yt],["bindKey",mt],["curry",wt],["curryRight",Dt],["flip",_t],["partial",Ct],["partialRight",kt],["rearg",Pt]],zt="[object Arguments]",Wt="[object Array]",Jt="[object AsyncFunction]",Vt="[object Boolean]",qt="[object Date]",Gt="[object DOMException]",Yt="[object Error]",Xt="[object Function]",Kt="[object GeneratorFunction]",$t="[object Map]",Qt="[object Number]",Zt="[object Null]",te="[object Object]",ee="[object Promise]",ie="[object Proxy]",ne="[object RegExp]",oe="[object Set]",ae="[object String]",re="[object Symbol]",se="[object Undefined]",le="[object WeakMap]",ce="[object WeakSet]",ue="[object ArrayBuffer]",de="[object DataView]",he="[object Float32Array]",fe="[object Float64Array]",pe="[object Int8Array]",ve="[object Int16Array]",ge="[object Int32Array]",ye="[object Uint8Array]",me="[object Uint8ClampedArray]",be="[object Uint16Array]",we="[object Uint32Array]",De=/\b__p \+= '';/g,Ce=/\b(__p \+=) '' \+/g,ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,Pe=/[&<>"']/g,_e=RegExp(xe.source),Se=RegExp(Pe.source),Ae=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Me=/^\w*$/,He=/^\./,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/[\\^$.*+?()[\]{}|]/g,Ne=RegExp(Oe.source),je=/^\s+|\s+$/g,Ie=/^\s+/,Ue=/\s+$/,Le=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Fe=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /,We=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Je=/\\(\\)?/g,Ve=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,Ke=/^0o[0-7]+$/i,$e=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,ti=/['\n\r\u2028\u2029\\]/g,ei="\\ud800-\\udfff",ii="\\u0300-\\u036f",ni="\\ufe20-\\ufe2f",oi="\\u20d0-\\u20ff",ai=ii+ni+oi,ri="\\u2700-\\u27bf",si="a-z\\xdf-\\xf6\\xf8-\\xff",li="\\xac\\xb1\\xd7\\xf7",ci="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ui="\\u2000-\\u206f",di=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",hi="A-Z\\xc0-\\xd6\\xd8-\\xde",fi="\\ufe0e\\ufe0f",pi=li+ci+ui+di,vi="[']",gi="["+ei+"]",yi="["+pi+"]",mi="["+ai+"]",bi="\\d+",wi="["+ri+"]",Di="["+si+"]",Ci="[^"+ei+pi+bi+ri+si+hi+"]",ki="\\ud83c[\\udffb-\\udfff]",xi="(?:"+mi+"|"+ki+")",Pi="[^"+ei+"]",_i="(?:\\ud83c[\\udde6-\\uddff]){2}",Si="[\\ud800-\\udbff][\\udc00-\\udfff]",Ai="["+hi+"]",Ei="\\u200d",Ti="(?:"+Di+"|"+Ci+")",Ri="(?:"+Ai+"|"+Ci+")",Mi="(?:"+vi+"(?:d|ll|m|re|s|t|ve))?",Hi="(?:"+vi+"(?:D|LL|M|RE|S|T|VE))?",Bi=xi+"?",Oi="["+fi+"]?",Ni="(?:"+Ei+"(?:"+[Pi,_i,Si].join("|")+")"+Oi+Bi+")*",ji="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Ii="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Ui=Oi+Bi+Ni,Li="(?:"+[wi,_i,Si].join("|")+")"+Ui,Fi="(?:"+[Pi+mi+"?",mi,_i,Si,gi].join("|")+")",zi=RegExp(vi,"g"),Wi=RegExp(mi,"g"),Ji=RegExp(ki+"(?="+ki+")|"+Fi+Ui,"g"),Vi=RegExp([Ai+"?"+Di+"+"+Mi+"(?="+[yi,Ai,"$"].join("|")+")",Ri+"+"+Hi+"(?="+[yi,Ai+Ti,"$"].join("|")+")",Ai+"?"+Ti+"+"+Mi,Ai+"+"+Hi,Ii,ji,bi,Li].join("|"),"g"),qi=RegExp("["+Ei+ei+ai+fi+"]"),Gi=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Yi=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xi=-1,Ki={};Ki[he]=Ki[fe]=Ki[pe]=Ki[ve]=Ki[ge]=Ki[ye]=Ki[me]=Ki[be]=Ki[we]=!0,Ki[zt]=Ki[Wt]=Ki[ue]=Ki[Vt]=Ki[de]=Ki[qt]=Ki[Yt]=Ki[Xt]=Ki[$t]=Ki[Qt]=Ki[te]=Ki[ne]=Ki[oe]=Ki[ae]=Ki[le]=!1;var $i={};$i[zt]=$i[Wt]=$i[ue]=$i[de]=$i[Vt]=$i[qt]=$i[he]=$i[fe]=$i[pe]=$i[ve]=$i[ge]=$i[$t]=$i[Qt]=$i[te]=$i[ne]=$i[oe]=$i[ae]=$i[re]=$i[ye]=$i[me]=$i[be]=$i[we]=!0,$i[Yt]=$i[Xt]=$i[le]=!1;var Qi={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss","":"A","":"A","":"A","":"a","":"a","":"a","":"C","":"C","":"C","":"C","":"c","":"c","":"c","":"c","":"D","":"D","":"d","":"d","":"E","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"e","":"G","":"G","":"G","":"G","":"g","":"g","":"g","":"g","":"H","":"H","":"h","":"h","":"I","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"i","":"J","":"j","":"K","":"k","":"k","":"L","":"L","":"L","":"L","":"L","":"l","":"l","":"l","":"l","":"l","":"N","":"N","":"N","":"N","":"n","":"n","":"n","":"n","":"O","":"O","":"O","":"o","":"o","":"o","":"R","":"R","":"R","":"r","":"r","":"r","":"S","":"S","":"S","":"S","":"s","":"s","":"s","":"s","":"T","":"T","":"T","":"t","":"t","":"t","":"U","":"U","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"u","":"u","":"W","":"w","":"Y","":"y","":"Y","":"Z","":"Z","":"Z","":"z","":"z","":"z","":"IJ","":"ij","":"Oe","":"oe","":"'n","":"s"},Zi={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},en={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},nn=parseFloat,on=parseInt,an="object"==typeof t&&t&&t.Object===Object&&t,rn="object"==typeof self&&self&&self.Object===Object&&self,sn=an||rn||Function("return this")(),ln="object"==typeof e&&e&&!e.nodeType&&e,cn=ln&&"object"==typeof n&&n&&!n.nodeType&&n,un=cn&&cn.exports===ln,dn=un&&an.process,hn=function(){try{return dn&&dn.binding&&dn.binding("util")}catch(t){}}(),fn=hn&&hn.isArrayBuffer,pn=hn&&hn.isDate,vn=hn&&hn.isMap,gn=hn&&hn.isRegExp,yn=hn&&hn.isSet,mn=hn&&hn.isTypedArray,bn=A("length"),wn=E(Qi),Dn=E(Zi),Cn=E(tn),kn=function t(e){function i(t){if(cl(t)&&!wh(t)&&!(t instanceof w)){if(t instanceof o)return t;if(wu.call(t,"__wrapped__"))return rr(t)}return new o(t)}function n(){}function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=ot}function w(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=It,this.__views__=[]}function E(){var t=new w(this.__wrapped__);return t.__actions__=Fo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Fo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Fo(this.__views__),t}function $(){if(this.__filtered__){var t=new w(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,i=wh(t),n=e<0,o=i?t.length:0,a=Ta(0,o,this.__views__),r=a.start,s=a.end,l=s-r,c=n?s:r-1,u=this.__iteratees__,d=u.length,h=0,f=Ku(l,this.__takeCount__);if(!i||!n&&o==l&&f==l)return Co(t,this.__actions__);var p=[];t:for(;l--&&h<f;){c+=e;for(var v=-1,g=t[c];++v<d;){var y=u[v],m=y.iteratee,b=y.type,w=m(g);if(b==Mt)g=w;else if(!w){if(b==Rt)continue t;break t}}p[h++]=g}return p}function it(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function We(){this.__data__=rd?rd(null):{},this.size=0}function ei(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function ii(t){var e=this.__data__;if(rd){var i=e[t];return i===ct?ot:i}return wu.call(e,t)?e[t]:ot}function ni(t){var e=this.__data__;return rd?e[t]!==ot:wu.call(e,t)}function oi(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=rd&&e===ot?ct:e,this}function ai(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function ri(){this.__data__=[],this.size=0}function si(t){var e=this.__data__,i=Mi(e,t);return!(i<0)&&(i==e.length-1?e.pop():Bu.call(e,i,1),--this.size,!0)}function li(t){var e=this.__data__,i=Mi(e,t);return i<0?ot:e[i][1]}function ci(t){return Mi(this.__data__,t)>-1}function ui(t,e){var i=this.__data__,n=Mi(i,t);return n<0?(++this.size,i.push([t,e])):i[n][1]=e,this}function di(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}function hi(){this.size=0,this.__data__={hash:new it,map:new(id||ai),string:new it}}function fi(t){var e=_a(this,t).delete(t);return this.size-=e?1:0,e}function pi(t){return _a(this,t).get(t)}function vi(t){return _a(this,t).has(t)}function gi(t,e){var i=_a(this,t),n=i.size;return i.set(t,e),this.size+=i.size==n?0:1,this}function yi(t){var e=-1,i=null==t?0:t.length;for(this.__data__=new di;++e<i;)this.add(t[e])}function mi(t){return this.__data__.set(t,ct),this}function bi(t){return this.__data__.has(t)}function wi(t){var e=this.__data__=new ai(t);this.size=e.size}function Di(){this.__data__=new ai,this.size=0}function Ci(t){var e=this.__data__,i=e.delete(t);return this.size=e.size,i}function ki(t){return this.__data__.get(t)}function xi(t){return this.__data__.has(t)}function Pi(t,e){var i=this.__data__;if(i instanceof ai){var n=i.__data__;if(!id||n.length<rt-1)return n.push([t,e]),this.size=++i.size,this;i=this.__data__=new di(n)}return i.set(t,e),this.size=i.size,this}function _i(t,e){var i=wh(t),n=!i&&bh(t),o=!i&&!n&&Ch(t),a=!i&&!n&&!o&&Sh(t),r=i||n||o||a,s=r?H(t.length,fu):[],l=s.length;for(var c in t)!e&&!wu.call(t,c)||r&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ia(c,l))||s.push(c);return s}function Si(t){var e=t.length;return e?t[io(0,e-1)]:ot}function Ai(t,e){return ir(Fo(t),Ii(e,0,t.length))}function Ei(t){return ir(Fo(t))}function Ti(t,e,i){(i===ot||Xs(t[e],i))&&(i!==ot||e in t)||Ni(t,e,i)}function Ri(t,e,i){var n=t[e];wu.call(t,e)&&Xs(n,i)&&(i!==ot||e in t)||Ni(t,e,i)}function Mi(t,e){for(var i=t.length;i--;)if(Xs(t[i][0],e))return i;return-1}function Hi(t,e,i,n){return md(t,function(t,o,a){e(n,t,i(t),a)}),n}function Bi(t,e){return t&&zo(e,Jl(e),t)}function Oi(t,e){return t&&zo(e,Vl(e),t)}function Ni(t,e,i){"__proto__"==e&&Iu?Iu(t,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):t[e]=i}function ji(t,e){for(var i=-1,n=e.length,o=ru(n),a=null==t;++i<n;)o[i]=a?ot:Fl(t,e[i]);return o}function Ii(t,e,i){return t===t&&(i!==ot&&(t=t<=i?t:i),e!==ot&&(t=t>=e?t:e)),t}function Ui(t,e,i,n,o,a){var r,s=e&ht,l=e&ft,u=e&pt;if(i&&(r=o?i(t,n,o,a):i(t)),r!==ot)return r;if(!ll(t))return t;var d=wh(t);if(d){if(r=Ha(t),!s)return Fo(t,r)}else{var h=Td(t),f=h==Xt||h==Kt;if(Ch(t))return Eo(t,s);if(h==te||h==zt||f&&!o){if(r=l||f?{}:Ba(t),!s)return l?Jo(t,Oi(r,t)):Wo(t,Bi(r,t))}else{if(!$i[h])return o?t:{};r=Oa(t,h,Ui,s)}}a||(a=new wi);var p=a.get(t);if(p)return p;a.set(t,r);var v=u?l?Ca:Da:l?Vl:Jl,g=d?ot:v(t);return c(g||t,function(n,o){g&&(o=n,n=t[o]),Ri(r,o,Ui(n,e,i,o,t,a))}),r}function Li(t){var e=Jl(t);return function(i){return Fi(i,t,e)}}function Fi(t,e,i){var n=i.length;if(null==t)return!n;for(t=du(t);n--;){var o=i[n],a=e[o],r=t[o];if(r===ot&&!(o in t)||!a(r))return!1}return!0}function Ji(t,e,i){if("function"!=typeof t)throw new pu(lt);return Hd(function(){t.apply(ot,i)},e)}function Vi(t,e,i,n){var o=-1,a=f,r=!0,s=t.length,l=[],c=e.length;if(!s)return l;i&&(e=v(e,O(i))),n?(a=p,r=!1):e.length>=rt&&(a=j,r=!1,e=new yi(e));t:for(;++o<s;){var u=t[o],d=null==i?u:i(u);if(u=n||0!==u?u:0,r&&d===d){for(var h=c;h--;)if(e[h]===d)continue t;l.push(u)}else a(e,d,n)||l.push(u)}return l}function qi(t,e){var i=!0;return md(t,function(t,n,o){return i=!!e(t,n,o)}),i}function Gi(t,e,i){for(var n=-1,o=t.length;++n<o;){var a=t[n],r=e(a);if(null!=r&&(s===ot?r===r&&!wl(r):i(r,s)))var s=r,l=a}return l}function Qi(t,e,i,n){var o=t.length;for(i=_l(i),i<0&&(i=-i>o?0:o+i),n=n===ot||n>o?o:_l(n),n<0&&(n+=o),n=i>n?0:Sl(n);i<n;)t[i++]=e;return t}function Zi(t,e){var i=[];return md(t,function(t,n,o){e(t,n,o)&&i.push(t)}),i}function tn(t,e,i,n,o){var a=-1,r=t.length;for(i||(i=ja),o||(o=[]);++a<r;){var s=t[a];e>0&&i(s)?e>1?tn(s,e-1,i,n,o):g(o,s):n||(o[o.length]=s)}return o}function en(t,e){return t&&wd(t,e,Jl)}function an(t,e){return t&&Dd(t,e,Jl)}function rn(t,e){return h(e,function(e){return al(t[e])})}function ln(t,e){e=So(e,t);for(var i=0,n=e.length;null!=t&&i<n;)t=t[nr(e[i++])];return i&&i==n?t:ot}function cn(t,e,i){var n=e(t);return wh(t)?n:g(n,i(t))}function dn(t){return null==t?t===ot?se:Zt:ju&&ju in du(t)?Ea(t):Ka(t)}function hn(t,e){return t>e}function bn(t,e){return null!=t&&wu.call(t,e)}function kn(t,e){return null!=t&&e in du(t)}function Pn(t,e,i){return t>=Ku(e,i)&&t<Xu(e,i)}function _n(t,e,i){for(var n=i?p:f,o=t[0].length,a=t.length,r=a,s=ru(a),l=1/0,c=[];r--;){var u=t[r];r&&e&&(u=v(u,O(e))),l=Ku(u.length,l),s[r]=!i&&(e||o>=120&&u.length>=120)?new yi(r&&u):ot}u=t[0];var d=-1,h=s[0];t:for(;++d<o&&c.length<l;){var g=u[d],y=e?e(g):g;if(g=i||0!==g?g:0,!(h?j(h,y):n(c,y,i))){for(r=a;--r;){var m=s[r];if(!(m?j(m,y):n(t[r],y,i)))continue t}h&&h.push(y),c.push(g)}}return c}function Sn(t,e,i,n){return en(t,function(t,o,a){e(n,i(t),o,a)}),n}function An(t,e,i){e=So(e,t),t=Qa(t,e);var n=null==t?t:t[nr(Pr(e))];return null==n?ot:s(n,t,i)}function En(t){return cl(t)&&dn(t)==zt}function Tn(t){return cl(t)&&dn(t)==ue}function Rn(t){return cl(t)&&dn(t)==qt}function Mn(t,e,i,n,o){return t===e||(null==t||null==e||!cl(t)&&!cl(e)?t!==t&&e!==e:Hn(t,e,i,n,Mn,o))}function Hn(t,e,i,n,o,a){var r=wh(t),s=wh(e),l=r?Wt:Td(t),c=s?Wt:Td(e);l=l==zt?te:l,c=c==zt?te:c;var u=l==te,d=c==te,h=l==c;if(h&&Ch(t)){if(!Ch(e))return!1;r=!0,u=!1}if(h&&!u)return a||(a=new wi),r||Sh(t)?ya(t,e,i,n,o,a):ma(t,e,l,i,n,o,a);if(!(i&vt)){var f=u&&wu.call(t,"__wrapped__"),p=d&&wu.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,g=p?e.value():e;return a||(a=new wi),o(v,g,i,n,a)}}return!!h&&(a||(a=new wi),ba(t,e,i,n,o,a))}function Bn(t){return cl(t)&&Td(t)==$t}function On(t,e,i,n){var o=i.length,a=o,r=!n;if(null==t)return!a;for(t=du(t);o--;){var s=i[o];if(r&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++o<a;){s=i[o];var l=s[0],c=t[l],u=s[1];if(r&&s[2]){if(c===ot&&!(l in t))return!1}else{var d=new wi;if(n)var h=n(c,u,l,t,e,d);if(!(h===ot?Mn(u,c,vt|gt,n,d):h))return!1}}return!0}function Nn(t){return!(!ll(t)||Wa(t))&&(al(t)?_u:Xe).test(or(t))}function jn(t){return cl(t)&&dn(t)==ne}function In(t){return cl(t)&&Td(t)==oe}function Un(t){return cl(t)&&sl(t.length)&&!!Ki[dn(t)]}function Ln(t){return"function"==typeof t?t:null==t?Bc:"object"==typeof t?wh(t)?qn(t[0],t[1]):Vn(t):zc(t)}function Fn(t){if(!Ja(t))return Yu(t);var e=[];for(var i in du(t))wu.call(t,i)&&"constructor"!=i&&e.push(i);return e}function zn(t){if(!ll(t))return Xa(t);var e=Ja(t),i=[];for(var n in t)("constructor"!=n||!e&&wu.call(t,n))&&i.push(n);return i}function Wn(t,e){return t<e}function Jn(t,e){var i=-1,n=Ks(t)?ru(t.length):[];return md(t,function(t,o,a){n[++i]=e(t,o,a)}),n}function Vn(t){var e=Sa(t);return 1==e.length&&e[0][2]?qa(e[0][0],e[0][1]):function(i){return i===t||On(i,t,e)}}function qn(t,e){return La(t)&&Va(e)?qa(nr(t),e):function(i){var n=Fl(i,t);return n===ot&&n===e?Wl(i,t):Mn(e,n,vt|gt)}}function Gn(t,e,i,n,o){t!==e&&wd(e,function(a,r){if(ll(a))o||(o=new wi),Yn(t,e,r,i,Gn,n,o);else{var s=n?n(t[r],a,r+"",t,e,o):ot;s===ot&&(s=a),Ti(t,r,s)}},Vl)}function Yn(t,e,i,n,o,a,r){var s=t[i],l=e[i],c=r.get(l);if(c)return void Ti(t,i,c);var u=a?a(s,l,i+"",t,e,r):ot,d=u===ot;if(d){var h=wh(l),f=!h&&Ch(l),p=!h&&!f&&Sh(l);u=l,h||f||p?wh(s)?u=s:$s(s)?u=Fo(s):f?(d=!1,u=Eo(l,!0)):p?(d=!1,u=No(l,!0)):u=[]:yl(l)||bh(l)?(u=s,bh(s)?u=El(s):(!ll(s)||n&&al(s))&&(u=Ba(l))):d=!1}d&&(r.set(l,u),o(u,l,n,a,r),r.delete(l)),Ti(t,i,u)}function Xn(t,e){var i=t.length;if(i)return e+=e<0?i:0,Ia(e,i)?t[e]:ot}function Kn(t,e,i){var n=-1;return e=v(e.length?e:[Bc],O(Pa())),R(Jn(t,function(t,i,o){return{criteria:v(e,function(e){return e(t)}),index:++n,value:t}}),function(t,e){return Io(t,e,i)})}function $n(t,e){return Qn(t,e,function(e,i){return Wl(t,i)})}function Qn(t,e,i){for(var n=-1,o=e.length,a={};++n<o;){var r=e[n],s=ln(t,r);i(s,r)&&lo(a,So(r,t),s)}return a}function Zn(t){return function(e){return ln(e,t)}}function to(t,e,i,n){var o=n?P:x,a=-1,r=e.length,s=t;for(t===e&&(e=Fo(e)),i&&(s=v(t,O(i)));++a<r;)for(var l=0,c=e[a],u=i?i(c):c;(l=o(s,u,l,n))>-1;)s!==t&&Bu.call(s,l,1),Bu.call(t,l,1);return t}function eo(t,e){for(var i=t?e.length:0,n=i-1;i--;){var o=e[i];if(i==n||o!==a){var a=o;Ia(o)?Bu.call(t,o,1):bo(t,o)}}return t}function io(t,e){return t+Wu(Zu()*(e-t+1))}function no(t,e,i,n){for(var o=-1,a=Xu(zu((e-t)/(i||1)),0),r=ru(a);a--;)r[n?a:++o]=t,t+=i;return r}function oo(t,e){var i="";if(!t||e<1||e>Ot)return i;do{e%2&&(i+=t),(e=Wu(e/2))&&(t+=t)}while(e);return i}function ao(t,e){return Bd($a(t,e,Bc),t+"")}function ro(t){return Si(nc(t))}function so(t,e){var i=nc(t);return ir(i,Ii(e,0,i.length))}function lo(t,e,i,n){if(!ll(t))return t;e=So(e,t);for(var o=-1,a=e.length,r=a-1,s=t;null!=s&&++o<a;){var l=nr(e[o]),c=i;if(o!=r){var u=s[l];c=n?n(u,l,s):ot,c===ot&&(c=ll(u)?u:Ia(e[o+1])?[]:{})}Ri(s,l,c),s=s[l]}return t}function co(t){return ir(nc(t))}function uo(t,e,i){var n=-1,o=t.length;e<0&&(e=-e>o?0:o+e),i=i>o?o:i,i<0&&(i+=o),o=e>i?0:i-e>>>0,e>>>=0;for(var a=ru(o);++n<o;)a[n]=t[n+e];return a}function ho(t,e){var i;return md(t,function(t,n,o){return!(i=e(t,n,o))}),!!i}function fo(t,e,i){var n=0,o=null==t?n:t.length;if("number"==typeof e&&e===e&&o<=Lt){for(;n<o;){var a=n+o>>>1,r=t[a];null!==r&&!wl(r)&&(i?r<=e:r<e)?n=a+1:o=a}return o}return po(t,e,Bc,i)}function po(t,e,i,n){e=i(e);for(var o=0,a=null==t?0:t.length,r=e!==e,s=null===e,l=wl(e),c=e===ot;o<a;){var u=Wu((o+a)/2),d=i(t[u]),h=d!==ot,f=null===d,p=d===d,v=wl(d);if(r)var g=n||p;else g=c?p&&(n||h):s?p&&h&&(n||!f):l?p&&h&&!f&&(n||!v):!f&&!v&&(n?d<=e:d<e);g?o=u+1:a=u}return Ku(a,Ut)}function vo(t,e){for(var i=-1,n=t.length,o=0,a=[];++i<n;){var r=t[i],s=e?e(r):r;if(!i||!Xs(s,l)){var l=s;a[o++]=0===r?0:r}}return a}function go(t){return"number"==typeof t?t:wl(t)?jt:+t}function yo(t){if("string"==typeof t)return t;if(wh(t))return v(t,yo)+"";if(wl(t))return gd?gd.call(t):"";var e=t+"";return"0"==e&&1/t==-Bt?"-0":e}function mo(t,e,i){var n=-1,o=f,a=t.length,r=!0,s=[],l=s;if(i)r=!1,o=p;else if(a>=rt){var c=e?null:_d(t);if(c)return X(c);r=!1,o=j,l=new yi}else l=e?[]:s;t:for(;++n<a;){var u=t[n],d=e?e(u):u;if(u=i||0!==u?u:0,r&&d===d){for(var h=l.length;h--;)if(l[h]===d)continue t;e&&l.push(d),s.push(u)}else o(l,d,i)||(l!==s&&l.push(d),s.push(u))}return s}function bo(t,e){return e=So(e,t),null==(t=Qa(t,e))||delete t[nr(Pr(e))]}function wo(t,e,i,n){return lo(t,e,i(ln(t,e)),n)}function Do(t,e,i,n){for(var o=t.length,a=n?o:-1;(n?a--:++a<o)&&e(t[a],a,t););return i?uo(t,n?0:a,n?a+1:o):uo(t,n?a+1:0,n?o:a)}function Co(t,e){var i=t;return i instanceof w&&(i=i.value()),y(e,function(t,e){return e.func.apply(e.thisArg,g([t],e.args))},i)}function ko(t,e,i){var n=t.length;if(n<2)return n?mo(t[0]):[];for(var o=-1,a=ru(n);++o<n;)for(var r=t[o],s=-1;++s<n;)s!=o&&(a[o]=Vi(a[o]||r,t[s],e,i));return mo(tn(a,1),e,i)}function xo(t,e,i){for(var n=-1,o=t.length,a=e.length,r={};++n<o;){var s=n<a?e[n]:ot;i(r,t[n],s)}return r}function Po(t){return $s(t)?t:[]}function _o(t){return"function"==typeof t?t:Bc}function So(t,e){return wh(t)?t:La(t,e)?[t]:Od(Rl(t))}function Ao(t,e,i){var n=t.length;return i=i===ot?n:i,!e&&i>=n?t:uo(t,e,i)}function Eo(t,e){if(e)return t.slice();var i=t.length,n=Tu?Tu(i):new t.constructor(i);return t.copy(n),n}function To(t){var e=new t.constructor(t.byteLength);return new Eu(e).set(new Eu(t)),e}function Ro(t,e){var i=e?To(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.byteLength)}function Mo(t,e,i){return y(e?i(q(t),ht):q(t),a,new t.constructor)}function Ho(t){var e=new t.constructor(t.source,qe.exec(t));return e.lastIndex=t.lastIndex,e}function Bo(t,e,i){return y(e?i(X(t),ht):X(t),r,new t.constructor)}function Oo(t){return vd?du(vd.call(t)):{}}function No(t,e){var i=e?To(t.buffer):t.buffer;return new t.constructor(i,t.byteOffset,t.length)}function jo(t,e){if(t!==e){var i=t!==ot,n=null===t,o=t===t,a=wl(t),r=e!==ot,s=null===e,l=e===e,c=wl(e);if(!s&&!c&&!a&&t>e||a&&r&&l&&!s&&!c||n&&r&&l||!i&&l||!o)return 1;if(!n&&!a&&!c&&t<e||c&&i&&o&&!n&&!a||s&&i&&o||!r&&o||!l)return-1}return 0}function Io(t,e,i){for(var n=-1,o=t.criteria,a=e.criteria,r=o.length,s=i.length;++n<r;){var l=jo(o[n],a[n]);if(l){if(n>=s)return l;return l*("desc"==i[n]?-1:1)}}return t.index-e.index}function Uo(t,e,i,n){for(var o=-1,a=t.length,r=i.length,s=-1,l=e.length,c=Xu(a-r,0),u=ru(l+c),d=!n;++s<l;)u[s]=e[s];for(;++o<r;)(d||o<a)&&(u[i[o]]=t[o]);for(;c--;)u[s++]=t[o++];return u}function Lo(t,e,i,n){for(var o=-1,a=t.length,r=-1,s=i.length,l=-1,c=e.length,u=Xu(a-s,0),d=ru(u+c),h=!n;++o<u;)d[o]=t[o];for(var f=o;++l<c;)d[f+l]=e[l];for(;++r<s;)(h||o<a)&&(d[f+i[r]]=t[o++]);return d}function Fo(t,e){var i=-1,n=t.length;for(e||(e=ru(n));++i<n;)e[i]=t[i];return e}function zo(t,e,i,n){var o=!i;i||(i={});for(var a=-1,r=e.length;++a<r;){var s=e[a],l=n?n(i[s],t[s],s,i,t):ot;l===ot&&(l=t[s]),o?Ni(i,s,l):Ri(i,s,l)}return i}function Wo(t,e){return zo(t,Ad(t),e)}function Jo(t,e){return zo(t,Ed(t),e)}function Vo(t,e){return function(i,n){var o=wh(i)?l:Hi,a=e?e():{};return o(i,t,Pa(n,2),a)}}function qo(t){return ao(function(e,i){var n=-1,o=i.length,a=o>1?i[o-1]:ot,r=o>2?i[2]:ot;for(a=t.length>3&&"function"==typeof a?(o--,a):ot,r&&Ua(i[0],i[1],r)&&(a=o<3?ot:a,o=1),e=du(e);++n<o;){var s=i[n];s&&t(e,s,n,a)}return e})}function Go(t,e){return function(i,n){if(null==i)return i;if(!Ks(i))return t(i,n);for(var o=i.length,a=e?o:-1,r=du(i);(e?a--:++a<o)&&!1!==n(r[a],a,r););return i}}function Yo(t){return function(e,i,n){for(var o=-1,a=du(e),r=n(e),s=r.length;s--;){var l=r[t?s:++o];if(!1===i(a[l],l,a))break}return e}}function Xo(t,e,i){function n(){return(this&&this!==sn&&this instanceof n?a:t).apply(o?i:this,arguments)}var o=e&yt,a=Qo(t);return n}function Ko(t){return function(e){e=Rl(e);var i=W(e)?tt(e):ot,n=i?i[0]:e.charAt(0),o=i?Ao(i,1).join(""):e.slice(1);return n[t]()+o}}function $o(t){return function(e){return y(Ec(cc(e).replace(zi,"")),t,"")}}function Qo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var i=yd(t.prototype),n=t.apply(i,e);return ll(n)?n:i}}function Zo(t,e,i){function n(){for(var a=arguments.length,r=ru(a),l=a,c=xa(n);l--;)r[l]=arguments[l];var u=a<3&&r[0]!==c&&r[a-1]!==c?[]:Y(r,c);return(a-=u.length)<i?ua(t,e,ia,n.placeholder,ot,r,u,ot,ot,i-a):s(this&&this!==sn&&this instanceof n?o:t,this,r)}var o=Qo(t);return n}function ta(t){return function(e,i,n){var o=du(e);if(!Ks(e)){var a=Pa(i,3);e=Jl(e),i=function(t){return a(o[t],t,o)}}var r=t(e,i,n);return r>-1?o[a?e[r]:r]:ot}}function ea(t){return wa(function(e){var i=e.length,n=i,a=o.prototype.thru;for(t&&e.reverse();n--;){var r=e[n];if("function"!=typeof r)throw new pu(lt);if(a&&!s&&"wrapper"==ka(r))var s=new o([],!0)}for(n=s?n:i;++n<i;){r=e[n];var l=ka(r),c="wrapper"==l?Sd(r):ot;s=c&&za(c[0])&&c[1]==(xt|wt|Ct|Pt)&&!c[4].length&&1==c[9]?s[ka(c[0])].apply(s,c[3]):1==r.length&&za(r)?s[l]():s.thru(r)}return function(){var t=arguments,n=t[0];if(s&&1==t.length&&wh(n))return s.plant(n).value();for(var o=0,a=i?e[o].apply(this,t):n;++o<i;)a=e[o].call(this,a);return a}})}function ia(t,e,i,n,o,a,r,s,l,c){function u(){for(var y=arguments.length,m=ru(y),b=y;b--;)m[b]=arguments[b];if(p)var w=xa(u),D=L(m,w);if(n&&(m=Uo(m,n,o,p)),a&&(m=Lo(m,a,r,p)),y-=D,p&&y<c){var C=Y(m,w);return ua(t,e,ia,u.placeholder,i,m,C,s,l,c-y)}var k=h?i:this,x=f?k[t]:t;return y=m.length,s?m=Za(m,s):v&&y>1&&m.reverse(),d&&l<y&&(m.length=l),this&&this!==sn&&this instanceof u&&(x=g||Qo(x)),x.apply(k,m)}var d=e&xt,h=e&yt,f=e&mt,p=e&(wt|Dt),v=e&_t,g=f?ot:Qo(t);return u}function na(t,e){return function(i,n){return Sn(i,t,e(n),{})}}function oa(t,e){return function(i,n){var o;if(i===ot&&n===ot)return e;if(i!==ot&&(o=i),n!==ot){if(o===ot)return n;"string"==typeof i||"string"==typeof n?(i=yo(i),n=yo(n)):(i=go(i),n=go(n)),o=t(i,n)}return o}}function aa(t){return wa(function(e){return e=v(e,O(Pa())),ao(function(i){var n=this;return t(e,function(t){return s(t,n,i)})})})}function ra(t,e){e=e===ot?" ":yo(e);var i=e.length;if(i<2)return i?oo(e,t):e;var n=oo(e,zu(t/Z(e)));return W(e)?Ao(tt(n),0,t).join(""):n.slice(0,t)}function sa(t,e,i,n){function o(){for(var e=-1,l=arguments.length,c=-1,u=n.length,d=ru(u+l),h=this&&this!==sn&&this instanceof o?r:t;++c<u;)d[c]=n[c];for(;l--;)d[c++]=arguments[++e];return s(h,a?i:this,d)}var a=e&yt,r=Qo(t);return o}function la(t){return function(e,i,n){return n&&"number"!=typeof n&&Ua(e,i,n)&&(i=n=ot),e=Pl(e),i===ot?(i=e,e=0):i=Pl(i),n=n===ot?e<i?1:-1:Pl(n),no(e,i,n,t)}}function ca(t){return function(e,i){return"string"==typeof e&&"string"==typeof i||(e=Al(e),i=Al(i)),t(e,i)}}function ua(t,e,i,n,o,a,r,s,l,c){var u=e&wt,d=u?r:ot,h=u?ot:r,f=u?a:ot,p=u?ot:a;e|=u?Ct:kt,(e&=~(u?kt:Ct))&bt||(e&=~(yt|mt));var v=[t,e,o,f,d,p,h,s,l,c],g=i.apply(ot,v);return za(t)&&Md(g,v),g.placeholder=n,tr(g,t,e)}function da(t){var e=uu[t];return function(t,i){if(t=Al(t),i=null==i?0:Ku(_l(i),292)){var n=(Rl(t)+"e").split("e");return n=(Rl(e(n[0]+"e"+(+n[1]+i)))+"e").split("e"),+(n[0]+"e"+(+n[1]-i))}return e(t)}}function ha(t){return function(e){var i=Td(e);return i==$t?q(e):i==oe?K(e):B(e,t(e))}}function fa(t,e,i,n,o,a,r,s){var l=e&mt;if(!l&&"function"!=typeof t)throw new pu(lt);var c=n?n.length:0;if(c||(e&=~(Ct|kt),n=o=ot),r=r===ot?r:Xu(_l(r),0),s=s===ot?s:_l(s),c-=o?o.length:0,e&kt){var u=n,d=o;n=o=ot}var h=l?ot:Sd(t),f=[t,e,i,n,o,u,d,a,r,s];if(h&&Ya(f,h),t=f[0],e=f[1],i=f[2],n=f[3],o=f[4],s=f[9]=f[9]===ot?l?0:t.length:Xu(f[9]-c,0),!s&&e&(wt|Dt)&&(e&=~(wt|Dt)),e&&e!=yt)p=e==wt||e==Dt?Zo(t,e,s):e!=Ct&&e!=(yt|Ct)||o.length?ia.apply(ot,f):sa(t,e,i,n);else var p=Xo(t,e,i);return tr((h?Cd:Md)(p,f),t,e)}function pa(t,e,i,n){return t===ot||Xs(t,yu[i])&&!wu.call(n,i)?e:t}function va(t,e,i,n,o,a){return ll(t)&&ll(e)&&(a.set(e,t),Gn(t,e,ot,va,a),a.delete(e)),t}function ga(t){return yl(t)?ot:t}function ya(t,e,i,n,o,a){var r=i&vt,s=t.length,l=e.length;if(s!=l&&!(r&&l>s))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var u=-1,d=!0,h=i&gt?new yi:ot;for(a.set(t,e),a.set(e,t);++u<s;){var f=t[u],p=e[u];if(n)var v=r?n(p,f,u,e,t,a):n(f,p,u,t,e,a);if(v!==ot){if(v)continue;d=!1;break}if(h){if(!b(e,function(t,e){if(!j(h,e)&&(f===t||o(f,t,i,n,a)))return h.push(e)})){d=!1;break}}else if(f!==p&&!o(f,p,i,n,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function ma(t,e,i,n,o,a,r){switch(i){case de:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ue:return!(t.byteLength!=e.byteLength||!a(new Eu(t),new Eu(e)));case Vt:case qt:case Qt:return Xs(+t,+e);case Yt:return t.name==e.name&&t.message==e.message;case ne:case ae:return t==e+"";case $t:var s=q;case oe:var l=n&vt;if(s||(s=X),t.size!=e.size&&!l)return!1;var c=r.get(t);if(c)return c==e;n|=gt,r.set(t,e);var u=ya(s(t),s(e),n,o,a,r);return r.delete(t),u;case re:if(vd)return vd.call(t)==vd.call(e)}return!1}function ba(t,e,i,n,o,a){var r=i&vt,s=Da(t),l=s.length;if(l!=Da(e).length&&!r)return!1;for(var c=l;c--;){var u=s[c];if(!(r?u in e:wu.call(e,u)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var h=!0;a.set(t,e),a.set(e,t);for(var f=r;++c<l;){u=s[c];var p=t[u],v=e[u];if(n)var g=r?n(v,p,u,e,t,a):n(p,v,u,t,e,a);if(!(g===ot?p===v||o(p,v,i,n,a):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var y=t.constructor,m=e.constructor;y!=m&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof m&&m instanceof m)&&(h=!1)}return a.delete(t),a.delete(e),h}function wa(t){return Bd($a(t,ot,yr),t+"")}function Da(t){return cn(t,Jl,Ad)}function Ca(t){return cn(t,Vl,Ed)}function ka(t){for(var e=t.name+"",i=ld[e],n=wu.call(ld,e)?i.length:0;n--;){var o=i[n],a=o.func;if(null==a||a==t)return o.name}return e}function xa(t){return(wu.call(i,"placeholder")?i:t).placeholder}function Pa(){var t=i.iteratee||Oc;return t=t===Oc?Ln:t,arguments.length?t(arguments[0],arguments[1]):t}function _a(t,e){var i=t.__data__;return Fa(e)?i["string"==typeof e?"string":"hash"]:i.map}function Sa(t){for(var e=Jl(t),i=e.length;i--;){var n=e[i],o=t[n];e[i]=[n,o,Va(o)]}return e}function Aa(t,e){var i=z(t,e);return Nn(i)?i:ot}function Ea(t){var e=wu.call(t,ju),i=t[ju];try{t[ju]=ot;var n=!0}catch(t){}var o=ku.call(t);return n&&(e?t[ju]=i:delete t[ju]),o}function Ta(t,e,i){for(var n=-1,o=i.length;++n<o;){var a=i[n],r=a.size;switch(a.type){case"drop":t+=r;break;case"dropRight":e-=r;break;case"take":e=Ku(e,t+r);break;case"takeRight":t=Xu(t,e-r)}}return{start:t,end:e}}function Ra(t){var e=t.match(Fe);return e?e[1].split(ze):[]}function Ma(t,e,i){e=So(e,t);for(var n=-1,o=e.length,a=!1;++n<o;){var r=nr(e[n]);if(!(a=null!=t&&i(t,r)))break;t=t[r]}return a||++n!=o?a:!!(o=null==t?0:t.length)&&sl(o)&&Ia(r,o)&&(wh(t)||bh(t))}function Ha(t){var e=t.length,i=t.constructor(e);return e&&"string"==typeof t[0]&&wu.call(t,"index")&&(i.index=t.index,i.input=t.input),i}function Ba(t){return"function"!=typeof t.constructor||Ja(t)?{}:yd(Ru(t))}function Oa(t,e,i,n){var o=t.constructor;switch(e){case ue:return To(t);case Vt:case qt:return new o(+t);case de:return Ro(t,n);case he:case fe:case pe:case ve:case ge:case ye:case me:case be:case we:return No(t,n);case $t:return Mo(t,n,i);case Qt:case ae:return new o(t);case ne:return Ho(t);case oe:return Bo(t,n,i);case re:return Oo(t)}}function Na(t,e){var i=e.length;if(!i)return t;var n=i-1;return e[n]=(i>1?"& ":"")+e[n],e=e.join(i>2?", ":" "),t.replace(Le,"{\n/* [wrapped with "+e+"] */\n")}function ja(t){return wh(t)||bh(t)||!!(Ou&&t&&t[Ou])}function Ia(t,e){return!!(e=null==e?Ot:e)&&("number"==typeof t||$e.test(t))&&t>-1&&t%1==0&&t<e}function Ua(t,e,i){if(!ll(i))return!1;var n=typeof e;return!!("number"==n?Ks(i)&&Ia(e,i.length):"string"==n&&e in i)&&Xs(i[e],t)}function La(t,e){if(wh(t))return!1;var i=typeof t;return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!wl(t))||(Me.test(t)||!Re.test(t)||null!=e&&t in du(e))}function Fa(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function za(t){var e=ka(t),n=i[e];if("function"!=typeof n||!(e in w.prototype))return!1;if(t===n)return!0;var o=Sd(n);return!!o&&t===o[0]}function Wa(t){return!!Cu&&Cu in t}function Ja(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||yu)}function Va(t){return t===t&&!ll(t)}function qa(t,e){return function(i){return null!=i&&(i[t]===e&&(e!==ot||t in du(i)))}}function Ga(t){var e=Os(t,function(t){return i.size===ut&&i.clear(),t}),i=e.cache;return e}function Ya(t,e){var i=t[1],n=e[1],o=i|n,a=o<(yt|mt|xt),r=n==xt&&i==wt||n==xt&&i==Pt&&t[7].length<=e[8]||n==(xt|Pt)&&e[7].length<=e[8]&&i==wt;if(!a&&!r)return t;n&yt&&(t[2]=e[2],o|=i&yt?0:bt);var s=e[3];if(s){var l=t[3];t[3]=l?Uo(l,s,e[4]):s,t[4]=l?Y(t[3],dt):e[4]}return s=e[5],s&&(l=t[5],t[5]=l?Lo(l,s,e[6]):s,t[6]=l?Y(t[5],dt):e[6]),s=e[7],s&&(t[7]=s),n&xt&&(t[8]=null==t[8]?e[8]:Ku(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function Xa(t){var e=[];if(null!=t)for(var i in du(t))e.push(i);return e}function Ka(t){return ku.call(t)}function $a(t,e,i){return e=Xu(e===ot?t.length-1:e,0),function(){for(var n=arguments,o=-1,a=Xu(n.length-e,0),r=ru(a);++o<a;)r[o]=n[e+o];o=-1;for(var l=ru(e+1);++o<e;)l[o]=n[o];return l[e]=i(r),s(t,this,l)}}function Qa(t,e){return e.length<2?t:ln(t,uo(e,0,-1))}function Za(t,e){for(var i=t.length,n=Ku(e.length,i),o=Fo(t);n--;){var a=e[n];t[n]=Ia(a,i)?o[a]:ot}return t}function tr(t,e,i){var n=e+"";return Bd(t,Na(n,ar(Ra(n),i)))}function er(t){var e=0,i=0;return function(){var n=$u(),o=Tt-(n-i);if(i=n,o>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(ot,arguments)}}function ir(t,e){var i=-1,n=t.length,o=n-1;for(e=e===ot?n:e;++i<e;){var a=io(i,o),r=t[a];t[a]=t[i],t[i]=r}return t.length=e,t}function nr(t){if("string"==typeof t||wl(t))return t;var e=t+"";return"0"==e&&1/t==-Bt?"-0":e}function or(t){if(null!=t){try{return bu.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ar(t,e){return c(Ft,function(i){var n="_."+i[0];e&i[1]&&!f(t,n)&&t.push(n)}),t.sort()}function rr(t){if(t instanceof w)return t.clone();var e=new o(t.__wrapped__,t.__chain__);return e.__actions__=Fo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function sr(t,e,i){e=(i?Ua(t,e,i):e===ot)?1:Xu(_l(e),0);var n=null==t?0:t.length;if(!n||e<1)return[];for(var o=0,a=0,r=ru(zu(n/e));o<n;)r[a++]=uo(t,o,o+=e);return r}function lr(t){for(var e=-1,i=null==t?0:t.length,n=0,o=[];++e<i;){var a=t[e];a&&(o[n++]=a)}return o}function cr(){var t=arguments.length;if(!t)return[];for(var e=ru(t-1),i=arguments[0],n=t;n--;)e[n-1]=arguments[n];return g(wh(i)?Fo(i):[i],tn(e,1))}function ur(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===ot?1:_l(e),uo(t,e<0?0:e,n)):[]}function dr(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===ot?1:_l(e),e=n-e,uo(t,0,e<0?0:e)):[]}function hr(t,e){return t&&t.length?Do(t,Pa(e,3),!0,!0):[]}function fr(t,e){return t&&t.length?Do(t,Pa(e,3),!0):[]}function pr(t,e,i,n){var o=null==t?0:t.length;return o?(i&&"number"!=typeof i&&Ua(t,e,i)&&(i=0,n=o),Qi(t,e,i,n)):[]}function vr(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:_l(i);return o<0&&(o=Xu(n+o,0)),k(t,Pa(e,3),o)}function gr(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n-1;return i!==ot&&(o=_l(i),o=i<0?Xu(n+o,0):Ku(o,n-1)),k(t,Pa(e,3),o,!0)}function yr(t){return(null==t?0:t.length)?tn(t,1):[]}function mr(t){return(null==t?0:t.length)?tn(t,Bt):[]}function br(t,e){return(null==t?0:t.length)?(e=e===ot?1:_l(e),tn(t,e)):[]}function wr(t){for(var e=-1,i=null==t?0:t.length,n={};++e<i;){var o=t[e];n[o[0]]=o[1]}return n}function Dr(t){return t&&t.length?t[0]:ot}function Cr(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=null==i?0:_l(i);return o<0&&(o=Xu(n+o,0)),x(t,e,o)}function kr(t){return(null==t?0:t.length)?uo(t,0,-1):[]}function xr(t,e){return null==t?"":Gu.call(t,e)}function Pr(t){var e=null==t?0:t.length;return e?t[e-1]:ot}function _r(t,e,i){var n=null==t?0:t.length;if(!n)return-1;var o=n;return i!==ot&&(o=_l(i),o=o<0?Xu(n+o,0):Ku(o,n-1)),e===e?Q(t,e,o):k(t,_,o,!0)}function Sr(t,e){return t&&t.length?Xn(t,_l(e)):ot}function Ar(t,e){return t&&t.length&&e&&e.length?to(t,e):t}function Er(t,e,i){return t&&t.length&&e&&e.length?to(t,e,Pa(i,2)):t}function Tr(t,e,i){return t&&t.length&&e&&e.length?to(t,e,ot,i):t}function Rr(t,e){var i=[];if(!t||!t.length)return i;var n=-1,o=[],a=t.length;for(e=Pa(e,3);++n<a;){var r=t[n];e(r,n,t)&&(i.push(r),o.push(n))}return eo(t,o),i}function Mr(t){return null==t?t:td.call(t)}function Hr(t,e,i){var n=null==t?0:t.length;return n?(i&&"number"!=typeof i&&Ua(t,e,i)?(e=0,i=n):(e=null==e?0:_l(e),i=i===ot?n:_l(i)),uo(t,e,i)):[]}function Br(t,e){return fo(t,e)}function Or(t,e,i){return po(t,e,Pa(i,2))}function Nr(t,e){var i=null==t?0:t.length;if(i){var n=fo(t,e);if(n<i&&Xs(t[n],e))return n}return-1}function jr(t,e){return fo(t,e,!0)}function Ir(t,e,i){return po(t,e,Pa(i,2),!0)}function Ur(t,e){if(null==t?0:t.length){var i=fo(t,e,!0)-1;if(Xs(t[i],e))return i}return-1}function Lr(t){return t&&t.length?vo(t):[]}function Fr(t,e){return t&&t.length?vo(t,Pa(e,2)):[]}function zr(t){var e=null==t?0:t.length;return e?uo(t,1,e):[]}function Wr(t,e,i){return t&&t.length?(e=i||e===ot?1:_l(e),uo(t,0,e<0?0:e)):[]}function Jr(t,e,i){var n=null==t?0:t.length;return n?(e=i||e===ot?1:_l(e),e=n-e,uo(t,e<0?0:e,n)):[]}function Vr(t,e){return t&&t.length?Do(t,Pa(e,3),!1,!0):[]}function qr(t,e){return t&&t.length?Do(t,Pa(e,3)):[]}function Gr(t){return t&&t.length?mo(t):[]}function Yr(t,e){return t&&t.length?mo(t,Pa(e,2)):[]}function Xr(t,e){return e="function"==typeof e?e:ot,t&&t.length?mo(t,ot,e):[]}function Kr(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if($s(t))return e=Xu(t.length,e),!0}),H(e,function(e){return v(t,A(e))})}function $r(t,e){if(!t||!t.length)return[];var i=Kr(t);return null==e?i:v(i,function(t){return s(e,ot,t)})}function Qr(t,e){return xo(t||[],e||[],Ri)}function Zr(t,e){return xo(t||[],e||[],lo)}function ts(t){var e=i(t);return e.__chain__=!0,e}function es(t,e){return e(t),t}function is(t,e){return e(t)}function ns(){return ts(this)}function os(){return new o(this.value(),this.__chain__)}function as(){this.__values__===ot&&(this.__values__=xl(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?ot:this.__values__[this.__index__++]}}function rs(){return this}function ss(t){for(var e,i=this;i instanceof n;){var o=rr(i);o.__index__=0,o.__values__=ot,e?a.__wrapped__=o:e=o;var a=o;i=i.__wrapped__}return a.__wrapped__=t,e}function ls(){var t=this.__wrapped__;if(t instanceof w){var e=t;return this.__actions__.length&&(e=new w(this)),e=e.reverse(),e.__actions__.push({func:is,args:[Mr],thisArg:ot}),new o(e,this.__chain__)}return this.thru(Mr)}function cs(){return Co(this.__wrapped__,this.__actions__)}function us(t,e,i){var n=wh(t)?d:qi;return i&&Ua(t,e,i)&&(e=ot),n(t,Pa(e,3))}function ds(t,e){return(wh(t)?h:Zi)(t,Pa(e,3))}function hs(t,e){return tn(ms(t,e),1)}function fs(t,e){return tn(ms(t,e),Bt)}function ps(t,e,i){return i=i===ot?1:_l(i),tn(ms(t,e),i)}function vs(t,e){return(wh(t)?c:md)(t,Pa(e,3))}function gs(t,e){return(wh(t)?u:bd)(t,Pa(e,3))}function ys(t,e,i,n){t=Ks(t)?t:nc(t),i=i&&!n?_l(i):0;var o=t.length;return i<0&&(i=Xu(o+i,0)),bl(t)?i<=o&&t.indexOf(e,i)>-1:!!o&&x(t,e,i)>-1}function ms(t,e){return(wh(t)?v:Jn)(t,Pa(e,3))}function bs(t,e,i,n){return null==t?[]:(wh(e)||(e=null==e?[]:[e]),i=n?ot:i,wh(i)||(i=null==i?[]:[i]),Kn(t,e,i))}function ws(t,e,i){var n=wh(t)?y:T,o=arguments.length<3;return n(t,Pa(e,4),i,o,md)}function Ds(t,e,i){var n=wh(t)?m:T,o=arguments.length<3;return n(t,Pa(e,4),i,o,bd)}function Cs(t,e){return(wh(t)?h:Zi)(t,Ns(Pa(e,3)))}function ks(t){return(wh(t)?Si:ro)(t)}function xs(t,e,i){return e=(i?Ua(t,e,i):e===ot)?1:_l(e),(wh(t)?Ai:so)(t,e)}function Ps(t){return(wh(t)?Ei:co)(t)}function _s(t){if(null==t)return 0;if(Ks(t))return bl(t)?Z(t):t.length;var e=Td(t);return e==$t||e==oe?t.size:Fn(t).length}function Ss(t,e,i){var n=wh(t)?b:ho;return i&&Ua(t,e,i)&&(e=ot),n(t,Pa(e,3))}function As(t,e){if("function"!=typeof e)throw new pu(lt);return t=_l(t),function(){if(--t<1)return e.apply(this,arguments)}}function Es(t,e,i){return e=i?ot:e,e=t&&null==e?t.length:e,fa(t,xt,ot,ot,ot,ot,e)}function Ts(t,e){var i;if("function"!=typeof e)throw new pu(lt);return t=_l(t),function(){return--t>0&&(i=e.apply(this,arguments)),t<=1&&(e=ot),i}}function Rs(t,e,i){e=i?ot:e;var n=fa(t,wt,ot,ot,ot,ot,ot,e);return n.placeholder=Rs.placeholder,n}function Ms(t,e,i){e=i?ot:e;var n=fa(t,Dt,ot,ot,ot,ot,ot,e);return n.placeholder=Ms.placeholder,n}function Hs(t,e,i){function n(e){var i=h,n=f;return h=f=ot,m=e,v=t.apply(n,i)}function o(t){return m=t,g=Hd(s,e),b?n(t):v}function a(t){var i=t-y,n=t-m,o=e-i;return w?Ku(o,p-n):o}function r(t){var i=t-y,n=t-m;return y===ot||i>=e||i<0||w&&n>=p}function s(){var t=lh();if(r(t))return l(t);g=Hd(s,a(t))}function l(t){return g=ot,D&&h?n(t):(h=f=ot,v)}function c(){g!==ot&&Pd(g),m=0,h=y=f=g=ot}function u(){return g===ot?v:l(lh())}function d(){var t=lh(),i=r(t);if(h=arguments,f=this,y=t,i){if(g===ot)return o(y);if(w)return g=Hd(s,e),n(y)}return g===ot&&(g=Hd(s,e)),v}var h,f,p,v,g,y,m=0,b=!1,w=!1,D=!0;if("function"!=typeof t)throw new pu(lt);return e=Al(e)||0,ll(i)&&(b=!!i.leading,w="maxWait"in i,p=w?Xu(Al(i.maxWait)||0,e):p,D="trailing"in i?!!i.trailing:D),d.cancel=c,d.flush=u,d}function Bs(t){return fa(t,_t)}function Os(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new pu(lt);var i=function(){var n=arguments,o=e?e.apply(this,n):n[0],a=i.cache;if(a.has(o))return a.get(o);var r=t.apply(this,n);return i.cache=a.set(o,r)||a,r};return i.cache=new(Os.Cache||di),i}function Ns(t){if("function"!=typeof t)throw new pu(lt);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function js(t){return Ts(2,t)}function Is(t,e){if("function"!=typeof t)throw new pu(lt);return e=e===ot?e:_l(e),ao(t,e)}function Us(t,e){if("function"!=typeof t)throw new pu(lt);return e=null==e?0:Xu(_l(e),0),ao(function(i){var n=i[e],o=Ao(i,0,e);return n&&g(o,n),s(t,this,o)})}function Ls(t,e,i){var n=!0,o=!0;if("function"!=typeof t)throw new pu(lt);return ll(i)&&(n="leading"in i?!!i.leading:n,o="trailing"in i?!!i.trailing:o),Hs(t,e,{leading:n,maxWait:e,trailing:o})}function Fs(t){return Es(t,1)}function zs(t,e){return ph(_o(e),t)}function Ws(){if(!arguments.length)return[];var t=arguments[0];return wh(t)?t:[t]}function Js(t){return Ui(t,pt)}function Vs(t,e){return e="function"==typeof e?e:ot,Ui(t,pt,e)}function qs(t){return Ui(t,ht|pt)}function Gs(t,e){return e="function"==typeof e?e:ot,Ui(t,ht|pt,e)}function Ys(t,e){return null==e||Fi(t,e,Jl(e))}function Xs(t,e){return t===e||t!==t&&e!==e}function Ks(t){return null!=t&&sl(t.length)&&!al(t)}function $s(t){return cl(t)&&Ks(t)}function Qs(t){return!0===t||!1===t||cl(t)&&dn(t)==Vt}function Zs(t){return cl(t)&&1===t.nodeType&&!yl(t)}function tl(t){if(null==t)return!0;if(Ks(t)&&(wh(t)||"string"==typeof t||"function"==typeof t.splice||Ch(t)||Sh(t)||bh(t)))return!t.length;var e=Td(t);if(e==$t||e==oe)return!t.size;if(Ja(t))return!Fn(t).length;for(var i in t)if(wu.call(t,i))return!1;return!0}function el(t,e){return Mn(t,e)}function il(t,e,i){i="function"==typeof i?i:ot;var n=i?i(t,e):ot;return n===ot?Mn(t,e,ot,i):!!n}function nl(t){if(!cl(t))return!1;var e=dn(t);return e==Yt||e==Gt||"string"==typeof t.message&&"string"==typeof t.name&&!yl(t)}function ol(t){return"number"==typeof t&&qu(t)}function al(t){if(!ll(t))return!1;var e=dn(t);return e==Xt||e==Kt||e==Jt||e==ie}function rl(t){return"number"==typeof t&&t==_l(t)}function sl(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ot}function ll(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function cl(t){return null!=t&&"object"==typeof t}function ul(t,e){return t===e||On(t,e,Sa(e))}function dl(t,e,i){return i="function"==typeof i?i:ot,On(t,e,Sa(e),i)}function hl(t){return gl(t)&&t!=+t}function fl(t){if(Rd(t))throw new lu(st);return Nn(t)}function pl(t){return null===t}function vl(t){return null==t}function gl(t){return"number"==typeof t||cl(t)&&dn(t)==Qt}function yl(t){if(!cl(t)||dn(t)!=te)return!1;var e=Ru(t);if(null===e)return!0;var i=wu.call(e,"constructor")&&e.constructor;return"function"==typeof i&&i instanceof i&&bu.call(i)==xu}function ml(t){return rl(t)&&t>=-Ot&&t<=Ot}function bl(t){return"string"==typeof t||!wh(t)&&cl(t)&&dn(t)==ae}function wl(t){return"symbol"==typeof t||cl(t)&&dn(t)==re}function Dl(t){return t===ot}function Cl(t){return cl(t)&&Td(t)==le}function kl(t){return cl(t)&&dn(t)==ce}function xl(t){if(!t)return[];if(Ks(t))return bl(t)?tt(t):Fo(t);if(Nu&&t[Nu])return V(t[Nu]());var e=Td(t);return(e==$t?q:e==oe?X:nc)(t)}function Pl(t){if(!t)return 0===t?t:0;if((t=Al(t))===Bt||t===-Bt){return(t<0?-1:1)*Nt}return t===t?t:0}function _l(t){var e=Pl(t),i=e%1;return e===e?i?e-i:e:0}function Sl(t){return t?Ii(_l(t),0,It):0}function Al(t){if("number"==typeof t)return t;if(wl(t))return jt;if(ll(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ll(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(je,"");var i=Ye.test(t);return i||Ke.test(t)?on(t.slice(2),i?2:8):Ge.test(t)?jt:+t}function El(t){return zo(t,Vl(t))}function Tl(t){return t?Ii(_l(t),-Ot,Ot):0===t?t:0}function Rl(t){return null==t?"":yo(t)}function Ml(t,e){var i=yd(t);return null==e?i:Bi(i,e)}function Hl(t,e){return C(t,Pa(e,3),en)}function Bl(t,e){return C(t,Pa(e,3),an)}function Ol(t,e){return null==t?t:wd(t,Pa(e,3),Vl)}function Nl(t,e){return null==t?t:Dd(t,Pa(e,3),Vl)}function jl(t,e){return t&&en(t,Pa(e,3))}function Il(t,e){return t&&an(t,Pa(e,3))}function Ul(t){return null==t?[]:rn(t,Jl(t))}function Ll(t){return null==t?[]:rn(t,Vl(t))}function Fl(t,e,i){var n=null==t?ot:ln(t,e);return n===ot?i:n}function zl(t,e){return null!=t&&Ma(t,e,bn)}function Wl(t,e){return null!=t&&Ma(t,e,kn)}function Jl(t){return Ks(t)?_i(t):Fn(t)}function Vl(t){return Ks(t)?_i(t,!0):zn(t)}function ql(t,e){var i={};return e=Pa(e,3),en(t,function(t,n,o){Ni(i,e(t,n,o),t)}),i}function Gl(t,e){var i={};return e=Pa(e,3),en(t,function(t,n,o){Ni(i,n,e(t,n,o))}),i}function Yl(t,e){return Xl(t,Ns(Pa(e)))}function Xl(t,e){if(null==t)return{};var i=v(Ca(t),function(t){return[t]});return e=Pa(e),Qn(t,i,function(t,i){return e(t,i[0])})}function Kl(t,e,i){e=So(e,t);var n=-1,o=e.length;for(o||(o=1,t=ot);++n<o;){var a=null==t?ot:t[nr(e[n])];a===ot&&(n=o,a=i),t=al(a)?a.call(t):a}return t}function $l(t,e,i){return null==t?t:lo(t,e,i)}function Ql(t,e,i,n){return n="function"==typeof n?n:ot,null==t?t:lo(t,e,i,n)}function Zl(t,e,i){var n=wh(t),o=n||Ch(t)||Sh(t);if(e=Pa(e,4),null==i){var a=t&&t.constructor;i=o?n?new a:[]:ll(t)&&al(a)?yd(Ru(t)):{}}return(o?c:en)(t,function(t,n,o){return e(i,t,n,o)}),i}function tc(t,e){return null==t||bo(t,e)}function ec(t,e,i){return null==t?t:wo(t,e,_o(i))}function ic(t,e,i,n){return n="function"==typeof n?n:ot,null==t?t:wo(t,e,_o(i),n)}function nc(t){return null==t?[]:N(t,Jl(t))}function oc(t){return null==t?[]:N(t,Vl(t))}function ac(t,e,i){return i===ot&&(i=e,e=ot),i!==ot&&(i=Al(i),i=i===i?i:0),e!==ot&&(e=Al(e),e=e===e?e:0),Ii(Al(t),e,i)}function rc(t,e,i){return e=Pl(e),i===ot?(i=e,e=0):i=Pl(i),t=Al(t),Pn(t,e,i)}function sc(t,e,i){if(i&&"boolean"!=typeof i&&Ua(t,e,i)&&(e=i=ot),i===ot&&("boolean"==typeof e?(i=e,e=ot):"boolean"==typeof t&&(i=t,t=ot)),t===ot&&e===ot?(t=0,e=1):(t=Pl(t),e===ot?(e=t,t=0):e=Pl(e)),t>e){var n=t;t=e,e=n}if(i||t%1||e%1){var o=Zu();return Ku(t+o*(e-t+nn("1e-"+((o+"").length-1))),e)}return io(t,e)}function lc(t){return Zh(Rl(t).toLowerCase())}function cc(t){return(t=Rl(t))&&t.replace(Qe,wn).replace(Wi,"")}function uc(t,e,i){t=Rl(t),e=yo(e);var n=t.length;i=i===ot?n:Ii(_l(i),0,n);var o=i;return(i-=e.length)>=0&&t.slice(i,o)==e}function dc(t){return t=Rl(t),t&&Se.test(t)?t.replace(Pe,Dn):t}function hc(t){return t=Rl(t),t&&Ne.test(t)?t.replace(Oe,"\\$&"):t}function fc(t,e,i){t=Rl(t),e=_l(e);var n=e?Z(t):0;if(!e||n>=e)return t;var o=(e-n)/2;return ra(Wu(o),i)+t+ra(zu(o),i)}function pc(t,e,i){t=Rl(t),e=_l(e);var n=e?Z(t):0;return e&&n<e?t+ra(e-n,i):t}function vc(t,e,i){t=Rl(t),e=_l(e);var n=e?Z(t):0;return e&&n<e?ra(e-n,i)+t:t}function gc(t,e,i){return i||null==e?e=0:e&&(e=+e),Qu(Rl(t).replace(Ie,""),e||0)}function yc(t,e,i){return e=(i?Ua(t,e,i):e===ot)?1:_l(e),oo(Rl(t),e)}function mc(){var t=arguments,e=Rl(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function bc(t,e,i){return i&&"number"!=typeof i&&Ua(t,e,i)&&(e=i=ot),(i=i===ot?It:i>>>0)?(t=Rl(t),t&&("string"==typeof e||null!=e&&!Ph(e))&&!(e=yo(e))&&W(t)?Ao(tt(t),0,i):t.split(e,i)):[]}function wc(t,e,i){return t=Rl(t),i=null==i?0:Ii(_l(i),0,t.length),e=yo(e),t.slice(i,i+e.length)==e}function Dc(t,e,n){var o=i.templateSettings;n&&Ua(t,e,n)&&(e=ot),t=Rl(t),e=Mh({},e,o,pa);var a,r,s=Mh({},e.imports,o.imports,pa),l=Jl(s),c=N(s,l),u=0,d=e.interpolate||Ze,h="__p += '",f=hu((e.escape||Ze).source+"|"+d.source+"|"+(d===Te?Ve:Ze).source+"|"+(e.evaluate||Ze).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++Xi+"]")+"\n";t.replace(f,function(e,i,n,o,s,l){return n||(n=o),h+=t.slice(u,l).replace(ti,F),i&&(a=!0,h+="' +\n__e("+i+") +\n'"),s&&(r=!0,h+="';\n"+s+";\n__p += '"),n&&(h+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),u=l+e.length,e}),h+="';\n";var v=e.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(r?h.replace(De,""):h).replace(Ce,"$1").replace(ke,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=tf(function(){return cu(l,p+"return "+h).apply(ot,c)});if(g.source=h,nl(g))throw g;return g}function Cc(t){return Rl(t).toLowerCase()}function kc(t){return Rl(t).toUpperCase()}function xc(t,e,i){if((t=Rl(t))&&(i||e===ot))return t.replace(je,"");if(!t||!(e=yo(e)))return t;var n=tt(t),o=tt(e);return Ao(n,I(n,o),U(n,o)+1).join("")}function Pc(t,e,i){if((t=Rl(t))&&(i||e===ot))return t.replace(Ue,"");if(!t||!(e=yo(e)))return t;var n=tt(t);return Ao(n,0,U(n,tt(e))+1).join("")}function _c(t,e,i){if((t=Rl(t))&&(i||e===ot))return t.replace(Ie,"");if(!t||!(e=yo(e)))return t;var n=tt(t);return Ao(n,I(n,tt(e))).join("")}function Sc(t,e){var i=St,n=At;if(ll(e)){var o="separator"in e?e.separator:o;i="length"in e?_l(e.length):i,n="omission"in e?yo(e.omission):n}t=Rl(t);var a=t.length;if(W(t)){var r=tt(t);a=r.length}if(i>=a)return t;var s=i-Z(n);if(s<1)return n;var l=r?Ao(r,0,s).join(""):t.slice(0,s);if(o===ot)return l+n;if(r&&(s+=l.length-s),Ph(o)){if(t.slice(s).search(o)){var c,u=l;for(o.global||(o=hu(o.source,Rl(qe.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var d=c.index;l=l.slice(0,d===ot?s:d)}}else if(t.indexOf(yo(o),s)!=s){var h=l.lastIndexOf(o);h>-1&&(l=l.slice(0,h))}return l+n}function Ac(t){return t=Rl(t),t&&_e.test(t)?t.replace(xe,Cn):t}function Ec(t,e,i){return t=Rl(t),e=i?ot:e,e===ot?J(t)?nt(t):D(t):t.match(e)||[]}function Tc(t){var e=null==t?0:t.length,i=Pa();return t=e?v(t,function(t){if("function"!=typeof t[1])throw new pu(lt);return[i(t[0]),t[1]]}):[],ao(function(i){for(var n=-1;++n<e;){var o=t[n];if(s(o[0],this,i))return s(o[1],this,i)}})}function Rc(t){return Li(Ui(t,ht))}function Mc(t){return function(){return t}}function Hc(t,e){return null==t||t!==t?e:t}function Bc(t){return t}function Oc(t){return Ln("function"==typeof t?t:Ui(t,ht))}function Nc(t){return Vn(Ui(t,ht))}function jc(t,e){return qn(t,Ui(e,ht))}function Ic(t,e,i){var n=Jl(e),o=rn(e,n);null!=i||ll(e)&&(o.length||!n.length)||(i=e,e=t,t=this,o=rn(e,Jl(e)));var a=!(ll(i)&&"chain"in i&&!i.chain),r=al(t);return c(o,function(i){var n=e[i];t[i]=n,r&&(t.prototype[i]=function(){var e=this.__chain__;if(a||e){var i=t(this.__wrapped__);return(i.__actions__=Fo(this.__actions__)).push({func:n,args:arguments,thisArg:t}),i.__chain__=e,i}return n.apply(t,g([this.value()],arguments))})}),t}function Uc(){return sn._===this&&(sn._=Pu),this}function Lc(){}function Fc(t){return t=_l(t),ao(function(e){return Xn(e,t)})}function zc(t){return La(t)?A(nr(t)):Zn(t)}function Wc(t){return function(e){return null==t?ot:ln(t,e)}}function Jc(){return[]}function Vc(){return!1}function qc(){return{}}function Gc(){return""}function Yc(){return!0}function Xc(t,e){if((t=_l(t))<1||t>Ot)return[];var i=It,n=Ku(t,It);e=Pa(e),t-=It;for(var o=H(n,e);++i<t;)e(i);return o}function Kc(t){return wh(t)?v(t,nr):wl(t)?[t]:Fo(Od(Rl(t)))}function $c(t){var e=++Du;return Rl(t)+e}function Qc(t){return t&&t.length?Gi(t,Bc,hn):ot}function Zc(t,e){return t&&t.length?Gi(t,Pa(e,2),hn):ot}function tu(t){return S(t,Bc)}function eu(t,e){return S(t,Pa(e,2))}function iu(t){return t&&t.length?Gi(t,Bc,Wn):ot}function nu(t,e){return t&&t.length?Gi(t,Pa(e,2),Wn):ot}function ou(t){return t&&t.length?M(t,Bc):0}function au(t,e){return t&&t.length?M(t,Pa(e,2)):0}e=null==e?sn:xn.defaults(sn.Object(),e,xn.pick(sn,Yi));var ru=e.Array,su=e.Date,lu=e.Error,cu=e.Function,uu=e.Math,du=e.Object,hu=e.RegExp,fu=e.String,pu=e.TypeError,vu=ru.prototype,gu=cu.prototype,yu=du.prototype,mu=e["__core-js_shared__"],bu=gu.toString,wu=yu.hasOwnProperty,Du=0,Cu=function(){var t=/[^.]+$/.exec(mu&&mu.keys&&mu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ku=yu.toString,xu=bu.call(du),Pu=sn._,_u=hu("^"+bu.call(wu).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Su=un?e.Buffer:ot,Au=e.Symbol,Eu=e.Uint8Array,Tu=Su?Su.allocUnsafe:ot,Ru=G(du.getPrototypeOf,du),Mu=du.create,Hu=yu.propertyIsEnumerable,Bu=vu.splice,Ou=Au?Au.isConcatSpreadable:ot,Nu=Au?Au.iterator:ot,ju=Au?Au.toStringTag:ot,Iu=function(){try{var t=Aa(du,"defineProperty");return t({},"",{}),t}catch(t){}}(),Uu=e.clearTimeout!==sn.clearTimeout&&e.clearTimeout,Lu=su&&su.now!==sn.Date.now&&su.now,Fu=e.setTimeout!==sn.setTimeout&&e.setTimeout,zu=uu.ceil,Wu=uu.floor,Ju=du.getOwnPropertySymbols,Vu=Su?Su.isBuffer:ot,qu=e.isFinite,Gu=vu.join,Yu=G(du.keys,du),Xu=uu.max,Ku=uu.min,$u=su.now,Qu=e.parseInt,Zu=uu.random,td=vu.reverse,ed=Aa(e,"DataView"),id=Aa(e,"Map"),nd=Aa(e,"Promise"),od=Aa(e,"Set"),ad=Aa(e,"WeakMap"),rd=Aa(du,"create"),sd=ad&&new ad,ld={},cd=or(ed),ud=or(id),dd=or(nd),hd=or(od),fd=or(ad),pd=Au?Au.prototype:ot,vd=pd?pd.valueOf:ot,gd=pd?pd.toString:ot,yd=function(){function t(){}return function(e){if(!ll(e))return{};if(Mu)return Mu(e);t.prototype=e;var i=new t;return t.prototype=ot,i}}();i.templateSettings={escape:Ae,evaluate:Ee,interpolate:Te,variable:"",imports:{_:i}},i.prototype=n.prototype,i.prototype.constructor=i,o.prototype=yd(n.prototype),o.prototype.constructor=o,w.prototype=yd(n.prototype),w.prototype.constructor=w,it.prototype.clear=We,it.prototype.delete=ei,it.prototype.get=ii,it.prototype.has=ni,it.prototype.set=oi,ai.prototype.clear=ri,ai.prototype.delete=si,ai.prototype.get=li,ai.prototype.has=ci,ai.prototype.set=ui,di.prototype.clear=hi,di.prototype.delete=fi,di.prototype.get=pi,di.prototype.has=vi,di.prototype.set=gi,yi.prototype.add=yi.prototype.push=mi,yi.prototype.has=bi,wi.prototype.clear=Di,wi.prototype.delete=Ci,wi.prototype.get=ki,wi.prototype.has=xi,wi.prototype.set=Pi;var md=Go(en),bd=Go(an,!0),wd=Yo(),Dd=Yo(!0),Cd=sd?function(t,e){return sd.set(t,e),t}:Bc,kd=Iu?function(t,e){return Iu(t,"toString",{configurable:!0,enumerable:!1,value:Mc(e),writable:!0})}:Bc,xd=ao,Pd=Uu||function(t){return sn.clearTimeout(t)},_d=od&&1/X(new od([,-0]))[1]==Bt?function(t){return new od(t)}:Lc,Sd=sd?function(t){return sd.get(t)}:Lc,Ad=Ju?function(t){return null==t?[]:(t=du(t),h(Ju(t),function(e){return Hu.call(t,e)}))}:Jc,Ed=Ju?function(t){for(var e=[];t;)g(e,Ad(t)),t=Ru(t);return e}:Jc,Td=dn;(ed&&Td(new ed(new ArrayBuffer(1)))!=de||id&&Td(new id)!=$t||nd&&Td(nd.resolve())!=ee||od&&Td(new od)!=oe||ad&&Td(new ad)!=le)&&(Td=function(t){var e=dn(t),i=e==te?t.constructor:ot,n=i?or(i):"";if(n)switch(n){case cd:return de;case ud:return $t;case dd:return ee;case hd:return oe;case fd:return le}return e});var Rd=mu?al:Vc,Md=er(Cd),Hd=Fu||function(t,e){return sn.setTimeout(t,e)},Bd=er(kd),Od=Ga(function(t){var e=[];return He.test(t)&&e.push(""),t.replace(Be,function(t,i,n,o){e.push(n?o.replace(Je,"$1"):i||t)}),e}),Nd=ao(function(t,e){return $s(t)?Vi(t,tn(e,1,$s,!0)):[]}),jd=ao(function(t,e){var i=Pr(e);return $s(i)&&(i=ot),$s(t)?Vi(t,tn(e,1,$s,!0),Pa(i,2)):[]}),Id=ao(function(t,e){var i=Pr(e);return $s(i)&&(i=ot),$s(t)?Vi(t,tn(e,1,$s,!0),ot,i):[]}),Ud=ao(function(t){var e=v(t,Po);return e.length&&e[0]===t[0]?_n(e):[]}),Ld=ao(function(t){var e=Pr(t),i=v(t,Po);return e===Pr(i)?e=ot:i.pop(),i.length&&i[0]===t[0]?_n(i,Pa(e,2)):[]}),Fd=ao(function(t){var e=Pr(t),i=v(t,Po);return e="function"==typeof e?e:ot,e&&i.pop(),i.length&&i[0]===t[0]?_n(i,ot,e):[]}),zd=ao(Ar),Wd=wa(function(t,e){var i=null==t?0:t.length,n=ji(t,e);return eo(t,v(e,function(t){return Ia(t,i)?+t:t}).sort(jo)),n}),Jd=ao(function(t){return mo(tn(t,1,$s,!0))}),Vd=ao(function(t){var e=Pr(t);return $s(e)&&(e=ot),mo(tn(t,1,$s,!0),Pa(e,2))}),qd=ao(function(t){var e=Pr(t);return e="function"==typeof e?e:ot,mo(tn(t,1,$s,!0),ot,e)}),Gd=ao(function(t,e){return $s(t)?Vi(t,e):[]}),Yd=ao(function(t){return ko(h(t,$s))}),Xd=ao(function(t){var e=Pr(t);return $s(e)&&(e=ot),ko(h(t,$s),Pa(e,2))}),Kd=ao(function(t){var e=Pr(t);return e="function"==typeof e?e:ot,ko(h(t,$s),ot,e)}),$d=ao(Kr),Qd=ao(function(t){var e=t.length,i=e>1?t[e-1]:ot;return i="function"==typeof i?(t.pop(),i):ot,$r(t,i)}),Zd=wa(function(t){var e=t.length,i=e?t[0]:0,n=this.__wrapped__,a=function(e){return ji(e,t)};return!(e>1||this.__actions__.length)&&n instanceof w&&Ia(i)?(n=n.slice(i,+i+(e?1:0)),n.__actions__.push({func:is,args:[a],thisArg:ot}),new o(n,this.__chain__).thru(function(t){return e&&!t.length&&t.push(ot),t})):this.thru(a)}),th=Vo(function(t,e,i){wu.call(t,i)?++t[i]:Ni(t,i,1)}),eh=ta(vr),ih=ta(gr),nh=Vo(function(t,e,i){wu.call(t,i)?t[i].push(e):Ni(t,i,[e])}),oh=ao(function(t,e,i){var n=-1,o="function"==typeof e,a=Ks(t)?ru(t.length):[];return md(t,function(t){a[++n]=o?s(e,t,i):An(t,e,i)}),a}),ah=Vo(function(t,e,i){Ni(t,i,e)}),rh=Vo(function(t,e,i){t[i?0:1].push(e)},function(){return[[],[]]}),sh=ao(function(t,e){if(null==t)return[];var i=e.length;return i>1&&Ua(t,e[0],e[1])?e=[]:i>2&&Ua(e[0],e[1],e[2])&&(e=[e[0]]),Kn(t,tn(e,1),[])}),lh=Lu||function(){return sn.Date.now()},ch=ao(function(t,e,i){var n=yt;if(i.length){var o=Y(i,xa(ch));n|=Ct}return fa(t,n,e,i,o)}),uh=ao(function(t,e,i){var n=yt|mt;if(i.length){var o=Y(i,xa(uh));n|=Ct}return fa(e,n,t,i,o)}),dh=ao(function(t,e){return Ji(t,1,e)}),hh=ao(function(t,e,i){return Ji(t,Al(e)||0,i)});Os.Cache=di;var fh=xd(function(t,e){e=1==e.length&&wh(e[0])?v(e[0],O(Pa())):v(tn(e,1),O(Pa()));var i=e.length;return ao(function(n){for(var o=-1,a=Ku(n.length,i);++o<a;)n[o]=e[o].call(this,n[o]);return s(t,this,n)})}),ph=ao(function(t,e){var i=Y(e,xa(ph));return fa(t,Ct,ot,e,i)}),vh=ao(function(t,e){var i=Y(e,xa(vh));return fa(t,kt,ot,e,i)}),gh=wa(function(t,e){return fa(t,Pt,ot,ot,ot,e)}),yh=ca(hn),mh=ca(function(t,e){return t>=e}),bh=En(function(){return arguments}())?En:function(t){return cl(t)&&wu.call(t,"callee")&&!Hu.call(t,"callee")},wh=ru.isArray,Dh=fn?O(fn):Tn,Ch=Vu||Vc,kh=pn?O(pn):Rn,xh=vn?O(vn):Bn,Ph=gn?O(gn):jn,_h=yn?O(yn):In,Sh=mn?O(mn):Un,Ah=ca(Wn),Eh=ca(function(t,e){return t<=e}),Th=qo(function(t,e){if(Ja(e)||Ks(e))return void zo(e,Jl(e),t);for(var i in e)wu.call(e,i)&&Ri(t,i,e[i])}),Rh=qo(function(t,e){zo(e,Vl(e),t)}),Mh=qo(function(t,e,i,n){zo(e,Vl(e),t,n)}),Hh=qo(function(t,e,i,n){zo(e,Jl(e),t,n)}),Bh=wa(ji),Oh=ao(function(t){return t.push(ot,pa),s(Mh,ot,t)}),Nh=ao(function(t){return t.push(ot,va),s(Fh,ot,t)}),jh=na(function(t,e,i){t[e]=i},Mc(Bc)),Ih=na(function(t,e,i){wu.call(t,e)?t[e].push(i):t[e]=[i]},Pa),Uh=ao(An),Lh=qo(function(t,e,i){Gn(t,e,i)}),Fh=qo(function(t,e,i,n){Gn(t,e,i,n)}),zh=wa(function(t,e){var i={};if(null==t)return i;var n=!1;e=v(e,function(e){return e=So(e,t),n||(n=e.length>1),e}),zo(t,Ca(t),i),n&&(i=Ui(i,ht|ft|pt,ga));for(var o=e.length;o--;)bo(i,e[o]);return i}),Wh=wa(function(t,e){return null==t?{}:$n(t,e)}),Jh=ha(Jl),Vh=ha(Vl),qh=$o(function(t,e,i){return e=e.toLowerCase(),t+(i?lc(e):e)}),Gh=$o(function(t,e,i){return t+(i?"-":"")+e.toLowerCase()}),Yh=$o(function(t,e,i){return t+(i?" ":"")+e.toLowerCase()}),Xh=Ko("toLowerCase"),Kh=$o(function(t,e,i){return t+(i?"_":"")+e.toLowerCase()}),$h=$o(function(t,e,i){return t+(i?" ":"")+Zh(e)}),Qh=$o(function(t,e,i){return t+(i?" ":"")+e.toUpperCase()}),Zh=Ko("toUpperCase"),tf=ao(function(t,e){try{return s(t,ot,e)}catch(t){return nl(t)?t:new lu(t)}}),ef=wa(function(t,e){return c(e,function(e){e=nr(e),Ni(t,e,ch(t[e],t))}),t}),nf=ea(),of=ea(!0),af=ao(function(t,e){return function(i){return An(i,t,e)}}),rf=ao(function(t,e){return function(i){return An(t,i,e)}}),sf=aa(v),lf=aa(d),cf=aa(b),uf=la(),df=la(!0),hf=oa(function(t,e){return t+e},0),ff=da("ceil"),pf=oa(function(t,e){return t/e},1),vf=da("floor"),gf=oa(function(t,e){return t*e},1),yf=da("round"),mf=oa(function(t,e){return t-e},0);return i.after=As,i.ary=Es,i.assign=Th,i.assignIn=Rh,i.assignInWith=Mh,i.assignWith=Hh,i.at=Bh,i.before=Ts,i.bind=ch,i.bindAll=ef,i.bindKey=uh,i.castArray=Ws,i.chain=ts,i.chunk=sr,i.compact=lr,i.concat=cr,i.cond=Tc,i.conforms=Rc,i.constant=Mc,i.countBy=th,i.create=Ml,i.curry=Rs,i.curryRight=Ms,i.debounce=Hs,i.defaults=Oh,i.defaultsDeep=Nh,i.defer=dh,i.delay=hh,i.difference=Nd,i.differenceBy=jd,i.differenceWith=Id,i.drop=ur,i.dropRight=dr,i.dropRightWhile=hr,i.dropWhile=fr,i.fill=pr,i.filter=ds,i.flatMap=hs,i.flatMapDeep=fs,i.flatMapDepth=ps,i.flatten=yr,i.flattenDeep=mr,i.flattenDepth=br,i.flip=Bs,i.flow=nf,i.flowRight=of,i.fromPairs=wr,i.functions=Ul,i.functionsIn=Ll,i.groupBy=nh,i.initial=kr,i.intersection=Ud,i.intersectionBy=Ld,i.intersectionWith=Fd,i.invert=jh,i.invertBy=Ih,i.invokeMap=oh,i.iteratee=Oc,i.keyBy=ah,i.keys=Jl,i.keysIn=Vl,i.map=ms,i.mapKeys=ql,i.mapValues=Gl,i.matches=Nc,i.matchesProperty=jc,i.memoize=Os,i.merge=Lh,i.mergeWith=Fh,i.method=af,i.methodOf=rf,i.mixin=Ic,i.negate=Ns,i.nthArg=Fc,i.omit=zh,i.omitBy=Yl,i.once=js,i.orderBy=bs,i.over=sf,i.overArgs=fh,i.overEvery=lf,i.overSome=cf,i.partial=ph,i.partialRight=vh,i.partition=rh,i.pick=Wh,i.pickBy=Xl,i.property=zc,i.propertyOf=Wc,i.pull=zd,i.pullAll=Ar,i.pullAllBy=Er,i.pullAllWith=Tr,i.pullAt=Wd,i.range=uf,i.rangeRight=df,i.rearg=gh,i.reject=Cs,i.remove=Rr,i.rest=Is,i.reverse=Mr,i.sampleSize=xs,i.set=$l,i.setWith=Ql,i.shuffle=Ps,i.slice=Hr,i.sortBy=sh,i.sortedUniq=Lr,i.sortedUniqBy=Fr,i.split=bc,i.spread=Us,i.tail=zr,i.take=Wr,i.takeRight=Jr,i.takeRightWhile=Vr,i.takeWhile=qr,i.tap=es,i.throttle=Ls,i.thru=is,i.toArray=xl,i.toPairs=Jh,i.toPairsIn=Vh,i.toPath=Kc,i.toPlainObject=El,i.transform=Zl,i.unary=Fs,i.union=Jd,i.unionBy=Vd,i.unionWith=qd,i.uniq=Gr,i.uniqBy=Yr,i.uniqWith=Xr,i.unset=tc,i.unzip=Kr,i.unzipWith=$r,i.update=ec,i.updateWith=ic,i.values=nc,i.valuesIn=oc,i.without=Gd,i.words=Ec,i.wrap=zs,i.xor=Yd,i.xorBy=Xd,i.xorWith=Kd,i.zip=$d,i.zipObject=Qr,i.zipObjectDeep=Zr,i.zipWith=Qd,i.entries=Jh,i.entriesIn=Vh,i.extend=Rh,i.extendWith=Mh,Ic(i,i),i.add=hf,i.attempt=tf,i.camelCase=qh,i.capitalize=lc,i.ceil=ff,i.clamp=ac,i.clone=Js,i.cloneDeep=qs,i.cloneDeepWith=Gs,i.cloneWith=Vs,i.conformsTo=Ys,i.deburr=cc,i.defaultTo=Hc,i.divide=pf,i.endsWith=uc,i.eq=Xs,i.escape=dc,i.escapeRegExp=hc,i.every=us,i.find=eh,i.findIndex=vr,i.findKey=Hl,i.findLast=ih,i.findLastIndex=gr,i.findLastKey=Bl,i.floor=vf,i.forEach=vs,i.forEachRight=gs,i.forIn=Ol,i.forInRight=Nl,i.forOwn=jl,i.forOwnRight=Il,i.get=Fl,i.gt=yh,i.gte=mh,i.has=zl,i.hasIn=Wl,i.head=Dr,i.identity=Bc,i.includes=ys,i.indexOf=Cr,i.inRange=rc,i.invoke=Uh,i.isArguments=bh,i.isArray=wh,i.isArrayBuffer=Dh,i.isArrayLike=Ks,i.isArrayLikeObject=$s,i.isBoolean=Qs,i.isBuffer=Ch,i.isDate=kh,i.isElement=Zs,i.isEmpty=tl,i.isEqual=el,i.isEqualWith=il,i.isError=nl,i.isFinite=ol,i.isFunction=al,i.isInteger=rl,i.isLength=sl,i.isMap=xh,i.isMatch=ul,i.isMatchWith=dl,i.isNaN=hl,i.isNative=fl,i.isNil=vl,i.isNull=pl,i.isNumber=gl,i.isObject=ll,i.isObjectLike=cl,i.isPlainObject=yl,i.isRegExp=Ph,i.isSafeInteger=ml,i.isSet=_h,i.isString=bl,i.isSymbol=wl,i.isTypedArray=Sh,i.isUndefined=Dl,i.isWeakMap=Cl,i.isWeakSet=kl,i.join=xr,i.kebabCase=Gh,i.last=Pr,i.lastIndexOf=_r,i.lowerCase=Yh,i.lowerFirst=Xh,i.lt=Ah,i.lte=Eh,i.max=Qc,i.maxBy=Zc,i.mean=tu,i.meanBy=eu,i.min=iu,i.minBy=nu,i.stubArray=Jc,i.stubFalse=Vc,i.stubObject=qc,i.stubString=Gc,i.stubTrue=Yc,i.multiply=gf,i.nth=Sr,i.noConflict=Uc,i.noop=Lc,i.now=lh,i.pad=fc,i.padEnd=pc,i.padStart=vc,i.parseInt=gc,i.random=sc,i.reduce=ws,i.reduceRight=Ds,i.repeat=yc,i.replace=mc,i.result=Kl,i.round=yf,i.runInContext=t,i.sample=ks,i.size=_s,i.snakeCase=Kh,i.some=Ss,i.sortedIndex=Br,i.sortedIndexBy=Or,i.sortedIndexOf=Nr,i.sortedLastIndex=jr,i.sortedLastIndexBy=Ir,i.sortedLastIndexOf=Ur,i.startCase=$h,i.startsWith=wc,i.subtract=mf,i.sum=ou,i.sumBy=au,i.template=Dc,i.times=Xc,i.toFinite=Pl,i.toInteger=_l,i.toLength=Sl,i.toLower=Cc,i.toNumber=Al,i.toSafeInteger=Tl,i.toString=Rl,i.toUpper=kc,i.trim=xc,i.trimEnd=Pc,i.trimStart=_c,i.truncate=Sc,i.unescape=Ac,i.uniqueId=$c,i.upperCase=Qh,i.upperFirst=Zh,i.each=vs,i.eachRight=gs,i.first=Dr,Ic(i,function(){var t={};return en(i,function(e,n){wu.call(i.prototype,n)||(t[n]=e)}),t}(),{chain:!1}),i.VERSION=at,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){i[t].placeholder=i}),c(["drop","take"],function(t,e){w.prototype[t]=function(i){i=i===ot?1:Xu(_l(i),0);var n=this.__filtered__&&!e?new w(this):this.clone();return n.__filtered__?n.__takeCount__=Ku(i,n.__takeCount__):n.__views__.push({size:Ku(i,It),type:t+(n.__dir__<0?"Right":"")}),n},w.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),c(["filter","map","takeWhile"],function(t,e){var i=e+1,n=i==Rt||i==Ht;w.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Pa(t,3),type:i}),e.__filtered__=e.__filtered__||n,e}}),c(["head","last"],function(t,e){var i="take"+(e?"Right":"");w.prototype[t]=function(){return this[i](1).value()[0]}}),c(["initial","tail"],function(t,e){var i="drop"+(e?"":"Right");w.prototype[t]=function(){return this.__filtered__?new w(this):this[i](1)}}),w.prototype.compact=function(){return this.filter(Bc)},w.prototype.find=function(t){return this.filter(t).head()},w.prototype.findLast=function(t){return this.reverse().find(t)},w.prototype.invokeMap=ao(function(t,e){return"function"==typeof t?new w(this):this.map(function(i){return An(i,t,e)})}),w.prototype.reject=function(t){return this.filter(Ns(Pa(t)))},w.prototype.slice=function(t,e){t=_l(t);var i=this;return i.__filtered__&&(t>0||e<0)?new w(i):(t<0?i=i.takeRight(-t):t&&(i=i.drop(t)),e!==ot&&(e=_l(e),i=e<0?i.dropRight(-e):i.take(e-t)),i)},w.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},w.prototype.toArray=function(){return this.take(It)},en(w.prototype,function(t,e){var n=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),r=i[a?"take"+("last"==e?"Right":""):e],s=a||/^find/.test(e);r&&(i.prototype[e]=function(){var e=this.__wrapped__,l=a?[1]:arguments,c=e instanceof w,u=l[0],d=c||wh(e),h=function(t){var e=r.apply(i,g([t],l));return a&&f?e[0]:e};d&&n&&"function"==typeof u&&1!=u.length&&(c=d=!1);var f=this.__chain__,p=!!this.__actions__.length,v=s&&!f,y=c&&!p;if(!s&&d){e=y?e:new w(this);var m=t.apply(e,l);return m.__actions__.push({func:is,args:[h],thisArg:ot}),new o(m,f)}return v&&y?t.apply(this,l):(m=this.thru(h),v?a?m.value()[0]:m.value():m)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var e=vu[t],n=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);i.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var i=this.value();return e.apply(wh(i)?i:[],t)}return this[n](function(i){return e.apply(wh(i)?i:[],t)})}}),en(w.prototype,function(t,e){var n=i[e];if(n){var o=n.name+"";(ld[o]||(ld[o]=[])).push({name:e,func:n})}}),ld[ia(ot,mt).name]=[{name:"wrapper",func:ot}],w.prototype.clone=E,w.prototype.reverse=$,w.prototype.value=et,i.prototype.at=Zd,i.prototype.chain=ns,i.prototype.commit=os,i.prototype.next=as,i.prototype.plant=ss,i.prototype.reverse=ls,i.prototype.toJSON=i.prototype.valueOf=i.prototype.value=cs,i.prototype.first=i.prototype.head,Nu&&(i.prototype[Nu]=rs),i},xn=kn();sn._=xn,(o=function(){return xn}.call(e,i,e,n))!==ot&&(n.exports=o)}).call(this)}).call(e,i("DuR2"),i("3IRH")(t))},MUrH:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.ref=t}return t.prototype.ngAfterViewInit=function(){this.ref.nativeElement.classList.add("ng2-smart-actions")},t.prototype.ngOnChanges=function(){this.actionsColumnTitle=this.grid.getSetting("actions.columnTitle")},t}();a([i.i(n.Input)(),r("design:type",o.a)],s.prototype,"grid",void 0),s=a([i.i(n.Component)({selector:"[ng2-st-actions-title]",template:'\n    <div class="ng2-smart-title">{{ actionsColumnTitle }}</div>\n  '}),r("design:paramtypes",[n.ElementRef])],s)},Ng82:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t.sort=function(t,e,i,n){var o="asc"===i?1:-1,a=n||this.COMPARE;return t.sort(function(t,i){return a.call(null,o,t[e],i[e])})},t}();n.COMPARE=function(t,e,i){return e<i?-1*t:e>i?t:0}},OOcy:function(t,e,i){"use strict";var n=i("3j3K"),o=i("rCTf"),a=(i.n(o),i("Dzj1"));i.d(e,"a",function(){return s});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),s=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.data=function(t){var e=this;return t instanceof o.Observable?t.subscribe(function(t){e._data=t,e.savedTerm&&e.search(e.savedTerm)}):this._data=t,this},e.prototype.search=function(t){if(this._data){this.savedTerm=null;var e=this.extractMatches(this._data,t);this.next(this.processResults(e))}else this.savedTerm=t},e.prototype.convertToItem=function(e){return t.prototype.convertToItem.call(this,e)},e}(a.a);s.decorators=[{type:n.Injectable}],s.ctorParameters=function(){return[]}},OVKi:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("aXxY");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.sort=new n.EventEmitter,this.selectAllRows=new n.EventEmitter,this.create=new n.EventEmitter,this.filter=new n.EventEmitter}return t.prototype.ngOnChanges=function(){this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader")},t}();r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"grid",void 0),r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"source",void 0),r([i.i(n.Input)(),s("design:type",Boolean)],l.prototype,"isAllSelected",void 0),r([i.i(n.Input)(),s("design:type",n.EventEmitter)],l.prototype,"createConfirm",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"sort",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"selectAllRows",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"create",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"filter",void 0),l=r([i.i(n.Component)({selector:"[ng2-st-thead]",template:'<tr ng2-st-thead-titles-row *ngIf="!isHideHeader" class="ng2-smart-titles" [grid]="grid" [isAllSelected]="isAllSelected" [source]="source" (sort)="sort.emit($event)" (selectAllRows)="selectAllRows.emit($event)"></tr><tr ng2-st-thead-filters-row *ngIf="!isHideSubHeader" class="ng2-smart-filters" [grid]="grid" [source]="source" (create)="create.emit($event)" (filter)="filter.emit($event)"></tr><tr ng2-st-thead-form-row *ngIf="grid.createFormShown" [grid]="grid" [createConfirm]="createConfirm"></tr>'})],l)},"R+Ta":function(t,e,i){"use strict";var n=i("3j3K"),o=i("pbU0");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.resolver=t}return t.prototype.ngOnInit=function(){this.cell&&!this.customComponent&&(this.createCustomComponent(),this.callOnComponentInit(),this.patchInstance())},t.prototype.ngOnDestroy=function(){this.customComponent&&this.customComponent.destroy()},t.prototype.createCustomComponent=function(){var t=this.resolver.resolveComponentFactory(this.cell.getColumn().renderComponent);this.customComponent=this.dynamicTarget.createComponent(t)},t.prototype.callOnComponentInit=function(){var t=this.cell.getColumn().getOnComponentInitFunction();t&&t(this.customComponent.instance)},t.prototype.patchInstance=function(){Object.assign(this.customComponent.instance,this.getPatch())},t.prototype.getPatch=function(){return{value:this.cell.getValue(),rowData:this.cell.getRow().getData()}},t}();a([i.i(n.Input)(),r("design:type",o.a)],s.prototype,"cell",void 0),a([i.i(n.ViewChild)("dynamicTarget",{read:n.ViewContainerRef}),r("design:type",Object)],s.prototype,"dynamicTarget",void 0),s=a([i.i(n.Component)({selector:"custom-view-component",template:"\n    <ng-template #dynamicTarget></ng-template>\n  "}),r("design:paramtypes",[n.ComponentFactoryResolver])],s)},R1v2:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t}()},REgC:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("aXxY");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.save=new n.EventEmitter,this.cancel=new n.EventEmitter,this.edit=new n.EventEmitter,this.delete=new n.EventEmitter,this.custom=new n.EventEmitter,this.edited=new n.EventEmitter,this.userSelectRow=new n.EventEmitter,this.editRowSelect=new n.EventEmitter,this.multipleSelectRow=new n.EventEmitter,this.rowHover=new n.EventEmitter}return t.prototype.ngOnChanges=function(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.mode=this.grid.getSetting("mode"),this.editInputClass=this.grid.getSetting("edit.inputClass"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.isActionAdd=this.grid.getSetting("actions.add"),this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.noDataMessage=this.grid.getSetting("noDataMessage")},t}();r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"grid",void 0),r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"source",void 0),r([i.i(n.Input)(),s("design:type",n.EventEmitter)],l.prototype,"deleteConfirm",void 0),r([i.i(n.Input)(),s("design:type",n.EventEmitter)],l.prototype,"editConfirm",void 0),r([i.i(n.Input)(),s("design:type",Function)],l.prototype,"rowClassFunction",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"save",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"cancel",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"edit",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"delete",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"custom",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"edited",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"userSelectRow",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"editRowSelect",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"multipleSelectRow",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"rowHover",void 0),l=r([i.i(n.Component)({selector:"[ng2-st-tbody]",styles:[":host .ng2-smart-row.selected{background:rgba(0,0,0,.05)}:host .ng2-smart-row .ng2-smart-actions.ng2-smart-action-multiple-select{text-align:center} /*# sourceMappingURL=tbody.component.css.map */ "],template:'<tr *ngFor="let row of grid.getRows()" (click)="userSelectRow.emit(row)" (mouseover)="rowHover.emit(row)" class="ng2-smart-row" [className]="rowClassFunction(row)" [ngClass]="{selected: row.isSelected}"><td *ngIf="isMultiSelectVisible" class="ng2-smart-actions ng2-smart-action-multiple-select" (click)="multipleSelectRow.emit(row)"><input type="checkbox" class="form-control" [ngModel]="row.isSelected"></td><td *ngIf="!row.isInEditing && showActionColumnLeft" class="ng2-smart-actions"><ng2-st-tbody-custom [grid]="grid" (custom)="custom.emit($event)" [row]="row" [source]="source"></ng2-st-tbody-custom><ng2-st-tbody-edit-delete [grid]="grid" [deleteConfirm]="deleteConfirm" [editConfirm]="editConfirm" (edit)="edit.emit(row)" (delete)="delete.emit(row)" (editRowSelect)="editRowSelect.emit($event)" [row]="row" [source]="source"></ng2-st-tbody-edit-delete></td><td *ngIf="row.isInEditing && showActionColumnLeft" class="ng2-smart-actions"><ng2-st-tbody-create-cancel [grid]="grid" [row]="row" [editConfirm]="editConfirm"></ng2-st-tbody-create-cancel></td><td *ngFor="let cell of row.cells"><ng2-smart-table-cell [cell]="cell" [grid]="grid" [row]="row" [isNew]="false" [mode]="mode" [editConfirm]="editConfirm" [inputClass]="editInputClass" [isInEditing]="row.isInEditing"></ng2-smart-table-cell></td><td *ngIf="row.isInEditing && showActionColumnRight" class="ng2-smart-actions"><ng2-st-tbody-create-cancel [grid]="grid" [row]="row" [editConfirm]="editConfirm"></ng2-st-tbody-create-cancel></td><td *ngIf="!row.isInEditing && showActionColumnRight" class="ng2-smart-actions"><ng2-st-tbody-custom [grid]="grid" (custom)="custom.emit($event)" [row]="row" [source]="source"></ng2-st-tbody-custom><ng2-st-tbody-edit-delete [grid]="grid" [deleteConfirm]="deleteConfirm" [editConfirm]="editConfirm" [row]="row" [source]="source" (edit)="edit.emit(row)" (delete)="delete.emit(row)" (editRowSelect)="editRowSelect.emit($event)"></ng2-st-tbody-edit-delete></td></tr><tr *ngIf="grid.getRows().length == 0"><td [attr.colspan]="grid.getColumns().length + (isActionAdd || isActionEdit || isActionDelete)">{{ noDataMessage }}</td></tr>'})],l)},S27I:function(t,e,i){"use strict";function n(){return function(){return new r.a}}function o(t){return function(){return new s.a(t)}}var a=i("Fzro"),r=i("OOcy"),s=i("mkpQ");e.a=n,e.b=o,i.d(e,"c",function(){return l}),i.d(e,"d",function(){return c});var l={provide:r.a,useFactory:n},c={provide:s.a,useFactory:o,deps:[a.k]}},UOqW:function(t,e,i){"use strict";var n=i("Ng82"),o=i("sJoL"),a=i("YVtg"),r=i("aXxY"),s=i("DfI3");i.d(e,"a",function(){return c});var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),c=function(t){function e(e){void 0===e&&(e=[]);var i=t.call(this)||this;return i.data=[],i.filteredAndSorted=[],i.sortConf=[],i.filterConf={filters:[],andOperator:!0},i.pagingConf={},i.data=e,i}return l(e,t),e.prototype.load=function(e){return this.data=e,t.prototype.load.call(this,e)},e.prototype.prepend=function(e){return this.reset(!0),this.data.unshift(e),t.prototype.prepend.call(this,e)},e.prototype.append=function(e){return this.reset(!0),this.data.push(e),t.prototype.append.call(this,e)},e.prototype.add=function(e){return this.data.push(e),t.prototype.add.call(this,e)},e.prototype.remove=function(e){return this.data=this.data.filter(function(t){return t!==e}),t.prototype.remove.call(this,e)},e.prototype.update=function(e,n){var o=this;return new Promise(function(a,r){o.find(e).then(function(e){e=i.i(s.a)(e,n),t.prototype.update.call(o,e,n).then(a).catch(r)}).catch(r)})},e.prototype.find=function(t){var e=this.data.find(function(e){return e===t});return e?Promise.resolve(e):Promise.reject(new Error("Element was not found in the dataset"))},e.prototype.getElements=function(){var t=this.data.slice(0);return Promise.resolve(this.prepareData(t))},e.prototype.getFilteredAndSorted=function(){var t=this.data.slice(0);return this.prepareData(t),Promise.resolve(this.filteredAndSorted)},e.prototype.getAll=function(){var t=this.data.slice(0);return Promise.resolve(t)},e.prototype.reset=function(t){void 0===t&&(t=!1),t?(this.filterConf={filters:[],andOperator:!0},this.sortConf=[],this.pagingConf.page=1):(this.setFilter([],!0,!1),this.setSort([],!1),this.setPage(1))},e.prototype.empty=function(){return this.data=[],t.prototype.empty.call(this)},e.prototype.count=function(){return this.filteredAndSorted.length},e.prototype.setSort=function(e,i){return void 0===i&&(i=!0),null!==e&&(e.forEach(function(t){if(!t.field||void 0===t.direction)throw new Error("Sort configuration object is not valid")}),this.sortConf=e),t.prototype.setSort.call(this,e,i),this},e.prototype.setFilter=function(e,i,n){var o=this;return void 0===i&&(i=!0),void 0===n&&(n=!0),e&&e.length>0?e.forEach(function(t){o.addFilter(t,i,!1)}):this.filterConf={filters:[],andOperator:!0},this.filterConf.andOperator=i,this.pagingConf.page=1,t.prototype.setFilter.call(this,e,i,n),this},e.prototype.addFilter=function(e,i,n){var o=this;if(void 0===i&&(i=!0),void 0===n&&(n=!0),!e.field||void 0===e.search)throw new Error("Filter configuration object is not valid");var a=!1;return this.filterConf.filters.forEach(function(t,i){t.field===e.field&&(o.filterConf.filters[i]=e,a=!0)}),a||this.filterConf.filters.push(e),this.filterConf.andOperator=i,t.prototype.addFilter.call(this,e,i,n),this},e.prototype.setPaging=function(e,i,n){return void 0===n&&(n=!0),this.pagingConf.page=e,this.pagingConf.perPage=i,t.prototype.setPaging.call(this,e,i,n),this},e.prototype.setPage=function(e,i){return void 0===i&&(i=!0),this.pagingConf.page=e,t.prototype.setPage.call(this,e,i),this},e.prototype.getSort=function(){return this.sortConf},e.prototype.getFilter=function(){return this.filterConf},e.prototype.getPaging=function(){return this.pagingConf},e.prototype.prepareData=function(t){return t=this.filter(t),t=this.sort(t),this.filteredAndSorted=t.slice(0),this.paginate(t)},e.prototype.sort=function(t){return this.sortConf&&this.sortConf.forEach(function(e){t=n.a.sort(t,e.field,e.direction,e.compare)}),t},e.prototype.filter=function(t){if(this.filterConf.filters)if(this.filterConf.andOperator)this.filterConf.filters.forEach(function(e){e.search.length>0&&(t=o.a.filter(t,e.field,e.search,e.filter))});else{var e=[];this.filterConf.filters.forEach(function(i){i.search.length>0&&(e=e.concat(o.a.filter(t,i.field,i.search,i.filter)))}),t=e.filter(function(t,e,i){return i.indexOf(t)===e})}return t},e.prototype.paginate=function(t){return this.pagingConf&&this.pagingConf.page&&this.pagingConf.perPage&&(t=a.a.paginate(t,this.pagingConf.page,this.pagingConf.perPage)),t},e}(r.a)},VH3F:function(t,e,i){"use strict";var n=i("3j3K"),o=i("aXxY"),a=i("FLi/");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.inputClass="",this.filter=new n.EventEmitter,this.query=""}return t.prototype.ngOnChanges=function(t){var e=this;t.source&&(t.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(function(t){var i=e.source.getFilter();i&&i.filters&&0===i.filters.length?e.query="":i&&i.filters&&i.filters.length>0&&i.filters.forEach(function(t,i){t.field==e.column.id&&(e.query=t.search)})}))},t.prototype.onFilter=function(t){this.source.addFilter({field:this.column.id,search:t,filter:this.column.getFilterFunction()})},t}();r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"column",void 0),r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"source",void 0),r([i.i(n.Input)(),s("design:type",String)],l.prototype,"inputClass",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"filter",void 0),l=r([i.i(n.Component)({selector:"ng2-smart-table-filter",styles:[":host .ng2-smart-filter /deep/ input,:host .ng2-smart-filter /deep/ select{width:100%;line-height:normal;padding:.375em .75em;font-weight:400}:host .ng2-smart-filter /deep/ input[type=search]{box-sizing:inherit}:host .ng2-smart-filter /deep/ .completer-dropdown-holder{font-weight:400}:host .ng2-smart-filter /deep/ a{font-weight:400} /*# sourceMappingURL=filter.component.css.map */ "],template:'\n    <div class="ng2-smart-filter" *ngIf="column.isFilterable" [ngSwitch]="column.getFilterType()">\n      <select-filter *ngSwitchCase="\'list\'"\n                     [query]="query"\n                     [ngClass]="inputClass"\n                     [column]="column"\n                     (filter)="onFilter($event)">\n      </select-filter>\n      <checkbox-filter *ngSwitchCase="\'checkbox\'"\n                       [query]="query"\n                       [ngClass]="inputClass"\n                       [column]="column"\n                       (filter)="onFilter($event)">\n      </checkbox-filter>\n      <completer-filter *ngSwitchCase="\'completer\'"\n                        [query]="query"\n                        [ngClass]="inputClass"\n                        [column]="column"\n                        (filter)="onFilter($event)">\n      </completer-filter>\n      <input-filter *ngSwitchDefault\n                    [query]="query"\n                    [ngClass]="inputClass"\n                    [column]="column"\n                    (filter)="onFilter($event)">\n      </input-filter>\n    </div>\n  '})],l)},"X/eP":function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=[".titulo[_ngcontent-%COMP%]{margin-bottom:20px}"]},X6i5:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("aXxY");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.create=new n.EventEmitter,this.filter=new n.EventEmitter}return t.prototype.ngOnChanges=function(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.filterInputClass=this.grid.getSetting("filter.inputClass")},t}();r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"grid",void 0),r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"source",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"create",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"filter",void 0),l=r([i.i(n.Component)({selector:"[ng2-st-thead-filters-row]",template:'\n    <th *ngIf="isMultiSelectVisible"></th>\n    <th ng2-st-add-button *ngIf="showActionColumnLeft"\n                          [grid]="grid"\n                          (create)="create.emit($event)">\n    </th>\n    <th *ngFor="let column of grid.getColumns()" class="ng2-smart-th {{ column.id }}">\n      <ng2-smart-table-filter [source]="source"\n                              [column]="column"\n                              [inputClass]="filterInputClass"\n                              (filter)="filter.emit($event)">\n      </ng2-smart-table-filter>\n    </th>\n    <th ng2-st-add-button *ngIf="showActionColumnRight"\n                          [grid]="grid"\n                          [source]="source"\n                          (create)="create.emit($event)">\n    </th>\n  '})],l)},Xw8A:function(t,e,i){"use strict";var n=i("3j3K"),o=i("2Je8"),a=i("NVOs"),r=i("u8XI"),s=i("VH3F"),l=i("tukb"),c=i("Hxte"),u=i("axIO"),d=i("Zf3n");i.d(e,"a",function(){return p});var h=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},f=[s.a,l.a,c.a,u.a,d.a],p=function(){function t(){}return t}();p=h([i.i(n.NgModule)({imports:[o.b,a.d,a.e,r.a],declarations:f.slice(),exports:f.slice()})],p)},YVtg:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t.paginate=function(t,e,i){return t.slice(i*(e-1),i*e)},t}()},Zf3n:function(t,e,i){"use strict";var n=i("3j3K"),o=i("NVOs"),a=i("q3ik"),r=(i.n(a),i("aV5h")),s=(i.n(r),i("9qUs")),l=(i.n(s),i("Layv"));i.d(e,"a",function(){return h});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t){function e(){var e=t.call(this)||this;return e.inputControl=new o.h,e}return c(e,t),e.prototype.ngOnInit=function(){var t=this;this.inputControl.valueChanges.skip(1).distinctUntilChanged().debounceTime(this.delay).subscribe(function(e){return t.setFilter()})},e}(l.a);h=u([i.i(n.Component)({selector:"select-filter",template:'\n    <select [ngClass]="inputClass"\n            class="form-control"\n            [(ngModel)]="query"\n            [formControl]="inputControl">\n\n        <option value="">{{ column.getFilterConfig().selectText }}</option>\n        <option *ngFor="let option of column.getFilterConfig().list" [value]="option.value">\n          {{ option.title }}\n        </option>\n    </select>\n  '}),d("design:paramtypes",[])],h)},aXxY:function(t,e,i){"use strict";var n=i("EEr4");i.n(n);i.d(e,"a",function(){return o});var o=function(){function t(){this.onChangedSource=new n.Subject,this.onAddedSource=new n.Subject,this.onUpdatedSource=new n.Subject,this.onRemovedSource=new n.Subject}return t.prototype.refresh=function(){this.emitOnChanged("refresh")},t.prototype.load=function(t){return this.emitOnChanged("load"),Promise.resolve()},t.prototype.onChanged=function(){return this.onChangedSource.asObservable()},t.prototype.onAdded=function(){return this.onAddedSource.asObservable()},t.prototype.onUpdated=function(){return this.onUpdatedSource.asObservable()},t.prototype.onRemoved=function(){return this.onRemovedSource.asObservable()},t.prototype.prepend=function(t){return this.emitOnAdded(t),this.emitOnChanged("prepend"),Promise.resolve()},t.prototype.append=function(t){return this.emitOnAdded(t),this.emitOnChanged("append"),Promise.resolve()},t.prototype.add=function(t){return this.emitOnAdded(t),this.emitOnChanged("add"),Promise.resolve()},t.prototype.remove=function(t){return this.emitOnRemoved(t),this.emitOnChanged("remove"),Promise.resolve()},t.prototype.update=function(t,e){return this.emitOnUpdated(t),this.emitOnChanged("update"),Promise.resolve()},t.prototype.empty=function(){return this.emitOnChanged("empty"),Promise.resolve()},t.prototype.setSort=function(t,e){e&&this.emitOnChanged("sort")},t.prototype.setFilter=function(t,e,i){i&&this.emitOnChanged("filter")},t.prototype.addFilter=function(t,e,i){i&&this.emitOnChanged("filter")},t.prototype.setPaging=function(t,e,i){i&&this.emitOnChanged("paging")},t.prototype.setPage=function(t,e){e&&this.emitOnChanged("page")},t.prototype.emitOnRemoved=function(t){this.onRemovedSource.next(t)},t.prototype.emitOnUpdated=function(t){this.onUpdatedSource.next(t)},t.prototype.emitOnAdded=function(t){this.onAddedSource.next(t)},t.prototype.emitOnChanged=function(t){var e=this;this.getElements().then(function(i){return e.onChangedSource.next({action:t,elements:i,paging:e.getPaging(),filter:e.getFilter(),sort:e.getSort()})})},t}()},axIO:function(t,e,i){"use strict";var n=i("3j3K"),o=i("NVOs"),a=i("q3ik"),r=(i.n(a),i("aV5h")),s=(i.n(r),i("9qUs")),l=(i.n(s),i("Layv"));i.d(e,"a",function(){return h});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),u=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t){function e(){var e=t.call(this)||this;return e.inputControl=new o.h,e}return c(e,t),e.prototype.ngOnInit=function(){var t=this;this.inputControl.valueChanges.skip(1).distinctUntilChanged().debounceTime(this.delay).subscribe(function(e){return t.setFilter()})},e}(l.a);h=u([i.i(n.Component)({selector:"input-filter",template:'\n    <input [(ngModel)]="query"\n           [ngClass]="inputClass"\n           [formControl]="inputControl"\n           class="form-control"\n           type="text"\n           placeholder="{{ column.title }}" />\n  '}),d("design:paramtypes",[])],h)},bICd:function(t,e,i){"use strict";var n=i("EEr4"),o=(i.n(n),i("DfI3")),a=i("BXdK");i.d(e,"a",function(){return r});var r=function(){function t(t,e){this.createFormShown=!1,this.onSelectRowSource=new n.Subject,this.setSettings(e),this.setSource(t)}return t.prototype.showActionColumn=function(t){return this.isCurrentActionsPosition(t)&&this.isActionsVisible()},t.prototype.isCurrentActionsPosition=function(t){return t==this.getSetting("actions.position")},t.prototype.isActionsVisible=function(){return this.getSetting("actions.add")||this.getSetting("actions.edit")||this.getSetting("actions.delete")||this.getSetting("actions.custom").length},t.prototype.isMultiSelectVisible=function(){return"multi"===this.getSetting("selectMode")},t.prototype.getNewRow=function(){return this.dataSet.newRow},t.prototype.setSettings=function(t){this.settings=t,this.dataSet=new a.a([],this.getSetting("columns")),this.source&&this.source.refresh()},t.prototype.getDataSet=function(){return this.dataSet},t.prototype.setSource=function(t){var e=this;this.source=this.prepareSource(t),this.source.onChanged().subscribe(function(t){return e.processDataChange(t)}),this.source.onUpdated().subscribe(function(t){e.dataSet.findRowByData(t).setData(t)})},t.prototype.getSetting=function(t,e){return i.i(o.b)(this.settings,t,e)},t.prototype.getColumns=function(){return this.dataSet.getColumns()},t.prototype.getRows=function(){return this.dataSet.getRows()},t.prototype.selectRow=function(t){this.dataSet.selectRow(t)},t.prototype.multipleSelectRow=function(t){this.dataSet.multipleSelectRow(t)},t.prototype.onSelectRow=function(){return this.onSelectRowSource.asObservable()},t.prototype.edit=function(t){t.isInEditing=!0},t.prototype.create=function(t,e){var i=this,n=new o.c;n.promise.then(function(e){e=e||t.getNewData(),n.resolve.skipAdd?i.createFormShown=!1:i.source.prepend(e).then(function(){i.createFormShown=!1,i.dataSet.createNewRow()})}).catch(function(t){}),this.getSetting("add.confirmCreate")?e.emit({newData:t.getNewData(),source:this.source,confirm:n}):n.resolve()},t.prototype.save=function(t,e){var i=this,n=new o.c;n.promise.then(function(e){e=e||t.getNewData(),n.resolve.skipEdit?t.isInEditing=!1:i.source.update(t.getData(),e).then(function(){t.isInEditing=!1})}).catch(function(t){}),this.getSetting("edit.confirmSave")?e.emit({data:t.getData(),newData:t.getNewData(),source:this.source,confirm:n}):n.resolve()},t.prototype.delete=function(t,e){var i=this,n=new o.c;n.promise.then(function(){i.source.remove(t.getData())}).catch(function(t){}),this.getSetting("delete.confirmDelete")?e.emit({data:t.getData(),source:this.source,confirm:n}):n.resolve()},t.prototype.processDataChange=function(t){if(this.shouldProcessChange(t)&&(this.dataSet.setData(t.elements),"multi"!==this.getSetting("selectMode"))){var e=this.determineRowToSelect(t);e&&this.onSelectRowSource.next(e)}},t.prototype.shouldProcessChange=function(t){return-1!==["filter","sort","page","remove","refresh","load","paging"].indexOf(t.action)||-1!==["prepend","append"].indexOf(t.action)&&!this.getSetting("pager.display")},t.prototype.determineRowToSelect=function(t){if(-1!==["load","page","filter","sort","refresh"].indexOf(t.action))return this.dataSet.select();if("remove"===t.action){if(0!==t.elements.length)return this.dataSet.selectPreviousRow();this.dataSet.willSelectLastRow()}return"append"===t.action&&this.dataSet.willSelectLastRow(),"add"===t.action?this.dataSet.selectFirstRow():"update"===t.action?this.dataSet.selectFirstRow():("prepend"===t.action&&this.dataSet.willSelectFirstRow(),null)},t.prototype.prepareSource=function(t){var e=this.getInitialSort();return e&&e.field&&e.direction&&t.setSort([e],!1),!0===this.getSetting("pager.display")&&t.setPaging(1,this.getSetting("pager.perPage"),!1),t.refresh(),t},t.prototype.getInitialSort=function(){var t={};return this.getColumns().forEach(function(e){e.isSortable&&e.defaultSortDirection&&(t.field=e.id,t.direction=e.defaultSortDirection,t.compare=e.getCompareFunction())}),t},t.prototype.getSelectedRows=function(){return this.dataSet.getRows().filter(function(t){return t.isSelected})},t.prototype.selectAllRows=function(t){this.dataSet.getRows().forEach(function(e){return e.isSelected=t})},t.prototype.getFirstRow=function(){return this.dataSet.getFirstRow()},t.prototype.getLastRow=function(){return this.dataSet.getLastRow()},t}()},bMjW:function(t,e,i){"use strict";var n=i("3j3K"),o=i("2Je8"),a=i("NVOs"),r=i("u8XI"),s=i("jOIz"),l=i("3BAp"),c=i("9LEY"),u=i("EdWH"),d=i("DjRm"),h=i("K8AB"),f=i("suyt"),p=i("nn+T"),v=i("xRlJ"),g=i("R+Ta"),y=i("BIbo");i.d(e,"a",function(){return w});var m=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},b=[s.a,l.a,c.a,u.a,d.a,h.a,f.a,p.a,v.a,g.a,y.a],w=function(){function t(){}return t}();w=m([i.i(n.NgModule)({imports:[o.b,a.d,r.a],declarations:b.slice(),exports:b.slice()})],w)},dfXa:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.create=new n.EventEmitter}return t.prototype.ngOnChanges=function(){this.createButtonContent=this.grid.getSetting("add.createButtonContent"),this.cancelButtonContent=this.grid.getSetting("add.cancelButtonContent")},t}();a([i.i(n.Input)(),r("design:type",o.a)],s.prototype,"grid",void 0),a([i.i(n.Output)(),r("design:type",Object)],s.prototype,"create",void 0),s=a([i.i(n.Component)({selector:"ng2-st-actions",template:'\n    <a href="#" class="ng2-smart-action ng2-smart-action-add-create"\n        [innerHTML]="createButtonContent"\n        (click)="$event.preventDefault();create.emit($event)"></a>\n    <a href="#" class="ng2-smart-action ng2-smart-action-add-cancel"\n        [innerHTML]="cancelButtonContent"\n        (click)="$event.preventDefault();grid.createFormShown = false;"></a>\n  '})],s)},esOA:function(module,exports,__webpack_require__){/**
@license
DayPilot Pro
Copyright (c) 2005 - 2017 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 2826
*/
if(void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){function e(t){var e=DayPilot.Date.Cache.Ticks;if(e[t])return DayPilot.Stats.cacheHitsTicks+=1,e[t];var i,n=new Date(t),o=n.getUTCMilliseconds();i=0===o?"":o<10?".00"+o:o<100?".0"+o:"."+o;var a=n.getUTCSeconds();a<10&&(a="0"+a);var r=n.getUTCMinutes();r<10&&(r="0"+r);var s=n.getUTCHours();s<10&&(s="0"+s);var l=n.getUTCDate();l<10&&(l="0"+l);var c=n.getUTCMonth()+1;c<10&&(c="0"+c);var u=n.getUTCFullYear();if(u<=0)throw"The minimum year supported is 1.";u<10?u="000"+u:u<100?u="00"+u:u<1e3&&(u="0"+u);var d=u+"-"+c+"-"+l+"T"+s+":"+r+":"+a+i;return e[t]=d,d}function t(t,e){return!DayPilot.Util.isNullOrUndefined(t)&&!DayPilot.Util.isNullOrUndefined(e)&&t.toLocaleLowerCase()===e.toLocaleLowerCase()}if(void 0===DayPilot.$){DayPilot.$=function(t){return document.getElementById(t)},DayPilot.isKhtml=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("KHTML"),DayPilot.isIE=navigator&&navigator.userAgent&&(-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")),DayPilot.isIEQuirks=DayPilot.isIE&&document.compatMode&&"BackCompat"===document.compatMode,DayPilot.browser={},DayPilot.browser.ie8=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if IE 8]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),DayPilot.browser.ie9=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if IE 9]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),DayPilot.browser.ielt9=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),DayPilot.browser.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),DayPilot.browser.chrome=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Chrome"),DayPilot.browser.ie=DayPilot.isIE,DayPilot.browser.webkit=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("WebKit"),DayPilot.browser.passiveEvents=!1,function(){try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){DayPilot.browser.passiveEvents=!0}}))}catch(t){}}(),DayPilot.libs={},DayPilot.libs.angularjs="object"==typeof angularjs,DayPilot.touch={},DayPilot.touch.start=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",DayPilot.touch.move=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",DayPilot.touch.end=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",DayPilot.mo2=function(t,e){if(e=e||window.event,void 0!==e.offsetX){var i={x:e.offsetX+1,y:e.offsetY+1};if(!t)return i;for(var n=e.srcElement;n&&n!==t;)"SPAN"!==n.tagName&&(i.x+=n.offsetLeft,n.offsetTop>0&&(i.y+=n.offsetTop-n.scrollTop)),n=n.offsetParent;return n?i:null}if(void 0!==e.layerX){var i={x:e.layerX,y:e.layerY,src:e.target};if(!t)return i;for(var n=e.target;n&&"absolute"!==n.style.position&&"relative"!==n.style.position;)n=n.parentNode,DayPilot.isKhtml&&(i.y+=n.scrollTop);for(;n&&n!==t;)i.x+=n.offsetLeft,i.y+=n.offsetTop-n.scrollTop,n=n.offsetParent;return n?i:null}return null},DayPilot.mo3=function(t,e){e=e||window.event;var i,n=DayPilot.page(e);if(n){var o=DayPilot.abs(t);i={x:n.x-o.x,y:n.y-o.y}}else i=DayPilot.mo2(t,e);return i.shift=e.shiftKey,i.meta=e.metaKey,i.ctrl=e.ctrlKey,i.alt=e.altKey,i},DayPilot.mc=function(t){return t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+document.documentElement.scrollLeft,y:t.clientY+document.documentElement.scrollTop}},DayPilot.Stats={},DayPilot.Stats.eventObjects=0,DayPilot.Stats.dateObjects=0,DayPilot.Stats.cacheHitsCtor=0,DayPilot.Stats.cacheHitsParsing=0,DayPilot.Stats.cacheHitsTicks=0,DayPilot.Stats.print=function(){console.log("DayPilot.Stats.eventObjects: "+DayPilot.Stats.eventObjects),console.log("DayPilot.Stats.dateObjects: "+DayPilot.Stats.dateObjects),console.log("DayPilot.Stats.cacheHitsCtor: "+DayPilot.Stats.cacheHitsCtor),console.log("DayPilot.Stats.cacheHitsParsing: "+DayPilot.Stats.cacheHitsParsing),console.log("DayPilot.Stats.cacheHitsTicks: "+DayPilot.Stats.cacheHitsTicks),console.log("DayPilot.Date.Cache.Ctor keys: "+Object.keys(DayPilot.Date.Cache.Ctor).length),console.log("DayPilot.Date.Cache.Parsing keys: "+Object.keys(DayPilot.Date.Cache.Parsing).length)},DayPilot.list=function(t,e){if(t&&t.isDayPilotList&&!e)return t;var i=DayPilot.isArray(t)||"[object NodeList]"===Object.prototype.toString.call(t),n=!i&&!DayPilot.Util.isNullOrUndefined(t),o=[];if(o.isDayPilotList=!0,o.clone=function(){var t=DayPilot.list();return o.each(function(e){t.push(e)}),t},o.each=function(t){if(t){if(o.forEach)return void o.forEach(t);for(var e=0;e<this.length;e++)t(o[e],e,o)}},o.addProps=function(t){var e=o.clone();if(t)for(var i in t)e[i]=t[i];return e},o.last=function(){return 0===o.length?null:o[o.length-1]},o.first=function(){return 0===o.length?null:o[0]},o.add=function(t){var e=o.clone();return e.push(t),e},o.map=function(t){if("function"!=typeof t)throw"DayPilot.list().map(f): Function expected";var e=DayPilot.list();return o.each(function(i,n,o){e.push(t(i,n,o))}),e},o.filter=function(t){var e=DayPilot.list();if("function"!=typeof t)throw"DayPilot.list().filter(f): Function expected";return o.each(function(i){t(i)&&e.push(i)}),e},o.concat=function(t){if(!t)return o;for(var e=o.clone(),i=0;i<t.length;i++)e.push(t[i]);return e},o.find||(o.find=function(t){if("function"!=typeof t)throw"DayPilot.list().find(f): Function expected";for(var e=0;e<this.length;e++)if(t(o[e]))return o[e]}),o.findIndex||(o.findIndex=function(t){if("function"!=typeof t)throw"DayPilot.list().findIndex(f): Function expected";for(var e=0;e<this.length;e++)if(t(o[e]))return e;return-1}),o.some||(o.some=function(t){if("function"!=typeof t)throw"DayPilot.list().some(f): Function expected";for(var e=0;e<this.length;e++)if(t(o[e]))return!0;return!1}),o.reduce||(o.reduce=function(t,e){if("function"!=typeof t)throw"DayPilot.list().reduce(f): Function expected";var i,n=0;if(void 0!==e)i=e;else{if(n=1,0===o.length)throw"DayPilot.list().reduce(f): No initial value and empty list";i=o[0]}for(var a=n;a<this.length;a++)i=t(i,o[a],a,this);return i}),o.isEmpty=function(){return 0===o.length},i)for(var a=0;a<t.length;a++)o[a]=t[a];else n&&(o[0]=t);return o},DayPilot.list.for=function(t,e){for(var i=DayPilot.list(),n=0;n<t;n++)"function"==typeof e?i.push(e(n)):i.push(n);return i},DayPilot.line=function(t,e,i,n,o){var a={x:t,y:e},r={x:i,y:n,deg:DayPilot.deg(t,e,i,n)};if(e<n){var s=e;e=n,n=s,s=t,t=i,i=s}var l=DayPilot.deg(t,e,i,n),c={x:t,y:e},u={x:i,y:n},d=function(){var o=Math.abs(t-i),a=Math.abs(e-n);return(t+i)/2-Math.sqrt(o*o+a*a)/2}(),h=function(){return(e+n)/2}(),f=DayPilot.distance(c,u),p=document.createElement("div");p.setAttribute("style","border:1px solid black;width:"+f+"px;height:0px;-moz-transform:rotate("+l+"deg);-webkit-transform:rotate("+l+"deg);-ms-transform:rotate("+l+"deg);transform:rotate("+l+"deg);position:absolute;top:"+h+"px;left:"+d+"px;");var v=document.createElement("div");if(v.appendChild(p),o){var g=6,y=r.y-g,m=r.x-g,l=l;r.y>a.y&&(l-=180);var b=document.createElement("div");b.style.borderColor="transparent black transparent transparent",b.style.borderWidth="6px",b.style.borderStyle="solid",b.style.position="absolute",b.style.left=m+"px",b.style.top=y+"px",b.style.transform="rotate("+l+"deg)",v.appendChild(b)}return v},DayPilot.deg=function(t,e,i,n){var o,a=Math.abs(t-i),r=Math.abs(e-n),s=(t+i)/2,l=(e+n)/2,c=Math.sqrt(a*a+r*r),u=s-c/2,d=l;a=c/2,o=Math.abs(s-u),r=Math.sqrt(Math.abs(t-u)*Math.abs(t-u)+Math.abs(e-d)*Math.abs(e-d));var h=(r*r-a*a-o*o)/(2*a*o);return 180*Math.acos(h)/Math.PI},DayPilot.complete=function(t){return"complete"===document.readyState?void t():(DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var t=0;t<DayPilot.complete.list.length;t++)(0,DayPilot.complete.list[t])();DayPilot.complete.list=[]}})),void DayPilot.complete.list.push(t))},DayPilot.page=function(t){return t=t||window.event,void 0!==t.pageX?{x:t.pageX,y:t.pageY}:void 0!==t.clientX?{x:t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:t.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},DayPilot.rel=function(t,e){var i=DayPilot.abs(t),n=DayPilot.abs(e);return{x:i.x-n.x,y:i.y-n.y,w:t.offsetWidth,h:t.offsetHeight}},DayPilot.abs=function(t,e){if(!t)return null;var i={x:t.offsetLeft,y:t.offsetTop,w:t.clientWidth,h:t.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};if(t.getBoundingClientRect){var n=null;try{n=t.getBoundingClientRect()}catch(e){n={top:t.offsetTop,left:t.offsetLeft}}i.x=n.left,i.y=n.top;var o=DayPilot.doc();i.x-=o.clientLeft||0,i.y-=o.clientTop||0;var a=DayPilot.pageOffset();if(i.x+=a.x,i.y+=a.y,e){var r=DayPilot.absOffsetBased(t,!1),e=DayPilot.absOffsetBased(t,!0);i.x+=e.x-r.x,i.y+=e.y-r.y,i.w=e.w,i.h=e.h}return i}return DayPilot.absOffsetBased(t,e)},DayPilot.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},DayPilot.absOffsetBased=function(t,e){for(var i={x:t.offsetLeft,y:t.offsetTop,w:t.clientWidth,h:t.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(t);)t=DayPilot.op(t),i.x-=t.scrollLeft,i.y-=t.scrollTop,e&&(i.x<0&&(i.w+=i.x,i.x=0),i.y<0&&(i.h+=i.y,i.y=0),t.scrollLeft>0&&i.x+i.w>t.clientWidth&&(i.w-=i.x+i.w-t.clientWidth),t.scrollTop&&i.y+i.h>t.clientHeight&&(i.h-=i.y+i.h-t.clientHeight)),i.x+=t.offsetLeft,i.y+=t.offsetTop;var n=DayPilot.pageOffset();return i.x+=n.x,i.y+=n.y,i},DayPilot.wd=function(){var t=DayPilot.isIEQuirks,e=document.documentElement.clientHeight;t&&(e=document.body.clientHeight);var i=document.documentElement.clientWidth;t&&(i=document.body.clientWidth);var n=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,a={};return a.width=i,a.height=e,a.scrollTop=n,a.scrollLeft=o,a},DayPilot.op=function(t){try{return t.offsetParent}catch(t){return document.body}},DayPilot.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},DayPilot.doc=function(){var t=document.documentElement;return t&&t.clientHeight?t:document.body},DayPilot.pageOffset=function(){if("undefined"!=typeof pageXOffset)return{x:pageXOffset,y:pageYOffset};var t=DayPilot.doc();return{x:t.scrollLeft,y:t.scrollTop}},DayPilot.ac=function(t,e){if(!e)var e=[];for(var i=0;t.children&&i<t.children.length;i++)e.push(t.children[i]),DayPilot.ac(t.children[i],e);return e},DayPilot.indexOf=function(t,e,i){if(!t||!t.length)return-1;for(var n=0;n<t.length;n++)if(i){if(i(t[n],e))return n}else if(t[n]===e)return n;return-1},DayPilot.contains=function(t,e){return!!t&&(t===e&&!DayPilot.isArray(t)||-1!==DayPilot.indexOf(t,e))},DayPilot.rfa=function(t,e){var i=DayPilot.indexOf(t,e);-1!==i&&t.splice(i,1)},DayPilot.sheet=function(){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet||t.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(t);var e=!!t.styleSheet,i={};return i.rules=[],i.commit=function(){try{e&&(t.styleSheet.cssText=this.rules.join("\n"))}catch(t){}},i.add=function(i,n,o){if(e)return void this.rules.push(i+"{"+n+"}");if(t.sheet.insertRule)void 0===o&&(o=t.sheet.cssRules.length),t.sheet.insertRule(i+"{"+n+"}",o);else{if(!t.sheet.addRule)throw"No CSS registration method found";t.sheet.addRule(i,n,o)}},i},DayPilot.Args=function(t){var e=this;this.isArgs=!0,this.preventDefault=function(){t&&t.preventDefault(),e.preventDefault.value=!0}},DayPilot.Debug=function(t){var e=this;this.printToBrowserConsole=!1,this.enabled=!1,this.messages=[],this.a=null,this.clear=function(){this.messages=[],e.a&&(e.a.innerHTML="")},this.hide=function(){DayPilot.de(e.a),e.a=null},this.show=function(){e.a&&e.hide();var i=t.nav.top,n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.bottom="0px",n.style.left="0px",n.style.right="0px",n.style.backgroundColor="black",n.style.color="#ccc",n.style.overflow="auto",n.style.webkitUserSelect="auto",n.style.MozUserSelect="all",n.onclick=function(){e.hide()};for(var o=0;o<this.messages.length;o++){var a=e.messages[o],r=a.b();n.appendChild(r)}this.a=n,i.appendChild(n)},this.message=function(t,e){if(this.enabled){var i={};i.time=new DayPilot.Date,i.level=e||"debug",i.text=t,i.b=function(){var t=document.createElement("div");switch(t.innerHTML=i.time+" ("+i.level+"): "+i.text,i.level){case"error":t.style.color="red";break;case"warning":t.style.color="orange";break;case"info":t.style.color="white"}return t},this.messages.push(i),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(i)}}},DayPilot.re=function(t,e,i){if(i&&t)if(t.addEventListener)t.addEventListener(e,i,!1);else if(t.attachEvent){var n=function(e){i.call(t,e)};t.attachEvent("on"+e,n)}},DayPilot.ue=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},DayPilot.tr=function(t){return t?"string"==typeof t?t.replace(/^\s+|\s+$/g,""):t:""},DayPilot.ds=function(t){return DayPilot.Date.toStringSortable(t)},DayPilot.gs=function(t,e){var i=t;if(i.currentStyle)var n=i.currentStyle[e];else if(window.getComputedStyle)var n=document.defaultView.getComputedStyle(i,null).getPropertyValue(e);return void 0===n&&(n=""),n},DayPilot.StyleReader=function(t){function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}this.get=function(i){var n=DayPilot.list(i.split("-")),o=n.reduce(function(t,i,n){return i=e(i),t+i});return t?DayPilot.gs(t,o)||DayPilot.gs(t,i):null},this.getPx=function(t){var e=this.get(t);return-1===e.indexOf("px")?void 0:parseInt(e,10)},this.getFont=function(){var t="bold"===this.get("font-weight")?"bold":"",e="italic"===this.get("font-style")?"italic":"";return{family:this.get("font-family"),size:this.get("font-size"),style:e+" "+t}}},DayPilot.he=function(t){var e=t.replace(/&/g,"&amp;");return e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;")},DayPilot.he2=function(t){var e=document.createTextNode(t),i=document.createElement("div");return i.appendChild(e),i.innerHTML},DayPilot.us=function(t){if(t){t.setAttribute("unselectable","on"),t.style.userSelect="none",t.style.MozUserSelect="none",t.style.KhtmlUserSelect="none",t.style.webkitUserSelect="none";for(var e=0;e<t.childNodes.length;e++)1===t.childNodes[e].nodeType&&DayPilot.us(t.childNodes[e])}},DayPilot.pu=function(t){var e,i,n,o=t.attributes;if(o)for(i=o.length,e=0;e<i;e+=1)o[e]&&(n=o[e].name,"function"==typeof t[n]&&(t[n]=null));if(o=t.childNodes)for(i=o.length,e=0;e<i;e+=1)DayPilot.pu(t.childNodes[e])},DayPilot.puc=function(t){var e,i,n=t.childNodes;if(n){var i=n.length;for(e=0;e<i;e+=1)DayPilot.pu(t.childNodes[e])}},DayPilot.de=function(t){if(t)if(DayPilot.isArray(t))for(var e=0;e<t.length;e++)DayPilot.de(t[e]);else t.parentNode&&t.parentNode.removeChild(t)},DayPilot.fade=function(t,e,i){if(t){clearTimeout(t.messageTimeout);var n="none"!==t.style.display,o=e>0,a=e<0;if(0!==e){if(o?t.status="in":a&&(t.status="out"),o&&!n)t.target=parseFloat(t.style.opacity),t.opacity=0,t.style.opacity=0,t.style.filter="alpha(opacity=0)",t.style.display="";else if(a&&!t.target)t.target=t.style.opacity;else{var r=t.opacity,s=Math.floor(10*(r+e))/10;o&&s>t.target&&(s=t.target),a&&s<0&&(s=0);var l=100*s;t.opacity=s,t.style.opacity=s,t.style.filter="alpha(opacity="+l+")"}if(o&&(t.opacity>=t.target||t.opacity>=1)||a&&t.opacity<=0){if(t.target=null,a){t.style.opacity=t.target,t.opacity=t.target;var c=t.target?"alpha(opacity="+100*t.target+")":null;t.style.filter=c,t.style.display="none"}i&&"function"==typeof i&&(t.status=null,i())}else t.messageTimeout=setTimeout(function(){DayPilot.fade(t,e,i)},50)}}},DayPilot.sw=function(t){return t?t.offsetWidth-t.clientWidth:0},DayPilot.swa=function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.style.width="200px",t.style.height="100px",t.style.overflow="auto";var e=document.createElement("div");e.style.width="300px",e.style.height="300px",t.appendChild(e),document.body.appendChild(t);var i=DayPilot.sw(t);return document.body.removeChild(t),i},DayPilot.sh=function(t){return t?t.offsetHeight-t.clientHeight:0},DayPilot.guid=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},DayPilot.ua=function(t){if("string"==typeof t||"number"==typeof t)return[t];for(var e={},i=[],n=0,o=t.length;n<o;++n)t[n]in e||(i.push(t[n]),e[t[n]]=1);return i},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},function(){function t(t,n){var o={w:t.offsetWidth,h:t.offsetHeight,x:parseInt(t.style.left),y:parseInt(t.style.top)};o.height=t.style.height,o.width=t.style.width,o.top=t.style.top,o.left=t.style.left,o.toString=function(){return"w: "+this.w+" h:"+this.h};var a={};if(a.finished=null,a.vertical="center",a.horizontal="center",n)for(var r in n)a[r]=n[r];t.style.visibility="hidden",t.style.display="";var s=n.animation||"fast",l=e(s);l.div=t,l.i=0,l.target=o,l.config=a,i(l)}function e(t){var e=function(){var t=[];t.time=10;var e,i=.08;e=.1;for(var n=e;n<1.2;n+=i)t.push(n),e=n;i=.03;for(var n=e;n>.8;n-=i)t.push(n),e=n;for(var n=e;n<=1;n+=i)t.push(n),e=n;return t},i=function(){var t=[];t.time=10;var e,i=.04;e=.1;for(var n=e;n<=1;n+=i)t.push(n),e=n;return t},n=function(){var t=[];t.time=10;var e,i=.08;e=.1;for(var n=e;n<=1;n+=i)t.push(n),e=n;return t},o={fast:n,slow:i,jump:e};return o[t]||(t="fast"),o[t]()}function i(t){var e,n=t.div,o=t[t.i],a=o*t.target.h;switch(t.config.vertical){case"center":e=t.target.y-(a-t.target.h)/2;break;case"top":e=t.target.y;break;case"bottom":e=t.target.y-(a-t.target.h);break;default:throw"Unexpected 'vertical' value."}var r,s=o*t.target.w;switch(t.config.horizontal){case"left":r=t.target.x;break;case"center":r=t.target.x-(s-t.target.w)/2;break;case"right":r=t.target.x-(s-t.target.w);break;default:throw"Unexpected 'horizontal' value."}var l=DayPilot.wd(),c=l.height+l.scrollTop-(e+a);c<0&&(e+=c);var u=l.width-(r+s);u<0&&(r+=u),n.style.height=a+"px",n.style.top=e+"px",n.style.width=s+"px",n.style.left=r+"px",n.style.visibility="visible",t.i++,t.i<t.length-1?setTimeout(function(t){return function(){i(t)}}(t),t.time):(n.style.width=t.target.width,n.style.height=t.target.height,n.style.top=t.target.top,n.style.left=t.target.left,"function"==typeof t.config.finished&&t.config.finished())}DayPilot.pop=t}(),DayPilot.Util={},DayPilot.Util.addClass=function(t,e){if(e&&t)if(DayPilot.isArray(t))for(var i=0;i<t.length;i++)DayPilot.Util.addClass(t[i],e);else{if(!t.className)return void(t.className=e);var n=new RegExp("(^|\\s)"+e+"($|\\s)");n.test(t.className)||(t.className=t.className+" "+e)}},DayPilot.Util.normalizeColor=function(t){function e(t){return t=t.replace(/[^\d,]/g,"").split(","),"#"+((1<<24)+(+t[0]<<16)+(+t[1]<<8)+ +t[2]).toString(16).slice(1)}return 0===t.indexOf("rgb")?e(t):t},DayPilot.Util.addClassToString=function(t,e){return t?new RegExp("(^|\\s)"+e+"($|\\s)").test(t)?t:t+" "+e:e},DayPilot.Util.removeClassFromString=function(t,e){if(!t)return"";var i=new RegExp("(^|\\s)"+e+"($|\\s)");return t.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(t,e){if(t)if(DayPilot.isArray(t))for(var i=0;i<t.length;i++)DayPilot.Util.removeClass(t[i],e);else{var n=new RegExp("(^|\\s)"+e+"($|\\s)");t.className=t.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(t){var e=[];for(var i in t)e.push(i),e.push(t[i]);return e.join("-")},DayPilot.Util.propArray=function(t,e,i){return DayPilot.list(t).map(function(t){return t[e]?t[e]:i})},DayPilot.Util.updatePropsFromArray=function(t,e,i){for(var n=0;n<i.length;n++)t[n][e]=i[n]},DayPilot.Util.copyProps=function(t,e,i){if(t){if(e||(e={}),void 0===i)for(var n in t)void 0!==t[n]&&(e[n]=t[n]);else for(var o=0;o<i.length;o++){var n=i[o];void 0!==t[n]&&(e[n]=t[n])}return e}},DayPilot.Util.firstPropValue=function(t){for(var e in t)return t[e]},DayPilot.Util.createArrayCopy=function(t,e){if(!DayPilot.isArray(t))return[];for(var i=[],n=0;n<t.length;n++){var o={};DayPilot.Util.copyProps(t[n],o,e),i.push(o)}return i},DayPilot.Util.avg=function(t,e){return(t+e)/2},DayPilot.Util.div=function(t,e,i,n,o){var a=document.createElement("div");return(e||i||n||o)&&(n<0&&(e+=n,n*=-1),o<0&&(i+=o,o*=-1),a.style.position="absolute","number"==typeof e?a.style.left=e+"px":"string"==typeof e&&(a.style.left=e),"number"==typeof i?a.style.top=i+"px":"string"==typeof i&&(a.style.top=i),"number"==typeof n?a.style.width=n+"px":"string"==typeof n&&(a.style.width=n),"number"==typeof o?a.style.height=o+"px":"string"==typeof o&&(a.style.height=o)),t&&t.appendChild(a),a},DayPilot.Util.overlaps=function(t,e,i,n){return!(e<=i||t>=n)},DayPilot.Util.isMouseEvent=function(t){return!(!navigator.msPointerEnabled||!t.pointerType||"mouse"!==t.pointerType&&4!==t.pointerType)},DayPilot.Util.mouseButton=function(t){var e={};if(t=t||window.event,void 0===t.which)switch(t.button){case 1:e.left=!0;break;case 4:e.middle=!0;break;case 2:e.right=!0;break;case 0:e.unknown=!0}else switch(t.which){case 1:e.left=!0;break;case 2:e.middle=!0;break;case 3:e.right=!0}return e},DayPilot.Util.membersPlain=function(t){var e=DayPilot.Util.members(t,2),i=function(t){for(var e=0;e<t.length;e++){var i=t[e],n=i.name;i.obsolete&&(n+=" (obsolete)"),i.noCssOnly&&(n+=" (!cssOnly)"),i.aspnet&&(n+=" (ASP.NET)"),i.mvc&&(n+="(MVC)"),t[e]=n}};return i(e.events),i(e.methods),i(e.properties),e},DayPilot.Util.shouldApply=function(t){if(!t)return!1;var e=t.toLowerCase();return!(e.indexOf("before")>=0||e.indexOf("after")>=0||"onrowfilter"===e||"oneventfilter"===e)},DayPilot.Util.safeApply=function(t,e){var i=t.$root.$$phase;"$apply"===i||"$digest"===i?t.$eval(e):t.$apply(e)},DayPilot.Util.members=function(t,e){var i=DayPilot.list(),n=DayPilot.list(),o=DayPilot.list(),a=t&&t.members?t.members.obsolete:[],r=t&&t.members?t.members.noCssOnly:[],s=t&&t.members?t.members.ignore:[],l=t&&t.members&&t.members.ignoreFilter?t.members.ignoreFilter:function(){return!1};for(var c in t)if(0!==c.indexOf("$")&&0!==c.indexOf("_")&&0!==c.indexOf("number")&&0!==c.indexOf("is")&&"v"!==c&&!DayPilot.contains(s,c)&&!l(c))if(0!==c.indexOf("on"))if("function"!=typeof t[c])if("object"!=typeof t[c])o.push(c);else{var u=t[c];if(0===e){o.push(c);continue}if(u&&u.nodeType>0){o.push(c);continue}if(u instanceof DayPilot.Bubble){o.push(c);continue}if(u instanceof DayPilot.Date){o.push(c);continue}if(u instanceof DayPilot.Menu){o.push(c);continue}if(u instanceof DayPilot.Scheduler){o.push(c);continue}if(DayPilot.isArray(u)){o.push(c);continue}null===u&&o.push(c);var d=null;"number"==typeof e&&(d=e-1);for(var h=DayPilot.Util.members(u,d),f=0;f<h.events.length;f++)i.push(c+"."+h.events[f].name);for(var f=0;f<h.methods.length;f++)n.push(c+"."+h.methods[f].name);for(var f=0;f<h.properties.length;f++)o.push(c+"."+h.properties[f].name)}else n.push(c);else i.push(c);i.sort(),n.sort(),o.sort();var p=function(t){for(var e=0;e<t.length;e++){var i=t[e],n={};n.name=i,t[e]=n,DayPilot.contains(a,i)&&(n.obsolete=!0),DayPilot.contains(r,i)&&(n.noCssOnly=!0),-1!==i.indexOf("CallBack")&&(n.aspnet=!0,n.mvc=!0),-1!==i.indexOf("PostBack")&&(n.aspnet=!0),-1!==i.indexOf("Notify")&&(n.aspnet=!0,n.mvc=!0)}};return p(i),p(n),p(o),{events:i,methods:n,properties:o}},DayPilot.Util.replaceCharAt=function(t,e,i){return t.substr(0,e)+i+t.substr(e+i.length)},DayPilot.Util.evalVariable=function(e,t){if(t=t||["object"],null===e||void 0===e)return null;if(-1!==DayPilot.indexOf(t,typeof e))return e;if("string"!=typeof e)throw"Unable to resolve a variable name (not a string).";if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))throw"Invalid variable name: "+e;return eval(e)},DayPilot.Util.evalFunction=function(e){if(null===e)return null;if("function"==typeof e)return e;if("string"!=typeof e)throw"Unable to resolve a function (not a string).";if(!/^\(?function/.test(e))throw"Invalid function string";return eval("("+e+")")},DayPilot.Util.parseJSON=function(t){return JSON&&JSON.parse?JSON.parse(t):DayPilot.JSON.parse(t)},DayPilot.Util.isNullOrUndefined=function(t){return null===t||void 0===t},DayPilot.Util.log=function(t){window.console&&window.console.log&&window.console.log(t)},DayPilot.Util.adiff=function(t,e,i){var n={};return n.add=[],n.remove=[],n},DayPilot.Util.workerFrom=function(t){var e=t.toString(),i=e.slice(e.indexOf("{")+1,e.lastIndexOf("}")),n=new Blob([i]),o=window.URL.createObjectURL(n);return new Worker(o)},DayPilot.Util.dataUriToBlob=function(t){if("string"!=typeof t)throw"DayPilot.Util.dataUriToBlob(): dataURI string expected";for(var e=t.split(","),i=e[0],n=e[1],o=-1!==i.indexOf("base64"),a=o?atob:decodeURI,r=i.split(":")[1].split(";")[0],s=a(n),l=new window.Uint8Array(s.length),c=0;c<s.length;c++)l[c]=s.charCodeAt(c);return new Blob([l],{type:r})},DayPilot.Util.downloadDataUri=function(t,e){var i=DayPilot.Util.dataUriToBlob(t);DayPilot.Util.downloadBlob(i,e)},DayPilot.Util.downloadBlob=function(t,e){var e=e||"download";if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(t,e);else{var i=window.URL.createObjectURL(t),n=document.createElement("a");n.download=e,n.href=i,n.style="display:none",document.body.appendChild(n),n.click(),setTimeout(function(){document.body.removeChild(n),window.URL.revokeObjectURL(i)})}},DayPilot.Util.monitor=function(t,e,i){var n=t[e];t[e]=function(){i.apply(t,arguments),n.apply(t,arguments)}},DayPilot.Util.isTransparentColor=function(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t},DayPilot.Areas={},DayPilot.Areas.attach=function(t,e,n){var n=n||{},o=n.areas,a=n.allowed||function(){return!0},r=n.offsetX||0;(o=i(e,o))&&DayPilot.isArray(o)&&0!==o.length&&(DayPilot.re(t,"mousemove",function(i){t.active||t.areasDisabled||!a()||DayPilot.Areas.showAreas(t,e,i,o,{offsetX:r,eventDiv:n.eventDiv})}),DayPilot.re(t,"mouseout",function(e){DayPilot.Areas.hideAreas(t,e)}),DayPilot.list(o).each(function(i){if("Visible"===(i.visibility||i.v||"Visible")){var o=DayPilot.Areas.createArea(t,e,i,{offsetX:r,eventDiv:n.eventDiv});t.appendChild(o)}}))},DayPilot.Areas.disable=function(t){t.areasDisabled=!0,DayPilot.list(t.childNodes).filter(function(t){return t.isActiveArea&&!t.area.start}).each(function(t){t.style.display="none"})},DayPilot.Areas.enable=function(t){t.areasDisabled=!1,DayPilot.list(t.childNodes).filter(function(t){return t.isActiveArea&&!t.area.start}).each(function(t){t.style.display=""})},DayPilot.Areas.remove=function(t){var e=DayPilot.list(t.childNodes).filter(function(t){return t.isActiveArea});DayPilot.de(e)};var i=function(t,e){return DayPilot.isArray(e)||(e=t.areas)||(t.cache?e=t.cache.areas:t.data&&(e=t.data.areas)),e};DayPilot.Areas.showAreas=function(t,e,i,n,o){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var a=0;a<DayPilot.Areas.all.length;a++){var r=DayPilot.Areas.all[a];r!==t&&DayPilot.Areas.hideAreas(r,i)}if(!t.active&&(t.active={},DayPilot.isArray(n)||(n=e.areas)||(e.cache?n=e.cache.areas:e.data&&(n=e.data.areas)),n&&0!==n.length&&!(t.areas&&t.areas.length>0))){t.areas=[];for(var a=0;a<n.length;a++){var s=n[a];if("Hover"===(s.visibility||s.v||"Visible")){var l=DayPilot.Areas.createArea(t,e,s,o);t.areas.push(l),t.appendChild(l),DayPilot.Areas.all.push(t)}}t.active.children=DayPilot.ac(t)}}},DayPilot.Areas.createArea=function(t,e,i,n){function o(t,e,i){DayPilot.Bubble&&DayPilot.Bubble.touchPosition(i),t.calendar.bubble&&t.calendar.bubble.showEvent(t,!0)}function a(t,e,i,n){DayPilot.Menu&&DayPilot.Menu.touchPosition(n);var o=i.menu;if("string"==typeof o?o=DayPilot.Util.evalVariable(o):e.isEvent&&e.calendar.contextMenu?o=DayPilot.Util.evalVariable(e.calendar.contextMenu):e.isRow&&e.calendar.contextMenuResource&&(o=DayPilot.Util.evalVariable(e.calendar.contextMenuResource)),o&&o.show){var a={type:"area",div:t,e:e,area:i};o.show(e,{initiator:a})}}var n=n||{},r=n.offsetX||0,s=n.eventDiv||t,l=document.createElement("div");l.isActiveArea=!0,l.area=i,l.setAttribute("unselectable","on");var c=i.w||i.width,u=i.h||i.height,d=i.cssClass||i.css||i.className;if(void 0!==i.style&&l.setAttribute("style",i.style),l.style.position="absolute",void 0!==c&&(l.style.width=c+"px"),void 0!==u&&(l.style.height=u+"px"),void 0!==i.right&&(l.style.right=i.right+"px"),void 0!==i.top&&(l.style.top=i.top+"px"),void 0!==i.left&&(l.style.left=i.left+r+"px"),void 0!==i.bottom&&(l.style.bottom=i.bottom+"px"),void 0!==i.html&&i.html)l.innerHTML=i.html;else if(i.icon){var h=document.createElement("i");h.className=i.icon,l.appendChild(h)}if(d&&(l.className=d),i.toolTip&&l.setAttribute("title",i.toolTip),i.backColor&&(l.style.background=i.backColor),i.background&&(l.style.background=i.background),i.fontColor&&(l.style.color=i.fontColor),i.padding&&(l.style.padding=i.padding+"px",l.style.boxSizing="border-box"),"ResizeEnd"===i.action||"ResizeStart"===i.action||"Move"===i.action){if(e.calendar.isCalendar)switch(i.action){case"ResizeEnd":i.cursor="s-resize",i.dpBorder="bottom";break;case"ResizeStart":i.cursor="n-resize",i.dpBorder="top";break;case"Move":i.cursor="move"}if(e.calendar.isScheduler||e.calendar.isMonth)switch(i.action){case"ResizeEnd":i.cursor="e-resize",i.dpBorder="right";break;case"ResizeStart":i.cursor="w-resize",i.dpBorder="left";break;case"Move":i.cursor="move"}l.onmousemove=function(t,e,i){return function(n){var n=n||window.event;n.cancelBubble=!0,e.calendar.internal&&e.calendar.internal.dragInProgress&&e.calendar.internal.dragInProgress()||(t.style.cursor=i.cursor,i.dpBorder&&(t.dpBorder=i.dpBorder))}}(s,e,i),l.onmouseout=function(t,e,i){return function(e){t.style.cursor=""}}(s)}if(("ResizeEnd"===i.action||"ResizeStart"===i.action)&&e.isEvent&&e.calendar.internal.touch){var f=function(t,e,i){return function(n){n.cancelBubble=!0;var o=e.calendar.internal.touch,a=n.touches?n.touches[0]:n,r={x:a.pageX,y:a.pageY};e.calendar.coords=o.relativeCoords(n),o.preventEventTap=!0,e.calendar.isScheduler?o.startResizing(t,"ResizeEnd"===i.action?"right":"left"):e.calendar.isCalendar&&o.startResizing(t,"ResizeEnd"===i.action?"bottom":"top",r)}}(s,e,i);DayPilot.re(l,DayPilot.touch.start,f)}if("ContextMenu"===i.action&&e.isEvent&&e.calendar.internal.touch){var f=function(t,e,i){return function(n){n.cancelBubble=!0,n.preventDefault(),a(t,e,i,n),e.calendar.internal.touch.preventEventTap=!0}}(s,e,i),p=function(t,e,i){return function(t){t.cancelBubble=!0,t.preventDefault()}}();DayPilot.re(l,DayPilot.touch.start,f),DayPilot.re(l,DayPilot.touch.end,p)}if("Bubble"===i.action&&e.isEvent&&e.calendar.internal.touch){var f=function(t,e,i){return function(t){t.cancelBubble=!0,t.preventDefault(),o(e,i,t),e.calendar.internal.touch.preventEventTap=!0}}(0,e,i),p=function(t,e,i){return function(t){t.cancelBubble=!0,t.preventDefault()}}();DayPilot.re(l,DayPilot.touch.start,f),DayPilot.re(l,DayPilot.touch.end,p)}if("Move"===i.action&&e.isEvent&&e.calendar.internal.touch){var f=function(t,e,i){return function(i){i.cancelBubble=!0;var n=e.calendar.internal.touch,o=i.touches?i.touches[0]:i,a={x:o.pageX,y:o.pageY};e.calendar.coords=n.relativeCoords(i),n.preventEventTap=!0,n.startMoving(t,a)}}(s,e);DayPilot.re(l,DayPilot.touch.start,f)}if("Move"===i.action&&e.isRow&&e.calendar.internal.touch,"Bubble"===i.action&&e.isEvent&&(l.onmousemove=function(t,e,i){return function(t){e.calendar.bubble&&e.calendar.bubble.showEvent(e,!0)}}(0,e),l.onmouseout=function(t,e,i){return function(t){void 0!==DayPilot.Bubble&&e.calendar.bubble&&e.calendar.bubble.hideOnMouseOut()}}(0,e)),"HoverMenu"===i.action&&(l.onmousemove=function(t,e,i){return function(t){var n=i.menu;"string"==typeof n&&(n=DayPilot.Util.evalVariable(n)),n&&n.show&&(n.visible?n.source&&void 0!==n.source.id&&n.source.id!==e.id&&n.show(e):n.show(e),n.cancelHideTimeout())}}(0,e,i),l.onmouseout=function(t,e,i){return function(t){var e=i.menu;"string"==typeof e&&(e=DayPilot.Util.evalVariable(e)),e&&e.hideOnMouseOver&&e.delayedHide()}}(0,0,i)),"JavaScript"===i.action){var f=function(t,e,i){return function(t){DayPilot.Util.isMouseEvent(t)||(t.cancelBubble=!0,t.preventDefault(),e.calendar.internal.touch.start=!0)}}(0,e),p=function(t,e,i){return function(t){if(!DayPilot.Util.isMouseEvent(t)){t.cancelBubble=!0,t.preventDefault(),e.calendar.internal.touch.start=!1;var n=i.js;if("string"==typeof n&&(n=DayPilot.Util.evalFunction(i.js)),"function"==typeof n){var o=i.target||e;n.call(this,o)}}}}(0,e,i);DayPilot.re(l,DayPilot.touch.start,f),DayPilot.re(l,DayPilot.touch.end,p)}return l.onmousedown=function(t,e,i){return function(n){if("function"==typeof i.onmousedown&&i.onmousedown(n),"function"==typeof i.mousedown){var o={};o.area=i,o.div=t,o.originalEvent=n,o.source=e,i.mousedown(o)}if("Move"===i.action&&e.isRow){var a=e.$.row;e.calendar.internal.rowtools.startMoving(a)}"Move"!==i.action&&"ResizeEnd"!==i.action&&"ResizeStart"!==i.action&&i.action&&(n=n||window.event,n.preventDefault(),n.cancelBubble=!0)}}(t,e,i),l.onclick=function(t,e,i){return function(n){var n=n||window.event,o={};if(o.area=i,o.source=e,o.originalEvent=n,o.preventDefault=function(){o.preventDefault.value=!0},"function"!=typeof i.onClick||(i.onClick(o),!o.preventDefault.value)){switch(i.action){case"JavaScript":var r=i.js;if("string"==typeof r&&(r=DayPilot.Util.evalFunction(i.js)),"function"==typeof r){var s=i.target||e;r.call(this,s)}n.cancelBubble=!0;break;case"ContextMenu":a(t,e,i,n),n.cancelBubble=!0;break;case"CallBack":alert("callback not implemented yet, id: "+i.id),n.cancelBubble=!0}"function"==typeof i.onClicked&&i.onClicked(o)}}}(t,e,i),l},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(t,e){if(t&&t&&t.active){var i=t.active,n=t.areas;if(i&&i.children){var e=e||window.event;if(e){var o=e.toElement||e.relatedTarget;if(~DayPilot.indexOf(i.children,o))return}}if(!n||0===n.length)return void(t.active=null);DayPilot.de(n),t.active=null,t.areas=[],DayPilot.rfa(DayPilot.Areas.all,t),i.children=null}},DayPilot.Areas.hideAll=function(t){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var e=0;e<DayPilot.Areas.all.length;e++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[e],t)},DayPilot.Action=function(t,e,i,n){var o=this;this.calendar=t,this.isAction=!0,this.action=e,this.params=i,this.data=n,this.notify=function(){o.calendar.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){o.calendar.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){o.calendar.queue.add(this)},this.toJSON=function(){var t={};return t.name=this.action,t.params=this.params,t.data=this.data,t}},DayPilot.Selection=function(t,e,i,n){this.menuType="selection",this.start=new DayPilot.Date(t),this.end=new DayPilot.Date(e),this.resource=i,this.root=n,this.calendar=n,this.toJSON=function(t){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e}},DayPilot.Link=function(t,e){this.isLink=!0,this.data=t,this.calendar=e,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var t={};return t.from=this.data.from,t.to=this.data.to,t.id=this.data.id,t.type=this.data.type,t}},DayPilot.Event=function(t,e,i){var n=this;this.calendar=e,this.data=t||{},this.part=i||{},void 0===this.data.id&&(this.data.id=this.data.value);var o={},a=["id","text","start","end","resource"];this.isEvent=!0,DayPilot.Stats.eventObjects+=1,this.temp=function(){if(o.dirty)return o;for(var t=0;t<a.length;t++)o[a[t]]=n.data[a[t]];return o.dirty=!0,o},this.copy=function(){var t={};return DayPilot.Util.copyProps(n.data,t),t},this.commit=function(){if(o.dirty){for(var t=0;t<a.length;t++)n.data[a[t]]=o[a[t]];o.dirty=!1}},this.dirty=function(){return o.dirty},this.id=function(t){return void 0===t?n.data.id:void(this.temp().id=t)},this.value=function(t){return void 0===t?n.id():void n.id(t)},this.text=function(t){return void 0===t?n.data.text:(this.temp().text=t,void this.client.innerHTML(t))},this.start=function(t){return void 0===t?new DayPilot.Date(n.data.start):void(this.temp().start=new DayPilot.Date(t))},this.end=function(t){return void 0===t?e&&e.internal.adjustEndNormalize?e.internal.adjustEndNormalize(new DayPilot.Date(n.data.end)):new DayPilot.Date(n.data.end):void(this.temp().end=new DayPilot.Date(t))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.rawend=function(){return"undefined"==typeof val?e&&e.internal.adjustEndIn?e.internal.adjustEndIn(new DayPilot.Date(n.data.end)):new DayPilot.Date(n.data.end):void(this.temp().end=new DayPilot.Date(val))},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(){return"undefined"==typeof val?n.data.allday:void(this.temp().allday=val)},this.isAllDay=this.allday,this.resource=function(t){return void 0===t?n.data.resource:void(this.temp().resource=t)},this.recurrent=function(){return n.data.recurrent},this.recurrentMasterId=function(){return n.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return n.cache?n.cache.bubbleHtml||n.data.bubbleHtml:n.data.bubbleHtml},this.tag=function(t){if(n.data.tags)return n.data.tags[t];var e=n.data.tag;if(!e)return null;if(void 0===t)return n.data.tag;for(var i=n.calendar.tagFields,o=-1,a=0;a<i.length;a++)t===i[a]&&(o=a);if(-1===o)throw"Field name not found.";return e[o]},this.client={},this.client.innerHTML=function(t){return void 0===t?n.cache&&void 0!==n.cache.html?n.cache.html:void 0!==n.data.html?n.data.html:n.data.text:(n.data.html=t,void(n.cache&&(n.cache.html=t)))},this.client.html=this.client.innerHTML,this.client.header=function(t){return void 0===t?n.data.header:void(n.data.header=t)},this.client.cssClass=function(t){return void 0===t?n.data.cssClass:void(n.data.cssClass=t)},this.client.toolTip=function(t){return void 0===t?n.cache&&void 0!==n.cache.toolTip?n.cache.toolTip:void 0!==n.data.toolTip?n.data.toolTip:n.data.text:void(n.data.toolTip=t)},this.client.backColor=function(t){return void 0===t?n.cache&&void 0!==n.cache.backColor?n.cache.backColor:void 0!==n.data.backColor?n.data.backColor:n.calendar.eventBackColor:void(n.data.backColor=t)},this.client.borderColor=function(t){return void 0===t?n.cache&&void 0!==n.cache.borderColor?n.cache.borderColor:void 0!==n.data.borderColor?n.data.borderColor:n.calendar.eventBorderColor:void(n.data.borderColor=t)},this.client.barColor=function(t){return void 0===t?n.cache&&void 0!==n.cache.barColor?n.cache.barColor:void 0!==n.data.barColor?n.data.barColor:n.calendar.durationBarColor:void(n.data.barColor=t)},this.client.barVisible=function(t){return void 0===t?n.cache&&void 0!==n.cache.barHidden?!n.cache.barHidden:n.calendar.durationBarVisible&&!n.data.barHidden:void(n.data.barHidden=!t)},this.client.contextMenu=function(t){if(void 0===t){if(n.oContextMenu)return n.oContextMenu;var e=n.cache?n.cache.contextMenu:n.data.contextMenu;return e?DayPilot.Util.evalVariable(e):null}n.oContextMenu=t},this.client.moveEnabled=function(t){return void 0===t?n.cache&&void 0!==n.cache.moveDisabled?!n.cache.moveDisabled:"Disabled"!==n.calendar.eventMoveHandling&&!n.data.moveDisabled:void(n.data.moveDisabled=!t)},this.client.resizeEnabled=function(t){return void 0===t?n.cache&&void 0!==n.cache.resizeDisabled?!n.cache.resizeDisabled:"Disabled"!==n.calendar.eventResizeHandling&&!n.data.resizeDisabled:void(n.data.resizeDisabled=!t)},this.client.rightClickEnabled=function(t){return void 0===t?n.cache&&void 0!==n.cache.rightClickDisabled?!n.cache.rightClickDisabled:"Disabled"!==n.calendar.rightClickHandling&&!n.data.rightClickDisabled:void(n.data.rightClickDisabled=!t)},this.client.clickEnabled=function(t){return void 0===t?n.cache&&void 0!==n.cache.clickDisabled?!n.cache.clickDisabled:"Disabled"!==n.calendar.clickHandling&&!n.data.clickDisabled:void(n.data.clickDisabled=!t)},this.client.deleteEnabled=function(t){return void 0===t?n.cache&&void 0!==n.cache.deleteDisabled?!n.cache.deleteDisabled:"Disabled"!==n.calendar.eventDeleteHandling&&!n.data.deleteDisabled:void(n.data.deleteDisabled=!t)},this.client.doubleClickEnabled=function(t){return void 0===t?n.cache&&void 0!==n.cache.doubleClickDisabled?!n.cache.doubleClickDisabled:"Disabled"!==n.calendar.eventDoubleClickHandling&&!n.data.doubleClickDisabled:void(n.data.doubleClickDisabled=!t)},this.client.deleteClickEnabled=function(t){return void 0===t?n.cache&&void 0!==n.cache.deleteDisabled?!n.cache.deleteDisabled:"Disabled"!==n.calendar.eventDeleteHandling&&!n.data.deleteDisabled:void(n.data.deleteDisabled=!t)},this.toJSON=function(t){var e={};if(e.value=this.id(),e.id=this.id(),e.text=this.text(),e.start=this.start().toJSON(),e.end=this.end().toJSON(),e.resource=this.resource(),e.isAllDay=!1,e.recurrentMasterId=this.recurrentMasterId(),e.join=this.data.join,e.tag={},n.data.tags)for(var i in n.data.tags)n.data.tags.hasOwnProperty(i)&&(e.tag[i]=""+n.data.tags[i]);else if(n.calendar&&n.calendar.tagFields)for(var o=n.calendar.tagFields,a=0;a<o.length;a++)e.tag[o[a]]=this.tag(o[a]);return e}},DayPilot.Task=function(t,e){if(!t)throw"Trying to initialize DayPilot.Task with null data parameter";var i=this,n=null;if(t instanceof DayPilot.Event)n=t,this.data=t.data.task;else{if(t instanceof DayPilot.Task)return t;t.isTaskWrapper?this.data=t.data:this.data=t}var o={},a=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=e,this.temp=function(){if(o.dirty)return o;for(var t=0;t<a.length;t++)o[a[t]]=i.data[a[t]];return o.dirty=!0,o},this.copy=function(){var t={};return DayPilot.Util.copyProps(i.data,t),t},this.commit=function(){if(o.dirty){for(var t=0;t<a.length;t++)i.data[a[t]]=o[a[t]];o.dirty=!1}},this.dirty=function(){return o.dirty},this.id=function(t){return void 0===t?i.data.id:void(this.temp().id=t)},this.text=function(t){return void 0===t?i.data.text:(this.temp().text=t,void this.client.innerHTML(t))},this.start=function(t){return void 0===t?new DayPilot.Date(i.data.start):void(this.temp().start=new DayPilot.Date(t))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.end=function(t){return void 0===t?e&&"Date"===e.eventEndSpec?new DayPilot.Date(i.data.end).getDatePart().addDays(1):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(t))},this.type=function(t){return void 0===t?n?n.data.type:i.data.type:void(this.temp().type=t)},this.complete=function(t){return void 0===t?i.data.complete?i.data.complete:0:void(this.temp().complete=t)},this.children=function(){var t=[];t.add=function(t){var e=new DayPilot.Task(t);this.data.children||(this.data.children=[]),this.children.push(e.data)};for(var i=0;this.data.children&&i<this.data.children.length;i++)t.push(new DayPilot.Task(this.data.children[i],e));return t},this.toJSON=function(t){var e={};return e.id=this.id(),e.text=this.text(),e.start=this.start().toJSON(),e.end=this.end().toJSON(),e.type=this.type(),e.tags={},DayPilot.Util.copyProps(this.data.tags,e.tags),e},this.row={};var r=this.row;r.expanded=function(t){return void 0===t?!i.data.row||!i.data.row.collapsed:(i.data.row||(i.data.row={}),!!i.data.row.collapsed!=!t&&e.internal.rowObjectForTaskData(i.data).toggle(),void(i.data.row.collapsed=!t))},r.expand=function(){r.expanded(!0)},r.collapse=function(){r.expanded(!1)},r.toggle=function(){r.expanded(!r.expanded())}},DayPilot.request=function(t,e,i,n){var o=DayPilot.createXmlHttp();o&&(o.open("POST",t,!0),o.setRequestHeader("Content-type","text/plain"),o.onreadystatechange=function(){if(4===o.readyState)return 200!==o.status&&304!==o.status?void(n?n(o):window.console&&console.log("HTTP error "+o.status)):void e(o)},4!==o.readyState&&("object"==typeof i&&(i=DayPilot.JSON.stringify(i)),o.send(i)))},DayPilot.ajax=function(t){var e=DayPilot.createXmlHttp();if(e){var i=t.method||"GET",n=t.success||function(){},o=t.error||function(){},a=t.data,r=t.url,s=t.contentType||"text/plain";e.open(i,r,!0),e.setRequestHeader("Content-type",s),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status||304===e.status){var t={};t.request=e,n(t)}else if(o){var t={};t.request=e,o(t)}else window.console&&console.log("HTTP error "+e.status)},4!==e.readyState&&("object"==typeof a&&(a=DayPilot.JSON.stringify(a)),e.send(a))}},DayPilot.createXmlHttp=function(){return new XMLHttpRequest},DayPilot.Duration=function(t){var e=this,i=864e5,n=36e5,o=6e4,a=1e3;if(2===arguments.length){var r=arguments[0],s=arguments[1];if(!(r instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(s instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";this.ticks=s.getTime()-r.getTime()}else this.ticks=t;return DayPilot.Date.Cache.DurationCtor[""+t]?DayPilot.Date.Cache.DurationCtor[""+t]:(DayPilot.Date.Cache.DurationCtor[""+t]=this,this.toString=function(t){if(!t)return e.days()+"."+e.hours()+":"+e.minutes()+":"+e.seconds()+"."+e.milliseconds();var i=e.minutes();i=(i<10?"0":"")+i;var n=t;return n=n.replace("mm",i),n=n.replace("m",e.minutes()),n=n.replace("H",e.hours()),n=n.replace("h",e.hours()),n=n.replace("d",e.days()),n=n.replace("s",e.seconds())},this.totalHours=function(){return e.ticks/n},this.totalDays=function(){return e.ticks/i},this.totalMinutes=function(){return e.ticks/o},this.totalSeconds=function(){return e.ticks/a},this.days=function(){return Math.floor(e.totalDays())},this.hours=function(){var t=e.ticks-e.days()*i;return Math.floor(t/n)},this.minutes=function(){var t=e.ticks-Math.floor(e.totalHours())*n;return Math.floor(t/o)},this.seconds=function(){var t=e.ticks-Math.floor(e.totalMinutes())*o;return Math.floor(t/a)},void(this.milliseconds=function(){return e.ticks%a}))},DayPilot.Duration.weeks=function(t){return new DayPilot.Duration(1e3*t*60*60*24*7)},DayPilot.Duration.days=function(t){return new DayPilot.Duration(1e3*t*60*60*24)},DayPilot.Duration.hours=function(t){return new DayPilot.Duration(1e3*t*60*60)},DayPilot.Duration.minutes=function(t){return new DayPilot.Duration(1e3*t*60)},DayPilot.Duration.seconds=function(t){return new DayPilot.Duration(1e3*t)},DayPilot.TimeSpan=function(){DayPilot.Duration.apply(this,arguments)};try{DayPilot.TimeSpan.prototype=Object.create(DayPilot.Duration.prototype)}catch(e){}DayPilot.Date=function(t,i){if(t instanceof DayPilot.Date)return t;var n;DayPilot.Util.isNullOrUndefined(t)&&(n=DayPilot.DateUtil.fromLocal().getTime(),t=n);var o=DayPilot.Date.Cache.Ctor;if(o[t])return DayPilot.Stats.cacheHitsCtor+=1,o[t];var a=!1;if("string"==typeof t)n=DayPilot.DateUtil.fromStringSortable(t,i).getTime(),a=!0;else if("number"==typeof t){if(isNaN(t))throw"Cannot create DayPilot.Date from NaN";n=t}else{if(!(t instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";n=i?DayPilot.DateUtil.fromLocal(t).getTime():t.getTime()}var r=e(n);return o[r]?o[r]:(o[r]=this,o[n]=this,a&&r!==t&&DayPilot.DateUtil.hasTzSpec(t)&&(o[t]=this),Object.defineProperty&&!DayPilot.browser.ielt9?(Object.defineProperty(this,"ticks",{get:function(){return n}}),Object.defineProperty(this,"value",{value:r,writable:!1,enumerable:!0})):(this.ticks=n,this.value=r),DayPilot.Date.Config.legacyShowD&&(this.d=new Date(n)),void(DayPilot.Stats.dateObjects+=1))},DayPilot.Date.Config={},DayPilot.Date.Config.legacyShowD=!1,DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={},DayPilot.Date.Cache.clear=function(){DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={}},DayPilot.Date.prototype.addDays=function(t){return new DayPilot.Date(this.ticks+24*t*60*60*1e3)},DayPilot.Date.prototype.addHours=function(t){return this.addTime(60*t*60*1e3)},DayPilot.Date.prototype.addMilliseconds=function(t){return this.addTime(t)},DayPilot.Date.prototype.addMinutes=function(t){return this.addTime(60*t*1e3)},DayPilot.Date.prototype.addMonths=function(t){var e=new Date(this.ticks);if(0===t)return this;var i=e.getUTCFullYear(),n=e.getUTCMonth()+1;if(t>0){for(;t>=12;)t-=12,i++;t>12-n?(i++,n=t-(12-n)):n+=t}else{for(;t<=-12;)t+=12,i--;n+t<=0?(i--,n=12+n+t):n+=t}var o=new Date(e.getTime());o.setUTCDate(1),o.setUTCFullYear(i),o.setUTCMonth(n-1);var a=new DayPilot.Date(o).daysInMonth();return o.setUTCDate(Math.min(a,e.getUTCDate())),new DayPilot.Date(o)},DayPilot.Date.prototype.addSeconds=function(t){return this.addTime(1e3*t)},DayPilot.Date.prototype.addTime=function(t){return t instanceof DayPilot.Duration&&(t=t.ticks),new DayPilot.Date(this.ticks+t)},DayPilot.Date.prototype.addYears=function(t){var e=new Date(this.ticks),i=new Date(this.ticks),n=this.getYear()+t,o=this.getMonth();i.setUTCDate(1),i.setUTCFullYear(n),i.setUTCMonth(o);var a=new DayPilot.Date(i).daysInMonth();return i.setUTCDate(Math.min(a,e.getUTCDate())),new DayPilot.Date(i)},DayPilot.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.daysInMonth=function(){var t=new Date(this.ticks),e=t.getUTCMonth()+1,i=t.getUTCFullYear(),n=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==e?n[e-1]:i%4!=0?n[1]:i%100==0&&i%400!=0?n[1]:n[1]+1},DayPilot.Date.prototype.daysInYear=function(){var t=this.getYear();return t%4!=0?365:t%100==0&&t%400!=0?365:366},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(t){if(null===t)return!1;if(t instanceof DayPilot.Date)return this===t;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var t=new Date;return t.setUTCFullYear(this.getYear(),this.getMonth(),1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.firstDayOfYear=function(){var t=this.getYear(),e=new Date;return e.setUTCFullYear(t,0,1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.firstDayOfWeek=function(t){for(var e=this,t=t||0,i=e.dayOfWeek();i!==t;)e=e.addDays(-1),i=e.dayOfWeek();return new DayPilot.Date(e)},DayPilot.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){var t=new Date(this.ticks);return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){var t=this.getDatePart();return DayPilot.DateUtil.diff(this,t)},DayPilot.Date.prototype.lastDayOfMonth=function(){var t=new Date(this.firstDayOfMonth().getTime()),e=this.daysInMonth();return t.setUTCDate(e),new DayPilot.Date(t)},DayPilot.Date.prototype.weekNumber=function(){var t=this.firstDayOfYear(),e=(this.getTime()-t.getTime())/864e5;return Math.ceil((e+t.dayOfWeek()+1)/7)},DayPilot.Date.prototype.weekNumberISO=function(){var t=!1,e=this.dayOfYear(),i=this.firstDayOfYear().dayOfWeek(),n=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===i&&(i=7),0===n&&(n=7);var o=8-i;4!==i&&4!==n||(t=!0);var a=Math.ceil((e-o)/7),r=a;return o>=4&&(r+=1),r>52&&!t&&(r=1),0===r&&(r=this.firstDayOfYear().addDays(-1).weekNumberISO()),r},DayPilot.Date.prototype.toDateLocal=function(){var t=new Date(this.ticks),e=new Date;return e.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours()),e.setMinutes(t.getUTCMinutes()),e.setSeconds(t.getUTCSeconds()),e.setMilliseconds(t.getUTCMilliseconds()),e},DayPilot.Date.prototype.toDate=function(){return new Date(this.ticks)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(t,e){return void 0===t?this.toStringSortable():new a(t,e).print(this)},DayPilot.Date.prototype.toStringSortable=function(){return e(this.ticks)},DayPilot.Date.parse=function(t,e,i){return new a(e,i).parse(t)};var n=0;DayPilot.Date.today=function(){return new DayPilot.Date(DayPilot.DateUtil.localToday())},DayPilot.Date.fromYearMonthDay=function(t,e,i){e=e||1,i=i||1;var n=new Date(0);return n.setUTCFullYear(t),n.setUTCMonth(e-1),n.setUTCDate(i),new DayPilot.Date(n)},DayPilot.DateUtil={},DayPilot.DateUtil.fromStringSortable=function(t,e){if(!t)throw"Can't create DayPilot.Date from an empty string";var i=t.length,n=10===i,o=19===i,a=i>19;if(!n&&!o&&!a)throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+t;if(DayPilot.Date.Cache.Parsing[t]&&!e)return DayPilot.Stats.cacheHitsParsing+=1,DayPilot.Date.Cache.Parsing[t];var r=t.substring(0,4),s=t.substring(5,7),l=t.substring(8,10),c=new Date(0);if(c.setUTCFullYear(r,s-1,l),n)return DayPilot.Date.Cache.Parsing[t]=c,c;var u=t.substring(11,13),d=t.substring(14,16),h=t.substring(17,19);if(c.setUTCHours(u),c.setUTCMinutes(d),c.setUTCSeconds(h),o)return DayPilot.Date.Cache.Parsing[t]=c,c;var f=t[19],p=0;if("."===f){var v=parseInt(t.substring(20,23));c.setUTCMilliseconds(v),p=DayPilot.DateUtil.getTzOffsetMinutes(t.substring(23))}else p=DayPilot.DateUtil.getTzOffsetMinutes(t.substring(19));var g=new DayPilot.Date(c);return e||(g=g.addMinutes(-p)),c=g.toDate(),DayPilot.Date.Cache.Parsing[t]=c,c},DayPilot.DateUtil.getTzOffsetMinutes=function(t){if(DayPilot.Util.isNullOrUndefined(t)||""===t)return 0;if("Z"===t)return 0;var e=t[0],i=parseInt(t.substring(1,3)),n=parseInt(t.substring(4)),o=60*i+n;if("-"===e)return-o;if("+"===e)return o;throw"Invalid timezone spec: "+t},DayPilot.DateUtil.hasTzSpec=function(t){return!!t.indexOf("+")||!!t.indexOf("-")},DayPilot.DateUtil.daysDiff=function(t,e){if(t&&e||function(){throw"two parameters required"}(),t=new DayPilot.Date(t),e=new DayPilot.Date(e),t.getTime()>e.getTime())return null;for(var i=0,n=t.getDatePart(),o=e.getDatePart();n<o;)n=n.addDays(1),i++;return i},DayPilot.DateUtil.daysSpan=function(t,e){if(t&&e||function(){throw"two parameters required"}(),t=new DayPilot.Date(t),e=new DayPilot.Date(e),t===e)return 0;var i=DayPilot.DateUtil.daysDiff(t,e);return e==e.getDatePart()&&i--,i},DayPilot.DateUtil.diff=function(t,e){if(!(t&&e&&t.getTime&&e.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return t.getTime()-e.getTime()},DayPilot.DateUtil.fromLocal=function(t){t||(t=new Date);var e=new Date;return e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setUTCHours(t.getHours()),e.setUTCMinutes(t.getMinutes()),e.setUTCSeconds(t.getSeconds()),e.setUTCMilliseconds(t.getMilliseconds()),e},DayPilot.DateUtil.localToday=function(){var t=new Date;return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),t},DayPilot.DateUtil.hours=function(t,e){var i=t.getUTCMinutes();i<10&&(i="0"+i);var n=t.getUTCHours();if(e){var o=n<12,n=n%12;return 0===n&&(n=12),n+":"+i+" "+(o?"AM":"PM")}return n+":"+i},DayPilot.DateUtil.max=function(t,e){return t.getTime()>e.getTime()?t:e},DayPilot.DateUtil.min=function(t,e){return t.getTime()<e.getTime()?t:e};var a=function(e,i){"string"==typeof i&&(i=DayPilot.Locale.find(i));var i=i||DayPilot.Locale.US,n=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(t){return t.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(t){return t.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(t){var e=t.getMinutes();return e<10?"0"+e:e}},{seq:"m",expr:"[0-9]{1,2}",str:function(t){return t.getMinutes()}},{seq:"HH",expr:"[0-9]{2,2}",str:function(t){var e=t.getHours();return e<10?"0"+e:e}},{seq:"H",expr:"[0-9]{1,2}",str:function(t){return t.getHours()}},{seq:"hh",expr:"[0-9]{2,2}",str:function(t){var e=t.getHours(),e=e%12;0===e&&(e=12);var i=e;return i<10?"0"+i:i}},{seq:"h",expr:"[0-9]{1,2}",str:function(t){var e=t.getHours(),e=e%12;return 0===e&&(e=12),e}},{seq:"ss",expr:"[0-9]{2,2}",str:function(t){var e=t.getSeconds();return e<10?"0"+e:e}},{seq:"s",expr:"[0-9]{1,2}",str:function(t){return t.getSeconds()}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(t){return i.monthNames[t.getMonth()]},transform:function(e){var n=DayPilot.indexOf(i.monthNames,e,t);return n<0?null:n+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(t){return i.monthNamesShort[t.getMonth()]},transform:function(e){var n=DayPilot.indexOf(i.monthNamesShort,e,t);return n<0?null:n+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(t){var e=t.getMonth()+1;return e<10?"0"+e:e}},{seq:"M",expr:"[0-9]{1,2}",str:function(t){return t.getMonth()+1}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(t){return i.dayNames[t.getDayOfWeek()]}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(t){return i.dayNamesShort[t.getDayOfWeek()]}},{seq:"dd",expr:"[0-9]{2,2}",str:function(t){var e=t.getDay();return e<10?"0"+e:e}},{seq:"%d",expr:"[0-9]{1,2}",str:function(t){return t.getDay()}},{seq:"d",expr:"[0-9]{1,2}",str:function(t){return t.getDay()}},{seq:"tt",expr:"(AM|PM|am|pm)",str:function(t){return t.getHours()<12?"AM":"PM"},transform:function(t){return t.toUpperCase()}}],o=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){if(this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h"),this.hours&&this.ampm)throw new DayPilot.Exception("'HH' and 'H' specifiers cannot be used in combination with 'tt'. Use 12-hour clock specifiers: 'hh' or 'h'.")},this.findSequence=function(t){function i(t){return parseInt(t)}return-1===e.indexOf(t)?null:{findValue:function(a){for(var r=o(e),s=null,l=0;l<n.length;l++){var c=(n[l].length,t===n[l].seq),u=n[l].expr;c&&(u="("+u+")",s=n[l].transform),r=r.replace(n[l].seq,u)}r="^"+r+"$";try{var d=new RegExp(r),h=d.exec(a);return h?(s=s||i)(h[1]):null}catch(t){throw"unable to create regex from: "+r}}}},this.print=function(t){for(var i=function(t){for(var e=0;e<n.length;e++)if(n[e]&&n[e].seq===t)return n[e];return null},o=e.length<=0,a=0,r=[];!o;){var s=e.substring(a),l=/%?(.)\1*/.exec(s);if(l&&l.length>0){var c=l[0],u=i(c);u?r.push(u):r.push(c),a+=c.length,o=e.length<=a}else o=!0}for(var d=0;d<r.length;d++){var h=r[d];"string"!=typeof h&&(r[d]=h.str(t))}return r.join("")},this.parse=function(t){var e=this.year.findValue(t);if(!e)return null;var i=this.month.findValue(t);if(DayPilot.Util.isNullOrUndefined(i))return null;if(i>12||i<1)return null;var n=this.day.findValue(t),o=DayPilot.Date.fromYearMonthDay(e,i).daysInMonth();if(n<1||n>o)return null;var a=this.hours?this.hours.findValue(t):0,r=this.minutes?this.minutes.findValue(t):0,s=this.seconds?this.seconds.findValue(t):0,l=this.ampm?this.ampm.findValue(t):null;if(this.ampm&&this.hours12){var c=this.hours12.findValue(t);if(c<1||c>12)return null;a="PM"===l?12===c?12:c+12:12===c?0:c}if(a<0||a>23)return null;if(r<0||r>59)return null;if(s<0||s>59)return null;var u=new Date;return u.setUTCFullYear(e,i-1,n),u.setUTCHours(a),u.setUTCMinutes(r),u.setUTCSeconds(s),u.setUTCMilliseconds(0),new DayPilot.Date(u)},this.init()};DayPilot.Canvas=function(t,e,i,n,o){function a(t,e,i){for(var n=e.split(" "),o=[],a=n[0],r=1;r<n.length;r++){var s=n[r];t.measureText(a+" "+s).width<i?a+=" "+s:(o.push(a),a=s)}return o.push(a),o}var n=n||1,r=document.createElement("canvas");r.width=t*n,r.height=e*n;var s=r.getContext("2d");s.scale(n,n),this.defaultFileName="image.png","image/jpeg"===i&&(this.defaultFileName="image.jpg",o=o||.92),this.fillRect=function(t,e){s.save(),s.strokeStyle="rgb(0,0,0,0)",s.fillStyle=e,s.fillRect(t.x+.5,t.y+.5,t.w-.5,t.h-.5),s.restore()},this.rect=function(t,e){s.save(),s.strokeStyle=e,s.beginPath(),s.rect(t.x+.5,t.y+.5,t.w-1,t.h-1),s.stroke(),s.restore()},this.text=function(t,e,i,n,o,r){if("number"==typeof e&&(e=""+e),"string"!=typeof e)throw"String expected";o=o||"left",r=r||0,n=n||"#000",s.save();var l=parseInt(i.size),c=DayPilot.browser.ff?3:0;c+=.2*l,c+=DayPilot.browser.chrome?1:0,c+=DayPilot.browser.ie?1:0,s.rect(t.x+.5+r,t.y+.5+r,t.w-1-r,t.h-1-r),s.clip(),s.fillStyle=n,s.font=i.style+" "+i.size+" "+i.family,s.textBaseline="top",s.textAlign=o;var u=t.x;switch(o){case"center":u+=t.w/2;break;case"right":u+=t.w}var d=0;u+=d;var h=1.2*parseInt(i.size),f=e.split("\n"),p=[];DayPilot.list(f).each(function(e){var i=a(s,e,t.w);DayPilot.list(i).each(function(t){p.push(t)})});for(var v=t.y+d+r+c,g=0;g<p.length;g++){var y=p[g];s.fillText(y,u+r,v),v+=h}s.restore()},this.line=function(t,e,i,n,o){s.save(),s.lineWidth=1,s.strokeStyle=o,s.beginPath(),s.moveTo(t+.5,e+.5),s.lineTo(i+.5,n+.5),s.stroke(),s.restore()},this.image=function(t,e){if(e){if("string"==typeof e){var i=e,e=document.createElement("img");if(0!==i.indexOf("data:"))return e.onload=function(){s.save(),s.drawImage(e,t.x,t.y),s.restore()},void(e.src=i);e.src=i}s.save(),s.drawImage(e,t.x,t.y),s.restore()}},this.getWidth=function(){return r.width},this.getHeight=function(){return r.height},this.getElement=function(){return r},this.getSource=function(){return"<img src='"+r.toDataURL(i,o)+"' />"},this.getDataUri=function(){return r.toDataURL(i,o)},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return r.msToBlob?r.msToBlob():DayPilot.Util.dataUriToBlob(this.getDataUri())}},DayPilot.Svg=function(t,e){function i(t,e){var i=null;if(t){if("string"==typeof t){if(0===t.indexOf("data:")){var n={};n.dataUri=t,e(n)}i=t}else i=t.src;var t=document.createElement("img");t.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(this,0,0);var i={};i.dataUri=t.toDataURL("image/png"),e(i)},t.src=i}}var n="http://www.w3.org/2000/svg",o=document.createElementNS(n,"svg");o.outerHTML&&o.setAttribute("xmlns",n),o.setAttribute("viewBox","0 0 "+t+" "+e),this.defaultFileName="image.svg",this.fillRect=function(t,e){var i=document.createElementNS(n,"rect");i.setAttribute("x",t.x+.5),i.setAttribute("y",t.y+.5),i.setAttribute("width",t.w-1),i.setAttribute("height",t.h-1),i.setAttribute("fill",e),o.appendChild(i)},this.rect=function(t,e){var i=document.createElementNS(n,"rect");i.setAttribute("x",t.x+.5),i.setAttribute("y",t.y+.5),i.setAttribute("width",t.w-1),i.setAttribute("height",t.h-1),i.setAttribute("stroke",e),i.setAttribute("stroke-width","1"),i.setAttribute("fill","transparent"),o.appendChild(i)},this.text=function(t,e,i,a,r,s){function l(t,e,r){var s=document.createElementNS(n,"text");s.setAttribute("fill",a),s.setAttribute("font-family",i.family),s.setAttribute("font-size",i.size),s.setAttribute("font-style",i.style),s.setAttribute("x",e),s.setAttribute("y",r),s.setAttribute("dy","1em"),s.setAttribute("text-anchor",d),s.setAttribute("clip-path","url(#"+h.id+")");var l=document.createTextNode(t);s.appendChild(l),o.appendChild(s)}if("number"==typeof e&&(e=""+e),"string"!=typeof e)throw"String expected";var r=r||"left",s=s||0,c=3,u=t.x,d="start";switch(r){case"center":u+=t.w/2,d="middle";break;case"right":u+=t.w,d="end"}var h=document.createElementNS(n,"clipPath");h.id="clip"+DayPilot.guid();var f=document.createElementNS(n,"rect");f.setAttribute("x",t.x),f.setAttribute("y",t.y),f.setAttribute("width",t.w),f.setAttribute("height",t.h),h.appendChild(f),o.appendChild(h);for(var p=1.2*parseInt(i.size),v=e.split("\n"),g=t.y+s+c,y=0;y<v.length;y++)l(v[y],u+s,g),g+=p},this.line=function(t,e,i,a,r){var s=document.createElementNS(n,"line");s.setAttribute("x1",t+.5),s.setAttribute("y1",e+.5),s.setAttribute("x2",i+.5),s.setAttribute("y2",a+.5),s.setAttribute("stroke",r),o.appendChild(s)},this.image=function(t,e){function a(e){var i=document.createElementNS(n,"image");i.setAttributeNS("http://www.w3.org/1999/xlink","href",e.dataUri),i.setAttribute("x",t.x),i.setAttribute("y",t.y),i.setAttribute("width",t.w),i.setAttribute("height",t.h),o.appendChild(i)}i(e,a)},this.getWidth=function(){return t},this.getHeight=function(){return e},this.getElement=function(){return o},this.getSource=function(){if(o.outerHTML)return o.outerHTML;var t=document.createElement("div"),e=o.cloneNode(!0);return t.appendChild(e),t.innerHTML},this.getDataUri=function(){return"data:application/octet-stream,"+encodeURIComponent(this.getSource())},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return new Blob([this.getSource()])}},DayPilot.Excel=function(){var t=this,e=null,i=null,n=null,o={};o.xmlns="urn:schemas-microsoft-com:office:spreadsheet",o.o="urn:schemas-microsoft-com:office:office",o.x="urn:schemas-microsoft-com:office:excel",o.ss="urn:schemas-microsoft-com:office:spreadsheet",o.html="http://www.w3.org/TR/REC-html40",this.init=function(){e=document.implementation.createDocument(o.xmlns,"Workbook",null),e.documentElement.setAttribute("xmlns:o",o.o),e.documentElement.setAttribute("xmlns:x",o.x),e.documentElement.setAttribute("xmlns:ss",o.ss),e.documentElement.setAttribute("xmlns:html",o.html);var a=e.createElement("x:ExcelWorkbook");e.documentElement.appendChild(a),i=e.createElement("ss:Styles"),e.documentElement.appendChild(i),n=t.styles.create(),n.setId("Default"),n.setName("Normal")},this.worksheets=[],this.worksheets.create=function(e){var i=t.el(o.ss,"Worksheet"),n=new a(i);return n.setName(e),this.push(n),n},this.styles=[],this.styles.create=function(t){var n=e.createElement("ss:Style");i.appendChild(n);var o=new r(n);return this.push(o),o},this.styles.getDefault=function(){return n},this.el=function(t,i){var n=e.createElementNS(t,i);return e.documentElement.appendChild(n),n},this.getSource=function(){return'<?xml version="1.0"?>'+(new XMLSerializer).serializeToString(e)},this.getDataUri=function(){return"data:application/vnd.ms-excel,"+encodeURIComponent(this.getSource())},this.getElement=function(){return e},this.getDefaultFileName=function(){return"spreadsheet.xls"},this.getBlob=function(){return new Blob([this.getSource()])};var a=function(t){var i=e.createElement("Table");t.appendChild(i);var n=e.createElement("x:WorksheetOptions");t.appendChild(n),this.rows=[],this.setName=function(e){t.setAttribute("ss:Name",e)},this.cell=function(t,n){for(;n>=this.rows.length;){var a=e.createElement("Row");i.appendChild(a),this.rows.push(new o(a))}return this.rows[n].cell(t)},this.enableGridlines=function(t){var i=DayPilot.list(n.childNodes).find(function(t){return"x:DoNotDisplayGridlines"===t.tagName});if(!i&&!t){var o=e.createElement("x:DoNotDisplayGridlines");n.appendChild(o)}i&&t&&n.removeChild(i)};var o=function(t){this.cells=[],this.getElement=function(){return t},this.cell=function(n){for(;n>=this.cells.length;){var o=e.createElement("Cell");t.appendChild(o),this.cells.push(new i(o))}return this.cells[n]};var i=function(t){this.setText=function(i){var n=e.createElement("Data");n.setAttribute("ss:Type","String");var o=e.createTextNode(i);for(n.appendChild(o);t.firstChild;)t.removeChild(t.firstChild);return t.appendChild(n),this},this.setColspan=function(e){return e>1?t.setAttribute("ss:MergeAcross",e-1):t.removeAttribute("ss:MergeAcross"),this},this.setRowspan=function(e){return e>1?t.setAttribute("ss:MergeDown",e-1):t.removeAttribute("ss:MergeDown"),this},this.setStyle=function(e){if(!(e instanceof r))throw"Invalid argument, Style expected";return t.setAttribute("ss:StyleID",e.getId()),this}}}},r=function(t){var i=DayPilot.guid();t.setAttribute("ss:ID",i);var n=e.createElement("ss:Alignment");t.appendChild(n);var o=e.createElement("ss:Interior");t.appendChild(o);var a=e.createElement("ss:Borders");t.appendChild(a),this.setHorizontalAlignment=function(t){n.setAttribute("ss:Horizontal",t)},this.setVerticalAlignment=function(t){n.setAttribute("ss:Vertical",t)},this.setBackColor=function(t){var e=DayPilot.Util.normalizeColor(t);o.setAttribute("ss:Color",e),o.setAttribute("ss:Pattern","Solid")},this.setBorderColor=function(t){function i(t,i){var n=e.createElement("ss:Border");return n.setAttribute("ss:Position",t),n.setAttribute("ss:LineStyle","Continuous"),n.setAttribute("ss:Color",DayPilot.Util.normalizeColor(i)),n}this.clearBorders();var n=i("Left",t);a.appendChild(n);var o=i("Right",t);a.appendChild(o);var r=i("Top",t);a.appendChild(r);var s=i("Bottom",t);a.appendChild(s)},this.clearBorders=function(){for(;a.firstChild;)a.removeChild(a.firstChild)},this.getId=function(){return i},this.setId=function(e){i=e,t.setAttribute("ss:ID",i)},this.setName=function(e){t.setAttribute("ss:Name",e)}};this.init()},DayPilot.Export=function(t){this.toElement=function(){return t.getElement()},this.dimensions=function(){return{width:t.getWidth(),height:t.getHeight()}},this.toHtml=function(){return t.getSource()},this.toDataUri=function(){return t.getDataUri()},this.toBlob=function(){return t.getBlob()},this.print=function(){var e=document.createElement("iframe");e.setAttribute("width",0),e.setAttribute("height",0),e.setAttribute("frameborder",0),e.setAttribute("src","about:blank"),document.body.appendChild(e);var i=e.contentWindow.document;("BackCompat"===i.compatMode?i.body:i.documentElement).innerHTML=t.getSource(),e.contentWindow.document.execCommand("print",!1,null)||(e.contentWindow.focus(),e.contentWindow.print()),document.body.removeChild(e)},this.download=function(e){var e=e||t.getDefaultFileName(),i=t.getBlob();DayPilot.Util.downloadBlob(i,e)}},DayPilot.Exception=function(t){this.message=t},DayPilot.Locale=function(t,e){if(this.id=t,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,e)for(var i in e)this[i]=e[i]},DayPilot.Locale.all={},DayPilot.Locale.find=function(t){if(!t)return null;var e=t.toLowerCase();return e.length>2&&(e=DayPilot.Util.replaceCharAt(e,2,"-")),DayPilot.Locale.all[e]},DayPilot.Locale.register=function(t){DayPilot.Locale.all[t.id]=t},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","mar","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","mar","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{dayNames:["nedle","pondl","ter","steda","tvrtek","ptek","sobota"],dayNamesShort:["ne","po","t","st","t","p","so"],monthNames:["leden","nor","bezen","duben","kvten","erven","ervenec","srpen","z","jen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{dayNames:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["s","ma","ti","on","to","fr","l"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Jnner","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jn","Feb","Mr","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","Mrz","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{dayNames:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","s."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","keskuu","heinkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kes","hein","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","fvrier","mars","avril","mai","juin","juillet","aot","septembre","octobre","novembre","dcembre",""],monthNamesShort:["janv.","fvr.","mars","avr.","mai","juin","juil.","aot","sept.","oct.","nov.","dc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{dayNames:["domingo","luns","martes","mrcores","xoves","venres","sbado"],dayNamesShort:["do","lu","ma","m","xo","ve","s"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuo","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuo","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{dayNames:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{dayNames:["domenica","luned","marted","mercoled","gioved","venerd","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["1","2","3","4","5","6","7","8","9","10","11","12",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{dayNames:["sndag","mandag","tirsdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["s","ma","ti","on","to","fr","l"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{dayNames:["sndag","mndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["s","m","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{dayNames:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{dayNames:["niedziela","poniedziaek","wtorek","roda","czwartek","pitek","sobota"],dayNamesShort:["N","Pn","Wt","r","Cz","Pt","So"],monthNames:["stycze","luty","marzec","kwiecie","maj","czerwiec","lipiec","sierpie","wrzesie","padziernik","listopad","grudzie",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","pa","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{dayNames:["domingo","segunda-feira","tera-feira","quarta-feira","quinta-feira","sexta-feira","sbado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","maro","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{dayNames:["duminic","luni","mari","miercuri","joi","vineri","smbt"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["","","","","","","","","","","","",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{dayNames:["nedea","pondelok","utorok","streda","tvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","t","pi","so"],monthNames:["janur","februr","marec","aprl","mj","jn","jl","august","september","oktber","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{dayNames:["sndag","mndag","tisdag","onsdag","torsdag","fredag","lrdag"],dayNamesShort:["s","m","ti","on","to","fr","l"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Sal","aramba","Perembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","a","Pe","Cu","Ct"],monthNames:["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk",""],monthNamesShort:["Oca","ub","Mar","Nis","May","Haz","Tem","Au","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{dayNames:["","","","","","",""],dayNamesShort:["","","","","","",""],monthNames:["","","","","","","","","","","","",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(t){function e(t,e,n){var o={};o.start=t,o.end=e,o.day=n,o.target=i.active.control,o.preventDefault=function(){this.preventDefault.value=!0};var a=i.k;a&&a.start===o.start&&a.end===o.end&&a.day===o.day&&a.target===o.target||(i.k=o,"function"==typeof i.onChange&&(i.onChange(o),o.preventDefault.value)||"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(o),o.preventDefault.value)||(i.active.sendNavigate(i.day),"function"==typeof i.onChanged&&i.onChanged(o),"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(o)))}var i=this;this.views=[],this.triggers=[],this.navigator={},this.selectedClass=null,this.active=null,this.day=DayPilot.Date.today(),this.onChange=null,this.onChanged=null,this.navigator.updateMode=function(t){var e=i.navigator.control;e&&(e.selectMode=t,e.select(i.day))},this.addView=function(t,e){var n;if("string"==typeof t){if(!(n=document.getElementById(t)))throw"Element not found: "+t}else n=t;var o=n,a={};return a.isView=!0,a.id=o.id,a.control=o,a.options=e||{},a.hide=function(){o.hide?o.hide():o.nav&&o.nav.top?o.nav.top.style.display="none":o.style.display="none"},a.sendNavigate=function(t){!function(){return!!o.backendUrl||!("function"!=typeof WebForm_DoCallback||!o.uniqueID)}()?(o.startDate=t,o.update()):o.commandCallBack&&o.commandCallBack("navigate",{day:t})},a.show=function(){i.c(),o.show?o.show():o.nav&&o.nav.top?o.nav.top.style.display="":o.style.display=""},a.selectMode=function(){if(a.options.navigatorSelectMode)return a.options.navigatorSelectMode;if(o.isCalendar)switch(o.viewType){case"Day":return"day";case"Week":case"WorkWeek":return"week";default:return"day"}else if(o.isMonth)switch(o.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.views.push(a),a},this.addTrigger=function(t,e){var n;if("string"==typeof t){if(!(n=document.getElementById(t)))throw"Element not found: "+t}else n=t;var o=this.f(e);o||(o=this.addView(e));var a={};return a.isTrigger=!0,a.element=n,a.id=n.id,a.view=o,a.onClick=function(t){i.show(a),i.g(a),(t=t||window.event)&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},DayPilot.re(n,"click",a.onClick),this.triggers.push(a),a},this.addButton=this.addTrigger,this.select=function(t){var e=this.j(t);e?e.onClick():this.triggers.length>0&&this.triggers[0].onClick()},this.j=function(t){for(var e=0;e<this.triggers.length;e++){var i=this.triggers[e];if(i.id===t)return i}return null},this.g=function(t){if(this.selectedClass){for(var e=0;e<this.triggers.length;e++){var i=this.triggers[e];DayPilot.Util.removeClass(i.element,this.selectedClass)}DayPilot.Util.addClass(t.element,this.selectedClass)}},this.addNavigator=function(t){i.navigator.control=t,t.timeRangeSelectedHandling="JavaScript",t.onTimeRangeSelected=function(){var n,o,a;if(1===t.api)n=arguments[0],o=arguments[1],a=arguments[2];else{var r=arguments[0];n=r.start,o=r.end,a=r.day}i.day=a,e(n,o,a)}},this.show=function(t){var e,n;if(t.isTrigger)n=t,e=n.view;else if(e=t.isView?t:this.f(t),this.active===e)return;if(i.onSelect){var o={};o.source=n?n.element:null,o.target=e.control,i.onSelect(o)}this.active=e,e.show();var a=e.selectMode();i.navigator.updateMode(a)},this.f=function(t){for(var e=0;e<this.views.length;e++)if(this.views[e].control===t)return this.views[e];return null},this.c=function(){for(var t=0;t<this.views.length;t++)this.views[t].hide()},this.events={},this.events.load=function(t,e,n){if(!i.active||!i.active.control)throw"DayPilot.Switcher.events.load(): Active view not found";i.active.control.events.load(t,e,n)},this.k=null,this.l=function(){if(t)for(var e in t)"triggers"===e?DayPilot.list(t.triggers).each(function(t){i.addTrigger(t.id,t.view)}):"navigator"===e?i.addNavigator(t.navigator):i[e]=t[e]},this.l()},function(){if(!DayPilot.Global.defaultCss){var t=DayPilot.sheet();t.add(".bubble_default_main","cursor: default;"),t.add(".bubble_default_main_inner",'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),t.add(".calendar_default_main","border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),t.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #333;background: #f3f3f3;"),t.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\tborder-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),t.add(".calendar_default_colheader_inner","text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),t.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),t.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_message","opacity: 0.9;filter: alpha(opacity=90);\tpadding: 10px; color: #ffffff;background: #ffa216;"),t.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #666; border: 1px solid #999;"),t.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"),t.add(".calendar_default_event_bar_inner","position: absolute;width: 4px;background-color: #1066a8;"),t.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),t.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;"),t.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),t.add(".calendar_default_event","cursor: default;"),t.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"),t.add(".calendar_default_shadow_inner","background-color: #666666;\topacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"),t.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),t.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),t.add(".calendar_default_now","background-color: red;"),t.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),t.add(".menu_default_main","font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),t.add(".menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),t.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),t.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),t.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),t.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;"),t.add(".menu_default_main a:hover","background-color: #f3f3f3;"),t.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),t.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),t.add(".menu_default_item_haschildren.menu_default_item_haschildren_active",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),t.add(".menu_default_item_haschildren a:before","content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"),t.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),t.add(".menu_default_item a i","height: 20px;line-height: 20px;"),t.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),t.add(".menubar_default_item:hover","background-color: #f2f2f2;"),t.add(".menubar_default_item_active","background-color: #f2f2f2;"),t.add(".month_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;"),t.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;"),t.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),t.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),t.add(".month_default_cell_header","text-align: right;padding-right: 2px;"),t.add(".month_default_header_inner","text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3;"),t.add(".month_default_message",'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'),t.add(".month_default_event_inner",'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'),t.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),t.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),t.add(".month_default_event_hover .month_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");'),t.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner","background: #ddd;"),t.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".month_default_event_timeleft","color: #ccc; font-size: 8pt"),t.add(".month_default_event_timeright","color: #ccc; font-size: 8pt; text-align: right;"),t.add(".navigator_default_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),t.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),t.add(".navigator_default_month","font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"),t.add(".navigator_default_day","color: black;"),t.add(".navigator_default_weekend","background-color: #f0f0f0;"),t.add(".navigator_default_dayheader","color: black;"),t.add(".navigator_default_line","border-bottom: 1px solid #c0c0c0;"),t.add(".navigator_default_dayother","color: gray;"),t.add(".navigator_default_todaybox","border: 1px solid red;"),t.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),t.add(".navigator_default_busy","font-weight: bold;"),t.add(".navigator_default_cell","text-align: center;"),t.add(".navigator_default_select .navigator_default_cell_box","background-color: #FFE794; opacity: 0.5;"),t.add(".navigator_default_title","text-align: center;"),t.add(".navigator_default_titleleft, .navigator_default_titleright","text-align: center;"),t.add(".navigator_default_dayheader","text-align: center;"),t.add(".navigator_default_weeknumber","text-align: center;"),t.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),t.add(".scheduler_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),t.add(".scheduler_default_timeheader","cursor: default;color: #333;"),t.add(".scheduler_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),t.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #333;background: #f3f3f3;"),t.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #333;background: #f3f3f3;"),t.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 2px;"),t.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol","text-align: center;"),t.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),t.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: #c0c0c0;"),t.add(".scheduler_default_divider_horizontal","background-color: #c0c0c0;"),t.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),t.add(".scheduler_default_matrix_vertical_break","background-color: #000;"),t.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),t.add(".scheduler_default_resourcedivider","background-color: #c0c0c0;"),t.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".scheduler_default_event","font-size:12px;color:#333;"),t.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),t.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),t.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),t.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".scheduler_default_event_float_inner","padding:6px 2px 2px 8px;"),t.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),t.add(".scheduler_default_columnheader_inner","font-weight: bold;"),t.add(".scheduler_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid #c0c0c0;"),t.add(".scheduler_default_columnheader_splitter:hover","background-color: #c0c0c0;"),t.add(".scheduler_default_columnheader_cell_inner","padding: 2px;"),t.add(".scheduler_default_cell","background-color: #f9f9f9;"),t.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),t.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".scheduler_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),t.add(".scheduler_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),t.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),t.add(".scheduler_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".scheduler_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".scheduler_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".scheduler_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),t.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),t.add(".scheduler_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),t.add(".scheduler_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),t.add(".scheduler_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),t.add(".scheduler_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),t.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red"),t.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: red"),t.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner","background-color: red;"),t.add(".scheduler_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),t.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;"),t.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"),t.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),t.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),t.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),t.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),t.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white; color: white;"),t.add(".scheduler_default_rowheader textarea","padding: 3px;"),t.add(".scheduler_default_rowheader_scroll","cursor: default;"),DayPilot.browser.webkit,t.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner","background-color: red;"),t.add(".scheduler_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),t.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),t.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),t.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.add(".gantt_default_selected .gantt_default_event_inner","background: #ddd;"),t.add(".gantt_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after","box-sizing: content-box;"),t.add(".gantt_default_timeheader","cursor: default;color: #666;"),t.add(".gantt_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),t.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: #333;background: #f3f3f3;"),t.add(".gantt_default_rowheader,.gantt_default_corner","color: #333;background: #f3f3f3;"),t.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".gantt_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;padding: 2px;"),t.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol","text-align: center;"),t.add(".gantt_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),t.add(".gantt_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),t.add(".gantt_default_divider, .gantt_default_splitter","background-color: #aaa;"),t.add(".gantt_default_divider_horizontal","background-color: #aaa;"),t.add(".gantt_default_matrix_vertical_line","background-color: #eee;"),t.add(".gantt_default_matrix_vertical_break","background-color: #000;"),t.add(".gantt_default_matrix_horizontal_line","background-color: #eee;"),t.add(".gantt_default_resourcedivider","background-color: #aaa;"),t.add(".gantt_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".gantt_default_event","font-size:12px;color:#666;"),t.add(".gantt_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),t.add(".gantt_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),t.add(".gantt_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),t.add(".gantt_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".gantt_default_event_float_inner","padding:6px 2px 2px 8px;"),t.add(".gantt_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),t.add(".gantt_default_columnheader_inner","font-weight: bold;"),t.add(".gantt_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),t.add(".gantt_default_columnheader_cell_inner","padding: 2px;"),t.add(".gantt_default_cell","background-color: #f9f9f9;"),t.add(".gantt_default_cell.gantt_default_cell_business","background-color: #fff;"),t.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".gantt_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),t.add(".gantt_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),t.add(".gantt_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),t.add(".gantt_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".gantt_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".gantt_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),t.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),t.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),t.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),t.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),t.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),t.add(".gantt_default_task_group .gantt_default_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;"),t.add(".gantt_default_task_group.gantt_default_event:before","content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");t.add(".gantt_default_task_group.gantt_default_event:after","content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),t.add(".gantt_default_task_milestone .gantt_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),t.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""),t.add(".gantt_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),t.add(".gantt_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),t.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red;"),t.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: red;"),t.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: red;"),t.add(".gantt_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),t.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),t.add(".gantt_default_main .gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),t.add(".gantt_default_header_icon:hover","background-color: #ccc;"),t.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),t.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),t.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),t.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),t.add(".gantt_default_rowheader textarea","padding: 5px;"),t.add(".gantt_default_rowheader_scroll","cursor: default;"),t.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner","background-color: red;"),t.add(".gantt_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),t.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before","border:0;"),t.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'),t.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner","padding-left: 8px;"),t.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'),t.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after","border:0;"),t.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'),t.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner","padding-right: 8px;"),t.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'),t.add(".gantt_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),t.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover","background-color: black;"),t.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after","box-sizing: content-box;"),t.add(".kanban_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".kanban_default_selected .kanban_default_event_inner","background: #ddd;"),t.add(".kanban_default_timeheader","cursor: default;color: #333;"),t.add(".kanban_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),t.add(".kanban_default_colheadercell","color: #333;background: #f3f3f3;"),t.add(".kanban_default_rowheader,.kanban_default_corner","color: #333;background: #f3f3f3;"),t.add(".kanban_default_rowheader.kanban_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".kanban_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"),t.add(".kanban_default_colheadercell","text-align: center;"),t.add(".kanban_default_colheadercell_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),t.add(".kanban_default_divider, .kanban_default_splitter","background-color: #c0c0c0;"),t.add(".kanban_default_divider_horizontal","background-color: #c0c0c0;"),t.add(".kanban_default_matrix_vertical_line","background-color: #eee;"),t.add(".kanban_default_matrix_vertical_break","background-color: #000;"),t.add(".kanban_default_matrix_horizontal_line","background-color: #eee;"),t.add(".kanban_default_rowheaderdivider","background-color: #c0c0c0;"),t.add(".kanban_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".kanban_default_card","font-size:12px;color:#333;"),t.add(".kanban_default_card_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),t.add(".kanban_default_card_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".kanban_default_cell","background-color: #fff;"),t.add(".kanban_default_cell.kanban_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".kanban_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),t.add(".kanban_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),t.add(".kanban_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),t.add(".kanban_default_card_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".kanban_default_card_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".kanban_default_rowmove_source","background-color: black; opacity: 0.2;"),t.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after","background-color: #999; height: 2px;"),t.add(".kanban_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),t.add(".kanban_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),t.add(".kanban_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),t.add(".kanban_default_main .kanban_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),t.add(".kanban_default_header_icon:hover","background-color: #ccc;"),t.add(".kanban_default_header_icon_hide:before","content: '\\00AB';"),t.add(".kanban_default_header_icon_show:before","content: '\\00BB';"),t.add(".kanban_default_row_new .kanban_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),t.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover","background: white;"),t.add(".kanban_default_rowheader textarea","padding: 3px;"),t.add(".kanban_default_rowheader_scroll","cursor: default;"),t.add(".kanban_default_card_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),t.add(".kanban_default_card .kanban_default_card_inner","padding: 5px 5px 5px 10px;"),t.add(".kanban_default_cell","background-color: #fff;"),t.add(".kanban_default_rowmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".kanban_default_card_header","font-size: 120%; font-weight: bold;"),t.add(".kanban_default_card_bar","background-color: #cc0000; cursor:move;"),t.add(".kanban_default_cell.kanban_default_collapsed","background-color: #eee;"),t.add(".kanban_default_swimlane_collapse","cursor:pointer; border: 1px solid #ccc; text-align:center;"),t.add(".kanban_default_swimlane_collapse:before","content: '^';"),t.add(".kanban_default_swimlane_expand","cursor:pointer; border: 1px solid #ccc; text-align:center;"),t.add(".kanban_default_swimlane_expand:before","content: '>';"),t.add(".kanban_default_columnmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".kanban_default_columnmove_position","background-color: #333;"),t.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.commit(),DayPilot.Global.defaultCss=!0}}();var o=function(t){var e=this;this.id=t,this.widths=[],this.titles=[],this.height=null,this.splitterWidth=3,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){},this.init=function(){var i;if(!t)throw"error: id not provided";if("string"==typeof t)i=document.getElementById(t);else{if(!t.appendChild)throw"error: invalid object provided";i=t}this.div=i,this.blocks=[];for(var n=0;n<this.widths.length;n++){var o=document.createElement("div");o.style.display="inline-block",null!==e.height?o.style.height=e.height+"px":o.style.height="100%",o.style.width=this.widths[n]-this.splitterWidth+"px",o.style.overflow="hidden",o.style.verticalAlign="top",o.style.position="relative",o.setAttribute("unselectable","on"),o.className=this.css.title,i.appendChild(o);var a=document.createElement("div");a.innerHTML=this.titles[n],a.setAttribute("unselectable","on"),a.className=this.css.titleInner,o.appendChild(a);var r=document.createElement("div");r.style.display="inline-block",null!==e.height?r.style.height=e.height+"px":r.style.height="100%",r.style.width=this.splitterWidth+"px",r.style.position="relative",r.appendChild(document.createElement("div")),r.style.cursor="col-resize",r.setAttribute("unselectable","on"),r.className=this.css.splitter;var s={};s.index=n,s.width=this.widths[n],r.data=s,r.onmousedown=function(t){e.drag.start=DayPilot.page(t),e.drag.data=this.data,e.div.style.cursor="col-resize",t=t||window.event,t.preventDefault?t.preventDefault():t.returnValue=!1},i.appendChild(r);var l={};l.section=o,l.handle=r,this.blocks.push(l)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var t=0;t<this.blocks.length;t++){var e=this.blocks[t],i=this.widths[t];e.handle.data.width=i,this.m(t)}},this.m=function(t){var e=this.blocks[t],i=this.widths[t];e.section.style.width=i-this.splitterWidth+"px"},this.totalWidth=function(){for(var t=0,e=0;e<this.widths.length;e++)t+=this.widths[e];return t},this.gMouseMove=function(t){if(e.drag.start){var i=e.drag.data,n=DayPilot.page(t),o=n.x-e.drag.start.x,a=i.index;e.widths[a]=Math.max(5,i.width+o),e.m(a);var r={};r.widths=this.widths,r.index=i.index,e.updating(r)}},this.gMouseUp=function(t){if(e.drag.start){e.drag.start=null,document.body.style.cursor="",e.div.style.cursor="";var i=e.drag.data;i.width=e.widths[i.index];var n={};n.widths=this.widths,n.index=i.index,e.updated(n)}},this.dispose=function(){DayPilot.list(this.blocks).each(function(t){t.handle.onmousedown=null,DayPilot.de(t.section),DayPilot.de(t.handle)}),this.unregisterGlobalHandlers()},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)},this.unregisterGlobalHandlers=function(){DayPilot.ue(document,"mousemove",this.gMouseMove),DayPilot.ue(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=o}}(),DayPilot.JSON={},function(){function e(t){return t<10?"0"+t:t}function t(t){return a.lastIndex=0,a.test(t)?'"'+t.replace(a,function(t){var e=s[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function i(e,n){var a,s,c,u,d,h=o,f=n[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&!f.ignoreToJSON&&(f=f.toJSON(e)),"function"==typeof l&&(f=l.call(n,e,f)),typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(o+=r,d=[],"number"==typeof f.length&&!f.propertyIsEnumerable("length")){for(u=f.length,a=0;a<u;a+=1)d[a]=i(a,f)||"null";return c=0===d.length?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+h+"]":"["+d.join(",")+"]",o=h,c}if(l&&"object"==typeof l)for(u=l.length,a=0;a<u;a+=1)"string"==typeof(s=l[a])&&(c=i(s,f))&&d.push(t(s)+(o?": ":":")+c);else for(s in f)Object.hasOwnProperty.call(f,s)&&(c=i(s,f))&&d.push(t(s)+(o?": ":":")+c);return c=0===d.length?"{}":o?"{\n"+o+d.join(",\n"+o)+"\n"+h+"}":"{"+d.join(",")+"}",o=h,c}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;DayPilot.JSON.stringify=function(t,e,n){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(t,e,n);var a;if(o="",r="","number"==typeof n)for(a=0;a<n;a+=1)r+=" ";else"string"==typeof n&&(r=n);if(l=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return i("",{"":t})},DayPilot.JSON.parse=function(e,t){function i(e,n){var o,a,r=e[n];if(r&&"object"==typeof r)for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a=i(r,o),void 0!==a?r[o]=a:delete r[o]);return t.call(e,n,r)}var a;if(e=String(e),n.lastIndex=0,n.test(e)&&(e=e.replace(n,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return a=eval("("+e+")"),"function"==typeof t?i({"":a},""):a;throw new SyntaxError("JSON.parse")},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){if(void 0===DayPilot.Bubble){var t={};t.mouseMove=function(e){if(void 0!==t){t.mouse=t.mousePosition(e);var i=t.active;if(i&&i.n.showPosition){var n=i.n.showPosition,o=t.mouse;n.clientX!==o.clientX||(n.clientY,o.clientY)}}},t.touchPosition=function(t){if(!t||!t.touches)return null;var e=t.touches[0],i={};return i.x=e.pageX,i.y=e.pageY,i.clientX=e.clientX,i.clientY=e.clientY,i},t.mousePosition=function(t){var e=DayPilot.page(t);return t&&(e.clientY=t.clientY,e.clientX=t.clientX),e},DayPilot.Bubble=function(e){this.v="2826";var i=this,n={};if(this.cssOnly=!0,this.hideAfter=500,this.loadingText="Loading...",this.animated=!0,this.animation="fast",this.position="EventTop",this.hideOnClick=!0,this.showAfter=500,this.showLoadingLabel=!0,this.zIndex=10,this.theme="bubble_default",this.n=function(){},this.callBack=function(t){this.aspnet()?WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify(t),this.updateView,this,this.callbackError,!0):t.calendar.internal.bubbleCallBack?t.calendar.internal.bubbleCallBack(t,this):t.calendar.bubbleCallBack(t,this)},this.callbackError=function(t,e){alert(t)},this.updateView=function(e,o){if(i!==o)throw"Callback object mismatch (internal error)";return e?(t.active=i,void(i&&(n.div&&(n.div.firstChild.innerHTML=e),i.adjustPosition(),i.animated||i.addShadow()))):(i.removeDiv(),void i.removeShadow())},this.init=function(){},this.aspnet=function(){return"undefined"!=typeof WebForm_DoCallback},this.rounded=function(){return"Rounded"===this.corners},this.showEvent=function(e,i){var n=new t.CallBackArgs(e.calendar||e.root,"Event",e,e.bubbleHtml?e.bubbleHtml():null);i?this.show(n):this.showOnMouseOver(n)},this.showCell=function(e){var i=new t.CallBackArgs(e.calendar||e.root,"Cell",e,e.staticBubbleHTML?e.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showTime=function(e){var i=new t.CallBackArgs(e.calendar||e.root,"Time",e,e.staticBubbleHTML?e.staticBubbleHTML():null);this.showOnMouseOver(i)},this.showResource=function(e){var i=new t.CallBackArgs(e.calendar||e.root,"Resource",e,e.bubbleHtml?e.bubbleHtml():null);this.showOnMouseOver(i)},this.showHtml=function(e,i){var n=new t.CallBackArgs(null,"Html",null,e);n.div=i,this.show(n)},this.show=function(e){var o=this.animated;if(this.n.showPosition=t.mouse,!t.mouse)return void setTimeout(function(){i.show(e)},100);var a;try{a=DayPilot.JSON.stringify(e.object)}catch(t){return}if(!(t.active===this&&this.n.sourceId===a||void 0!==DayPilot.Menu&&DayPilot.Menu.active)){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),t.hideActive(),t.active=this,this.n.sourceId=a;var r=document.createElement("div");r.setAttribute("unselectable","on"),r.style.position="absolute",this.showLoadingLabel||(r.style.display="none"),this.cssOnly?r.className=this.p("_main"):(this.width&&(r.style.width=this.width),r.style.cursor="default"),r.style.top="0px",r.style.left="0px",r.style.zIndex=this.zIndex+1,o&&(r.style.visibility="hidden"),this.hideOnClick&&(r.onclick=function(){t.hideActive()}),r.onmousemove=function(e){t.cancelTimeout();var e=e||window.event;e.cancelBubble=!0},r.oncontextmenu=function(){return!1},r.onmouseout=this.delayedHide;var s=document.createElement("div");r.appendChild(s),this.cssOnly?s.className=this.p("_main_inner"):(s.style.padding="4px",this.border&&(s.style.border=this.border),this.rounded()&&(s.style.MozBorderRadius="5px",s.style.webkitBorderRadius="5px",s.style.borderRadius="5px"),s.style.backgroundColor=this.backgroundColor),s.innerHTML=this.loadingText,document.body.appendChild(r),n.div=r;var r=this.getDiv(e);if("EventTop"===this.position&&r){var l=DayPilot.abs(r,!0);this.n.mouse=t.mouse,this.n.mouse.x=l.x,this.n.mouse.y=l.y,this.n.mouse.h=l.h+2,this.n.mouse.w=l.w}else this.n.mouse=t.mouse;if(this.showLoadingLabel&&!o&&(this.adjustPosition(),this.addShadow()),e.staticHTML&&"function"!=typeof this.onLoad)this.updateView(e.staticHTML,this);else if("function"==typeof this.onLoad){var c={};c.source=e.object,c.async=!1,c.html=e.staticHTML,c.loaded=function(){this.async&&i.updateView(c.html,i)},this.onLoad(c),c.async||i.updateView(c.html,i)}else this.q(e)&&this.callBack(e)}},this.getDiv=function(t){return t.div?t.div:"Event"===t.type&&t.calendar&&t.calendar.internal.findEventDiv?t.calendar.internal.findEventDiv(t.object):void 0},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.loadingElement=null,this.loadingStart=function(t){},this.loadingStop=function(){},this.adjustPosition=function(){var e=this.animated,o=this.position,a=10;if(n.div&&this.n.mouse){if(!this.n.mouse.x||!this.n.mouse.y)return void t.hideActive();var r=n.div;r.style.display="";var s=r.offsetHeight,l=r.offsetWidth;r.style.display="none";var c=DayPilot.wd(),u=c.width,d=c.height;if("Mouse"===o){var h=0;if(this.n.mouse.clientY>d-s+a?(this.n.mouse.clientY,h=this.n.mouse.y-s-10):h=this.n.mouse.y+22,"number"==typeof h&&(r.style.top=Math.max(h,0)+"px"),this.n.mouse.clientX>u-l+a){var f=this.n.mouse.clientX-(u-l)+a;r.style.left=this.n.mouse.x-f+"px"}else r.style.left=this.n.mouse.x+"px"}else if("EventTop"===o){var p=2,h=this.n.mouse.y-s-p,v=c.scrollTop;h<v&&(h=this.n.mouse.y+this.n.mouse.h+p),"number"==typeof h&&(r.style.top=Math.max(h,0)+"px");var g=this.n.mouse.x;this.n.mouse.x+l+a>u&&(g=u-l-a),r.style.left=g+"px"}if(r.style.display="",e){r.style.display="";var y={};y.color=r.firstChild.style.color,y.overflow=r.style.overflow,r.firstChild.style.color="transparent",r.style.overflow="hidden",this.removeShadow(),DayPilot.pop(r,{finished:function(){r.firstChild.style.color=y.color,r.style.overflow=y.overflow,i.addShadow()},vertical:"bottom",horizontal:"left",animation:i.animation})}}},this.delayedHide=function(){t.cancelTimeout(),i.hideAfter>0&&(t.timeout=window.setTimeout(t.hideActive,i.hideAfter))},this.showOnMouseOver=function(e){t.cancelTimeout();var n=function(t){return function(){i.show(t)}};t.timeout=window.setTimeout(n(e),this.showAfter)},this.hideOnMouseOut=function(){this.delayedHide()},this.q=function(t){return!!t.calendar.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.addShadow=function(){if(this.useShadow&&!this.cssOnly&&n.div){var t=n.div;this.shadows&&this.shadows.length>0&&this.removeShadow(),this.shadows=[];for(var e=0;e<5;e++){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.width=t.offsetWidth+"px",i.style.height=t.offsetHeight+"px",i.style.top=t.offsetTop+e+"px",i.style.left=t.offsetLeft+e+"px",i.style.zIndex=this.zIndex,i.style.filter="alpha(opacity:10)",i.style.opacity=.1,i.style.backgroundColor="#000000",this.rounded()&&(i.style.MozBorderRadius="5px",i.style.webkitBorderRadius="5px",i.style.borderRadius="5px"),document.body.appendChild(i),this.shadows.push(i)}}},this.removeShadow=function(){if(this.shadows){for(var t=0;t<this.shadows.length;t++)document.body.removeChild(this.shadows[t]);this.shadows=[]}},this.removeDiv=function(){n.div&&(document.body.removeChild(n.div),n.div=null)},e)for(var o in e)this[o]=e[o];this.init()},DayPilot.Bubble.touchPosition=function(e){e.touches&&(t.mouse=t.touchPosition(e))},t.cancelTimeout=function(){t.timeout&&window.clearTimeout(t.timeout)},t.hideActive=function(){t.cancelTimeout();var e=t.active;e&&(e.removeDiv(),e.removeShadow()),t.active=null},t.CallBackArgs=function(t,e,i,n){this.calendar=t,this.type=e,this.object=i,this.staticHTML=n,this.toJSON=function(){var t={};return t.uid=this.calendar.uniqueID,t.type=this.type,t.object=i,t}},DayPilot.re(document,"mousemove",t.mouseMove),DayPilot.Bubble.hideActive=t.hideActive,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){if(void 0===DayPilot.Calendar){DayPilot.Calendar=function(e,i){this.v="2826";var n=!1;if(this instanceof DayPilot.Calendar&&!this.r&&(n=!0,this.r=!0),!n)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var o=this;this.uniqueID=null,this.id=e,this.isCalendar=!0,this.api=2,this.clientName=e,this.clientState={},this.s={},this.s.pixels={},this.s.events=[],this.elements={},this.elements.events=[],this.elements.separators=[],this.nav={},this.events={},this.hideUntilInit=!0,this.t=!0,this.allDayEnd="DateTime",this.allDayEventHeight=25,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.backendUrl=null,this.borderColor="#000000","function"==typeof DayPilot.Bubble?(this.bubble=new DayPilot.Bubble,this.cellBubble=new DayPilot.Bubble,this.columnBubble=new DayPilot.Bubble):(this.bubble=null,this.cellBubble=null,this.columnBubble=null),this.businessBeginsHour=9,this.businessEndsHour=18,this.cellBackColor="#FFFFD5",this.cellBackColorNonBusiness="#FFF4BC",this.cellBorderColor="#999999",this.cellHeight=20,this.cellDuration=30,this.columnMarginRight=5,this.columns=null,this.columnWidth=200,this.columnWidthSpec="Auto",this.contextMenu=null,this.contextMenuSelection=null,this.cornerBackColor="#ECE9D8",this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.cssOnly=!0,this.dayBeginsHour=0,this.dayEndsHour=24,this.days=1,this.durationBarColor="blue",this.durationBarVisible=!0,this.durationBarWidth=5,this.durationBarImageUrl=null,this.eventArrangement="SideBySide",this.eventBackColor="#ffffff",this.eventBorderColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventSelectColor="blue",this.headerFontSize="10pt",this.headerFontFamily="Tahoma",this.headerFontColor="#000000",this.headerHeight=20,this.headerLevels=1,this.height=300,this.heightSpec="BusinessHours",this.hideFreeCells=!1,this.headerDateFormat=null,this.hourHalfBorderColor="#F3E4B1",this.hourBorderColor="#EAD098",this.hourFontColor="#000000",this.hourFontFamily="Tahoma",this.hourFontSize="16pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.hourWidth=45,this.initScrollPos=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.locale="en-us",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.roundedCorners=!1,this.rtl=!1,this.scrollLabelsVisible=!1,this.selectedColor="#316AC5",this.shadow="Fill",this.showToolTip=!0,this.showAllDayEvents=!1,this.showAllDayEventStartEnd=!0,this.showEventStartEnd=!1,this.showHeader=!0,this.showHours=!0,this.showCurrentTime=!0,this.showCurrentTimeMode="Day",this.showCurrentTimeOffset=0,this.startDate=DayPilot.Date.today(),this.cssClassPrefix="calendar_default",this.tapAndHoldTimeout=300,this.theme=null,this.timeFormat="Auto",this.timeHeaderCellDuration=60,this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.weekStarts=null,this.width=null,this.eventClickHandling="Enabled",this.eventDoubleClickHandling="Disabled",this.eventRightClickHandling="ContextMenu",this.eventDeleteHandling="Disabled",this.eventEditHandling="Update",this.eventHoverHandling="Bubble",this.eventResizeHandling="Update",this.eventMoveHandling="Update",this.eventSelectHandling="Update",this.eventTapAndHoldHandling="Move",this.headerClickHandling="Enabled",this.timeRangeTapAndHoldHandling="Select",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onEventFilter=null,this.onBeforeEventRender=null,this.onBeforeEventExport=null,this.onBeforeCellExport=null,this.u=!0,this.z=!1,this.A=0,this.doubleClickTimeout=300,this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","cssOnly","clientName","uniqueID"],this.members.ignore=["internal","nav","debug","temp","elements","members"],this.members.noCssOnly=["allDayEventBorderColor","allDayEventFontColor","allDayEventFontFamily","allDayEventFontSize","borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cornerBackColor","durationBarColor","durationBarImageUrl","eventBackColor","eventBorderColor","eventFontColor","eventFontFamily","eventFontSize","eventSelectColor","headerFontColor","headerFontFamily","headerFontSize","hourBorderColor","hourFontColor","hourFontFamily","hourFontSize","hourHalfBorderColor","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","roundedCorners","selectedColor","shadow","useEventSelectionBars"],this.B={},this.B.ie=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE"),this.B.ie9=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE 9"),this.B.ielt9=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),this.B.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),this.B.opera105=function(){return!!/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&new Number(RegExp.$1)>=10.5}(),this.B.webkit522=function(){return!!/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&new Number(RegExp.$1)>=522}(),this.clearSelection=function(){return this.selectedCells?(this.C(),void(this.selectedCells=[])):void(this.selectedCells=[])},this.C=function(){if(this.selectedCells)for(var t=0;t<this.selectedCells.length;t++){var e=this.selectedCells[t];e&&e.selected&&(e.removeChild(e.selected),e.firstChild.style.display="",e.selected=null)}},this.cleanSelection=this.clearSelection,this.D=function(t,e,i){var n={};n.action=t,n.parameters=i,n.data=e,n.header=this.E();var a="JSON"+DayPilot.JSON.stringify(n);__doPostBack(o.uniqueID,a)},this.F=function(t,e,i,n){if(!this.q())return void o.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),void 0===n&&(n="CallBack"),this.callbackTimeout=window.setTimeout(function(){o.G()},100);var a={};a.action=t,a.type=n,a.parameters=e,a.data=i,a.header=this.E();var r="JSON"+DayPilot.JSON.stringify(a);this.backendUrl?DayPilot.request(this.backendUrl,this.H,r,this.I):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.J,this.clientName,this.onCallbackError,!0)},this.q=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.I=function(t){if("function"==typeof o.onAjaxError){var e={};e.request=t,o.onAjaxError(e)}else"function"==typeof o.ajaxError&&o.ajaxError(t)},this.dispose=function(){var e=o;e.nav.top&&(e.K(),e.L(),e.nav.messageClose&&(e.nav.messageClose.onclick=null),e.nav.hourTable&&(e.nav.hourTable.oncontextmenu=null),e.nav.hourTable&&(e.nav.hourTable.onmousemove=null),e.nav.header&&(e.nav.header.oncontextmenu=null),e.nav.corner&&(e.nav.corner.oncontextmenu=null),e.nav.zoom.onmousemove=null,e.nav.scroll.onscroll=null,e.nav.scroll.root=null,DayPilot.pu(e.nav.loading),e.M(),e.N(),e.nav.select=null,e.nav.cornerRight=null,e.nav.scrollable=null,e.nav.bottomLeft=null,e.nav.bottomRight=null,e.nav.allday=null,e.nav.zoom=null,e.nav.loading=null,e.nav.events=null,e.nav.header=null,e.nav.hourTable=null,e.nav.scrolltop=null,e.nav.scroll=null,e.nav.vsph=null,e.nav.main=null,e.nav.message=null,e.nav.messageClose=null,e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top=null,DayPilot.ue(window,"resize",e.O),t.unregister(e))},this.P=function(){this.nav.top.dispose=this.dispose,window.eval("var lh=location.hostname;if(!~lh.indexOf('daypilot.org')&&lh!=='localhost')setTimeout(function(){alert('You are using a trial version of DayPilot Pro.')},100000*(Math.random()*6+6));")},this.H=function(t){o.J(t.responseText)},this.E=function(){var t={};return t.v=this.v,t.control="dpc",t.id=this.id,t.clientState=o.clientState,t.columns=this.Q(),t.days=o.days,t.startDate=o.startDate,t.cellDuration=o.cellDuration,t.cssClassPrefix=o.cssClassPrefix,t.heightSpec=o.heightSpec,t.businessBeginsHour=o.businessBeginsHour,t.businessEndsHour=o.businessEndsHour,t.viewType=o.viewType,t.dayBeginsHour=o.dayBeginsHour,t.dayEndsHour=o.dayEndsHour,t.headerLevels=o.headerLevels,t.backColor=o.cellBackColor,t.nonBusinessBackColor=o.cellBackColorNonBusiness,t.eventHeaderVisible=o.eventHeaderVisible,t.timeFormat=o.timeFormat,t.timeHeaderCellDuration=o.timeHeaderCellDuration,t.locale=o.locale,t.scrollY=o.scrollPos,t.showAllDayEvents=o.showAllDayEvents,t.tagFields=o.tagFields,t.weekStarts=o.weekStarts,t.hourNameBackColor=o.hourNameBackColor,t.hourFontFamily=o.hourFontFamily,t.hourFontSize=o.hourFontSize,t.hourFontColor=o.hourFontColor,t.selected=o.multiselect.events(),t.hashes=o.hashes,t},this.R=function(){this.S(),DayPilot.Areas.hideAll()},this.Q=function(){var t=[];if(t.ignoreToJSON=!0,!this.T)return t;for(var e=0;e<this.T.length;e++){var i=this.T[e],n=this.U(i);t.push(n)}return t},this.U=function(t){var e={};return e.Value=t.id,e.Name=t.name,e.ToolTip=t.toolTip,e.Date=t.start,e.Children=this.V(t.children),e},this.V=function(t){var e=[];if(e.ignoreToJSON=!0,!t)return e;for(var i=0;i<t.length;i++)e.push(this.U(t[i]));return e},this.J=function(t,e){var t=DayPilot.Util.parseJSON(t);if(t.BubbleGuid){var i=t.BubbleGuid,n=this.bubbles[i];return delete this.bubbles[i],o.W(),void(void 0!==t.Result.BubbleHTML&&n.updateView(t.Result.BubbleHTML,n))}if(t.CallBackRedirect)return void(document.location.href=t.CallBackRedirect);if(void 0!==t.ClientState&&(o.clientState=t.ClientState),"None"===t.UpdateType)return o.W(),o.X(t.CallBackData,!0),void(t.Message&&o.message(t.Message));if(t.VsUpdate){var a=document.createElement("input");a.type="hidden",a.name=o.id+"_vsupdate",a.id=a.name,a.value=t.VsUpdate,o.nav.vsph.innerHTML="",o.nav.vsph.appendChild(a)}if(o.L(),o.multiselect.clear(!0),o.multiselect.Y=t.SelectedEvents,void 0!==t.TagFields&&(o.tagFields=t.TagFields),void 0!==t.SortDirections&&(o.sortDirections=t.SortDirections),"Full"===t.UpdateType&&(o.colors=t.Colors,o.palette=t.Palette,o.dirtyColors=t.DirtyColors,o.cellProperties=t.CellProperties,o.cellConfig=t.CellConfig,o.columns=t.Columns,o.days=t.Days,o.startDate=new DayPilot.Date(t.StartDate).getDatePart(),o.cellDuration=t.CellDuration,o.heightSpec=t.HeightSpec?t.HeightSpec:o.heightSpec,o.businessBeginsHour=t.BusinessBeginsHour?t.BusinessBeginsHour:o.businessBeginsHour,o.businessEndsHour=t.BusinessEndsHour?t.BusinessEndsHour:o.businessEndsHour,o.viewType=t.ViewType,o.headerLevels=t.HeaderLevels,o.backColor=t.BackColor?t.BackColor:o.backColor,o.nonBusinessBackColor=t.NonBusinessBackColor?t.NonBusinessBackColor:o.nonBusinessBackColor,o.eventHeaderVisible=t.EventHeaderVisible?t.EventHeaderVisible:o.eventHeaderVisible,o.timeFormat=t.TimeFormat?t.TimeFormat:o.timeFormat,o.timeHeaderCellDuration=void 0!==t.TimeHeaderCellDuration?t.TimeHeaderCellDuration:o.timeHeaderCellDuration,o.locale=t.Locale?t.Locale:o.locale,o.dayBeginsHour=void 0!==t.DayBeginsHour?t.DayBeginsHour:o.dayBeginsHour,o.dayEndsHour=void 0!==t.DayEndsHour?t.DayEndsHour:o.dayEndsHour,o.cornerBackColor=t.CornerBackColor,o.cornerHtml=t.CornerHTML,o.hours=t.Hours,o.Z(),o._()),t.Hashes)for(var r in t.Hashes)o.hashes[r]=t.Hashes[r];if(o.aa(t.Events),o.ba(),("Full"===t.UpdateType||o.hideFreeCells)&&(o.ca(),o.da(),o.ea(),o.fa(),o.ga(),o.ha(),o.ia(),o.ja(),o.clearSelection(),o.ka(),void 0!==t.ScrollY?o.scrollToY(t.ScrollY):o.scrollToY(o.initScrollPos)),o.la(),o.ma(),o.na(),o.oa(),"Parent100Pct"===o.heightSpec&&o.O(),"HoldForever"!==o.timeRangeSelectedHandling&&o.clearSelection(),o.pa(),o.todo&&o.todo.del){var s=o.todo.del;s.parentNode.removeChild(s),o.todo.del=null}o.X(t.CallBackData,!0),o.W(),o.qa(),t.Message&&o.message(t.Message)},this.X=function(t,e){var i=function(t,e){return function(){if(o.ra()){if("function"==typeof o.onAfterRender){var i={};i.isCallBack=e,i.data=t,o.onAfterRender(i)}}else o.afterRender&&o.afterRender(t,e)}};window.setTimeout(i(t,e),0)},this.sa=function(t,e,i){var n=o.nav.events,a=n.clientWidth/n.rows[0].cells.length,r=Math.floor(o.coords.x/a);r<0&&(r=0),o.rtl&&(r=o.ta.length-r-1);var s=n.rows[0].cells[r],l=0,c=0,u=0;if(void 0!==t.duration){var d=t.duration;u=Math.floor((o.coords.y-l+o.cellHeight/2)/o.cellHeight)*o.cellHeight+l,c=d*o.cellHeight/(60*o.cellDuration),c=Math.max(c,o.cellHeight)}else{var h=t.event;c=h.part.height,u=h.part.top}var f=document.createElement("div");f.setAttribute("unselectable","on"),f.style.position="absolute",f.style.width="100%",f.style.height=c+"px",f.style.left="0px",f.style.top=u+"px",f.style.zIndex=101,f.exclude=!0;var p=document.createElement("div");return f.appendChild(p),f.className=o.p("_shadow"),p.className=this.p("_shadow_inner"),s.events.appendChild(f),f},this.va=function(){return this.wa()/36e5},this.xa=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.ya=function(){return this.dayBeginsHour>=this.dayEndsHour?24-this.dayBeginsHour+this.dayEndsHour:this.dayEndsHour-this.dayBeginsHour},this.wa=function(t){var e=0;if("BusinessHoursNoScroll"===this.heightSpec)e=this.xa();else if(this.hideFreeCells&&!t){var i=(this.za-1)*this.cellDuration/this.cellHeight,n=Math.ceil(i/60),o=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;e=Math.max(this.dayBeginsHour+n,o)-this.Aa()}else e=this.ya();return 60*e*60*1e3},this.message=function(t,e,i,n){if(t){var a,e=e||this.messageHideAfter||2e3,r=this.Ba(),s=this.showHours?this.hourWidth:0,l=DayPilot.sw(o.Ca());if(o.rtl){var c=s;s=l,l=c}if(this.nav.message)a=o.nav.message,this.nav.message.style.top=r+"px";else{a=document.createElement("div"),a.style.position="absolute",a.style.left=s+"px",a.style.top=r+"px",a.style.right="0px",a.style.display="none",a.onmousemove=function(){a.messageTimeout&&!a.status&&clearTimeout(a.messageTimeout)},a.onmouseout=function(){"none"!==o.nav.message.style.display&&(a.messageTimeout=setTimeout(o.Da,500))};var u=document.createElement("div");u.onclick=function(){o.nav.message.style.display="none"},u.className=this.p("_message"),a.appendChild(u);var d=document.createElement("div");d.style.position="absolute",d.className=this.p("_message_close"),d.onclick=function(){o.nav.message.style.display="none"},a.appendChild(d),this.nav.top.insertBefore(a,this.nav.loading),this.nav.message=a,this.nav.messageClose=d}this.nav.cornerRight?this.nav.message.style.right=l+"px":this.nav.message.style.right="0px";var h=function(){if(o.nav.message){o.nav.message.firstChild.innerHTML=t;var i=function(){a.messageTimeout=setTimeout(o.Da,e)};DayPilot.fade(o.nav.message,.2,i)}};clearTimeout(a.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(o.nav.message,-.2,h):h()}},this.message.show=function(t){o.message(t)},this.message.hide=function(){o.Da()},this.Da=function(){var t=function(){o.nav.message.style.display="none"};DayPilot.fade(o.nav.message,-.2,t)},this.fa=function(){this.nav.message&&(this.nav.message.style.top=this.Ba()+"px")},this.Ea=function(){return this.wa()/(6e4*this.cellDuration)},this.eventClickPostBack=function(t,e){this.D("EventClick",e,t)},this.eventClickCallBack=function(t,e){this.F("EventClick",t,e)},this.Fa=function(t){var e=this,t=t||window.event,i=t.ctrlKey,n=t.metaKey;if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===o.eventDoubleClickHandling)return void o.Ga(e,i,n,t);if(o.timeouts){for(var a in o.timeouts)window.clearTimeout(o.timeouts[a]);o.timeouts=[]}else o.timeouts=[];var r=function(t,e,i,n){return function(){o.Ga(t,e,i,n)}};o.timeouts.push(window.setTimeout(r(this,i,n,t),o.doubleClickTimeout))},this.Ga=function(t,e,i,n){var a=t.event;if(a.client.clickEnabled())if(o.ra()){var r={};if(r.e=a,r.ctrl=e,r.meta=i,r.originalEvent=n,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventClick&&(o.onEventClick(r),r.preventDefault.value))return;switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(a);break;case"CallBack":o.eventClickCallBack(a);break;case"Edit":o.Ha(t);break;case"Select":o.Ia(t,a,e,i);break;case"Bubble":o.bubble&&o.bubble.showEvent(a);break;case"ContextMenu":var s=a.client.contextMenu();s?s.show(a):o.contextMenu&&o.contextMenu.show(a)}"function"==typeof o.onEventClicked&&o.onEventClicked(r)}else switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(a);break;case"CallBack":o.eventClickCallBack(a);break;case"JavaScript":o.onEventClick(a);break;case"Edit":o.Ha(t);break;case"Select":o.Ia(t,a,e,i);break;case"Bubble":o.bubble&&o.bubble.showEvent(a);break;case"ContextMenu":var s=a.client.contextMenu();s?s.show(a):o.contextMenu&&o.contextMenu.show(a)}},this.eventDoubleClickPostBack=function(t,e){this.D("EventDoubleClick",e,t)},this.eventDoubleClickCallBack=function(t,e){this.F("EventDoubleClick",t,e)},this.Ja=function(t){if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),o.timeouts){for(var e in o.timeouts)window.clearTimeout(o.timeouts[e]);o.timeouts=null}var i=this.event,t=t||window.event;if(o.ra()){var n={};if(n.e=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDoubleClick&&(o.onEventDoubleClick(n),n.preventDefault.value))return;switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(i);break;case"CallBack":o.eventDoubleClickCallBack(i);break;case"Edit":i.allday()||o.Ha(this);break;case"Select":i.allday()||o.Ia(this,i,t.ctrlKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(i)}"function"==typeof o.onEventDoubleClicked&&o.onEventDoubleClicked(n)}else switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(i);break;case"CallBack":o.eventDoubleClickCallBack(i);break;case"JavaScript":o.onEventDoubleClick(i);break;case"Edit":i.allday()||o.Ha(this);break;case"Select":i.allday()||o.Ia(this,i,t.ctrlKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(i)}},this.eventRightClickPostBack=function(t,e){this.D("EventRightClick",e,t)},this.eventRightClickCallBack=function(t,e){this.F("EventRightClick",t,e)},this.Ka=function(t){var e=this.event;if(!e.client.rightClickEnabled())return!1;if(o.ra()){var i={};if(i.e=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventRightClick&&(o.onEventRightClick(i),i.preventDefault.value))return;switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(e);break;case"CallBack":o.eventRightClickCallBack(e);break;case"ContextMenu":var n=e.client.contextMenu();n?n.show(e):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(e)}"function"==typeof o.onEventRightClicked&&o.onEventRightClicked(i)}else switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(e);break;case"CallBack":o.eventRightClickCallBack(e);break;case"JavaScript":o.onEventRightClick(e);break;case"ContextMenu":var n=e.client.contextMenu();n?n.show(e):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(e)}return t.preventDefault&&t.preventDefault(),!1},this.headerClickPostBack=function(t,e){this.D("HeaderClick",e,t)},this.headerClickCallBack=function(t,e){this.F("HeaderClick",t,e)},this.La=function(e){var i=this.data,n=new t.Column(i.id,i.name,i.start);if(o.ra()){var a={};if(a.header={},a.header.id=i.id,a.header.name=i.name,a.header.start=i.start,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onHeaderClick&&(o.onHeaderClick(a),a.preventDefault.value))return;switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(n);break;case"CallBack":o.headerClickCallBack(n)}"function"==typeof o.onHeaderClicked&&o.onHeaderClicked(a)}else switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(n);break;case"CallBack":o.headerClickCallBack(n);break;case"JavaScript":o.onHeaderClick(n)}},this.Ma=function(){if(void 0!==DayPilot.Bubble&&o.columnBubble)if("Resources"===o.viewType){var e={};e.calendar=o,e.id=this.data.id,e.toJSON=function(){var t={};return t.id=this.id,t},o.columnBubble.showResource(e)}else{var i=new DayPilot.Date(this.data.start),n=i.addDays(1),a={};a.calendar=o,a.start=i,a.end=n,a.toJSON=function(){var t={};return t.start=this.start,t.end=this.end,t},o.columnBubble.showTime(a)}var r=this,s=r.firstChild;if(!s.active){var l=r.data,c=new t.Column(l.id,l.name,l.start);c.areas=r.data.areas,DayPilot.Areas.showAreas(s,c)}},this.Na=function(t){void 0!==DayPilot.Bubble&&o.columnBubble&&o.columnBubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this.firstChild,t)},this.eventDeletePostBack=function(t,e){this.D("EventDelete",e,t)},this.eventDeleteCallBack=function(t,e){this.F("EventDelete",t,e)},this.Oa=function(t){var e;if(e=t&&t.isEvent?t:t.parentNode.parentNode.event,o.ra()){var i={};if(i.e=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDelete&&(o.onEventDelete(i),i.preventDefault.value))return;switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(e);break;case"CallBack":o.eventDeleteCallBack(e);break;case"Update":o.events.remove(e)}"function"==typeof o.onEventDeleted&&o.onEventDeleted(i)}else switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(e);break;case"CallBack":o.eventDeleteCallBack(e);break;case"JavaScript":o.onEventDelete(e)}},this.eventResizePostBack=function(t,e,i,n){if(!e)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=t,o.newStart=e,o.newEnd=i,this.D("EventResize",n,o)},this.eventResizeCallBack=function(t,e,i,n){if(!e)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=t,o.newStart=e,o.newEnd=i,this.F("EventResize",o,n)},this.Pa=function(t,e,i,n){if("PostBack"===t)o.postBack2(e,i,n);else if("CallBack"===t)o.F(e,i,n,"CallBack");else if("Immediate"===t)o.F(e,i,n,"Notify");else if("Queue"===t)o.queue.add(new DayPilot.Action(this,e,i,n));else{if("Notify"!==t)throw"Invalid event invocation type";"Notify"===r.notifyType()?o.F(e,i,n,"Notify"):o.queue.add(new DayPilot.Action(o,e,i,n))}},this.Aa=function(t){if("BusinessHoursNoScroll"===this.heightSpec)return this.businessBeginsHour;if(this.hideFreeCells&&!t){var e=this.Qa*this.cellDuration/this.cellHeight,i=Math.floor(e/60);return i=Math.max(0,i),Math.min(this.dayBeginsHour+i,this.businessBeginsHour)}return this.dayBeginsHour},this.visibleStart=function(){if("Resources"===o.viewType){var t=DayPilot.list(o.ta).map(function(t){return t.start.getTime()}),e=Math.min.apply(null,t);return new DayPilot.Date(e)}return this.ta[0].start},this.visibleEnd=function(){if("Resources"===o.viewType){var t=DayPilot.list(o.ta).map(function(t){return t.start.getTime()}),e=Math.max.apply(null,t);return new DayPilot.Date(e).addDays(1)}var i=this.ta,e=i.length-1;return i[e].start.addDays(1)};this.ra=function(){return 2===o.api},this.Ra=function(t,e,i,n){if("Disabled"!==this.eventResizeHandling){var a=0,r=new Date,s=new Date,l=t.start(),c=(t.end(),o.cellDuration),u=o.ta[t.part.dayIndex].start;if("top"===n){var u=l.getDatePart(),d=Math.floor((i-a)/o.cellHeight),h=d*c,f=60*h*1e3,p=60*o.Aa()*60*1e3;r=u.addTime(f+p),s=t.end()}else if("bottom"===n){var d=Math.floor((i+e-a)/o.cellHeight),h=d*c,f=60*h*1e3,p=60*o.Aa()*60*1e3;r=l,s=u.addTime(f+p)}if(o.ra()){var v={};if(v.e=t,v.newStart=r,v.newEnd=s,v.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventResize&&(o.onEventResize(v),v.preventDefault.value))return;switch(o.eventResizeHandling){case"PostBack":o.eventResizePostBack(t,r,s);break;case"CallBack":o.eventResizeCallBack(t,r,s);break;case"Notify":o.eventResizeNotify(t,r,s);break;case"Update":t.start(r),t.end(s),o.events.update(t)}"function"==typeof o.onEventResized&&o.onEventResized(v)}else switch(o.eventResizeHandling){case"PostBack":o.eventResizePostBack(t,r,s);break;case"CallBack":o.eventResizeCallBack(t,r,s);break;case"JavaScript":o.onEventResize(t,r,s);break;case"Notify":o.eventResizeNotify(t,r,s)}}},this.eventResizeNotify=function(t,e,i,n){var a=new DayPilot.Event(t.copy(),this);t.start(e),t.end(i),t.commit(),o.update(),this.Sa("Notify",a,e,i,n)},this.Sa=function(t,e,i,n,o){var a={};a.e=e,a.newStart=i,a.newEnd=n,this.Pa(t,"EventResize",a,o)},this.eventMovePostBack=function(t,e,i,n,o){if(!e)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=t,a.newStart=e,a.newEnd=i,a.newResource=n,this.D("EventMove",o,a)},this.eventMoveCallBack=function(t,e,i,n,o){if(!e)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=t,a.newStart=e,a.newEnd=i,a.newResource=n,this.F("EventMove",a,o)},this.Ta=function(t,e,i,n,a){if("Disabled"!==o.eventMoveHandling){var r=0,s=Math.floor((i-r)/o.cellHeight),l=o.cellDuration,c=s*l*60*1e3,u=t.start(),d=t.end(),h=new Date;u instanceof DayPilot.Date&&(u=u.toDate()),h.setTime(Date.UTC(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()));var f="Never"!==o.useEventBoxes?u.getTime()-(h.getTime()+3600*u.getUTCHours()*1e3+Math.floor(u.getUTCMinutes()/l)*l*60*1e3):0,p=d.getTime()-u.getTime(),v=3600*o.Aa()*1e3;void 0===e&&(e=t.part.dayIndex);var g=this.ta[e],y=g.start.getTime(),m=new Date;m.setTime(y+c+f+v);var b=new DayPilot.Date(m),w=b.addTime(p),D=!!a,C=g.id;if(o.ra()){var k={};if(k.e=t,k.newStart=b,k.newEnd=w,k.newResource=C,k.external=D,k.ctrl=!1,n&&(k.ctrl=n.ctrlKey),k.shift=!1,n&&(k.shift=n.shiftKey),k.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventMove&&(o.onEventMove(k),k.preventDefault.value))return;switch(o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,b,w,C);break;case"CallBack":o.eventMoveCallBack(t,b,w,C);break;case"Notify":o.eventMoveNotify(t,b,w,C);break;case"Update":t.start(b),t.end(w),t.resource(C),D?(t.commit(),o.events.add(t)):o.events.update(t),o.Ua()}"function"==typeof o.onEventMoved&&o.onEventMoved(k)}else switch(o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,b,w,C);break;case"CallBack":o.eventMoveCallBack(t,b,w,C);break;case"JavaScript":o.onEventMove(t,b,w,C,D,!!n&&n.ctrlKey,!!n&&n.shiftKey);break;case"Notify":o.eventMoveNotify(t,b,w,C,null)}}},this.eventMoveNotify=function(t,e,i,n,a){var r=new DayPilot.Event(t.copy(),this);t.start(e),t.end(i),t.resource(n),t.commit(),o.update(),this.Va("Notify",r,e,i,n,a)},this.Va=function(t,e,i,n,o,a){var r={};r.e=e,r.newStart=i,r.newEnd=n,r.newResource=o,this.Pa(t,"EventMove",r,a)},this.Ua=function(){if(o.todo&&o.todo.del){var t=o.todo.del;t.parentNode.removeChild(t),o.todo.del=null}},this.Wa=function(t,e){var i=o.Xa(e),n={};n.args=t,n.guid=i,o.F("Bubble",n)},this.Xa=function(t){var e=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[e]=t,e},this.eventMenuClickPostBack=function(t,e,i){var n={};n.e=t,n.command=e,this.D("EventMenuClick",i,n)},this.eventMenuClickCallBack=function(t,e,i){var n={};n.e=t,n.command=e,this.F("EventMenuClick",n,i)},this.Ya=function(t,e,i){switch(i){case"PostBack":o.eventMenuClickPostBack(e,t);break;case"CallBack":o.eventMenuClickCallBack(e,t)}},this.timeRangeMenuClickPostBack=function(t,e,i){var n={};n.selection=t,n.command=e,this.D("TimeRangeMenuClick",i,n)},this.timeRangeMenuClickCallBack=function(t,e,i){var n={};n.selection=t,n.command=e,this.F("TimeRangeMenuClick",n,i)},this.Za=function(t,e,i){switch(i){case"PostBack":o.timeRangeMenuClickPostBack(e,t);break;case"CallBack":o.timeRangeMenuClickCallBack(e,t)}},this.timeRangeSelectedPostBack=function(t,e,i,n){var o={};o.start=t,o.end=e,o.resource=i,this.D("TimeRangeSelected",n,o)},this.timeRangeSelectedCallBack=function(t,e,i,n){var o={};o.start=t,o.end=e,o.resource=i,this.F("TimeRangeSelected",o,n)},this.$a=function(t,e,i){t=new DayPilot.Date(t),e=new DayPilot.Date(e);var n=i;if(o.ra()){var a={};if(a.start=t,a.end=e,a.resource=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeSelect&&(o.onTimeRangeSelect(a),a.preventDefault.value))return;switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,e,n);break;case"CallBack":o.timeRangeSelectedCallBack(t,e,n)}"function"==typeof o.onTimeRangeSelected&&o.onTimeRangeSelected(a)}else switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,e,i);break;case"CallBack":o.timeRangeSelectedCallBack(t,e,i);break;case"JavaScript":o.onTimeRangeSelected(t,e,i)}},this.timeRangeDoubleClickPostBack=function(t,e,i,n){var o={};o.start=t,o.end=e,o.resource=i,this.D("TimeRangeDoubleClick",n,o)},this.timeRangeDoubleClickCallBack=function(t,e,i,n){var o={};o.start=t,o.end=e,o.resource=i,this.F("TimeRangeDoubleClick",o,n)},this._a=function(t,e,i){if(o.ra()){var n=i,a={};if(a.start=t,a.end=e,a.resource=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeDoubleClick&&(o.onTimeRangeDoubleClick(a),a.preventDefault.value))return;switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(t,e,n);break;case"CallBack":o.timeRangeDoubleClickCallBack(t,e,n)}"function"==typeof o.onTimeRangeDoubleClicked&&o.onTimeRangeDoubleClicked(a)}else switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(t,e,i);break;case"CallBack":o.timeRangeDoubleClickCallBack(t,e,i);break;case"JavaScript":o.onTimeRangeDoubleClick(t,e,i)}},this.eventEditPostBack=function(t,e,i){var n={};n.e=t,n.newText=e,this.D("EventEdit",i,n)},this.eventEditCallBack=function(t,e,i){var n={};n.e=t,n.newText=e,this.F("EventEdit",n,i)},this.ab=function(t,e){if(o.ra()){var i={};if(i.e=t,i.newText=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventEdit&&(o.onEventEdit(i),i.preventDefault.value))return;switch(o.eventEditHandling){case"PostBack":o.eventEditPostBack(t,e);break;case"CallBack":o.eventEditCallBack(t,e);break;case"Update":t.text(e),o.events.update(t)}if("function"==typeof o.onEventEdited&&(o.onEventEdited(i),i.preventDefault.value))return}else switch(o.eventEditHandling){case"PostBack":o.eventEditPostBack(t,e);break;case"CallBack":o.eventEditCallBack(t,e);break;case"JavaScript":o.onEventEdit(t,e)}},this.eventSelectPostBack=function(t,e,i){var n={};n.e=t,n.change=e,this.D("EventSelect",i,n)},this.eventSelectCallBack=function(t,e,i){var n={};n.e=t,n.change=e,this.F("EventSelect",n,i)},this.bb=function(t,e,i,n){var a=o.multiselect,r=a.isSelected(e);if(i||n||!r||1!==a.cb.length)if(o.ra()){a.previous=a.events();var s={};if(s.e=e,s.selected=a.isSelected(e),s.ctrl=i,s.meta=n,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventSelect&&(o.onEventSelect(s),s.preventDefault.value))return;switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(e,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),o.eventSelectCallBack(e,l);break;case"Update":a.fb(t,i)}"function"==typeof o.onEventSelected&&(s.change=a.isSelected(e)?"selected":"deselected",s.selected=a.isSelected(e),o.onEventSelected(s))}else{a.previous=a.events(),a.fb(t,i);var l=a.isSelected(e)?"selected":"deselected";switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(e,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),o.eventSelectCallBack(e,l);break;case"JavaScript":o.onEventSelect(e,l)}}},this.commandCallBack=function(t,e){this.K();var i={};i.command=t,this.F("Command",i,e)},this.gb=function(e){if(!a.active&&!a.using&&(clearTimeout(t.selectedTimeout),!t.selecting)){if(t.editing)return void t.editing.blur();if(o.selectedCells&&"Disabled"!==o.timeRangeDoubleClickHandling)for(var i=0;i<o.selectedCells.length;i++)if(this===o.selectedCells[i])return;"Disabled"!==o.timeRangeSelectedHandling&&DayPilot.Util.mouseButton(e).left&&(t.firstMousePos=DayPilot.mc(e||window.event),o.clearSelection(),t.topSelectedCell=this,t.bottomSelectedCell=this,t.column=t.getColumn(this),o.selectedCells.push(this),t.firstSelected=this)}},this.hb=function(){if(this.getSelection()&&o.selectedCells)for(var t=0;t<o.selectedCells.length;t++){var e=o.selectedCells[t];if(e&&!e.selected){var i=document.createElement("div");i.style.height=o.cellHeight-1+"px",i.style.backgroundColor=o.selectedColor,e.firstChild.style.display="none",e.insertBefore(i,e.firstChild),e.selected=i}}},this.ib=function(t){void 0!==DayPilot.Bubble&&o.cellBubble&&o.cellBubble.hideOnMouseOut()},this.jb=function(e){if(void 0!==t&&!a.active&&!a.using){if(void 0!==DayPilot.Bubble&&o.cellBubble){var i=t.getColumn(this),n=o.ta[i].id,r={};r.calendar=o,r.start=this.start,r.end=this.end,r.resource=n,r.toJSON=function(){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t},o.cellBubble.showCell(r)}if(t.firstMousePos){var s=t.firstMousePos,l=DayPilot.mc(e||window.event);s.x===l.x&&s.y===l.y||(t.selecting=!0,o.clearSelection(),o.hb())}if(t.selecting){var c=DayPilot.mc(e||window.event);t.getColumn(this)===t.column&&(o.clearSelection(),c.y<t.firstMousePos.y?(o.selectedCells=t.getCellsBelow(this),t.topSelectedCell=o.selectedCells[0],t.bottomSelectedCell=t.firstSelected):(o.selectedCells=t.getCellsAbove(this),t.topSelectedCell=t.firstSelected,t.bottomSelectedCell=o.selectedCells[0]),o.hb())}}},this.getSelection=function(){if(!t.topSelectedCell)return null;if(!t.bottomSelectedCell)return null;var e=t.topSelectedCell.start,i=t.bottomSelectedCell.end,n=t.topSelectedCell.resource;return new DayPilot.Selection(e,i,n,o)},this.kb=function(e){if(t.firstMousePos){var i=function(){t.selecting=!0,o.hb(),t.firstMousePos=null,t.selecting=!1;var e=o.getSelection();o.$a(e.start,e.end,e.resource)};t.selecting&&null!==t.topSelectedCell?i():t.selectedTimeout=setTimeout(i,100)}else t.selecting=!1},this.lb=function(t){if("Fixed"===o.columnWidthSpec||o.mb){if(!o.nav.bottomLeft)return;o.nav.bottomLeft.scrollTop=o.nav.bottomRight.scrollTop,o.nav.upperRight&&(o.nav.upperRight.scrollLeft=o.nav.bottomRight.scrollLeft),o.nav.scrollLayer.scrollLeft=o.nav.bottomRight.scrollLeft}var e=o.nb();o.scrollPos=e.scrollTop,o.ob=e.clientHeight,o.nav.scrollpos.value=o.scrollPos,o.pa()},this.pa=function(){if(this.scrollLabelsVisible&&this.pb&&this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0){for(var t=(this.ta,this.showHours?this.hourWidth:0),e=this.nav.main.rows[0].cells[0].clientWidth,i=1,n=0;n<this.nav.scrollUp.length;n++){var a=this.nav.scrollUp[n],r=this.nav.scrollDown[n],s=Math.floor(t+n*e+e/2-5+i);s<0&&(s=0),s-=o.nav.bottomRight.scrollLeft,a&&a.style&&(a.style.left=s+"px"),r&&r.style&&(r.style.left=s+"px")}for(var l=this.qb(),n=0;n<this.nav.scrollUp.length;n++){var c=this.nav.scrollUp[n],u=this.nav.scrollDown[n],d=this.pb[n].minEnd-l,h=this.pb[n].maxStart-l;c&&u&&(d<=o.scrollPos&&parseInt(c.style.left)>=o.hourWidth?(c.style.top=this.Ba()+"px",c.style.display=""):c.style.display="none",h>=o.scrollPos+o.ob&&parseInt(u.style.left)>=o.hourWidth?(u.style.top=this.Ba()+this.ob-10+"px",u.style.display=""):u.style.display="none")}}},this.rb=function(t){var e=t.parentNode,i=0,n=t.offsetTop,o=t.parentNode.offsetWidth,a=t.offsetHeight;t.event.allday()&&(i=t.offsetLeft,o=t.offsetWidth);var r=document.createElement("textarea");r.style.boxSizing="border-box",r.style.position="absolute",r.style.width=o+"px",r.style.height=a+"px";var s=DayPilot.gs(t,"fontFamily");s||(s=DayPilot.gs(t,"font-family")),r.style.fontFamily=s;var l=DayPilot.gs(t,"fontSize");return l||(l=DayPilot.gs(t,"font-size")),r.style.fontSize=l,r.style.left=i+"px",r.style.top=n+"px",r.style.border="1px solid black",r.style.padding="0px",r.style.marginTop="0px",r.style.backgroundColor="white",r.value=DayPilot.tr(t.event.text()),r.event=t.event,e.appendChild(r),r},this.Ia=function(t,e,i,n){o.bb(t,e,i,n)},this.multiselect={},this.multiselect.Y=[],this.multiselect.cb=[],this.multiselect.sb=[],this.multiselect.tb=[],this.multiselect.ub=function(){var t=o.multiselect;return DayPilot.JSON.stringify(t.events())},this.multiselect.events=function(){var t=o.multiselect,e=[];e.ignoreToJSON=!0;for(var i=0;i<t.cb.length;i++)e.push(t.cb[i]);return e},this.multiselect.vb=function(){o.nav.select.value=o.multiselect.ub()},this.multiselect.fb=function(t,e){var i=o.multiselect;if(i.isSelected(t.event))if(o.allowMultiSelect)if(e)i.remove(t.event,!0);else{var n=i.cb.length;i.clear(!0),n>1&&i.add(t.event,!0)}else i.clear(!0);else o.allowMultiSelect&&e?i.add(t.event,!0):(i.clear(!0),i.add(t.event,!0));i.redraw(),i.vb()},this.multiselect.wb=function(t){var e=o.multiselect;return e.xb(t,e.Y)},this.multiselect.yb=function(){for(var t=o.multiselect,e=[],i=0;i<t.cb.length;i++){var n=t.cb[i];e.push(n.value())}alert(e.join("\n"))},this.multiselect.add=function(t,e){var i=o.multiselect;-1===i.zb(t)&&i.cb.push(t),i.vb(),e||i.redraw()},this.multiselect.remove=function(t,e){var i=o.multiselect,n=i.zb(t);-1!==n&&i.cb.splice(n,1),i.vb(),e||i.redraw()},this.multiselect.clear=function(t){var e=o.multiselect;e.cb=[],e.vb(),t||e.redraw()},this.multiselect.redraw=function(){for(var t=o.multiselect,e=0;e<o.elements.events.length;e++){var i=o.elements.events[e];t.isSelected(i.event)?t.Ab(i):t.Bb(i)}},this.multiselect.Ab=function(t){var e=o.multiselect,i=o.p("_selected"),n=e.Cb(t);DayPilot.Util.addClass(n,i),o.useEventSelectionBars&&e.Db(t),e.sb.push(t)},this.multiselect.Cb=function(t){return t},this.multiselect.Eb=function(){for(var t=o.multiselect,e=0;e<t.sb.length;e++){var i=t.sb[e];t.Bb(i,!0)}t.sb=[]},this.multiselect.Bb=function(t,e){var i=o.multiselect,n=o.p("_selected"),a=i.Cb(t);if(DayPilot.Util.removeClass(a,n),o.useEventSelectionBars&&i.Fb(t),!e){var r=DayPilot.indexOf(i.sb,t);-1!==r&&i.sb.splice(r,1)}},this.multiselect.isSelected=function(t){return o.multiselect.xb(t,o.multiselect.cb)},this.multiselect.zb=function(t){return DayPilot.indexOf(o.multiselect.cb,t)},this.multiselect.xb=function(t,e){if(!e)return!1;for(var i=0;i<e.length;i++){var n=e[i];if(t===n)return!0;if("function"==typeof n.value){if(null!==n.value()&&null!==t.value()&&n.value()===t.value())return!0;if(null===n.value()&&null===t.value()&&n.recurrentMasterId()===t.recurrentMasterId()&&t.start().toStringSortable()===n.start())return!0}else{if(null!==n.value&&null!==t.value()&&n.value===t.value())return!0;if(null===n.value&&null===t.value()&&n.recurrentMasterId===t.recurrentMasterId()&&t.start().toStringSortable()===n.start)return!0}}return!1},this.multiselect.Db=function(t){if(!t.top){var e=document.createElement("div");e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.left=t.offsetLeft+"px",e.style.width=t.offsetWidth+"px",e.style.top=t.offsetTop-5+"px",e.style.height="5px",e.style.backgroundColor=o.eventSelectColor,e.style.zIndex=100,t.parentNode.appendChild(e),t.top=e}if(!t.bottom){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.style.position="absolute",i.style.left=t.offsetLeft+"px",i.style.width=t.offsetWidth+"px",i.style.top=t.offsetTop+t.offsetHeight+"px",i.style.height="5px",i.style.backgroundColor=o.eventSelectColor,i.style.zIndex=100,t.parentNode.appendChild(i),t.bottom=i}},this.multiselect.Fb=function(t){t.top&&(t.parentNode.removeChild(t.top),t.top=null),t.bottom&&(t.parentNode.removeChild(t.bottom),t.bottom=null)},this.Ha=function(e){if(t.editing)return void t.editing.blur();var i=this.rb(e);t.editing=i,DayPilot.re(i,DayPilot.touch.start,function(t){t.stopPropagation()}),i.onblur=function(){var n=(e.event.value(),e.event.tag(),e.event.text()),a=i.value;t.editing=null,i.onblur=null,DayPilot.de(i),n!==a&&(e.style.display="none",o.ab(e.event,a))},i.onkeypress=function(e){var n=window.event?event.keyCode:e.keyCode;return 13===n?(this.onblur(),!1):(27===n&&(i.parentNode.removeChild(i),t.editing=!1),!0)},i.select(),i.focus()},this.Gb=function(){return!("Resources"===o.viewType||o.columns&&o.q())},this.Z=function(){if(o.Gb()){var t=this.Hb();this.ta=this.Ib(t)}else this.T=this.Ib(this.columns||[]),this.ta=this.Jb(this.headerLevels,!0)},this.Kb=function(){var t=this.startDate.getDatePart(),e=this.days;switch(this.viewType){case"Day":e=1;break;case"Week":e=7,t=t.firstDayOfWeek(r.weekStarts());break;case"WorkWeek":e=5,t=t.firstDayOfWeek(1)}var i=t.addDays(e),n={};return n.start=t,n.end=i,n.days=e,n},this.Hb=function(){for(var t=[],e=this.Kb(),i=e.start,n=e.days,a=0;a<n;a++){var s={};s.start=i.addDays(a);var l=r.locale().datePattern;o.headerDateFormat&&(l=o.headerDateFormat),s.name=s.start.toString(l,r.locale()),s.html=s.name,t.push(s)}return t},this.Lb=function(t){var e={};return t.Start&&(t.id=t.Value,t.start=t.Start,t.name=t.Name,t.html=t.InnerHTML,t.toolTip=t.ToolTip,t.backColor=t.BackColor,t.areas=t.Areas,t.children=t.Children,delete t.Value,delete t.Start,delete t.Name,delete t.InnerHTML,delete t.ToolTip,delete t.BackColor,delete t.Areas,delete t.Children),e.id=t.id,e.start=new DayPilot.Date(t.start||o.startDate).getDatePart(),e.name=t.name,e.html=t.html||t.name,e.toolTip=t.toolTip,e.backColor=t.backColor,e.areas=t.areas,e.getChildren=function(t,e){var i=[];if(t<=1)return i.push(this),i;if(!this.children||0===this.children.length)return e?i.push(this):i.push("empty"),i;for(var n=0;n<this.children.length;n++)for(var o=this.children[n],a=o.getChildren(t-1,e),r=0;r<a.length;r++)i.push(a[r]);return i},e.getChildrenCount=function(t){var e=0;if(!this.children||this.children.length<=0||t<=1)return 1;for(var i=0;i<this.children.length;i++)e+=this.children[i].getChildrenCount(t-1);return e},e.putIntoBlock=function(t){for(var e=0;e<this.blocks.length;e++){var i=this.blocks[e];if(i.overlapsWith(t.part.top,t.part.height))return i.events.push(t),i.min=Math.min(i.min,t.part.top),i.max=Math.max(i.max,t.part.top+t.part.height),e}var i=[];return i.lines=[],i.events=[],i.overlapsWith=function(t,e){return!(t+e-1<this.min||t>this.max-1)},i.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var i=this.lines[e];if(i.isFree(t.part.top,t.part.height))return i.push(t),e}var i=[];return i.isFree=function(t,e){for(var i=t+e-1,n=this.length,o=0;o<n;o++){var a=this[o];if(!(i<a.part.top||t>a.part.top+a.part.height-1))return!1}return!0},i.push(t),this.lines.push(i),this.lines.length-1},i.events.push(t),i.min=t.part.top,i.max=t.part.top+t.part.height,this.blocks.push(i),this.blocks.length-1},e.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var i=this.lines[e];if(i.isFree(t.part.top,t.part.height))return i.push(t),e}var i=[];return i.isFree=function(t,e){for(var i=t+e-1,n=this.length,o=0;o<n;o++){var a=this[o];if(!(i<a.part.top||t>a.part.top+a.part.height-1))return!1}return!0},i.push(t),this.lines.push(i),this.lines.length-1},t.children&&(e.children=this.Ib(t.children)),e},this.Ib=function(t){var e=DayPilot.list();return DayPilot.list(t).each(function(t){var i=o.Lb(t);e.push(i)}),e},this.Jb=function(t,e){for(var i=this.Gb()?this.ta:this.T,n=[],o=0;o<i.length;o++)for(var a=i[o].getChildren(t,e),r=0;r<a.length;r++)n.push(a[r]);return n},this.oa=function(){if(this.showAllDayEvents){var t=this.nav.header;if(t){t.style.display="none";for(var e=this.ta.length,i=0;i<this.Mb.lines.length;i++)for(var n=this.Mb.lines[i],a=0;a<n.length;a++){var s=n[a],l=s.cache||s.data,c=document.createElement("div");c.event=s,c.setAttribute("unselectable","on"),c.style.position="absolute",o.rtl?c.style.right=100*s.part.colStart/e+"%":c.style.left=100*s.part.colStart/e+"%",c.style.width=100*s.part.colWidth/e+"%",c.style.height=r.allDayEventHeight()+"px",c.className=this.p("_alldayevent"),c.style.top=this.headerLevels*r.headerHeight()+i*r.allDayEventHeight()+"px",l.cssClass&&DayPilot.Util.addClass(c,l.cssClass),c.style.textAlign="left",c.style.lineHeight="1.2",s.client.clickEnabled()&&(c.onclick=this.Fa),s.client.doubleClickEnabled()&&(c.ondblclick=this.Ja),s.client.clickEnabled()||s.client.doubleClickEnabled()?c.style.cursor="pointer":c.style.cursor="default",DayPilot.re(c,"contextmenu",this.Ka),c.onmousemove=function(t){var e=this;if(!e.active){var i=[];s.client.deleteEnabled()&&i.push({action:"JavaScript",v:"Hover",w:17,h:17,top:3,right:3,css:o.p("_event_delete"),js:function(t){o.Oa(t)}});var n=l.areas;n&&n.length>0&&(i=i.concat(n)),DayPilot.Areas.showAreas(e,e.event,null,i),DayPilot.Util.addClass(e,o.p("_alldayevent_hover"))}void 0!==DayPilot.Bubble&&o.bubble&&"Disabled"!==o.eventHoverHandling&&o.bubble.showEvent(this.event)},c.onmouseout=function(t){var e=this;DayPilot.Util.removeClass(e,o.p("_alldayevent_hover")),DayPilot.Areas.hideAreas(this,t),o.bubble&&o.bubble.hideOnMouseOut()},this.showToolTip&&!this.bubble&&c.setAttribute("title",s.client.toolTip());var u=s.start().getTime()===s.part.start.getTime(),d=s.end().getTime()===s.part.end.getTime(),h=l.backColor,f=document.createElement("div");if(f.setAttribute("unselectable","on"),f.className=this.p("_alldayevent_inner"),h&&(f.style.background=h),l.fontColor&&(f.style.color=l.fontColor),l.borderColor&&(f.style.borderColor=l.borderColor),o.rtl?(u||DayPilot.Util.addClass(c,this.p("_alldayevent_continueright")),d||DayPilot.Util.addClass(c,this.p("_alldayevent_continueleft"))):(u||DayPilot.Util.addClass(c,this.p("_alldayevent_continueleft")),d||DayPilot.Util.addClass(c,this.p("_alldayevent_continueright"))),s.client.innerHTML()?f.innerHTML=s.client.innerHTML():f.innerHTML=s.text(),c.appendChild(f),o.ra()){if("function"==typeof o.onAfterEventRender){var p={};p.e=c.event,p.div=c,o.onAfterEventRender(p)}}else o.afterEventRender&&o.afterEventRender(c.event,c);this.nav.allday.appendChild(c),this.elements.events.push(c)}t.style.display=""}}},this.L=function(t){if(o.multiselect.Eb(),this.elements.events)for(var e=0;e<this.elements.events.length;e++){var i=this.elements.events[e],n=i.event;if(!n||!t||n.allday()){if(n&&(n.div=null,n.root=null),i.onclick=null,i.onclickSave=null,i.ondblclick=null,i.oncontextmenu=null,i.onmouseover=null,i.onmouseout=null,i.onmousemove=null,i.onmousedown=null,i.firstChild&&i.firstChild.firstChild&&i.firstChild.firstChild.tagName&&"IMG"===i.firstChild.firstChild.tagName.toUpperCase()){var a=i.firstChild.firstChild;a.onmousedown=null,a.onmousemove=null,a.onclick=null}i.helper=null,i.event=null,DayPilot.de(i)}}this.elements.events=[]},this.Nb=function(t){var e=this.nav.events,i=(this.roundedCorners,this.roundedCorners&&(this.B.ff||this.B.opera105||this.B.webkit522||this.B.ielt9),this.roundedCorners,t.cache||t.data),n=(i.borderColor||this.eventBorderColor,document.createElement("div"));n.setAttribute("unselectable","on"),n.style.MozUserSelect="none",n.style.KhtmlUserSelect="none",n.style.WebkitUserSelect="none",n.style.position="absolute",n.className=this.p("_event"),n.style.left=t.part.left+"%",n.style.top=t.part.top-this.qb()+"px",n.style.width=t.part.width+"%",n.style.height=Math.max(t.part.height,2)+"px",n.style.overflow="hidden",n.isFirst=t.part.start.getTime()===t.start().getTime(),n.isLast=t.part.end.getTime()===t.end().getTime(),t.client.clickEnabled()&&(n.onclick=this.Fa),t.client.doubleClickEnabled()&&(n.ondblclick=this.Ja),DayPilot.re(n,"contextmenu",this.Ka),n.onmousemove=this.Ob,n.onmouseout=this.Pb,n.onmousedown=this.Qb,DayPilot.re(n,DayPilot.touch.start,this.Rb.onEventTouchStart),DayPilot.re(n,DayPilot.touch.move,this.Rb.onEventTouchMove),DayPilot.re(n,DayPilot.touch.end,this.Rb.onEventTouchEnd),i.cssClass&&DayPilot.Util.addClass(n,i.cssClass),this.showToolTip&&!this.bubble&&n.setAttribute("title",t.client.toolTip());var a=document.createElement("div");if(a.setAttribute("unselectable","on"),a.className=o.p("_event_inner"),a.innerHTML=t.client.innerHTML(),i.fontColor&&(a.style.color=i.fontColor),i.backColor&&(a.style.background=i.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(a.style.filter="")),i.borderColor&&(a.style.borderColor=i.borderColor),i.backgroundImage&&(a.style.backgroundImage="url("+i.backgroundImage+")",i.backgroundRepeat&&(a.style.backgroundRepeat=i.backgroundRepeat)),n.appendChild(a),t.client.barVisible()){var r=t.part.height-2,s=100*t.part.barTop/r,l=Math.ceil(100*t.part.barHeight/r);"PercentComplete"===this.durationBarMode&&(s=0,l=i.complete);var c=document.createElement("div");c.setAttribute("unselectable","on"),c.className=this.p("_event_bar"),c.style.position="absolute",i.barBackColor&&(c.style.backgroundColor=i.barBackColor);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.className=this.p("_event_bar_inner"),u.style.top=s+"%",u.style.height=0<l&&l<=1?"1px":l+"%",i.barColor&&(u.style.backgroundColor=i.barColor),c.appendChild(u),n.appendChild(c)}if(i.areas)for(var d=0;d<i.areas.length;d++){var h=i.areas[d],f=h.v||"Visible";if("Visible"===f){var p=DayPilot.Areas.createArea(n,t,h);n.appendChild(p)}}if(e.rows[0].cells[t.part.dayIndex])if(e.rows[0].cells[t.part.dayIndex].events.appendChild(n),o.Sb(n),n.event=t,o.multiselect.wb(t)&&o.multiselect.add(n.event,!0),o.ra()){if("function"==typeof o.onAfterEventRender){var v={};v.e=n.event,v.div=n,o.onAfterEventRender(v)}}else o.afterEventRender&&o.afterEventRender(n.event,n);o.elements.events.push(n)},this.Sb=function(t){for(var e=t&&t.childNodes?t.childNodes.length:0,i=0;i<e;i++)try{var n=t.childNodes[i];1===n.nodeType&&(n.setAttribute("unselectable","on"),this.Sb(n))}catch(t){}},this.na=function(){for(var t=new Date,e=0;e<this.ta.length;e++){var i=this.ta[e];if(i.blocks)for(var n=0;n<i.blocks.length;n++)for(var o=i.blocks[n],a=0;a<o.lines.length;a++)for(var r=o.lines[a],s=0;s<r.length;s++){var l=r[s];if(l.part.width=100/o.lines.length,l.part.left=l.part.width*a,"Cascade"===this.eventArrangement){var c=a===o.lines.length-1;c||(l.part.width=1.5*l.part.width)}"Full"===this.eventArrangement&&(l.part.left=l.part.left/2,l.part.width=100-l.part.left),l.allday()||this.Nb(l)}}this.multiselect.redraw(),(new Date).getTime(),t.getTime()},this.Tb=function(){this.multiselect.cb=[];for(var t=0;t<this.ta.length;t++)for(var e=this.ta[t],i=0;i<e.lines.length;i++)for(var n=e.lines[i],o=0;o<n.length;o++){var a=n[o];a.part.width=100/e.lines.length,a.part.left=a.Width*i,a.allday()||this.Nb(a)}},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.ma=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.Ub=function(){var t=this.Ba()+this.Vb();return o.debug.message("Getting totalHeight, headerHeight: "+this.Ba()+" scrollable: "+this.Vb()),t<0?0:t},this.Wb=function(){if(this.nav.top.dp=this,this.nav.top.innerHTML="",this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.WebkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.nav.top.style.position="relative",this.width&&(this.nav.top.style.width=this.width),this.rtl&&(this.nav.top.style.direction="rtl"),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.Ub()+"px",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.Vb()+"px",DayPilot.Util.addClass(this.nav.top,this.p("_main")),this.nav.scroll.style.position="relative",this.showHeader){var t=this.Xb();this.nav.top.appendChild(t)}this.nav.scroll.style.zoom=1,this.nav.scroll.setAttribute("data-id","nav.scroll"),this.nav.scroll.style.position="absolute",this.nav.scroll.style.left="0px",this.nav.scroll.style.right="0px",this.nav.scroll.style.top=this.Ba()+"px";var e=this.Yb();this.nav.scrollable=e.firstChild,this.nav.scroll.appendChild(e),this.nav.top.appendChild(this.nav.scroll),this.nav.vsph=document.createElement("div"),this.nav.vsph.style.display="none",this.nav.top.appendChild(this.nav.vsph),this.nav.scrollpos=document.createElement("input"),this.nav.scrollpos.type="hidden",this.nav.scrollpos.id=o.id+"_scrollpos",this.nav.scrollpos.name=this.nav.scrollpos.id,this.nav.top.appendChild(this.nav.scrollpos),this.nav.select=document.createElement("input"),this.nav.select.type="hidden",this.nav.select.id=o.id+"_select",this.nav.select.name=this.nav.select.id,this.nav.select.value=null,this.nav.top.appendChild(this.nav.select),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.scrollUp=[],this.nav.scrollDown=[],this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.style.backgroundColor=this.loadingLabelBackColor,this.nav.loading.style.fontSize=this.loadingLabelFontSize,this.nav.loading.style.fontFamily=this.loadingLabelFontFamily,this.nav.loading.style.color=this.loadingLabelFontColor,this.nav.loading.style.padding="2px",this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.Zb=function(){for(var t="Fixed"===this.columnWidthSpec,e=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1],i=this.nav.events.rows[0],n=0;n<o.ta.length;n++){var a=e&&e.cells[n],r=i.cells[n],s=a&&a.firstChild,l=o.ta[n];if(t){var c=l.width?l.width:o.columnWidth;s&&(s.style.width=c+"px"),r&&(r.style.width=c+"px")}else s&&(s.style.width=null),r&&(r.style.width=null)}},this.Ca=function(){return this.mb?o.nav.bottomRight:o.nav.scroll},this.ka=function(){var t="Fixed"===this.columnWidthSpec;if(!t){var e=o.Ca();"Fixed"===this.heightSpec?e.style.overflowY="scroll":"BusinessHours"===this.heightSpec&&this.va()<=this.businessEndsHour-this.businessBeginsHour?e.style.overflow="hidden":"Full"!==this.heightSpec&&"BusinessHoursNoScroll"!==this.heightSpec?e.style.overflow="auto":e.style.overflow="hidden"}if(t){var i=0,n=this.ta.length*this.columnWidth;n>o.nb().clientWidth&&(i=DayPilot.sw(o.nav.bottomRight)),o.nav.headerParent&&(o.nav.headerParent.style.width=n+i+"px"),o.nav.main.style.width=n+"px",o.nav.events.style.width=n+"px",o.nav.crosshair.style.width=n+"px"}else o.nav.headerParent&&(o.nav.headerParent.style.width="100%"),o.nav.main.style.width="100%",o.nav.events.style.width="100%",o.nav.crosshair.style.width="100%";this.Zb()},this.ha=function(){this.t?this.$b():DayPilot.pu(this.nav.hourTable),this.nav.hoursPlaceholder&&(this.nav.hoursPlaceholder.innerHTML="",this.nav.hourTable=this._b(),this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))},this.$b=function(){if(this.nav.hourTable)for(var t=0;t<this.nav.hourTable.rows.length;t++){var e=this.nav.hourTable.rows[t],i=e.cells[0].firstChild;i.data=null,i.onmousemove=null,i.onmouseout=null}},this.Yb=function(){var t=document.createElement("div");t.style.zoom=1,t.style.position="relative",t.onmousemove=this.bc,DayPilot.re(t,DayPilot.touch.start,this.Rb.onMainTouchStart),DayPilot.re(t,DayPilot.touch.move,this.Rb.onMainTouchMove),DayPilot.re(t,DayPilot.touch.end,this.Rb.onMainTouchEnd),DayPilot.re(t,"contextmenu",function(t){var t=t||window.event;t.preventDefault?t.preventDefault():t.returnValue=!1}),navigator.msPointerEnabled&&(t.style.msTouchAction="none",t.style.touchAction="none"),t.daypilotMainD=!0,t.calendar=this;var e=null,i=null,n=null;if("Fixed"===this.columnWidthSpec||this.mb){if(this.showHours){var a=document.createElement("div");a.style.cssFloat="left",a.style.styleFloat="left",a.style.width=this.hourWidth+"px",a.style.height=this.Vb()+"px",a.style.overflow="hidden",a.style.position="relative",t.appendChild(a),e=a;var r=30,s=o.cc()+r;n=document.createElement("div"),n.style.height=s+"px",a.appendChild(n)}var l=document.createElement("div");l.style.height=this.Vb()+"px",this.showHours&&(l.style.marginLeft=this.hourWidth+"px"),l.style.position="relative",l.style.overflow="auto",t.appendChild(l),i=l}else{var c=document.createElement("table");c.cellSpacing="0",c.cellPadding="0",c.border="0",c.style.border="0px none",c.style.width="100%",c.style.position="relative";var u,d=c.insertRow(-1);this.showHours&&(u=d.insertCell(-1),u.style.verticalAlign="top",u.style.padding="0px",u.style.border="0px none",n=u),u=d.insertCell(-1),u.width="100%",u.style.padding="0px",u.style.border="0px none",u.style.verticalAlign="top",i=u,t.appendChild(c)}if(n&&(this.nav.hourTable=this._b(),n.appendChild(this.nav.hourTable)),this.cssOnly||this.u){var h=document.createElement("div");h.style.height="0px",h.style.position="relative",h.appendChild(this.dc());var f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.width="100%",f.style.height="0px",h.appendChild(f),this.nav.crosshair=f,h.appendChild(this.ec()),i.appendChild(h)}else i.appendChild(this.dc());return this.nav.zoom=t,this.nav.bottomLeft=e,this.nav.bottomRight=i,this.nav.hoursPlaceholder=n,t},this.dc=function(){var t=document.createElement("table");return t.cellPadding="0",t.cellSpacing="0",t.border="0","Fixed"===this.columnWidthSpec||(t.style.width="100%"),t.style.border="0px none",t.style.tableLayout="fixed",this.nav.main=t,this.nav.events=t,t},this.fc=function(){if("Fixed"===this.columnWidthSpec){for(var t=0,e=0;e<o.ta.length;e++){var i=o.ta[e];t+=i.width?i.width:o.columnWidth}return t+"px"}return"100%"},this.ec=function(){var t=document.createElement("table");t.style.position="absolute",t.style.top="0px",t.cellPadding="0",t.cellSpacing="0",t.border="0",t.style.width=o.fc(),t.style.border="0px none",t.style.tableLayout="fixed",this.nav.events=t;for(var e=this.ta,i=e.length,n=t.insertRow(-1),a=0;a<i;a++){var r=n.insertCell(-1);r.style.padding="0px",r.style.border="0px none",r.style.height="0px",r.style.overflow="visible",o.rtl||(r.style.textAlign="left"),o.gc(r)}return t},this._b=function(){var t=document.createElement("table");t.cellSpacing="0",t.cellPadding="0",t.border="0",t.style.border="0px none",t.style.width=this.hourWidth+"px",t.oncontextmenu=function(){return!1},t.onmousemove=function(){o.S()};for(var e=o.hc(),i=0;i<e;i++)this.ic(t,i);return t},this.hc=function(){return this.wa()/(60*this.timeHeaderCellDuration*1e3)},this.jc=function(){return 60*this.cellHeight/this.cellDuration/(60/this.timeHeaderCellDuration)},this.kc=function(){return(this.Aa()-this.Aa(!0))*(60/this.cellDuration)},this.lc=function(){return this.Aa()-this.Aa(!0)},this.qb=function(){return this.kc()*this.cellHeight},this.ic=function(t,e){var i=o.jc(),n=t.insertRow(-1);n.style.height=i+"px";var a=n.insertCell(-1);a.valign="bottom",a.setAttribute("unselectable","on"),a.style.padding="0px",a.style.border="0px none";var r=document.createElement("div");r.className=this.p("_rowheader"),r.style.position="relative",r.style.width=this.hourWidth+"px",r.style.height=i+"px",r.style.overflow="hidden",r.setAttribute("unselectable","on");var s=document.createElement("div");s.className=this.p("_rowheader_inner"),s.setAttribute("unselectable","on");var l=o.nc(e),c=l.html,u=l.data;u&&(r.data=u,r.onmousemove=o.oc,r.onmouseout=o.pc),s.innerHTML=c,r.appendChild(s),a.appendChild(r)},this.nc=function(t){var e,i;if(this.hours){var n=t+this.lc();i=this.hours[n],e=i.html}var a,r=this.timeHeaderCellDuration,s=this.startDate.addMinutes(r*t+60*this.Aa()),l=s.getHours(),c=l<12;if(a="Clock12Hours"===this.qc.timeFormat()?c?"AM":"PM":"00",!e){var u=document.createElement("div");u.setAttribute("unselectable","on"),"Clock12Hours"===this.qc.timeFormat()&&0===(l%=12)&&(l=12),60!==this.timeHeaderCellDuration&&(l+=":"+s.toString("mm")),u.innerHTML=l;var d=document.createElement("span");d.setAttribute("unselectable","on"),d.className=this.p("_rowheader_minutes"),d.innerHTML=a,u.appendChild(d),e=u.outerHTML}if("function"==typeof o.onBeforeTimeHeaderRender){var h={};h.header={},h.header.hours=l,h.header.minutes=s.getMinutes(),h.header.start=s.toString("HH:mm"),h.header.html=e,h.header.areas=i?i.areas:null,o.onBeforeTimeHeaderRender(h),null!==h.header.html&&(e=h.header.html),i=h.header}var f={};return f.start=s,f.hour=l,f.html=e,f.data=i,f.sup=a,f},this.oc=function(t){o.S();var e=this;e.active||DayPilot.Areas.showAreas(e,e.data)},this.pc=function(t){DayPilot.Areas.hideAreas(this,t)},this.Vb=function(){switch(this.heightSpec){case"Fixed":case"Parent100Pct":return this.height;case"Full":return this.cc();case"BusinessHours":case"BusinessHoursNoScroll":return this.xa()*this.cellHeight*60/this.cellDuration;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.cc=function(){return o.wa()*this.cellHeight/(6e4*o.cellDuration)},this.Ba=function(){if(!this.showHeader)return 0;var t=this.headerLevels*r.headerHeight();return this.showAllDayEvents&&r.allDayHeaderHeight()?t+r.allDayHeaderHeight():t},this.da=function(){if(this.headerHeightAutoFit){for(var t=0,e=0;e<this.nav.header.rows.length;e++)for(var i=this.nav.header.rows[e],n=0;n<i.cells.length;n++){var o=i.cells[n],a=o.firstChild,r=a.firstChild,s=a.style.height;a.style.height="auto",r.style.position="static";var l=a.offsetHeight;a.style.height=s,r.style.position="",t=Math.max(t,l)}t>this.headerHeight&&(this.s.headerHeight=t,this.ba(),this.ca())}},this.mb=!0,this.rc=function(){var t=this.mb?o.nav.bottomRight:o.nav.scroll;return DayPilot.sw(t)>0},this.Xb=function(){var t=document.createElement("div"),e="Fixed"===this.columnWidthSpec;e||(t.style.overflow="auto"),t.style.position="absolute",t.style.left="0px",t.style.right="0px";var i=document.createElement("div");i.style.position="relative",i.style.zoom="1";var n=null,e="Fixed"===this.columnWidthSpec;if(e||this.mb){var o=document.createElement("div");if(o.style.cssFloat="left",o.style.styleFloat="left",o.style.width=this.hourWidth+"px",this.showHours){var a=this.sc();this.nav.corner=a,o.appendChild(a),i.appendChild(o),this.nav.upperLeft=o}var r=document.createElement("div");this.showHours&&(r.style.marginLeft=this.hourWidth+"px"),r.style.position="relative",r.style.overflow="hidden",r.style.height=this.Ba()+"px",i.appendChild(r),this.nav.upperRight=r,n=document.createElement("div"),n.style.position="relative",r.appendChild(n)}else{var s=document.createElement("table");s.cellPadding="0",s.cellSpacing="0",s.border="0",s.style.width="100%",s.style.borderCollapse="separate",s.style.border="0px none";var l=s.insertRow(-1);if(this.nav.fullHeader=s,this.showHours){var c=l.insertCell(-1);c.style.padding="0px",c.style.border="0px none";var a=this.sc();c.appendChild(a),this.nav.corner=a}c=l.insertCell(-1),c.style.width="100%",c.valign="top",c.style.position="relative",c.style.padding="0px",c.style.border="0px none",n=document.createElement("div"),n.style.position="relative",n.style.height=this.Ba()+"px",n.style.overflow="hidden",c.appendChild(n),this.nav.mid=n,i.appendChild(s)}this.nav.headerParent=n,this.tc();var u=this.rc(),e="Fixed"===this.columnWidthSpec;return u&&!e&&this.uc(),t.appendChild(i),t},this.tc=function(){this.nav.unifiedCornerRight=null,this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0";var t="Fixed"===this.columnWidthSpec;if(t||(this.nav.header.width="100%"),this.nav.header.style.tableLayout="fixed",this.nav.header.oncontextmenu=function(){return!1},this.rc(),this.nav.headerParent.appendChild(this.nav.header),this.nav.allday&&DayPilot.de(this.nav.allday),this.showAllDayEvents){var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.height="0px";var t="Fixed"===this.columnWidthSpec;t?e.style.width=this.ta.length*this.columnWidth+"px":(e.style.left="0px",e.style.right="0px"),this.nav.allday=e,this.nav.headerParent.appendChild(e)}},this.uc=function(){if(this.nav.fullHeader){var t=this.nav.fullHeader.rows[0],e=t.insertCell(-1);e.style.padding="0px",e.style.verticalAlign="top",e.setAttribute("unselectable","on");var i=document.createElement("div");i.setAttribute("unselectable","on"),i.className=this.p("_cornerright"),i.style.overflow="hidden",i.style.position="relative",i.style.width="16px",i.style.height=this.Ba()+"px";var n=document.createElement("div");n.className=this.p("_cornerright_inner"),i.appendChild(n),e.appendChild(i),this.nav.cornerRight=i}},this.sc=function(){var t=document.createElement("div");t.style.position="relative",t.className=this.p("_corner"),t.style.width=this.hourWidth+"px",t.style.height=this.Ba()+"px",t.style.overflow="hidden",t.oncontextmenu=function(){return!1};var e=document.createElement("div");e.className=this.p("_corner_inner"),e.setAttribute("unselectable","on");var i=this.cornerHTML||this.cornerHtml;e.innerHTML=i||"",t.appendChild(e);var n=document.createElement("div");return n.style.position="absolute",n.style.padding="2px",n.style.top="0px",n.style.left="1px",n.style.backgroundColor="#FF6600",n.style.color="white",n.innerHTML="DEMO",n.setAttribute("unselectable","on"),DayPilot.Util.isNullOrUndefined(void 0)&&t.appendChild(n),t},this.M=function(){var t=this.nav.main;t.root=null,t.onmouseup=null;for(var e=0;e<t.rows.length;e++)for(var i=t.rows[e],n=0;n<i.cells.length;n++){var o=i.cells[n];o.root=null,o.onmousedown=null,o.onmousemove=null,o.onmouseout=null,o.onmouseup=null,o.onclick=null,o.ondblclick=null,o.oncontextmenu=null}this.t||DayPilot.pu(t)},this.ea=function(){for(var t=0;this.nav.scrollUp&&t<this.nav.scrollUp.length;t++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[t]);for(var t=0;this.nav.scrollDown&&t<this.nav.scrollDown.length;t++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[t]);this.nav.scrollUp=[],this.nav.scrollDown=[]},this.gc=function(t){var e=document.createElement("div");e.style.marginRight=o.columnMarginRight+"px",e.style.position="relative",e.style.height="1px",e.style.marginTop="-1px",t.events=e;var i=document.createElement("div");i.style.position="relative",e.style.height="1px",e.style.marginTop="-1px",t.separators=i,t.appendChild(i),t.appendChild(e)},this.ga=function(){var e=this.nav.main,i=60*this.cellDuration*1e3,n=this.Ea(),a=this.lc()*(60/this.cellDuration),r=o.ta,s=0;if(e&&(s=o.nb().scrollTop,this.M(),o.B.ielt9)){DayPilot.de(this.nav.scrollable.parentNode);var l=this.Yb();this.vc(),this.nav.scrollable=l.firstChild,this.nav.scroll.appendChild(l),e=this.nav.main}for(this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this;e&&e.rows&&e.rows.length>0;)this.t||DayPilot.pu(e.rows[0]),e.deleteRow(0);if(this.wc=!0,this.scrollLabelsVisible)for(var r=this.ta,c=this.showHours?this.hourWidth:0,u=(this.nav.scroll.clientWidth-c)/r.length,d=0;d<r.length;d++){var h=document.createElement("div");h.style.position="absolute",h.style.top="0px",h.style.left=c+2+d*u+u/2+"px",h.style.display="none";var f=document.createElement("div");f.style.height="10px",f.style.width="10px",f.className=this.p("_scroll_up"),h.appendChild(f),this.nav.scrollLayer.appendChild(h),this.nav.scrollUp.push(h);var p=document.createElement("div");p.style.position="absolute",p.style.top="0px",p.style.left=c+2+d*u+u/2+"px",p.style.display="none";var f=document.createElement("div");f.style.height="10px",f.style.width="10px",f.className=this.p("_scroll_down"),p.appendChild(f),this.nav.scrollLayer.appendChild(p),this.nav.scrollDown.push(p)}var v=r.length;if(this.cssOnly||this.u){for(var g=this.nav.events;g&&g.rows&&g.rows.length>0;)this.t||DayPilot.pu(g.rows[0]),g.deleteRow(0);for(var y=g.insertRow(-1),m=0;m<v;m++){var b=y.insertCell(-1);b.style.padding="0px",b.style.border="0px none",b.style.height="1px",b.style.overflow="visible";var w="Fixed"===this.columnWidthSpec;w&&(r[m].width?b.style.width=r[m].width+"px":b.style.width=this.columnWidth+"px"),o.rtl||(b.style.textAlign="left"),o.gc(b)}}for(var d=0;d<n;d++){var y=e.insertRow(-1),D=d+a;y.style.MozUserSelect="none",y.style.KhtmlUserSelect="none",y.style.WebkitUserSelect="none";for(var m=0;m<v;m++){var C=this.ta[m],b=y.insertCell(-1);b.start=C.start.addTime(D*i).addHours(this.Aa()),b.end=b.start.addTime(i),b.resource=C.id,this.cellProperties||(this.cellProperties={});var k={};k.resource=b.resource,k.start=b.start,k.end=b.end;var x=m+"_"+D;if(k.cssClass=null,k.html=null,k.backImage=null,k.backRepeat=null,k.backColor=null,k.business=this.xc(b.start,b.end),this.cellProperties[x]&&DayPilot.Util.copyProps(this.cellProperties[x],k,["cssClass","html","backImage","backRepeat","backColor","business"]),"function"==typeof this.onBeforeCellRender){var P={};P.cell=k,this.onBeforeCellRender(P)}this.cellProperties[x]=k;var _,S=o.yc(m,D);b.root=this,b.style.padding="0px",b.style.border="0px none",b.style.verticalAlign="top",b.style.height=o.cellHeight+"px",b.style.overflow="hidden",b.setAttribute("unselectable","on"),_=document.createElement("div"),_.className=o.p("_cell"),_.style.position="relative",_.style.height=o.cellHeight+"px",_.style.overflow="hidden",_.setAttribute("unselectable","on");var A=document.createElement("div");A.className=o.p("_cell_inner"),_.appendChild(A),b.appendChild(_),b.onmousedown=this.gb,b.onmousemove=this.jb,b.onmouseout=this.ib,DayPilot.re(b,DayPilot.touch.end,this.Rb.onCellTouchEnd),b.onmouseup=function(){return!1},b.onclick=function(){return!1},b.ondblclick=function(){if(t.firstMousePos=null,o.hb(),clearTimeout(t.selectedTimeout),"Disabled"!==o.timeRangeDoubleClickHandling){var e=o.getSelection();o._a(e.start,e.end,e.resource)}},b.oncontextmenu=function(){if(this.selected||(o.clearSelection(),t.column=t.getColumn(this),o.selectedCells.push(this),t.firstSelected=this,t.topSelectedCell=this,t.bottomSelectedCell=this,o.hb()),"Disabled"===o.timeRangeRightClickHandling)return!1;var e=o.getSelection(),i={};return i.start=e.start,i.end=e.end,i.resource=e.resource,i.preventDefault=function(){this.preventDefault.value=!0},!("function"==typeof o.onTimeRangeRightClick&&(o.onTimeRangeRightClick(i),i.preventDefault.value)||("ContextMenu"===o.timeRangeRightClickHandling&&o.contextMenuSelection&&o.contextMenuSelection.show(o.getSelection()),"function"==typeof o.onTimeRangeRightClicked&&o.onTimeRangeRightClicked(i),1))};var E=o.zc(m,D);_=b.firstChild;var w="Fixed"===this.columnWidthSpec;w&&(C.width?_.style.width=C.width+"px":_.style.width=this.columnWidth+"px"),E&&(_.firstChild.style.background=E),(S?S.business:this.xc(b.start,b.end))&&DayPilot.Util.addClass(_,o.p("_cell_business"));var T=_.firstChild;if(T&&(T.innerHTML=""),_.style.backgroundImage="",_.style.backgroundRepeat="",S&&(S.html&&(T.innerHTML=S.html),S.cssClass&&DayPilot.Util.addClass(_,S.cssClass),S.backImage&&(_.style.backgroundImage="url('"+S.backImage+"')"),S.backRepeat&&(_.style.backgroundRepeat=S.backRepeat),S.areas)){var R={};R.start=b.start,R.end=b.end,R.resource=b.resource,DayPilot.Areas.attach(_,R,{areas:S.areas})}}}e.onmouseup=this.kb,e.root=this,o.nav.scrollable.style.display="",o.nb().scrollTop=s},this.xc=function(t,e){return this.businessBeginsHour<this.businessEndsHour?!(t.getHours()<this.businessBeginsHour||t.getHours()>=this.businessEndsHour||6===t.getDayOfWeek()||0===t.getDayOfWeek()):t.getHours()>=this.businessBeginsHour||t.getHours()<this.businessEndsHour},this.bc=function(e){e=e||window.event,e.insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),t.activeCalendar=this;var i=o.nav.main;o.coords=DayPilot.mo3(i,e);var n=DayPilot.mc(e),a=o.crosshairType&&"Disabled"!==o.crosshairType,r=o.coords.x<o.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||t.selecting||r?o.S():a&&o.Ac(),DayPilot.Global.resizing)o.Bc(n);else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return void(t.movingShadow=null);if(!t.movingShadow){var s=3;if(!(DayPilot.distance(n,t.originalMouse)>s))return;t.movingShadow=o.sa(DayPilot.Global.moving,!o.B.ie,o.shadow),t.movingShadow.style.width=t.movingShadow.parentNode.offsetWidth+1+"px"}if(!o.coords)return;var l=o.cellHeight,c=0,u=t.moveOffsetY;u||(u=l/2),"Top"===this.moveBy&&(u=0);var d=Math.floor((o.coords.y-u-c+l/2)/l)*l+c;d<c&&(d=c);var h=o.nav.main,f=h.clientHeight,p=parseInt(t.movingShadow.style.height);d+p>f&&(d=f-p),t.movingShadow.style.top=d+"px";var v=h.clientWidth/h.rows[0].cells.length,g=Math.floor(o.coords.x/v);g<0&&(g=0),o.rtl&&(g=o.ta.length-g-1);var y=o.nav.events;g<y.rows[0].cells.length&&g>=0&&t.movingShadow.column!==g&&(t.movingShadow.column=g,t.moveShadow(y.rows[0].cells[g]))}if(t.drag){if(t.gShadow&&document.body.removeChild(t.gShadow),t.gShadow=null,!t.movingShadow&&o.coords){var m=o.sa(t.drag,!1,t.drag.shadowType);if(m){t.movingShadow=m;var b=DayPilot.Date.today(),e={value:t.drag.id,start:b,end:b.addSeconds(t.drag.duration),text:t.drag.text},w=new DayPilot.Event(e,o);w.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=w,DayPilot.Global.moving.helper={}}}e.cancelBubble=!0}},this.Cc=function(e){t.movingShadow.offsetTop,DayPilot.Global.moving.event,t.movingShadow.column},this.Bc=function(e){if(!DayPilot.Global.resizing.event)return DayPilot.Global.resizing=null,DayPilot.de(t.resizingShadow),void(t.resizingShadow=null);t.resizingShadow||(t.resizingShadow=o.sa(DayPilot.Global.resizing,!1,o.shadow));var i=DayPilot.Global.resizing.event.calendar.cellHeight,n=0,a=e.y-t.originalMouse.y;if("bottom"===DayPilot.Global.resizing.dpBorder){var r=Math.floor((t.originalHeight+t.originalTop+a+i/2)/i)*i-t.originalTop+n;r<i&&(r=i);var s=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;t.originalTop+r>s&&(r=s-t.originalTop),t.resizingShadow.style.height=r+"px"}else if("top"===DayPilot.Global.resizing.dpBorder){var l=Math.floor((t.originalTop+a-n+i/2)/i)*i+n;l<n&&(l=n),l>t.originalTop+t.originalHeight-i&&(l=t.originalTop+t.originalHeight-i);var r=t.originalHeight-(l-t.originalTop);r<i?r=i:t.resizingShadow.style.top=l+"px",t.resizingShadow.style.height=r+"px"}},this.temp={},this.temp.getPosition=function(){var t=o.Dc.getCellCoords();if(!t)return null;var e=o.ta[t.x],i={};return i.resource=e.id,i.start=new DayPilot.Date(e.start).addHours(o.Aa(!0)).addMinutes(t.y*o.cellDuration),i.end=i.start.addMinutes(o.cellDuration),i},this.Dc={},this.Dc.getCellCoords=function(){var t={};if(t.x=0,t.y=0,!o.coords)return null;for(var e=o.nav.main,i=o.coords.x,n=0,a=this.col(e,n);a&&i>a.left;)n+=1,a=this.col(e,n);t.x=n-1;var r=0,s=Math.floor((o.coords.y-r)/o.cellHeight);return t.y=s,t.x<0?null:t},this.Dc.col=function(t,e){var i={};if(i.left=0,i.width=0,!t)return null;if(!t.rows)return null;if(0===t.rows.length)return null;if(0==t.rows[0].cells.length)return null;var n=t.rows[0].cells[e];if(!n)return null;var o=DayPilot.abs(t),a=DayPilot.abs(n);return i.left=a.x-o.x,i.width=n.offsetWidth,i},this.Ac=function(){this.S(),this.elements.crosshair||(this.elements.crosshair=[]);var t=this.Dc.getCellCoords();if(t){var e=t.x,i=Math.floor(t.y/(60/o.cellDuration)*(60/o.timeHeaderCellDuration));if(!(i<0)){if(this.nav.hourTable){if(i>=this.nav.hourTable.rows.length)return;var n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.top="0px",n.style.bottom="0px",n.style.opacity=.5,n.style.backgroundColor=this.crosshairColor,n.style.opacity=this.crosshairOpacity/100,n.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.nav.hourTable.rows[i].cells[0].firstChild.appendChild(n),this.elements.crosshair.push(n)}if(this.nav.header){var a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.top="0px",a.style.bottom="0px",a.style.opacity=.5,a.style.backgroundColor=this.crosshairColor,a.style.opacity=this.crosshairOpacity/100,a.style.filter="alpha(opacity="+this.crosshairOpacity+")";var r=this.nav.header.rows[this.headerLevels-1];r.cells[e]&&(r.cells[e].firstChild.appendChild(a),this.elements.crosshair.push(a))}if("Header"!==this.crosshairType){var s=this.nav.crosshair,l=0,c=Math.floor((o.coords.y-l)/o.cellHeight)*o.cellHeight+l,u=o.cellHeight,d=document.createElement("div");d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.top=c+"px",d.style.height=u+"px",d.style.backgroundColor=this.crosshairColor,d.style.opacity=this.crosshairOpacity/100,d.style.filter="alpha(opacity="+this.crosshairOpacity+")",d.onmousedown=this.Ec,s.appendChild(d),this.elements.crosshair.push(d);var h=this.Dc.col(this.nav.main,e);if(u=this.nav.main.clientHeight,h){var f=document.createElement("div");f.style.position="absolute",f.style.left=h.left+"px",f.style.width=h.width+"px",f.style.top="0px",f.style.height=u+"px",f.style.backgroundColor=this.crosshairColor,f.style.opacity=this.crosshairOpacity/100,f.style.filter="alpha(opacity="+this.crosshairOpacity+")",f.onmousedown=this.Ec,s.appendChild(f),this.elements.crosshair.push(f)}}}}},this.Ec=function(t){o.S();var e=o.Dc.getCellCoords(),i=0,n=o.nav.main.rows[e.y+i].cells[e.x];o.gb.apply(n,[t])},this.S=function(){if(this.elements.crosshair&&0!==this.elements.crosshair.length){for(var t=0;t<this.elements.crosshair.length;t++){var e=this.elements.crosshair[t];e&&e.parentNode&&e.parentNode.removeChild(e)}this.elements.crosshair=[]}},this._=function(){if(this.cellConfig){var t=this.cellConfig;if(t.vertical)for(var e=0;e<t.x;e++)for(var i=this.cellProperties[e+"_0"],n=1;n<t.y;n++)this.cellProperties[e+"_"+n]=i;if(t.horizontal)for(var n=0;n<t.y;n++)for(var i=this.cellProperties["0_"+n],e=1;e<t.x;e++)this.cellProperties[e+"_"+n]=i;if(t.default)for(var i=t.default,n=0;n<t.y;n++)for(var e=0;e<t.x;e++)this.cellProperties[e+"_"+n]||(this.cellProperties[e+"_"+n]=i)}},this.yc=function(t,e){return this.cellProperties?this.cellProperties[t+"_"+e]:null},this.Fc=function(t,e){var i=t+"_"+e;return!(!this.cellProperties||!this.cellProperties[i])&&this.cellProperties[i].business},this.zc=function(t,e){var i=t+"_"+e;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].backColor:null},this.N=function(){var t=this.nav.header;if(t&&t.rows)for(var e=0;e<t.rows.length;e++)for(var i=t.rows[e],n=0;n<i.cells.length;n++){var o=i.cells[n];o.onclick=null,o.onmousemove=null,o.onmouseout=null}this.t||DayPilot.pu(t)},this.Gc=function(t,e){for(var i=e?this.nav.header.insertRow(-1):this.nav.header.rows[t-1],n=this.Jb(t),a=n.length,s=t===o.headerLevels,l=0;l<a;l++){var c=n[l];if(o.ra()&&"function"==typeof o.onBeforeHeaderRender){var u={};u.header={},DayPilot.Util.copyProps(c,u.header,["id","start","name","html","backColor","toolTip","areas","children"]),this.onBeforeHeaderRender(u),DayPilot.Util.copyProps(u.header,c,["html","backColor","toolTip","areas"])}var d=!!c.getChildren,h=e?i.insertCell(-1):i.cells[l];if(h.data=c,s);else{var f=1;d&&(f=c.getChildrenCount(o.headerLevels-t+1)),h.colSpan=f}d&&(h.onclick=this.La,h.onmousemove=this.Ma,h.onmouseout=this.Na,c.toolTip&&(h.title=c.toolTip)),h.style.overflow="hidden",h.style.padding="0px",h.style.border="0px none",h.style.height=r.headerHeight()+"px";var p=e?document.createElement("div"):h.firstChild;if(e){p.setAttribute("unselectable","on"),p.style.MozUserSelect="none",p.style.KhtmlUserSelect="none",p.style.WebkitUserSelect="none",p.style.position="relative",p.style.height=r.headerHeight()+"px",p.className=o.p("_colheader");var v=document.createElement("div");v.className=o.p("_colheader_inner"),c.backColor&&(v.style.background=c.backColor),p.appendChild(v),h.appendChild(p)}else p.style.height=r.headerHeight()+"px";this.Hc(p,c),d&&(p.firstChild.innerHTML=c.html)}},this.Hc=function(e,i){for(var n=[],o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];a.isActiveArea&&n.push(a)}for(var o=0;o<n.length;o++){var a=n[o];DayPilot.de(a)}if(i.areas)for(var r=i.areas,o=0;o<r.length;o++){var s=r[o];if("Visible"===s.v){var l=new t.Column(i.id,i.name,i.start),c=DayPilot.Areas.createArea(e,l,s);e.appendChild(c)}}},this.ca=function(){if(this.showHeader){var t=this.nav.header,e=!0,i=this.Jb(o.headerLevels,!0),n=i.length;for(this.Ic&&o.B.ielt9?(DayPilot.de(this.nav.header),this.tc()):this.Jc.scope&&(DayPilot.de(this.nav.header),this.tc());this.Ic&&t&&t.rows&&t.rows.length>0;)this.t||DayPilot.pu(t.rows[0]),t.deleteRow(0);this.Ic=!0;var a=o.cornerHTML||o.cornerHtml,s=o.nav.corner;s&&(this.t||DayPilot.pu(s.firstChild),s.firstChild.innerHTML=a||"");for(var l=0;l<o.headerLevels;l++)this.Gc(l+1,e);if(this.showAllDayEvents)for(var c=this.nav.header.insertRow(-1),l=0;l<n;l++){var u=i[l],d=c.insertCell(-1);d.data=u,d.style.padding="0px",d.style.border="0px none",d.style.overflow="hidden";var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.MozUserSelect="none",h.style.KhtmlUserSelect="none",h.style.WebkitUserSelect="none",h.style.overflow="hidden",h.style.position="relative",h.style.height=r.allDayHeaderHeight()+"px",h.className=this.p("_alldayheader");var f=document.createElement("div");f.className=this.p("_alldayheader_inner"),h.appendChild(f),d.appendChild(h),h.style.height=r.allDayHeaderHeight()+"px"}}},this.G=function(){this.loadingLabelVisible&&this.nav.loading&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.Ba()+5+"px",this.nav.loading.style.display="")},this.W=function(){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading&&(this.nav.loading.style.display="none")},this.Kc=function(t){var e=o.Aa(!0);return t<e&&(t+=24),(t-e)*(60/o.cellDuration)*o.cellHeight},this.vc=function(){var t=this.nb(),e=this.initScrollPos;if(!e){var i=this.businessBeginsHour;e=o.Kc(i)}t.root=this,t.onscroll=this.lb,0===t.scrollTop?t.scrollTop=e-this.qb():this.lb()},this.Lc=function(){var t=o.nav.top;return t.offsetWidth>0&&t.offsetHeight>0},this.Mc=function(){var t=o.Lc;t()||(o.Nc=setInterval(function(){t()&&(clearInterval(o.Nc),o.vc(),o.ja())},100))},this.scrollToY=function(t){this.nb().scrollTop=t},this.scrollToHour=function(t){var e=o.Kc(t);this.nb().scrollTop=e-this.qb()},this.nb=function(){return"Fixed"===this.columnWidthSpec||this.mb?this.nav.bottomRight:this.nav.scroll},this.onCallbackError=function(t,e){alert("Error!\r\nResult: "+t+"\r\nContext:"+e)},this.ja=function(){if(o.showHeader){var t=this.rc(),e=!!this.nav.cornerRight;if(this.mb){this.nav.unifiedCornerRight&&DayPilot.de(this.nav.unifiedCornerRight);var i=this.fc();if("100%"!=i&&parseInt(i)<this.nb().clientWidth)return;var n=DayPilot.sw(this.nav.bottomRight);this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1);var a=this.nav.unifiedCornerRight;a.rowSpan=this.nav.header.rows.length,a.style.width=n+"px";var r=document.createElement("div");r.className=o.p("_cornerright"),r.setAttribute("unselectable","on"),r.style.overflow="hidden",r.style.height=this.Ba()+"px",r.style.position="relative";var s=document.createElement("div");return s.className=o.p("_cornerright_inner"),r.appendChild(s),a.appendChild(r),void(!("Fixed"===this.columnWidthSpec)&&this.nav.allday&&(this.nav.allday.style.right=n+"px"))}if(t!==e)if(t)this.uc();else{if(this.nav.fullHeader&&3===this.nav.fullHeader.rows[0].cells.length){var a=this.nav.fullHeader.rows[0].cells[2];a.parentNode&&a.parentNode.removeChild(a)}this.nav.cornerRight=null}var l=this.nav.cornerRight;if(l){var n=DayPilot.sw(o.Ca());return l&&(l.style.width=n+"px"),n}}},this.qa=function(t){if(t&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.A>=this.autoRefreshMaxCount)){this.K();var e=this.autoRefreshInterval;if(!e||e<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){o.Oc()},1e3*this.autoRefreshInterval)}},this.K=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.Oc=function(){if(!(DayPilot.Global.resizing||DayPilot.Global.moving||t.drag||t.selecting)){var e=!1;if("function"==typeof this.onAutoRefresh){var i={};i.i=this.A,i.preventDefault=function(){this.preventDefault.value=!0},o.onAutoRefresh(i),i.preventDefault.value&&(e=!0)}!e&&this.q()&&this.commandCallBack(this.autoRefreshCommand),this.A++}this.A<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){o.Oc()},1e3*this.autoRefreshInterval))},this.O=function(){o.ia(),"Parent100Pct"===o.heightSpec&&o.setHeight(parseInt(o.nav.top.clientHeight,10)),o.ja(),o.pa()},this.Pc=function(){t.globalHandlers||(t.globalHandlers=!0,DayPilot.re(document,"mousemove",t.gMouseMove),DayPilot.re(document,"mouseup",t.gMouseUp),DayPilot.re(document,DayPilot.touch.move,t.gTouchMove),DayPilot.re(document,DayPilot.touch.end,t.gTouchEnd)),DayPilot.re(window,"resize",this.O)},this.Qb=function(e){if(!a.active&&!a.using){e=e||window.event;var i=DayPilot.Util.mouseButton(e);if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||!i.left){if(("move"===this.style.cursor||"Full"===o.moveBy&&this.event.client.moveEnabled())&&i.left){DayPilot.Global.moving=this;var n=DayPilot.Global.moving.helper={};n.oldColumn=o.ta[this.event.part.dayIndex].id,t.originalMouse=DayPilot.mc(e),t.originalTop=this.offsetTop;var r=DayPilot.mo3(this,e);t.moveOffsetY=r?r.y:0,o.nav.top.style.cursor=this.style.cursor}}else DayPilot.Global.resizing=this,t.originalMouse=DayPilot.mc(e),t.originalHeight=this.offsetHeight,t.originalTop=this.offsetTop,o.nav.top.style.cursor=this.style.cursor;return!1}},this.Qc=function(t){var e=this.s.events,i=this.events.list[t],n={};for(var a in i)n[a]=i[a];if(o.showEventStartEnd){var s=i.start.getDatePart().getTime()===i.end.getDatePart().getTime(),l=s?r.locale().timePattern:r.locale().dateTimePattern,c=i.start.toString(l),u=i.end.toString(l);n.html=n.text+" ("+c+" - "+u+")"}if("function"==typeof this.onBeforeEventRender){var d={};d.e=n,d.data=n,this.onBeforeEventRender(d)}e[t]=n},this.Rb={};var a=o.Rb;a.active=!1,a.start=null,a.timeout=null,a.startcell=null,this.Rb.getCellCoords=function(t){var e,i;t.touches?(e=t.touches[0].pageX,i=t.touches[0].pageY):(e=t.pageX,i=t.pageY);var n=DayPilot.abs(o.nav.main),a={x:e-n.x,y:i-n.y},r=o.nav.main.clientWidth/o.ta.length;return{pageX:e,pageY:i,x:Math.floor(a.x/r),y:Math.floor(a.y/o.cellHeight),toString:function(){return"x: "+this.x+" y:"+this.y}}},this.Rb.startSelecting=function(e){var i=o.nav.main.rows[e.y].cells[e.x];a.startcell=e,o.clearSelection(),t.column=t.getColumn(i),o.selectedCells.push(i),t.firstSelected=i,t.topSelectedCell=i,t.bottomSelectedCell=i,o.hb()},this.Rb.extendSelection=function(e){var i=o.nav.main.rows[e.y].cells[e.x];o.clearSelection(),e.y<a.startcell.y?(o.selectedCells=t.getCellsBelow(i),t.topSelectedCell=o.selectedCells[0],t.bottomSelectedCell=t.firstSelected):(o.selectedCells=t.getCellsAbove(i),t.topSelectedCell=t.firstSelected,t.bottomSelectedCell=o.selectedCells[0]),o.hb()},this.Rb.onMainTouchStart=function(t){if(!DayPilot.Util.isMouseEvent(t)&&!(a.active||t.touches.length>1)){a.using=!0;var e=a.getCellCoords(t);a.startCoords=e;var i=o.tapAndHoldTimeout;a.timeout=window.setTimeout(function(){switch(t.preventDefault(),a.active=!0,o.timeRangeTapAndHoldHandling){case"Select":a.startSelecting(e);break;case"ContextMenu":a.startSelecting(e),a.active=!1,o.contextMenuSelection&&o.contextMenuSelection.show(o.getSelection())}},i)}},this.Rb.onCellTouchMove=function(t){},this.Rb.onCellTouchEnd=function(t){if(!a.active)return void window.clearTimeout(a.timeout);t.preventDefault(),a.startcell=null;var e=o.getSelection();e.toString=function(){return"start: "+this.start+"\nend: "+this.end},o.$a(e.start,e.end,e.resource),window.setTimeout(function(){a.active=!1},500)},this.Rb.startMoving=function(e,i){DayPilot.Global.moving=e,(DayPilot.Global.moving.helper={}).oldColumn=o.ta[e.event.part.dayIndex].id,t.originalMouse=i,t.originalTop=this.offsetTop;var n=DayPilot.abs(e);t.moveOffsetY=i.y-n.y,t.movingShadow||(t.movingShadow=o.sa(DayPilot.Global.moving,!o.B.ie,o.shadow),t.movingShadow.style.width=t.movingShadow.parentNode.offsetWidth+1+"px")},this.Rb.startResizing=function(e,i,n){DayPilot.Global.resizing=e,e.dpBorder=i,t.originalMouse=n,t.originalHeight=e.offsetHeight,t.originalTop=e.offsetTop},this.Rb.updateResizing=function(t){o.Bc(t)},this.Rb.updateMoving=function(){var e=o.coords,i=o.cellHeight,n=0,a=t.moveOffsetY;a||(a=i/2);var r=Math.floor((e.y-a-n+i/2)/i)*i+n;r<n&&(r=n);var s=o.nav.main,l=s.clientHeight,c=parseInt(t.movingShadow.style.height);r+c>l&&(r=l-c),t.movingShadow.style.top=r+"px";var u=s.clientWidth/s.rows[0].cells.length,d=Math.floor(e.x/u);d<0&&(d=0);var h=o.nav.events;d<h.rows[0].cells.length&&d>=0&&t.movingShadow.column!==d&&(t.movingShadow.column=d,t.moveShadow(h.rows[0].cells[d]))},this.Rb.onEventTouchStart=function(t){if(!a.active&&!DayPilot.Util.isMouseEvent(t)){t.stopPropagation(),a.preventEventTap=!1,a.using=!0,a.startCoords=a.getCellCoords(t);var e=this,i=t.touches?t.touches[0].pageX:t.pageX,n=t.touches?t.touches[0].pageY:t.pageY,r={x:i,y:n,div:this};o.coords=a.relativeCoords(t);var s=o.tapAndHoldTimeout;a.timeout=window.setTimeout(function(){var i=e.event;switch(a.active=!0,o.eventTapAndHoldHandling){case"Move":i.client.moveEnabled()&&a.startMoving(e,r);break;case"ContextMenu":var n=i.client.contextMenu();DayPilot.Menu&&DayPilot.Menu.touchPosition(t),n?n.show(i):o.contextMenu&&o.contextMenu.show(i)}},s)}},this.Rb.onMainTouchMove=function(e){if(!DayPilot.Util.isMouseEvent(e)){if(a.timeout){var i=a.getCellCoords(e);i&&a.startCoords&&(i.pageX===a.startCoords.pageX&&i.pageY===a.startCoords.pageY||window.clearTimeout(o.Rb.timeout))}if(DayPilot.Global.moving&&t.movingShadow)return e.preventDefault(),o.coords=a.relativeCoords(e),void a.updateMoving();if(DayPilot.Global.resizing){e.preventDefault();var n=e.touches?e.touches[0]:e,i={x:n.pageX,y:n.pageY};return void a.updateResizing(i)}if(a.startcell){if(e.preventDefault(),!a.active)return void window.clearTimeout(a.timeout);var i=a.getCellCoords(e);a.extendSelection(i)}a.preventEventTap=!0}},this.Rb.relativeCoords=function(t){var e=o.nav.main,i=t.touches?t.touches[0].pageX:t.pageX,n=t.touches?t.touches[0].pageY:t.pageY,a=DayPilot.abs(e);return{x:i-a.x,y:n-a.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},this.Rb.onMainTouchEnd=function(e){if(!DayPilot.Util.isMouseEvent(e))if(DayPilot.Global.moving){a.active=!1,e.preventDefault(),e.stopPropagation();var i=t.movingShadow.offsetTop;t.deleteShadow(t.movingShadow);var n=DayPilot.Global.moving.event,r=t.movingShadow.column;DayPilot.Global.moving=null,t.movingShadow=null,n.calendar.Ta(n,r,i,e,t.drag)}else if(a.startcell){if(!a.active)return void window.clearTimeout(a.timeout);e.preventDefault(),a.startcell=null;var s=o.getSelection();s.toString=function(){return"start: "+this.start+"\nend: "+this.end},o.$a(s.start,s.end,s.resource),window.setTimeout(function(){a.active=!1},500)}},this.Rb.onEventTouchMove=function(t){a.preventEventTap=!0},this.Rb.onEventTouchEnd=function(t){if(!DayPilot.Util.isMouseEvent(t)){if(!a.active){if(a.preventEventTap)return;return t.preventDefault(),window.clearTimeout(a.timeout),void o.Ga(this,!1,!1,t)}return a.active=!1,a.timeout?void window.clearTimeout(a.timeout):void t.preventDefault()}},this.Ob=function(e){var i=5,n=Math.max(o.durationBarWidth,10),a="Top"===o.moveBy;if(void 0!==t){var r=DayPilot.mo3(this,e);if(r){var s=this;if(!s.active){var l=[];s.event.client.deleteEnabled()&&l.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:o.p("_event_delete"),js:function(t){o.Oa(t)}});var c=s.event.cache?s.event.cache.areas:s.event.data.areas;c&&c.length>0&&(l=l.concat(c)),DayPilot.Areas.showAreas(s,s.event,null,l),DayPilot.Util.addClass(s,o.p("_event_hover"))}if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){var u=this.isFirst,d=this.isLast;"Disabled"===o.moveBy||"None"===o.moveBy||(!a&&r.x<=n&&this.event.client.moveEnabled()?this.style.cursor=u?"move":"not-allowed":!a&&r.y<=i&&this.event.client.resizeEnabled()?u?(this.style.cursor="n-resize",this.dpBorder="top"):this.style.cursor="not-allowed":a&&r.y<=n&&this.event.client.moveEnabled()?this.style.cursor="move":this.offsetHeight-r.y<=i&&this.event.client.resizeEnabled()?d?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":DayPilot.Global.resizing||DayPilot.Global.moving||(this.event.client.clickEnabled()?this.style.cursor="pointer":this.style.cursor="default"),void 0===DayPilot.Bubble||!o.bubble||"Disabled"===o.eventHoverHandling||"default"!==this.style.cursor&&"pointer"!==this.style.cursor)||this.Rc&&r.x===this.Rc.x&&r.y===this.Rc.y||(this.Rc=r,o.bubble.showEvent(this.event))}}}},this.Pb=function(t){DayPilot.Util.removeClass(this,o.p("_event_hover")),o.bubble&&o.bubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this,t)},this.Sc=null,this.la=function(){if(this.showCurrentTime){this.Tc();var t=(new DayPilot.Date).addMinutes(o.showCurrentTimeOffset);if("Full"===o.showCurrentTimeMode)this.Uc(t);else{if("Day"!==o.showCurrentTimeMode)throw"Invalid DayPilot.Calendar.showCurrentTimeMode value: "+o.showCurrentTimeMode;this.Vc(t)}this.nav.events&&!this.Sc&&(this.Sc=setTimeout(function(){o.Sc=null,o.la()},3e4))}},this.Tc=function(){DayPilot.de(o.elements.separators),o.elements.separators=[]},this.Vc=function(t){var e=t.getTime(),i=o.nav.events;if(i)for(var n=0;n<o.ta.length;n++){var a=o.ta[n],r=o.wa(!0),s=new DayPilot.Date(a.start).addHours(this.Aa(!0)),l=s.getTime(),c=s.addTime(r),u=c.getTime();if(l<=e&&e<=u){var d=this.Wc(t,a.start).top-1,h=i.rows[0].cells[n],f=h.separators,p=document.createElement("div");p.style.position="absolute",p.style.top=d+"px",p.style.height="1px",p.style.left="0px",p.style.right="0px",p.className=o.p("_now"),f.insertBefore(p,f.firstChild),o.elements.separators.push(p)}}},this.Uc=function(t){var e=t.getTime();if(o.nav.events){var i=o.ta[0];if(i)for(var n=i.start.getDatePart().addTime(t.getTimePart()),a=this.Wc(n,i.start).top-1,r=0;r<o.ta.length;r++){var i=o.ta[r],s=o.wa(!0),l=new DayPilot.Date(i.start).addHours(this.Aa(!0)),c=l.getTime(),u=l.addTime(s),d=u.getTime();if(c<=e&&e<=d){var h=document.createElement("div");return h.style.position="absolute",h.style.top=a+"px",h.style.height="1px",h.style.left="0px",h.style.right="0px",h.className=o.p("_now"),o.nav.events.appendChild(h),void o.elements.separators.push(h)}}}},this.aa=function(t){if(t?this.events.list=t:t=this.events.list,t){this.Mb={},this.Mb.events=[],this.Mb.lines=[];var e=t.length,i=this.wa(!0);this.s.pixels={};var n=[];this.pb=[],this.Qa=1e4,this.za=0,this.startDate=new DayPilot.Date(this.startDate);for(var a=0;a<e;a++){var s=t[a];s.start=new DayPilot.Date(s.start),s.end=new DayPilot.Date(s.end)}if("function"==typeof this.onBeforeEventRender||o.showEventStartEnd)for(var a=0;a<e;a++)this.Qc(a);for(var l="Resources"===this.viewType,c=this.Kb(),u=c.start,d=c.end,a=0;a<this.ta.length;a++){var h={};h.minEnd=1e6,h.maxStart=-1,this.pb.push(h);var f=this.ta[a];f.events=[],f.lines=[],f.blocks=[];var p=new DayPilot.Date(f.start).addHours(this.Aa(!0)),v=p.getTime(),g=p.addTime(i),y=g.getTime();l&&(u=p.getDatePart(),d=g.getDatePart());for(var m=0;m<e;m++)if(!n[m]){var s=t[m],b=null;if("function"==typeof o.onBeforeEventRender&&(b=o.s.events[m]),b){if(b.hidden)continue}else if(s.hidden)continue;var w=s.start,D=s.end,C=w.getTime(),k=D.getTime();if(!(k<C))if(s.allday){var x=!1;if(x=C===k?!(k<u.getTime()||C>=d.getTime()):"Date"===o.allDayEnd?!(k<u.getTime()||C>=d.getTime()):!(k<=u.getTime()||C>=d.getTime()),l&&(x=x&&(s.resource===f.id||"*"===f.id)),x){var P=new DayPilot.Event(s,this);if(P.part.start=u.getTime()<C?w:u,P.part.end=d.getTime()>k?D:d,P.part.colStart=DayPilot.DateUtil.daysDiff(u,P.part.start),P.part.colWidth=DayPilot.DateUtil.daysSpan(P.part.start,P.part.end)+1,l&&(P.part.colStart=a,P.part.colWidth=1),"function"==typeof o.onEventFilter&&o.events.Xc){var _={};if(_.filter=o.events.Xc,_.visible=!0,_.e=P,o.onEventFilter(_),!_.visible)continue}this.Mb.events.push(P),("function"==typeof this.onBeforeEventRender||o.showEventStartEnd)&&(P.cache=this.s.events[m]),n[m]=!0,!l||P.part.start.getTime()===C&&P.part.end.getTime()===k||(n[m]=!1)}}else{var b=null;if("function"==typeof o.onBeforeEventRender&&(b=o.s.events[m]),b){if(b.hidden)continue}else if(s.hidden)continue;var x=!1;if(x=l?f.id===s.resource&&!(k<=v||C>=y):!(k<=v||C>=y)||k===C&&C===v){var P=new DayPilot.Event(s,o);P.part.dayIndex=a,P.part.start=v<C?w:p,P.part.end=y>k?D:g;var S=this.Wc(P.part.start,f.start),A=this.Wc(P.part.end,f.start),E=S.top,T=A.top;if(E===T&&(S.cut||A.cut))continue;P.part.box=r.useBox(k-C);var R=0;if(P.part.box){var M=A.boxBottom;P.part.top=Math.floor(E/this.cellHeight)*this.cellHeight+R,P.part.height=Math.max(Math.ceil(M/this.cellHeight)*this.cellHeight-P.part.top,this.cellHeight-1),P.part.barTop=Math.max(E-P.part.top-1,0),P.part.barHeight=Math.max(T-E-2,1)}else P.part.top=E+R,P.part.height=Math.max(T-E,0),P.part.barTop=0,P.part.barHeight=Math.max(T-E-2,1);if("function"==typeof o.onEventFilter&&o.events.Xc){var _={};if(_.filter=o.events.Xc,_.visible=!0,_.e=P,o.onEventFilter(_),!_.visible)continue}var w=P.part.top,D=P.part.top+P.part.height;w>h.maxStart&&(h.maxStart=w),D<h.minEnd&&(h.minEnd=D),w<this.Qa&&(this.Qa=w),D>this.za&&(this.za=D),f.events.push(P),("function"==typeof this.onBeforeEventRender||o.showEventStartEnd)&&(P.cache=this.s.events[m]),P.part.start.getTime()===C&&P.part.end.getTime()===k&&(n[m]=!0)}}}}for(var a=0;a<this.ta.length;a++){var f=this.ta[a];f.events.sort(this.Yc);for(var m=0;m<f.events.length;m++){var s=f.events[m];f.putIntoBlock(s)}for(var m=0;m<f.blocks.length;m++){var H=f.blocks[m];H.events.sort(this.Zc);for(var B=0;B<H.events.length;B++){var s=H.events[B];H.putIntoLine(s)}}}this.Mb.events.sort(this.Zc),this.Mb.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var i=this.lines[e];if(i.isFree(t.part.colStart,t.part.colWidth))return i.push(t),e}var i=[];return i.isFree=function(t,e){for(var i=t+e-1,n=this.length,o=0;o<n;o++){var a=this[o];if(!(i<a.part.colStart||t>a.part.colStart+a.part.colWidth-1))return!1}return!0},i.push(t),this.lines.push(i),this.lines.length-1};for(var a=0;a<this.Mb.events.length;a++){var s=this.Mb.events[a];this.Mb.putIntoLine(s)}var O=Math.max(this.Mb.lines.length,1);this.s.allDayHeaderHeight=O*(r.allDayEventHeight()+2)+2}},this.Yc=function(t,e){if(!(t&&e&&t.start&&e.start))return 0;var i=t.start().ticks-e.start().ticks;return 0!==i?i:e.end().ticks-t.end().ticks},this.Zc=function(t,e){if(!t||!e)return 0;if(!(t.data&&e.data&&t.data.sort&&e.data.sort&&0!==t.data.sort.length&&0!==e.data.sort.length))return o.Yc(t,e);for(var i=0,n=0;0===i&&void 0!==t.data.sort[n]&&void 0!==e.data.sort[n];)i=t.data.sort[n]===e.data.sort[n]?0:"number"==typeof t.data.sort[n]&&"number"==typeof e.data.sort[n]?t.data.sort[n]-e.data.sort[n]:o.$c(t.data.sort[n],e.data.sort[n],o.sortDirections[n]),n++;return i},this.$c=function(t,e,i){var n="desc"!==i,o=n?-1:1,a=-o;if(null===t&&null===e)return 0;if(null===e)return a;if(null===t)return o;var r=[];return r[0]=t,r[1]=e,r.sort(),t===r[0]?o:a},this._c=function(t){for(var e=0;e<o.elements.events.length;e++){var i=o.elements.events[e];if(i.event===t||i.event.data===t.data)return i}return null},this.events.find=function(t){if(!o.events.list||void 0===o.events.list.length)return null;for(var e=o.events.list.length,i=0;i<e;i++)if(o.events.list[i].id===t)return new DayPilot.Event(o.events.list[i],o);return null},this.events.findRecurrent=function(t,e){if(!o.events.list||void 0===o.events.list.length)return null;for(var i=o.events.list.length,n=0;n<i;n++)if(o.events.list[n].recurrentMasterId===t&&o.events.list[n].start.getTime()===e.getTime())return new DayPilot.Event(o.events.list[n],o);return null},this.events.all=function(){for(var t=[],e=0;e<o.events.list.length;e++){var i=new DayPilot.Event(o.events.list[e],o);t.push(i)}return DayPilot.list(t)},this.events.edit=function(t){function e(){var e=o._c(t);e&&o.Ha(e)}e()},this.events.update=function(t,e){var i={};i.oldEvent=new DayPilot.Event(t.copy(),o),i.newEvent=new DayPilot.Event(t.temp(),o);var n=new DayPilot.Action(o,"EventUpdate",i,e);return t.commit(),o.z&&o.update(),o.Jc.notify(),n},this.events.remove=function(t,e){var i={};i.e=new DayPilot.Event(t.data,o);var n=new DayPilot.Action(o,"EventRemove",i,e),a=DayPilot.indexOf(o.events.list,t.data);return o.events.list.splice(a,1),o.z&&o.update(),o.Jc.notify(),n},this.events.add=function(t,e){t.calendar=o,o.events.list||(o.events.list=[]),o.events.list.push(t.data);var i={};i.e=t;var n=new DayPilot.Action(o,"EventAdd",i,e);return o.z&&o.update(),o.Jc.notify(),n},this.events.filter=function(t){o.events.Xc=t,o.ad()},this.events.load=function(t,e,i){var n=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof i&&i(e)},a=function(t){var i,a=t.request;try{i=DayPilot.Util.parseJSON(a.responseText)}catch(t){var r={};return r.exception=t,void n(r)}if(DayPilot.isArray(i)){var s={};if(s.preventDefault=function(){this.preventDefault.value=!0},s.data=i,"function"==typeof e&&e(s),s.preventDefault.value)return;o.events.list=i,o.z&&o.update()}};DayPilot.ajax({method:"POST",data:{start:o.visibleStart().toString(),end:o.visibleEnd().toString()},url:t,success:a,error:n})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(t){if(t){if(!t.isAction)throw"DayPilot.Action object required for queue.add()";o.queue.list.push(t)}},this.queue.notify=function(t){var e={};e.actions=o.queue.list,o.F("Notify",e,t,"Notify"),o.queue.list=[]},this.queue.clear=function(){o.queue.list=[]},this.queue.pop=function(){return o.queue.list.pop()},this.ad=function(t){if(this.z&&this.ta){var t=t||{},e=!t.eventsOnly;o.cssOnly||(o.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.q()||(o.cellProperties={}),e?(o.qc.clearCache(),o.L(),this.bd(),this.Z(),this.aa(),o.ca(),o.da(),o.ba(),o.ea(),o.fa(),o.C(),o.ga(),o.hb(),o.ha(),o.ia(),o.ja(),o.ka(),o.cd(),this.na(),this.oa(),this.la(),o.pa()):(o.L(),o.aa(),o.ba(),o.na(),o.oa(),o.pa()),this.visible?this.show():this.hide()}},this.update=function(){if(this.ad(),"function"==typeof o.onAfterRender){var t={};t.isUpdate=!0,t.data=null,o.onAfterRender(t)}},this.cd=function(){if(o.nav.top.className!==o.p("_main")){o.nav.top.className=o.p("_main");var t=o.nav.corner;t.className=o.p("_corner"),t.firstChild.className=o.p("_corner_inner");var e=o.nav.unifiedCornerRight;e&&(e.firstChild.className=o.p("_cornerright"),e.firstChild.firstChild.className=o.p("_cornerright_inner"))}},this.show=function(){o.visible=!0,o.nav.top.style.display="",o.O(),o.ja(),o.lb()},this.hide=function(){o.visible=!1,o.nav.top.style.display="none"},this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){o.Jc.scope&&o.Jc.scope.$apply()},this.debug=new DayPilot.Debug(this),this.Wc=function(t,e){e||(e=this.startDate);var i=e.getTime(),n=t.getTime(),o=this.s.pixels[n+"_"+i];if(o)return o;i=e.addHours(this.Aa(!0)).getTime();var a=60*this.cellDuration*1e3,r=n-i,s=r%a,l=r-s,c=l+a;0===s&&(c=l);var u={};return u.cut=!1,u.top=this.dd(r),u.boxTop=this.dd(l),u.boxBottom=this.dd(c),this.s.pixels[n+"_"+i]=u,u},this.dd=function(t){return Math.floor(this.cellHeight*t/(6e4*this.cellDuration))},this.bd=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.ed=r.allDayEventHeight()+4},this.ba=function(){var t=this.Ba(),e=this.Ub();if(this.nav.corner&&(this.nav.corner.style.height=t+"px"),this.nav.cornerRight&&(this.nav.cornerRight.style.height=t+"px"),this.nav.mid&&(this.nav.mid.style.height=t+"px"),this.showAllDayEvents&&this.nav.header)for(var i=this.nav.header.rows[this.nav.header.rows.length-1],n=0;n<i.cells.length;n++){var o=i.cells[n];o.firstChild.style.height=r.allDayHeaderHeight()+"px"}this.nav.upperRight&&(this.nav.upperRight.style.height=t+"px"),this.nav.scroll.style.top=t+"px",this.nav.top.style.height=e+"px"},this.ia=function(){var t=this.Vb();this.nav.scroll&&t>0&&(this.nav.scroll.style.height=t+"px",this.ob=o.nav.scroll.clientHeight,this.nav.bottomLeft&&(this.nav.bottomLeft.style.height=t+"px"),this.nav.bottomRight&&(this.nav.bottomRight.style.height=t+"px")),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.Ub()+"px"},this.setHeight=function(t){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=t-this.Ba(),this.ia()},this.fd=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.className=this.p(t),document.body.appendChild(e);var i=e.offsetHeight,n=e.offsetWidth;document.body.removeChild(e);var o={};return o.height=i,o.width=n,o},this.qc={};var r=this.qc;r.locale=function(){return DayPilot.Locale.find(o.locale)},r.weekStarts=function(){return"number"==typeof o.weekStarts?o.weekStarts:r.locale().weekStarts},r.timeFormat=function(){return"Auto"!==o.timeFormat?o.timeFormat:this.locale().timeFormat},r.useBox=function(t){return"Always"===o.useEventBoxes||"Never"!==o.useEventBoxes&&t<60*o.cellDuration*1e3},r.notifyType=function(){var t;if("Immediate"===o.notifyCommit)t="Notify";else{if("Queue"!==o.notifyCommit)throw"Invalid notifyCommit value: "+o.notifyCommit;t="Queue"}return t},r.clearCache=function(){delete o.s.allDayEventHeight,delete o.s.allDayHeaderHeight,delete o.s.headerHeight},r.allDayEventHeight=function(){if(o.s.allDayEventHeight)return o.s.allDayEventHeight;var t=o.fd("_alldayevent_height").height;return t||(t=o.allDayEventHeight),o.s.allDayEventHeight=t,t},r.allDayHeaderHeight=function(){if(o.s.allDayHeaderHeight)return o.s.allDayHeaderHeight;var t=o.ed;return o.s.allDayHeaderHeight=t,t},r.headerHeight=function(){if(o.s.headerHeight)return o.s.headerHeight;var t=o.fd("_header_height").height;return t||(t=o.headerHeight),o.s.headerHeight=t,t},this.gd=function(){return!(!this.backendUrl||void 0!==o.events.list&&o.events.list)},this.hd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+e+"'."}},this.jd=function(){this.hd(),this.bd(),this.Z(),this.Wb(),this.ca(),this.da(),this.ga(),this.ja(),this.vc(),this.Pc(),this.P(),this.ka(),t.register(this),this.O(),this.la(),this.Mc(),this.qa(),this.F("Init")},this.init=function(){if(this.hd(),!this.nav.top.dp){var e=this.gd();if(o.cssOnly||(o.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e)return this.jd(),void(this.z=!0);this.bd(),this.Z(),this._(),this.events.list||(this.events.list=[]),this.aa(),this.Wb(),this.ca(),this.da(),this.ga(),this.ma(),this.ka(),this.ja(),this.vc(),this.Pc(),this.P(),t.register(this),this.ba(),this.na(),this.oa(),this.O(),this.messageHTML&&this.message(this.messageHTML),this.la(),this.X(null,!1),this.Mc(),this.qa(),this.z=!0,this.kd()}},this.ld=null,this.md=function(t){var e={events:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?o.events.list=t.list:o.events.list=t)}},scrollToHour:{postInit:function(){void 0!==this.data&&o.scrollToHour(this.data)}}};this.ld=e;for(var i in t)if(e[i]){var n=e[i];n.data=t[i],n.preInit&&n.preInit()}else o[i]=t[i]},this.kd=function(){var t=this.ld;for(var e in t){var i=t[e];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return o.z},this.internal.invokeEvent=this.Pa,this.internal.eventMenuClick=this.Ya,this.internal.timeRangeMenuClick=this.Za,this.internal.bubbleCallBack=this.Wa,this.internal.findEventDiv=this._c,this.internal.eventDeleteDispatch=this.Oa,this.internal.touch=this.Rb,this.Init=this.init,this.md(i)};var t={};t.topSelectedCell=null,t.bottomSelectedCell=null,t.selecting=!1,t.column=null,t.firstSelected=null,t.firstMousePos=null,t.originalMouse=null,t.originalHeight=null,t.originalTop=null,t.globalHandlers=!1,t.editing=!1,t.originalText=null,t.register=function(e){t.registered||(t.registered=[]);for(var i=t.registered,n=0;n<i.length;n++)if(i[n]===e)return;i.push(e)},t.unregister=function(e){var i=t.registered;if(i){var n=DayPilot.indexOf(i,e);-1!==n&&i.splice(n,1),0===i.length&&(i=null)}i||(DayPilot.ue(document,"mousemove",t.gMouseMove),DayPilot.ue(document,"mouseup",t.gMouseUp),DayPilot.ue(document,"touchmove",t.gTouchMove),DayPilot.ue(document,"touchend",t.gTouchEnd),t.globalHandlers=!1)},t.getCellsAbove=function(e){for(var i=[],n=t.getColumn(e),o=e.parentNode,a=null;o&&a!==t.firstSelected;)for(a=o.getElementsByTagName("td")[n],i.push(a),o=o.previousSibling;o&&"TR"!==o.tagName;)o=o.previousSibling;return i},t.getCellsBelow=function(e){for(var i=[],n=t.getColumn(e),o=e.parentNode,a=null;o&&a!==t.firstSelected;)for(a=o.getElementsByTagName("td")[n],i.push(a),o=o.nextSibling;o&&"TR"!==o.tagName;)o=o.nextSibling;return i},t.getColumn=function(t){for(var e=0;t.previousSibling;)t=t.previousSibling,"TD"===t.tagName&&e++;return e},t.getShadowColumn=function(t){if(!t)return null;for(var e=t.parentNode;e&&"TD"!==e.tagName;)e=e.parentNode;return e},t.gTouchMove=function(e){if(!DayPilot.Util.isMouseEvent(e)&&t.drag){e.preventDefault();var i=e.touches?e.touches[0].pageX:e.pageX,n=e.touches?e.touches[0].pageY:e.pageY,o={};o.x=i,o.y=n;var a=function(){for(var t=e.touches?e.touches[0].clientX:e.clientX,i=e.touches?e.touches[0].clientY:e.clientY,n=document.elementFromPoint(t,i);n&&n.parentNode;)if(n=n.parentNode,n.daypilotMainD)return n.calendar;return!1}();if(a){if(t.gShadow&&document.body.removeChild(t.gShadow),t.gShadow=null,a.coords=a.Rb.relativeCoords(e),!t.movingShadow&&a.coords){var r=a.sa(t.drag,!1,t.drag.shadowType);if(r){t.movingShadow=r;var s=DayPilot.Date.today(),e={value:t.drag.id,start:s,end:s.addSeconds(t.drag.duration),text:t.drag.text},l=new DayPilot.Event(e,a);l.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=l,DayPilot.Global.moving.helper={}}}DayPilot.Global.moving&&a.Rb.updateMoving()}else{DayPilot.de(t.movingShadow),DayPilot.Global.moving=null,t.movingShadow=null,t.gShadow||(t.gShadow=t.createGShadow(t.drag.shadowType));var r=t.gShadow;r.style.left=o.x+"px",r.style.top=o.y+"px"}}},t.gTouchEnd=function(e){DayPilot.Util.isMouseEvent(e)||t.gMouseUp(e)},t.gMouseMove=function(e){if(void 0!==t&&!(e.insideMainD||e.srcElement&&e.srcElement.inside)){var i=DayPilot.mc(e);if(t.drag){document.body.style.cursor="move",t.gShadow||(t.gShadow=t.createGShadow(t.drag.shadowType));var n=t.gShadow;n.style.left=i.x+"px",n.style.top=i.y+"px",DayPilot.Global.moving=null,t.deleteShadow(t.movingShadow),t.movingShadow=null}for(var o=0;o<t.registered.length;o++)t.registered[o].R&&t.registered[o].R()}},t.gUnload=function(e){if(t.registered)for(var i=t.registered,n=0;n<i.length;n++){var o=i[n];t.unregister(o)}},t.gMouseUp=function(e){var e=e||window.event;if(DayPilot.Global.resizing){if(!t.resizingShadow)return DayPilot.Global.resizing.style.cursor="default",DayPilot.Global.resizing.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.resizing=null);var i=DayPilot.Global.resizing.event,n=DayPilot.Global.resizing.dpBorder,o=t.resizingShadow.clientHeight,a=t.resizingShadow.offsetTop;if(t.deleteShadow(t.resizingShadow),t.resizingShadow=null,DayPilot.Global.resizing.style.cursor="default",i.calendar.nav.top.style.cursor="auto",DayPilot.Global.resizing.onclick=null,DayPilot.Global.resizing=null,i.calendar.overlap)return;i.calendar.Ra(i,o,a,n)}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return t.deleteShadow(t.movingShadow),DayPilot.Global.moving=null,void(t.movingShadow=null);if(!t.movingShadow)return DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.moving=null);var a=(DayPilot.Global.moving.helper.oldColumn,t.movingShadow.offsetTop);t.deleteShadow(t.movingShadow);var i=DayPilot.Global.moving.event,r=t.movingShadow.column,s=t.drag;if(DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",DayPilot.Global.moving=null,t.movingShadow=null,s&&(i.calendar.todo||(i.calendar.todo={}),i.calendar.todo.del=s.element),i.calendar.overlap)return;var l=e||window.event;i.calendar.Ta(i,r,a,l,s)}t.drag&&(t.drag=null,document.body.style.cursor=""),t.gShadow&&(document.body.removeChild(t.gShadow),t.gShadow=null),t.moveOffsetY=null},t.dragStart=function(e,i,n,o,a){DayPilot.us(e);var r=t.drag={};return r.element=e,r.duration=i,r.text=o,r.id=n,r.shadowType=a||"Fill",!1},DayPilot.Calendar.makeDraggable=function(e){var i=e.element,n=e.keepElement?null:i,o=e.duration||1;navigator.msPointerEnabled&&(i.style.msTouchAction="none",i.style.touchAction="none");var a=function(i){t.dragStart(n,o,e.id,e.text);var a=i.target||i.srcElement;if(a.tagName){var r=a.tagName.toLowerCase();if("textarea"===r||"select"===r||"input"===r)return!1}return i.preventDefault&&i.preventDefault(),!1},r=function(i){DayPilot.Util.isMouseEvent(i)||(window.setTimeout(function(){var a=t.drag={};a.element=n,a.id=e.id,a.text=e.text||"",a.duration=o,a.shadowType="Fill",t.gTouchMove(i),i.preventDefault()},0),i.preventDefault())};DayPilot.us(i),DayPilot.re(i,"mousedown",a),DayPilot.re(i,DayPilot.touch.start,r),i.cancelDraggable=function(){DayPilot.ue(i,"mousedown",a),DayPilot.ue(i,DayPilot.touch.start,r),delete i.cancelDraggable}},t.deleteShadow=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},t.createGShadow=function(t){var e=document.createElement("div");return e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.width="100px",e.style.height="20px",e.style.border="2px dotted #666666",e.style.zIndex=101,e.style.pointerEvents="none","Fill"===t&&(e.style.backgroundColor="#aaaaaa",e.style.opacity=.5,e.style.filter="alpha(opacity=50)",e.style.border="2px solid #aaaaaa"),document.body.appendChild(e),e},t.moveShadow=function(e){var i=t.movingShadow;i.parentNode&&i.parentNode.removeChild(i),e.firstChild.appendChild(i),i.style.left="0px",i.style.width=t.movingShadow.parentNode.offsetWidth+"px"},t.Column=function(t,e,i){this.value=t,this.id=t,this.name=e,this.date=new DayPilot.Date(i)},"undefined"!=typeof jQuery&&function(t){t.fn.daypilotCalendar=function(t){var e=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Calendar(this.id,t);i.init(),this.daypilot=i,e||(e=i)}});return 1===this.length?e:i}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotCalendar",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,i){return e.replaceWith(this.template.replace("{{id}}",i.id)),function(e,i,n){var o=new DayPilot.Calendar(i[0]);o.Jc.scope=e,o.init();var a=n.id;a&&(e[a]=o);var r=n.publishAs;r&&(0,t(r).assign)(e,o);for(var s in n)if(0===s.indexOf("on")){var l=DayPilot.Util.shouldApply(s);l?function(i){o[i]=function(o){var a=t(n[i]);e.$apply(function(){a(e,{args:o})})}}(s):function(i){o[i]=function(o){t(n[i])(e,{args:o})}}(s)}var c=e.$watch,u=n.config||n.daypilotConfig,d=n.events||n.daypilotEvents;c.call(e,u,function(t,e){for(var i in t)o[i]=t[i];o.update()},!0),c.call(e,d,function(t){o.events.list=t,o.ad({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.DatePicker&&(DayPilot.DatePicker=function(t){this.v="2826";var e="navigator_"+(new Date).getTime(),i=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.resetTarget=!0,this.pattern=this.qc.locale().datePattern,this.theme=null,this.patterns=[],t)for(var e in t)this[e]=t[e];this.init()},this.init=function(){this.date=new DayPilot.Date(this.date);var t=this.nd();this.resetTarget&&!t&&this.od(this.date),DayPilot.re(document,"mousedown",function(){i.close()})},this.close=function(){this.Lc&&(this.navigator&&this.navigator.dispose(),this.div.innerHTML="",this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div))},this.nd=function(){var t=this.pd();if(!t)return this.date;var e=null;if(!(e="INPUT"===t.tagName?t.value:t.innerText))return null;for(var n=DayPilot.Date.parse(e,i.pattern),o=0;o<i.patterns.length;o++){if(n)return n;n=DayPilot.Date.parse(e,i.patterns[o])}return n},this.od=function(t){var e=this.pd();if(e){var n=t.toString(i.pattern,i.locale);"INPUT"===e.tagName?e.value=n:e.innerHTML=n}},this.qc={},this.qc.locale=function(){return DayPilot.Locale.find(i.locale)},this.pd=function(){var t=this.target;return t&&t.nodeType&&1===t.nodeType?t:document.getElementById(t)},this.show=function(){var t=this.pd(),n=this.navigator,n=new DayPilot.Navigator(e);n.api=2,n.cssOnly=!0,n.theme=i.theme,n.weekStarts="Auto",n.locale=i.locale,n.onTimeRangeSelected=function(t){i.date=t.start;var e=t.start.addTime(n.qd),o=e.toString(i.pattern,i.locale),t={};t.start=e,t.date=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(t),t.preventDefault.value)||(i.od(o),i.close(),"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(t))},this.navigator=n;var o=DayPilot.abs(t),a=t.offsetHeight,r=document.createElement("div");r.style.position="absolute",r.style.left=o.x+"px",r.style.top=o.y+a+"px";var s=document.createElement("div");s.id=e,r.appendChild(s),DayPilot.re(r,"mousedown",function(t){var t=t||window.event;t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}),document.body.appendChild(r),this.div=r;var l=i.nd()||(new DayPilot.Date).getDatePart();n.startDate=l,n.qd=l.getTimePart(),n.selectionStart=l.getDatePart(),n.init(),this.Lc=!0,this.onShow&&this.onShow()},this.prepare()})}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){if(void 0===DayPilot.Gantt){var t=function(){};DayPilot.Gantt=function(e,i){this.v="2826";var n=this;this.id=e,this.isGantt=!0;var o=new DayPilot.Scheduler(e);this.scheduler=o,o.viewType="Resources",o.onCallBackHeader=function(t){t.header.taskGroupMode=n.taskGroupMode,t.header.rowHeaderColumns=n.columns,t.header.clientState=n.clientState},o.onGetNodeState=function(t){var e=function(t){var e={};if(t.tags)for(var i in t.tags)e[i]=""+t.tags[i];return e},i=function(t){var i=t.task,n={};return n.start=i.start,n.end=i.end,n.id=i.id,n.complete=i.complete,n.text=i.text,n.type=i.type,n.expanded=t.expanded,n.loaded=t.loaded,n.tags=e(i),n.versions=i.versions,n.children=o.internal.getNodeChildren(t.children),n};t.result=i(t.row),t.preventDefault()},o.rd=function(t){},o.onCallBackResult=function(t){var e=t.result;t.preventDefault();var i=function(){e.scrollToTaskId&&o.scrollToResource(e.scrollToTaskId)};if("None"===e.updateType)return void i();var a=function(t){for(var i=0;i<t.length;i++){var o=t[i];void 0!==e[o]&&(n[o]=e[o])}};n.links.list=e.links,n.tasks.list=e.tasks,n.startDate=new DayPilot.Date(e.startDate),a(["days","cellDuration","cellGroupBy","cellWidth","cellWidthSpec","cornerHtml","separators","rowMinHeight","rowMarginBottom","taskGroupMode","selectedRows"]),a(["cellProperties","cellConfig","timeHeader","timeHeaders","timeline","columns"]),s.translate(),s.sd(),s.td(),o.update(),o.show(),i()},this.taskGroupMode="Auto",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag","function"==typeof DayPilot.Bubble?(this.bubbleTask=new DayPilot.Bubble,this.bubbleCell=new DayPilot.Bubble,this.bubbleRow=new DayPilot.Bubble):(this.bubbleTask=null,this.bubbleCell=null,this.bubbleRow=null),this.cellDuration=1440,this.cellGroupBy="Month",this.cellWidth=40,this.cellWidthSpec="Fixed",this.completeBarVisible=!0,this.completeBarHeight=3,this.contextMenuTask=null,this.contextMenuRow=null,this.contextMenuLink=null,this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.doubleClickTimeout=300,this.progressiveTaskRendering="Progressive",this.progressiveTaskRenderingMargin=500,this.progressiveTaskRenderingCacheSweeping=!1,this.progressiveTaskRenderingCacheSize=200,this.floatingTasks=!0,this.floatingTimeHeaders=!0,this.headerHeight=20,this.height=300,this.heightSpec="Max",this.hideUntilInit=!1,this.linkBottomMargin=10,this.linkPointSize=10,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.locale="en-us",this.messageBarPosition="Top",this.messageHideAfter=5e3,this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderHideIconEnabled=!0,this.rowHeaderWidth=80,this.rowHeaderWidthAutoFit=!0,this.rowMarginBottom=4,this.rowMinHeight=0,this.scrollDelayTasks=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scale="Day",this.selectedRows=[],this.snapToGrid=!0,this.syncTasks=!0,this.syncLinks=!0,this.tapAndHoldTimeout=300,this.taskHeight=24,this.taskResizeMargin=5,this.taskMovingStartEndEnabled=!1,this.taskMovingStartEndFormat="MMMM d, yyyy",this.taskResizingStartEndEnabled=!1,this.taskResizingStartEndFormat="MMMM d, yyyy",this.theme="gantt_default",this.treeAutoExpand=!0,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeline=null,this.timeHeaders=[{groupBy:"Month",format:"MMMM yyyy"},{groupBy:"Day",format:"d"}],this.useEventBoxes="Never",this.visible=!0,this.taskVersionsEnabled=!1,this.taskVersionHeight=24,this.taskVersionMargin=2,this.taskVersionPosition="Above",this.taskMoveHandling="Update",this.taskClickHandling="Enabled",this.taskResizeHandling="Update",this.linkCreateHandling="Update",this.taskRightClickHandling="ContextMenu",this.taskDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowMoveHandling="Update",this.rowClickHandling="Disabled",this.rowDoubleClickHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.clientState={},this.separators=[],this.members={},this.members.obsolete=[],this.members.ignore=["members","scheduler","internal","cellProperties"],this.members.noCssOnly=[],this.links={},this.links.list=[],this.links.add=function(t){if(t){var e=t.isLink?t.data:t;n.links.list.push(e),n.z&&(s.td(),o.update()),n.Jc.notify()}},this.links.remove=function(t){if(t){var e;e=t.isLink?t.data:t;var i=DayPilot.indexOf(n.links.list,e);-1!==i&&(n.links.list.splice(i,1),n.z&&(s.td(),o.update()),n.Jc.notify())}},this.links.find=function(t){if(!DayPilot.isArray(n.links.list))return null;for(var e=0;e<n.links.list.length;e++){var i=n.links.list[e];if(i.id===t)return new DayPilot.Link(i,n)}return null},this.links.findFromTo=function(t,e){if(!DayPilot.isArray(n.links.list))return null;for(var i=0;i<n.links.list.length;i++){var o=n.links.list[i];if(o.from===t&&o.to===e)return new DayPilot.Link(o,n)}return null},this.ud={};var a=this.ud;a.timeout=null,a.update=function(){n.z&&(window.clearTimeout(a.timeout),a.timeout=setTimeout(function(){s.sd(),o.update()},0))},this.tasks={},this.tasks.list=[],this.tasks.add=function(t){if(t){if(t instanceof DayPilot.Event)throw"DayPilot.Task object required. You have supplied DayPilot.Event.";var e=t.isTask?t.data:t;n.tasks.list.push(e),a.update(),n.Jc.notify()}},this.tasks.find=function(t){var e=r.findInCache(t);return e?new DayPilot.Task(e,n):null},this.tasks.update=function(t){if(t){if(!t.isTask)throw"DayPilot.Task object expected";t.commit(),a.update(),n.Jc.notify()}},this.tasks.remove=function(t){if(t){if(!t.isTask)throw"DayPilot.Task object expected";var e=r.findParentArray(t.data);if(e){var i=DayPilot.indexOf(e,t.data);e.splice(i,1),a.update(),n.Jc.notify()}}},this.visibleStart=function(){return o.visibleStart()},this.visibleEnd=function(){return o.visibleEnd()},this.onAfterRender=null,this.onAfterUpdate=null,this.onBeforeRowHeaderRender=null,this.onBeforeTaskRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellRender=null,this.onTaskClick=null,this.onTaskClicked=null,this.onTaskDoubleClick=null,this.onTaskDoubleClicked=null,this.onTaskRightClick=null,this.onTaskRightClicked=null,this.onRowCreate=null,this.onRowCreated=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowEdit=null,this.onRowEdited=null,this.onRowSelect=null,this.onRowSelected=null,this.onTaskMove=null,this.onTaskMoved=null,this.onTaskMoving=null,this.onTaskResize=null,this.onTaskResized=null,this.onTaskResizing=null,this.onLinkCreate=null,this.onLinkCreated=null,this.q=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.vd=function(){if("string"==typeof n.startDate&&(n.startDate=new DayPilot.Date(n.startDate)),!n.startDate||!n.days){for(var t=DayPilot.Date.today(),e=t.addDays(1),i=null,a=null,r=0;r<n.tasks.list.length;r++){var s=n.tasks.list[r];t=new DayPilot.Date(s.start),e=new DayPilot.Date(s.end),(null===i||t.getTime()<i)&&(i=t.getTime()),(null===a||e.getTime()>a)&&(a=e.getTime())}i&&a?(t=new DayPilot.Date(i).getDatePart(),e=new DayPilot.Date(a).getDatePart().addDays(1),o.startDate=n.startDate||t,o.days=n.days||DayPilot.DateUtil.daysDiff(t,e)):(o.startDate=t,o.days=30)}},this.commandCallBack=function(t,e){s.translate(),o.commandCallBack(t,e)},this.message=function(t,e,i,n){o.message(t,e,i,n)},this.setHeight=function(t){o.setHeight(t)},this.gd=function(){return!(!this.backendUrl||DayPilot.isArray(n.tasks.list)&&0!=n.tasks.list.length)},this.init=function(){s.translate(),s.sd(),s.td(),this.vd(),o.init(),this.z=!0,this.kd()},this.xd=!1,this.dispose=function(){o.dispose(),n.xd=!0},this.update=function(){if(n.xd)throw new DayPilot.Error("This DayPilot.Gantt instance has been disposed.");s.translate(),s.sd(),s.td(),n.vd(),o.update()},this.scrollTo=function(t){o.scrollTo(t)},this.scrollToTask=function(t){o.scrollToResource(t)},this.yd={};var r=this.yd;r.cache={},r.clearCache=function(){r.cache={}},r.addToCache=function(t,e){var i=t.id;if(i){var n={};if(n.isTaskWrapper=!0,n.data=t,n.parent=e,r.cache[i])throw"Duplicate task id detected";r.cache[i]=n}},r.findInCache=function(t){return t?r.cache[t.toString()]:null},r.getProperty=function(t,e){return t.tags&&t.tags[e]?t.tags[e]:t[e]},r.findParentArray=function(t){return r.findInArray(n.tasks.list,t)},r.findInArray=function(t,e){if(-1!==DayPilot.indexOf(t,e))return t;for(var i=0;i<t.length;i++){var n=t[i];if(n.children&&n.children.length>0){var o=r.findInArray(n.children,e);if(o)return o}}return null},this.zd={};var s=this.zd;s.translate=function(){if(o.durationBarMode="PercentComplete",o.timeRangeSelectedHandling="Disabled",o.treeEnabled=!0,o.rowCreateHtml="",o.autoRefreshCommand=n.autoRefreshCommand,o.autoRefreshEnabled=n.autoRefreshEnabled,o.autoRefreshInterval=n.autoRefreshInterval,o.autoRefreshMaxCount=n.autoRefreshMaxCount,o.autoScroll=n.autoScroll,o.backendUrl=n.backendUrl,o.crosshairColor=n.crosshairColor,o.crosshairOpacity=n.crosshairOpacity,o.crosshairType=n.crosshairType,o.doubleClickTimeout=n.doubleClickTimeout,o.durationBarVisible=n.completeBarVisible,o.durationBarHeight=n.completeBarHeight,o.dynamicEventRendering=n.progressiveTaskRendering?"Progressive":"Disabled",o.dynamicEventRenderingMargin=n.progressiveTaskRenderingMargin,o.dynamicEventRenderingCacheSweeping=n.progressiveTaskRenderingCacheSweeping,o.dynamicEventRenderingCacheSize=n.progressiveTaskRenderingCacheSize,o.startDate=new DayPilot.Date(n.startDate),o.days=n.days,o.cellDuration=n.cellDuration,o.cellGroupBy=n.cellGroupBy,o.cellWidth=n.cellWidth,o.cellWidthSpec=n.cellWidthSpec,o.cornerHtml=n.cornerHtml,o.eventHeight=n.taskHeight,o.eventResizeMargin=n.taskResizeMargin,o.floatingEvents=n.floatingTasks,o.floatingTimeHeaders=n.floatingTimeHeaders,o.headerHeight=n.headerHeight,o.heightSpec=n.heightSpec,o.height=n.height,o.linkBottomMargin=n.linkBottomMargin,o.linkPointSize=n.linkPointSize,o.loadingLabelVisible=n.loadingLabelVisible,o.loadingLabelText=n.loadingLabelText,o.locale=n.locale,o.messageBarPosition=n.messageBarPosition,o.messageHideAfter=n.messageHideAfter,o.rowCreateHandling=n.rowCreateHandling,o.progressiveRowRendering=n.progressiveRowRendering,o.progressiveRowRenderingPreload=n.progressiveRowRenderingPreload,o.scale=n.scale,o.scrollDelayEvents=n.scrollDelayTasks,o.scrollDelayCells=n.scrollDelayCells,o.scrollDelayFloats=n.scrollDelayFloats,o.scrollX=n.scrollX,o.scrollY=n.scrollY,n.scrollToTaskId&&(o.scrollToResourceId=n.scrollToTaskId),o.separators=n.separators,o.tapAndHoldTimeout=n.tapAndHoldTimeout,o.eventMovingStartEndEnabled=n.taskMovingStartEndEnabled,o.eventMovingStartEndFormat=n.taskMovingStartEndFormat,o.eventResizingStartEndEnabled=n.taskResizingStartEndEnabled,o.eventResizingStartEndFormat=n.taskResizingStartEndFormat,o.hideUntilInit=n.hideUntilInit,o.treeIndent=n.treeIndent,o.treeAutoExpand=n.treeAutoExpand,o.treeImageMarginLeft=n.treeImageMarginLeft,o.treeImageMarginTop=n.treeImageMarginTop,o.timeHeaders=n.timeHeaders,o.rowHeaderHideIconEnabled=n.rowHeaderHideIconEnabled,o.rowHeaderScrolling=n.rowHeaderScrolling,o.rowHeaderSplitterWidth=n.rowHeaderSplitterWidth,o.rowHeaderWidth=n.rowHeaderWidth,o.rowHeaderWidthAutoFit=n.rowHeaderWidthAutoFit,o.rowMarginBottom=n.rowMarginBottom,o.rowMinHeight=n.rowMinHeight,o.selectedRows=n.selectedRows,o.theme=n.theme,o.useEventBoxes=n.useEventBoxes,o.snapToGrid=n.snapToGrid,o.uniqueID=n.uniqueID,o.bubble=n.bubbleTask,o.cellBubble=n.bubbleCell,o.resourceBubble=n.bubbleRow,o.contextMenu=n.contextMenuTask,o.contextMenuResource=n.contextMenuRow,o.contextMenuLink=n.contextMenuLink,o.syncResourceTree=n.syncTasks,o.syncLinks=n.syncLinks,o.timeline=n.timeline,o.visible=n.visible,o.eventMoveHandling=n.taskMoveHandling,o.eventClickHandling=n.taskClickHandling,o.eventResizeHandling=n.taskResizeHandling,o.linkCreateHandling=n.linkCreateHandling,o.eventRightClickHandling=n.taskRightClickHandling,o.eventDoubleClickHandling=n.taskDoubleClickHandling,o.rowMoveHandling=n.rowMoveHandling,o.rowClickHandling=n.rowClickHandling,o.rowDoubleClickHandling=n.rowDoubleClickHandling,o.rowEditHandling=n.rowEditHandling,o.rowSelectHandling=n.rowSelectHandling,o.eventVersionsEnabled=n.taskVersionsEnabled,o.eventVersionHeight=n.taskVersionHeight,o.eventVersionMargin=n.taskVersionMargin,o.eventVersionPosition=n.taskVersionPosition,DayPilot.isArray(n.columns)){o.rowHeaderColumns=[];for(var t=0;t<n.columns.length;t++){var e=n.columns[t],i={};DayPilot.Util.copyProps(e,i,["title","width"]),o.rowHeaderColumns.push(i)}}n.q()&&(o.timeHeader=n.timeHeader,o.cellProperties=n.cellProperties,o.cellConfig=n.cellConfig),o.onRowCreate=function(t){"function"==typeof n.onRowCreate&&n.onRowCreate(t)},o.onRowCreated=function(t){"function"==typeof n.onRowCreated&&n.onRowCreated(t)},o.onAfterRender=function(t){"function"==typeof n.onAfterRender&&n.onAfterRender(t)},o.onAfterUpdate=function(t){"function"==typeof n.onAfterUpdate&&n.onAfterUpdate(t)},o.onRowHeaderResized=function(t){n.rowHeaderWidth=o.rowHeaderWidth},o.onAjaxError=function(t){"function"==typeof n.onAjaxError&&n.onAjaxError(t)},o.onRowHeaderColumnResized=function(t){for(var e=t.column,i=DayPilot.indexOf(o.rowHeaderColumns,e),a=0;a<n.columns.length;a++){var r=o.rowHeaderColumns[a];n.columns[a].width=r.width}if("function"==typeof n.onColumnResized){var s={};s.column=n.columns[i],n.onColumnResized(s)}},o.onBeforeRowHeaderRender=function(t){t.task=new DayPilot.Task(t.row.$.row.task,n);var e=[];if(DayPilot.isArray(n.columns))for(var i=0;i<n.columns.length;i++){var o=n.columns[i],a=o.property,s={};s.value=r.getProperty(t.task.data,a),t.task.data.row&&t.task.data.row.columns&&t.task.data.row.columns[i]?s.html=t.task.data.row.columns[i].html:s.html=s.value,e.push(s)}if(t.row.columns=e,"function"==typeof n.onBeforeRowHeaderRender&&n.onBeforeRowHeaderRender(t),DayPilot.isArray(n.columns))for(var i=0;i<n.columns.length;i++){var l=e[i].html;0===i?t.row.html=l:t.row.columns[i-1].html=l}},o.onBeforeCellRender=function(t){t.task=n.tasks.find(t.cell.resource),delete t.cell.resource,"function"==typeof n.onBeforeCellRender&&n.onBeforeCellRender(t)},o.onBeforeTimeHeaderRender=function(t){"function"==typeof n.onBeforeTimeHeaderRender&&n.onBeforeTimeHeaderRender(t)},o.onEventClick=function(t){t.task=new DayPilot.Task(t.e,n),"function"==typeof n.onTaskClick&&n.onTaskClick(t)},o.onEventClicked=function(t){"function"==typeof n.onTaskClicked&&n.onTaskClicked(t)},o.onEventDelete=function(t){"function"==typeof n.onTaskDelete&&n.onTaskDelete(t)},o.onEventDeleted=function(t){"function"==typeof n.onTaskDeleted&&n.onTaskDeleted(t)},o.onEventDoubleClick=function(t){t.task=new DayPilot.Task(t.e,n),"function"==typeof n.onTaskDoubleClick&&n.onTaskDoubleClick(t)},o.onEventDoubleClicked=function(t){"function"==typeof n.onTaskDoubleClicked&&n.onTaskDoubleClicked(t)},o.onEventRightClick=function(t){t.task=new DayPilot.Task(t.e,n),"function"==typeof n.onTaskRightClick&&n.onTaskRightClick(t)},o.onEventRightClicked=function(t){"function"==typeof n.onTaskRightClicked&&n.onTaskRightClicked(t)},o.onRowMoving=function(t){t.Ad=t.source,t.Bd=t.target,t.source=new DayPilot.Task(t.Ad.$.row.task,n),t.target=new DayPilot.Task(t.Bd.$.row.task,n),"function"==typeof n.onRowMoving&&n.onRowMoving(t)},o.onRowMove=function(t){t.Ad=t.source,t.Bd=t.target,t.source=new DayPilot.Task(t.Ad.$.row.task,n),t.target=new DayPilot.Task(t.Bd.$.row.task,n),"function"==typeof n.onRowMove&&n.onRowMove(t),t.source=t.Ad,t.target=t.Bd},o.onRowMoved=function(t){if("Update"===n.rowMoveHandling||"Notify"===n.rowMoveHandling){var e=t.Ad.$.row.task,i=t.Bd.$.row.task,o=t.position;if("forbidden"===o)return;var a=r.findParentArray(e);if(!a)throw"Cannot find source node parent";var s=DayPilot.indexOf(a,e);a.splice(s,1);var l=r.findParentArray(i);if(!l)throw"Cannot find target node parent";var c=DayPilot.indexOf(l,i);switch(o){case"before":l.splice(c,0,e);break;case"after":l.splice(c+1,0,e);break;case"child":i.children||(i.children=[],i.expanded=!0),i.children.push(e)}n.Jc.notify(),n.update()}t.source=new DayPilot.Task(t.Ad.$.row.task,n),t.target=new DayPilot.Task(t.Bd.$.row.task,n),"function"==typeof n.onRowMoved&&n.onRowMoved(t)},o.onRowClick=function(t){t.task=new DayPilot.Task(t.resource.$.row.task,n),"function"==typeof n.onRowClick&&n.onRowClick(t)},o.onRowClicked=function(t){"function"==typeof n.onRowClicked&&n.onRowClicked(t)},o.onRowDoubleClick=function(t){t.task=new DayPilot.Task(t.resource.$.row.task,n),"function"==typeof n.onRowDoubleClick&&n.onRowDoubleClick(t)},o.onRowDoubleClicked=function(t){"function"==typeof n.onRowDoubleClicked&&n.onRowDoubleClicked(t)},o.onRowEdit=function(t){t.task=new DayPilot.Task(t.resource.$.row.task,n),"function"==typeof n.onRowEdit&&n.onRowEdit(t)},o.onRowEdited=function(t){"function"==typeof n.onRowEdited&&n.onRowEdited(t)},o.onRowSelect=function(t){t.task=new DayPilot.Task(t.row.$.row.task,n),"function"==typeof n.onRowSelect&&n.onRowSelect(t)},o.onRowSelected=function(t){"function"==typeof n.onRowSelected&&n.onRowSelected(t)},o.onEventMove=function(t){t.Cd=t.e,t.task=new DayPilot.Task(t.e,n),"function"==typeof n.onTaskMove&&n.onTaskMove(t)},o.onEventMoved=function(t){if("Auto"===n.taskGroupMode){var e=t.Cd,i=e.data.task;for(i.start=e.start(),i.end=e.end();e.data.parent;){var a=o.events.find(e.data.parent.id),r=s.childrenStartEnd(e.data.parent);a.start(r.start),a.end(r.end),o.events.update(a),e=a}}n.Jc.notify(),"function"==typeof n.onTaskMoved&&n.onTaskMoved(t)},o.onEventMoving=function(t){t.task=new DayPilot.Task(t.e,n),t.Cd=t.e,delete t.position,delete t.overlapping,delete t.resource,"function"==typeof n.onTaskMoving&&n.onTaskMoving(t)},o.onEventResize=function(t){t.Cd=t.e,t.task=new DayPilot.Task(t.e,n),"function"==typeof n.onTaskResize&&n.onTaskResize(t)},o.onEventResized=function(t){if("Auto"===n.taskGroupMode){var e=t.Cd,i=e.data.task;for(i.start=e.start(),i.end=e.end();e.data.parent;){var a=o.events.find(e.data.parent.id),r=s.childrenStartEnd(e.data.parent);a.start(r.start),a.end(r.end),o.events.update(a),e=a}}n.Jc.notify(),"function"==typeof n.onTaskResized&&n.onTaskResized(t)},o.onEventResizing=function(t){t.task=new DayPilot.Task(t.e,n),t.Cd=t.e,"function"==typeof n.onTaskResizing&&n.onTaskResizing(t)},o.onLinkCreate=function(t){t.source=n.tasks.find(t.from),t.target=n.tasks.find(t.to),"function"==typeof n.onLinkCreate&&n.onLinkCreate(t)},o.onLinkCreated=function(t){"function"==typeof n.onLinkCreated&&n.onLinkCreated(t)},o.onResourceExpand=function(t){var e=t.resource.$.row.task;e.row||(e.row={}),e.row.collapsed=!1},o.onResourceCollapse=function(t){var e=t.resource.$.row.task;e.row||(e.row={}),e.row.collapsed=!0}},s.Dd=function(t){for(var e=0;e<o.rowlist.length;e++){var i=o.rowlist[e];if(i.task===t)return o.internal.createRowObject(i)}return null},s.td=function(){o.links.list=n.links.list?n.links.list:[]},s.sd=function(){o.resources=[],o.events.list=[],r.clearCache(),s.Ed(n.tasks.list,o.resources,null),l.sheet&&(l.sheet.commit(),l.sheet=null)},s.Fd=function(t){var e=t.type||"Task";t.children&&t.children.length&&(e="Group");var i={};for(var o in t)"children"!==o&&(i[o]=t[o]);var a={};if(a.data=i,a.type=e,i.box||(i.box={}),void 0===i.box.html)if("Task"===a.type){var r=i.complete||0;i.box.html=r+"%"}else i.box.html="";return void 0===i.box.htmlRight&&(i.box.htmlRight=i.text),"function"==typeof n.onBeforeTaskRender&&n.onBeforeTaskRender(a),a.type=e,a};var l={};l.keys={},l.sheet=null,s.Gd=function(t){if(t.data.box&&!t.data.box.cssClass&&t.data.box.backColor&&"Task"!==t.type){var e=DayPilot.Util.normalizeColor(t.data.box.backColor),i=t.type+"_"+e.replace("#",""),o=n.theme,a=n.theme+"_"+i;return l.keys[i]||(l.keys[i]=!0,l.sheet||(l.sheet=DayPilot.sheet()),"Group"===t.type?(l.sheet.add("."+a+"."+o+"_task_group ."+o+"_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: "+e+"; filter: none; border: 0px none;"),l.sheet.add("."+a+"."+o+"_task_group."+o+"_event:before","content:''; border-color: transparent transparent transparent "+e+"; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),l.sheet.add("."+a+"."+o+"_task_group."+o+"_event:after","content:''; border-color: transparent "+e+" transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")):"Milestone"===t.type&&(l.sheet.add("."+a+"."+o+"_task_milestone ."+o+"_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: "+e+"; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),l.sheet.add("."+a+"."+o+"_browser_ie8 ."+o+"_task_milestone ."+o+"_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""))),a}},s.Ed=function(e,i,a){if(DayPilot.isArray(e))for(var l=0;l<e.length;l++){var c=e[l];r.addToCache(c,a);var u=s.Fd(c),d=u.data,h=u.type,f={};if(DayPilot.Util.copyProps(d,f,["id","start","end","text","complete","tags","versions"]),DayPilot.Util.copyProps(d.box,f),f.parent=a,f.task=c,f.resource=d.id,"Group"==h){f.type="Group",f.html="";var p=s.Gd(u);if(p&&(f.cssClass=(f.cssClass||"")+" "+p,console.log(f.cssClass)),delete f.backColor,"Auto"===n.taskGroupMode){var v=s.childrenStartEnd(c);f.start=v.start,f.end=v.end,f.resizeDisabled=!0,f.moveDisabled=!0}}else if("Milestone"===h){f.html="",c.end=c.start;var p=s.Gd(u);p&&(f.cssClass=(f.cssClass||"")+" "+p),d.end=d.start,f.end=d.start,f.barHidden=!0,f.resizeDisabled=!0,f.type="Milestone",f.width=n.taskHeight,delete f.backColor}else"Task"===h&&t();f.moveVDisabled=!0,f.htmlRight=d.box.htmlRight,f.htmlLeft=d.box.htmlLeft,o.events.list.push(f);var g={};g.task=c,DayPilot.Util.copyProps(d.row,g),g.name=d.text,g.id=d.id,g.children=[],g.expanded=!d.row||!d.row.collapsed,c.children&&c.children.length&&s.Ed(c.children,g.children,c),i.push(g)}},s.childrenStartEnd=function(t){if(!t.children||!t.children.length){var e=t.start,i=t.end;return"Milestone"===t.type&&(i=e),{start:new DayPilot.Date(e),end:new DayPilot.Date(i)}}for(var e=null,i=null,n=0;n<t.children.length;n++){var o=s.childrenStartEnd(t.children[n]);(!e||o.start.getTime()<e.getTime())&&(e=o.start),(!i||o.end.getTime()>i.getTime())&&(i=o.end)}return{start:e,end:i}},this.rows={},this.rows.expand=function(t){o.rows.expand(t)},this.rows.expandAll=function(){o.rows.expandAll()},this.rows.selection={},this.rows.selection.add=function(t){o.rows.find(t.data.id)},this.rows.selection.clear=function(){o.rows.selection.clear()},this.rows.selection.get=function(){return o.rows.selection.get().map(function(t){return new DayPilot.Task(t.$.row.task,n)})},this.ld=null,this.md=function(t){var e={tasks:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?n.tasks.list=t.list:n.tasks.list=t)}},links:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?n.links.list=t.list:n.links.list=t)}},scrollTo:{postInit:function(){this.data&&n.scrollTo(this.data)}},scrollToTask:{postInit:function(){this.data&&n.scrollToTask(this.data)}}};this.ld=e;for(var i in t)if(e[i]){var o=e[i];o.data=t[i],o.preInit&&o.preInit()}else n[i]=t[i]},this.kd=function(){var t=this.ld;for(var e in t){var i=t[e];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return n.z},this.internal.rowObjectForTaskData=s.Dd,this.internal.loadOptions=n.md,this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){n.Jc.scope&&n.Jc.scope.$apply()},this.md(i)},"undefined"!=typeof jQuery&&function(t){t.fn.daypilotGantt=function(t){var e=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Gantt(this.id,t);i.init(),this.daypilot=i,e||(e=i)}});return 1===this.length?e:i}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotGantt",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,i){return e.replaceWith(this.template.replace("{{id}}",i.id)),function(e,i,n){var o=new DayPilot.Gantt(i[0]);o.Jc.scope=e,o.init();var a=n.id;a&&(e[a]=o);var r=n.publishAs;r&&(0,t(r).assign)(e,o);for(var s in n)if(0===s.indexOf("on")){var l=DayPilot.Util.shouldApply(s);l?function(i){o[i]=function(o){var a=t(n[i]);e.$apply(function(){a(e,{args:o})})}}(s):function(i){o[i]=function(o){t(n[i])(e,{args:o})}}(s)}var c=e.$watch,u=n.config||n.daypilotConfig;c.call(e,u,function(t,e){o.md(t),o.update()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.Kanban&&(DayPilot.Kanban=function(t,e){this.v="2826";var i=this;this.barWidth=5,this.cardAutoHeight=!0,this.cardHeight=60,this.cardMarginLeft=5,this.cardMarginRight=5,this.cardMarginBottom=5,this.columnHeaderHeight=20,this.crosshairColor="gray",this.height=300,this.heightSpec="Auto",this.theme="kanban_default",this.cellMarginBottom=4,this.cellMarginTop=5,this.rowMinHeight=0,this.swimlaneCollapsingEnabled=!1,this.swimlaneHeaderWidth=80,this.visible=!0,this.swimlanes={},this.swimlanes.list=[],this.columns={},this.columns.list=[],this.cards={},this.cards.list=[],this.cardDeleteHandling="Disabled",this.cardMoveHandling="Update",this.columnMoveHandling="Disabled",this.swimlaneMoveHandling="Disabled",this.onBeforeCellRender=null,this.onCardClick=null,this.onCardClicked=null,this.onCardDelete=null,this.onCardDeleted=null,this.onCardMove=null,this.onCardMoved=null,this.onColumnMove=null,this.onColumnMoved=null,this.onHeightChanged=null,this.onSwimlaneMove=null,this.onSwimlaneMoved=null;var n=new DayPilot.Scheduler(t);this.scheduler=n;var o={};o.translate=function(){var t=n;t.startDate="2000-01-01",t.scale="Day",t.timeHeaders=[{groupBy:"Cell",format:"d"}],t.heightSpec=i.heightSpec,t.cellWidthSpec="Auto",t.cellsMarkBusiness=!1,t.crosshairColor=i.crosshairColor,t.dynamicEventRendering="Disabled",t.floatingEvents=!1,t.floatingTimeHeaders=!1,t.rowMinHeight=i.rowMinHeight,t.rowMarginTop=i.cellMarginTop,t.rowMarginBottom=i.cellMarginBottom,t.eventMoveToPosition=!0,t.headerHeight=i.columnHeaderHeight,t.eventResizeHandling="Disabled",t.timeRangeSelectedHandling="Disabled",t.eventHeight=i.cardHeight,t.eventMarginLeft=i.cardMarginLeft,t.eventMarginRight=i.cardMarginRight,t.eventMarginBottom=i.cardMarginBottom,t.eventTextWrappingEnabled=!0,t.cellStacking=!0,t.cellStackingAutoHeight=i.cardAutoHeight,t.durationBarVisible=!1,t.theme=i.theme,t.visible=i.visible,t.rowHeaderWidth=i.swimlaneHeaderWidth,t.eventDeleteHandling=i.cardDeleteHandling,t.eventMoveHandling=i.cardMoveHandling,t.rowMoveHandling=DayPilot.list(i.swimlanes.list).isEmpty()?"Disabled":i.swimlaneMoveHandling,t.onHeightChanged=i.onHeightChanged,t.internal.cssNames.timeheadercol="_colheadercell",t.internal.cssNames.timeheadercolInner="_colheadercell_inner",t.internal.cssNames.resourcedivider="_rowheaderdivider",t.internal.cssNames.event="_card",t.internal.cssNames.eventInner="_card_inner",t.internal.cssNames.eventDelete="_card_delete",t.internal.cssNames.eventMovingSource="_card_moving_source",i.swimlaneCollapsingEnabled&&(t.rowHeaderWidthMarginRight=15),t.onBeforeTimeHeaderRender=function(t){var e=i.Hd(t.header.start);if(t.header.html=e.name,t.header.toolTip=e.toolTip||"",t.header.areas=DayPilot.list(e.areas).map(function(t){var e=[];return DayPilot.Util.copyProps(t,e),e}),DayPilot.list(t.header.areas).each(function(t){t.target=new DayPilot.Column(e,i)}),"Disabled"!==i.columnMoveHandling){var n=i.theme+"_columnmove_handle";t.header.areas.push({left:0,top:0,width:20,height:20,css:n,mousedown:i.Id,action:"None"})}},t.onBeforeCellRender=function(e){var n={};n.cell={},n.cell.column=new DayPilot.Column(i.Hd(e.cell.start),i),n.cell.swimlane=null;var o=i.Jd(e.cell.resource);o&&(n.cell.swimlane=new DayPilot.Swimlane(o,i)),n.cell.areas=[],n.cell.cssClass=null,n.cell.html=null,n.cell.backImage=null,n.cell.backRepeat=null,n.cell.backColor=null,"function"==typeof i.onBeforeCellRender&&(i.onBeforeCellRender(n),DayPilot.Util.copyProps(n.cell,e.cell,["areas","cssClass","html","backImage","backRepeat","backColor"]),DayPilot.list(e.cell.areas).each(function(t){t.target={swimlane:n.cell.swimlane,column:n.cell.column}}));var a=t.rows.find(e.cell.resource);t.resources[a.index].collapsed&&(e.cell.cssClass||(e.cell.cssClass=""),e.cell.cssClass+=" "+i.theme+"_collapsed")},t.onEventClick=function(t){var e=new DayPilot.Args(t);e.card=new DayPilot.Card(t.e.data.card,i),"function"==typeof i.onCardClick&&i.onCardClick(e),t.wrapped=e},t.onEventClicked=function(t){var e=t.wrapped;"function"==typeof i.onCardClicked&&i.onCardClicked(e)},t.onEventDelete=function(t){var e=new DayPilot.Args(t);e.card=new DayPilot.Card(t.e.data.card,i),"function"==typeof i.onCardDelete&&i.onCardDelete(e),t.wrapped=e},t.onEventDeleted=function(t){DayPilot.rfa(i.cards.list,t.e.data.card);var e=t.wrapped;"function"==typeof i.onCardDeleted&&i.onCardDeleted(e)},t.onEventMove=function(t){var e=new DayPilot.Args(t);e.card=new DayPilot.Card(t.e.data.card,i),e.column=new DayPilot.Column(i.Hd(t.newStart)),e.position=t.position,"*"!==t.newResource?e.swimlane=new DayPilot.Swimlane(i.Jd(t.newResource),i):e.swimlane=null;for(var a=n.cells.find(t.newStart,t.newResource)[0].events(),r=t.position,s=null,l=r-1;a[l];){if(a[l].data!==t.e.data){s=new DayPilot.Card(a[l]);break}l-=1}for(var c=null,u=r;a[u];){if(a[u].data!==t.e.data){c=new DayPilot.Card(a[u]);break}u+=1}if(e.previous=s,e.next=c,"function"==typeof i.onCardMove&&i.onCardMove(e),t.wrapped=e,!t.preventDefault.value){var d=0;c?d=c.wrapped.data.sort[0]:s&&(d=s.wrapped.data.sort[0]),t.e.data.sort=[d,(new DayPilot.Date).toString()],DayPilot.rfa(i.cards.list,t.e.data.card);var h=0;c?h=DayPilot.indexOf(i.cards.list,c.data):s&&(h=DayPilot.indexOf(i.cards.list,s.data)+1),i.cards.list.splice(h,0,t.e.data.card),o.updateSort()}},t.onEventMoved=function(t){var e=t.wrapped,n=DayPilot.list(i.cards.list).find(function(e){return t.e.data.card===e});n.swimlane=e.swimlane?e.swimlane.data.id:null,n.column=e.column.data.id,"function"==typeof i.onCardMoved&&i.onCardMoved(e)},t.onBeforeResHeaderRender=function(t){if(i.swimlaneCollapsingEnabled&&!DayPilot.list(i.swimlanes.list).isEmpty()){var e=i.theme+"_swimlane_collapse";t.resource.collapsed&&(e=i.theme+"_swimlane_expand"),t.resource.areas=[{right:0,top:0,height:15,width:15,action:"JavaScript",css:e,js:function(){i.Kd(t.resource.index)}}]}},t.onRowMove=function(t){var e=new DayPilot.Args(t);t.wrapped=e,e.swimlane=new DayPilot.Swimlane(t.source.$.row.swimlane);var o=0;switch(t.position){case"before":o=t.target.index;break;case"after":o=t.target.index+1;break;default:throw"Unexpected target swimlane position: "+t.position}e.position=o,e.previous=null;for(var a=o-1;n.rowlist[a]&&n.rowlist[a].swimlane!==e.swimlane.data;)e.previous=new DayPilot.Swimlane(n.rowlist[a].swimlane),a-=1;e.next=null;for(var r=o;n.rowlist[r]&&n.rowlist[r].swimlane!==e.swimlane.data;)e.next=new DayPilot.Swimlane(n.rowlist[r].swimlane),r+=1;"function"==typeof i.onSwimlaneMove&&i.onSwimlaneMove(e)},t.onRowMoved=function(t){var e=t.wrapped;DayPilot.rfa(i.swimlanes.list,e.swimlane.data);var n=0;e.next?n=DayPilot.indexOf(i.swimlanes.list,e.next.data):e.previous&&(n=DayPilot.indexOf(i.swimlanes.list,e.previous.data)+1),i.swimlanes.list.splice(n,0,e.swimlane.data),"function"==typeof i.onSwimlaneMoved&&i.onSwimlaneMoved(e)},t.treePreventParentUsage=!0},o.loadCards=function(){var t=new DayPilot.Date("2000-01-01"),e=i.theme+"_card_header",o=i.theme+"_card_body",a=(new DayPilot.Date).toString();n.sortDirections=["asc","desc"],n.events.list=DayPilot.list(i.cards.list).map(function(n,r){var s=n.html||n.text||"",l=n.name||"",c={};return c.id=n.id,c.text=n.text,c.html="<div class='"+e+"'>"+l+"</div><div class='"+o+"'>"+s+"</div>",c.resource=n.swimlane,c.start=t.addDays(DayPilot.list(i.columns.list).findIndex(function(t){return n.column===t.id})),c.end=c.start.addDays(1),c.card=n,c.height=n.height,c.cssClass=n.cssClass,c.sort=[r,a],c.areas=DayPilot.list(n.areas).map(function(t){var e={};return DayPilot.Util.copyProps(t,e),t.js&&(e.js=function(e){t.js(new DayPilot.Card(e.data.card,i))}),e}),c.areas.push({left:0,width:5,top:0,bottom:0,backColor:n.barColor,cssClass:i.theme+"_card_bar"}),c})},o.updateSort=function(){var t=(new DayPilot.Date).toString();DayPilot.list(i.cards.list).each(function(e,i){var n=o.findSchedulerEventData(e);n&&(n.sort=[i,t])})},o.findSchedulerEventData=function(t){return DayPilot.list(n.events.list).find(function(e){return e.card===t})},o.loadSwimlanes=function(){var t=DayPilot.list(i.swimlanes.list);n.resources=t.map(function(t){var e={};return e.name=t.name,e.id=t.id,e.swimlane=t,t.collapsed&&(e.collapsed=!0,e.eventHeight=20,e.hideEvents=!0),e}),t.isEmpty()&&(n.resources=[{name:"",id:"*"}])},o.loadColumns=function(){var t=DayPilot.list(i.columns.list);n.days=t.length};var a={};a.active=null,a.div=null,a.update=function(){a.clear();var t=a.findPosition();a.draw(t)},a.clear=function(){DayPilot.de(a.div),a.div=null},a.draw=function(t){var e=0;if(t>=n.itline.length){var o=n.itline[n.itline.length-1];e=o.left+o.width-3}else e=n.itline[t].left;var r=document.createElement("div");r.style.position="absolute",r.style.left=e+"px",r.style.width="3px",r.style.top=0,r.style.height=n.headerHeight+"px",r.className=i.theme+"_columnmove_position",a.div=r,n.nav.timeHeader.appendChild(r)},a.findPosition=function(){if(i.coords.x<0)return 0;var t=DayPilot.list(n.itline).findIndex(function(t){var e=t.left+n.rowHeaderWidth,o=t.width;return i.coords.x<e+o/2});return-1===t?n.itline.length:t},this.Id=function(t){a.active=t},this.Hd=function(t){return i.columns.list[t.getDay()-1]},this.Jd=function(t){return DayPilot.list(i.swimlanes.list).find(function(e){return e.id===t})},this.message=function(t,e,i,o){n.message(t,e,i,o)},this.show=function(){i.visible=!0,n.show()},this.hide=function(){i.visible=!1,n.hide()},this.cards.add=function(t){var e=null;e=t&&t instanceof DayPilot.Card?t.data:t,t&&(i.cards.list.push(e),i.update())},this.cards.remove=function(t){t&&t instanceof DayPilot.Card&&t.data,t&&(DayPilot.rfa(i.cards.list,t),i.update())},this.cards.update=function(t){i.update()},this.Kd=function(t){DayPilot.list(i.swimlanes.list).isEmpty()||(i.swimlanes.list[t].collapsed=!i.swimlanes.list[t].collapsed),i.update()},this.init=function(){o.translate(),o.loadSwimlanes(),o.loadColumns(),o.loadCards(),n.init(),i.Pc(),this.z=!0},this.xd=!1,this.dispose=function(){n.dispose(),i.xd=!0},this.update=function(){if(i.xd)throw new DayPilot.Error("This DayPilot.Gantt instance has been disposed.");o.translate(),o.loadSwimlanes(),o.loadColumns(),o.loadCards(),n.update()},this.Pc=function(){DayPilot.re(document,"mouseup",i.Ld),DayPilot.re(document,"mousemove",i.Md)},this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){i.Jc.scope&&i.Jc.scope.$apply()},this.ld=null,this.md=function(t){var e={cards:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?i.cards.list=t.list:i.cards.list=t)}},columns:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?i.columns.list=t.list:i.columns.list=t)}},swimlanes:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?i.swimlanes.list=t.list:i.swimlanes.list=t)}}};this.ld=e,i.columns.list=[],i.swimlanes.list=[],i.cards.list=[];for(var n in t)if(e[n]){var o=e[n];o.data=t[n],o.preInit&&o.preInit()}else i[n]=t[n]},this.kd=function(){var t=this.ld;for(var e in t){var i=t[e];i.postInit&&i.postInit()}},this.internal={},this.internal.loadOptions=i.md,this.md(e),this.Lc=function(){var t=dp.nav.top;return!!t&&t.offsetWidth>0&&t.offsetHeight>0},this.Mc=function(){var t=i,e=t.Lc;e()||(t.Nc=setInterval(function(){e()&&(t.update(),clearInterval(t.Nc))},100))},this.Md=function(t){i.coords=DayPilot.mo3(n.nav.top,t),a.active&&a.update()},this.Ld=function(t){if(a.active){var e=a.active.source,n=a.findPosition(),o=i.Hd(e.start),r=new DayPilot.Args;r.column=new DayPilot.Column(o,i),r.position=n,r.previous=null,r.next=null;for(var s=null,l=r.position;0!==l&&!s;)o!==i.columns.list[l-1]&&(s=i.columns.list[l-1]),l-=1;s&&(r.previous=new DayPilot.Column(s,i));var c=null;for(l=r.position;l<i.columns.list.length-1&&!c;)o!==i.columns.list[l]&&(c=i.columns.list[l]),l+=1;if(c&&(r.next=new DayPilot.Column(c,i)),"function"==typeof i.onColumnMove&&i.onColumnMove(r),!r.preventDefault.value){if("Update"===i.columnMoveHandling){DayPilot.rfa(i.columns.list,r.column.data);var u=0;r.next?u=DayPilot.indexOf(i.columns.list,r.next.data):r.previous&&(u=DayPilot.indexOf(i.columns.list,r.previous.data)+1),i.columns.list.splice(u,0,r.column.data),i.update()}"function"==typeof i.onColumnMoved&&i.onColumnMove(r)}a.active=null,a.clear()}}},DayPilot.Card=function(t,e){if(t instanceof DayPilot.Event){var i=t;this.data=i.data.card,this.wrapped=t}else this.data=t;this.control=e},DayPilot.Column=function(t,e){this.data=t,this.control=e},DayPilot.Swimlane=function(t,e){this.data=t,this.control=e},function(){var t=DayPilot.am();t&&t.directive("daypilotKanban",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,i){return e.replaceWith(this.template.replace("{{id}}",i.id)),function(e,i,n){var o=new DayPilot.Kanban(i[0]);o.Jc.scope=e,o.init();var a=n.id;a&&(e[a]=o);var r=n.publishAs;r&&(0,t(r).assign)(e,o);for(var s in n)if(0===s.indexOf("on")){var l=DayPilot.Util.shouldApply(s);l?function(i){o[i]=function(o){var a=t(n[i]);e.$apply(function(){a(e,{args:o})})}}(s):function(i){o[i]=function(o){t(n[i])(e,{args:o})}}(s)}var c=e.$watch,u=n.config||n.daypilotConfig;c.call(e,u,function(t,e){o.md(t),o.update()},!0)}}}}])}())}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){if(void 0===DayPilot.Menu){var t=function(){},e={};e.mouse=null,e.menu=null,e.handlersRegistered=!1,e.hideTimeout=null,e.waitingSubmenu=null,DayPilot.Menu=function(i){var n=this,o=null;this.v="2826",this.zIndex=10,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.theme=null,this.onShow=null,this.n=function(){},i&&DayPilot.isArray(i)&&(this.items=i),this.show=function(i,a){var a=a||{},r=null;if(i?"string"==typeof i.id||"number"==typeof i.id?r=i.id:"function"==typeof i.id?r=i.id():"function"==typeof i.value&&(r=i.value()):r=null,void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),a.submenu||e.menuClean(),this.n.submenu=null,null!==e.mouse){n.cssOnly||(n.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."));var s=null;if(i&&i.isRow&&i.$.row.task?(s=new DayPilot.Task(i.$.row.task,i.calendar),s.menuType="resource"):s=i&&i.isEvent&&i.data.task?new DayPilot.Task(i,i.calendar):i,"function"==typeof n.onShow){var l={};if(l.source=s,l.menu=n,l.preventDefault=function(){l.preventDefault.value=!0},n.onShow(l),l.preventDefault.value)return}var c=document.createElement("div");if(c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.display="none",c.style.overflow="hidden",c.style.zIndex=this.zIndex+1,c.className=this.applyCssClass("main"),c.onclick=function(t){t.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(c.onmousemove=function(t){clearTimeout(e.hideTimeout)},c.onmouseout=function(t){n.delayedHide()}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var u=document.createElement("div");u.innerHTML=this.menuTitle,u.className=this.applyCssClass("title"),c.appendChild(u)}for(var d=0;d<this.items.length;d++){var h=this.items[d],f=document.createElement("div");if(DayPilot.Util.addClass(f,this.applyCssClass("item")),h.items&&DayPilot.Util.addClass(f,this.applyCssClass("item_haschildren")),void 0!==h&&!h.hidden){if("-"===h.text){var p=document.createElement("div");f.appendChild(p)}else{var v=document.createElement("a");if(v.style.position="relative",v.style.display="block",h.cssClass&&DayPilot.Util.addClass(v,h.cssClass),h.disabled)DayPilot.Util.addClass(v,n.applyCssClass("item_disabled"));else{if(h.onclick||h.onClick){v.item=h,v.onclick=function(t,e){return function(i){if("function"==typeof t.onClick){var n={};if(n.item=t,n.source=e.source,n.originalEvent=i,n.preventDefault=function(){n.preventDefault.value=!0},t.onClick(n),n.preventDefault.value)return}t.onclick&&t.onclick.call(e,i)}}(h,v);var g=function(t,i){return function(n){n.stopPropagation(),n.preventDefault();var o=function(){window.setTimeout(function(){i.source.calendar.internal.touch.active=!1},500)};if("function"==typeof t.onClick){var a={};if(a.item=t,a.originalEvent=n,a.preventDefault=function(){a.preventDefault.value=!0},t.onClick(a),a.preventDefault.value)return void o()}t.onclick&&t.onclick.call(i,n),e.menuClean(),o()}};v.ontouchstart=function(t){t.stopPropagation(),t.preventDefault(),v.source.calendar.internal.touch.active=!0},v.ontouchend=g(h,v)}if(h.onclick)t();else if(h.href)v.href=h.href.replace(/\x7B0\x7D/gim,r),h.target&&v.setAttribute("target",h.target);else if(h.command){var y=function(t,e){return function(i){var n=e.source,o=t;o.action=o.action?o.action:"CallBack";var a=n.calendar||n.root;if(n instanceof DayPilot.Link)return void a.internal.linkMenuClick(o.command,n,o.action);if(n instanceof DayPilot.Selection)return void a.internal.timeRangeMenuClick(o.command,n,o.action);if(n instanceof DayPilot.Event)return void a.internal.eventMenuClick(o.command,n,o.action);if(n instanceof DayPilot.Selection)return void a.internal.timeRangeMenuClick(o.command,n,o.action);if(n instanceof DayPilot.Task)return void("resource"===n.menuType?a.internal.resourceHeaderMenuClick(o.command,e.menuSource,o.action):a.internal.eventMenuClick(o.command,e.menuSource,o.action));switch(n.menuType){case"resource":return void a.internal.resourceHeaderMenuClick(o.command,n,o.action);case"selection":return void a.internal.timeRangeMenuClick(o.command,n,o.action);default:return void a.internal.eventMenuClick(o.command,n,o.action)}i.preventDefault()}};v.onclick=y(h,v),v.ontouchend=y(h,v)}}v.source=s,v.menuSource=i;var m=document.createElement("span");if(m.className=n.applyCssClass("item_text"),m.innerHTML=h.text,v.appendChild(m),h.image){var b=document.createElement("img");b.src=h.image,b.style.position="absolute",b.style.top="0px",b.style.left="0px",v.appendChild(b)}if(h.icon){var w=document.createElement("span");w.className=n.applyCssClass("item_icon");var D=document.createElement("i");D.className=h.icon,w.appendChild(D),v.appendChild(w)}var C=function(t,i){return function(){var o=i.source,a=t,r=e.waitingSubmenu;if(r){if(r.parent===a)return;clearTimeout(r.timeout),e.waitingSubmenu=null}e.waitingSubmenu={},e.waitingSubmenu.parent=a,e.waitingSubmenu.timeout=setTimeout(function(){if(e.waitingSubmenu=null,(!n.n.submenu||n.n.submenu.item!==a)&&(n.n.submenu&&n.n.submenu.item!==a&&(DayPilot.Util.removeClass(n.n.submenu.link.parentNode,n.applyCssClass("item_haschildren_active")),n.n.submenu.menu.hide(),n.n.submenu=null),a.items)){var r=n.cloneOptions();r.items=a.items,n.n.submenu={},n.n.submenu.menu=new DayPilot.Menu(r),n.n.submenu.menu.show(o,{submenu:!0,parentLink:i,parentItem:t}),n.n.submenu.item=a,n.n.submenu.link=i,DayPilot.Util.addClass(i.parentNode,n.applyCssClass("item_haschildren_active"))}},300)}};v.onmouseover=C(h,v),f.appendChild(v)}c.appendChild(f)}}var k=function(t){window.setTimeout(function(){e.menuClean(),DayPilot.MenuBar.deactivate()},100)};c.onclick=k,c.ontouchend=k,c.onmousedown=function(t){t=t||window.event,t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},c.oncontextmenu=function(){return!1},document.body.appendChild(c),n.n.visible=!0,n.n.source=i,c.style.display="";var x=c.offsetHeight,P=c.offsetWidth;c.style.display="none";var _=document.documentElement.clientHeight,S=document.documentElement.clientWidth;if(function(){var t="number"==typeof a.x?a.x:e.mouse.x+1,i="number"==typeof a.y?a.y:e.mouse.y+1;if(e.mouse.clientY>_-x&&0!==_){var n=e.mouse.clientY-(_-x)+5;c.style.top=i-n+"px"}else c.style.top=i+"px";if(e.mouse.clientX>S-P&&0!==S){var o=e.mouse.clientX-(S-P)+5;c.style.left=t-o+"px"}else c.style.left=t+"px"}(),a.parentLink){var A=a.parentLink,E=parseInt(new DayPilot.StyleReader(c).get("border-top-width")),T=DayPilot.abs(a.parentLink.parentNode),R=T.x+A.offsetWidth,M=T.y-E;R+P>S&&(R=Math.max(0,T.x-P));var H=document.body.scrollTop+document.documentElement.scrollTop;M+x-H>_&&(M=Math.max(0,_-x+H)),c.style.left=R+"px",c.style.top=M+"px"}c.style.display="",this.addShadow(c),this.n.div=c,a.submenu||(DayPilot.Menu.active=this),function(){var t=a.initiator;if(t){var e=t.div,i=t.e,n=t.area,r=DayPilot.Areas.createArea(e,i,n);e.appendChild(r),o=r}}()}},this.applyCssClass=function(t){var e=this.theme||this.cssClassPrefix,i=this.cssOnly?"_":"";return e?e+i+t:""},this.cloneOptions=function(){for(var t={},e=["cssOnly","cssClassPrefix","useShadow","zIndex"],i=0;i<e.length;i++){var n=e[i];t[n]=this[n]}return t},this.hide=function(){this.n.submenu&&this.n.submenu.menu.hide(),this.removeShadow(),this.n.div&&this.n.div.parentNode===document.body&&document.body.removeChild(this.n.div),o&&(DayPilot.de(o),o=null),n.n.visible=!1,n.n.source=null},this.delayedHide=function(){e.hideTimeout=setTimeout(function(){n.hide()},200)},this.cancelHideTimeout=function(){clearTimeout(e.hideTimeout)},this.init=function(t){e.mouseMove(t)},this.addShadow=function(t){},this.removeShadow=function(){if(this.n.shadows){for(var t=0;t<this.n.shadows.length;t++)document.body.removeChild(this.n.shadows[t]);this.n.shadows=[]}};var a=DayPilot.isArray(i)?null:i;if(a)for(var r in a)this[r]=a[r]},DayPilot.MenuBar=function(t,e){var i=this,e=e||{},n=e.items;this.theme="menubar_default",this.nav={},this.elements={},this.elements.items=DayPilot.list(),this.Nd=null,this.Od=function(t){return this.theme+"_"+t},this.ma=function(){this.nav.top=document.getElementById(t);var e=this.nav.top;e.className=this.Od("main"),DayPilot.list(n).each(function(t){var n=document.createElement("span");n.innerHTML=t.text,n.className=i.Od("item"),n.data=t,n.onclick=function(){t.children&&i.Pd(n)},n.onmousedown=function(t){t.stopPropagation()},n.onmouseover=function(){i.active&&i.active.item!==t&&i.Pd(n)},e.appendChild(n),i.elements.items.push(n)})},this.Qd=function(){var t=i.Od("item_active");i.elements.items.each(function(e){DayPilot.Util.removeClass(e,t)}),i.active&&i.active.menu&&i.active.menu.hide(),i.active=null},this.Rd=function(t){return!!i.active&&i.active.item===t.data},this.Pd=function(t){if(!i.Rd(t)){i.Qd();var e=t.data,n=i.active={};n.item=e,n.div=t;var o=i.Od("item_active");DayPilot.Util.addClass(t,o),e.children&&(n.menu=new DayPilot.Menu({items:e.children}),n.menu.show(null,{x:t.offsetLeft,y:t.offsetTop+t.offsetHeight})),DayPilot.MenuBar.active=i}},this.init=function(){this.ma()}},DayPilot.MenuBar.deactivate=function(){DayPilot.MenuBar.active&&(DayPilot.MenuBar.active.Qd(),DayPilot.MenuBar.active=null)},e.menuClean=function(){void 0!==DayPilot.Menu.active&&DayPilot.Menu.active&&(DayPilot.Menu.active.hide(),DayPilot.Menu.active=null)},e.mouseDown=function(t){void 0!==e&&(e.menuClean(),DayPilot.MenuBar.deactivate())},e.mouseMove=function(t){void 0!==e&&(e.mouse=e.mousePosition(t))},e.touchMove=function(t){void 0!==e&&(e.mouse=e.touchPosition(t))},e.touchStart=function(t){void 0!==e&&(e.mouse=e.touchPosition(t))},e.touchEnd=function(t){},e.touchPosition=function(t){if(!t||!t.touches)return null;var e=t.touches[0],i={};return i.x=e.pageX,i.y=e.pageY,i.clientX=e.clientX,i.clientY=e.clientY,i},e.mousePosition=function(t){var e=0,i=0,t=t||window.event;t.pageX||t.pageY?(e=t.pageX,i=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,i=t.clientY+document.body.scrollTop+document.documentElement.scrollTop);var n={};return n.x=e,n.y=i,n.clientY=t.clientY,n.clientX=t.clientX,n},DayPilot.Menu.touchPosition=function(t){t.touches&&(e.mouse=e.touchPosition(t))},e.handlersRegistered||(DayPilot.re(document,"mousemove",e.mouseMove),DayPilot.re(document,"mousedown",e.mouseDown),DayPilot.re(document,"touchmove",e.touchMove),DayPilot.re(document,"touchstart",e.touchStart),DayPilot.re(document,"touchend",e.touchEnd),e.handlersRegistered=!0),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot&&(DayPilot={}),function(){DayPilot.ModalStatic={},DayPilot.ModalStatic.list=[],DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var t=this.list.pop();t&&t.hide()}},DayPilot.ModalStatic.remove=function(t){for(var e=DayPilot.ModalStatic.list,i=0;i<e.length;i++)if(e[i]===t)return void e.splice(i,1)},DayPilot.ModalStatic.close=function(t){DayPilot.ModalStatic.result(t),DayPilot.ModalStatic.hide()},DayPilot.ModalStatic.result=function(t){var e=DayPilot.ModalStatic.list;e.length>0&&(e[e.length-1].result=t)},DayPilot.ModalStatic.displayed=function(t){for(var e=DayPilot.ModalStatic.list,i=0;i<e.length;i++)if(e[i]===t)return!0;return!1},DayPilot.ModalStatic.stretch=function(){if(this.list.length>0){var t=this.list[this.list.length-1];t&&t.stretch()}},DayPilot.ModalStatic.last=function(){var t=DayPilot.ModalStatic.list;return t.length>0?t[t.length-1]:null};var t=function(){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet||t.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(t);var e=!!t.styleSheet,i={};return i.rules=[],i.commit=function(){try{e&&(t.styleSheet.cssText=this.rules.join("\n"))}catch(t){}},i.add=function(i,n,o){if(e)return void this.rules.push(i+"{"+n+"}");if(t.sheet.insertRule)void 0===o&&(o=t.sheet.cssRules.length),t.sheet.insertRule(i+"{"+n+"}",o);else{if(!t.sheet.addRule)throw"No CSS registration method found";t.sheet.addRule(i,n,o)}},i},e=new t;e.add(".modal_default_main","border: 10px solid #ccc;"),e.add(".modal_default_inner","padding: 10px;"),e.add(".modal_default_input","padding: 10px 0px;"),e.add(".modal_default_buttons","padding: 10px 0px;"),e.add(".modal_default_background","opacity: 0.3; background-color: #000;"),e.add(".modal_min_main","border: 1px solid #ccc;"),e.add(".modal_min_background","opacity: 0.3; background-color: #000;"),e.commit(),DayPilot.Modal=function(t){this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=null,this.left=null,this.width=500,this.top=20,this.height=200,this.closed=null,this.onClosed=null,this.onShow=null;var e=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.Sd=!1,this.Td=null,this.Ud=null,this.showHtml=function(t){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.Vd(),this.ad(),this.useIframe){var e=function(t,e){return function(){t.setInnerHTML(t.id+"iframe",e)}};window.setTimeout(e(this,t),0)}else t.nodeType?this.div.appendChild(t):this.div.innerHTML=t;this.ad(),this.Wd(),this.Xd()},this.Yd=function(){return this.corners&&"rounded"===this.corners.toLowerCase()},this.showUrl=function(t){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.Vd();var i=this.loadingHtml;i&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",i)),this.re(this.iframe,"load",this.Zd),this.iframe.src=t,this.ad(),this.Wd(),this.Xd()}else e.$d({url:t,success:function(t){var i=t.request.responseText;e.showHtml(i)},error:function(t){e.showHtml("Error loading the modal dialog")}})},this.Xd=function(){if("function"==typeof e.onShow){var t={};t.root=e._d(),e.onShow(t)}},this._d=function(){return e.iframe?e.iframe.contentWindow.document:e.div},this.$d=function(t){var e=new XMLHttpRequest;if(e){var i=t.method||"GET",n=t.success||function(){},o=t.error||function(){},a=t.data,r=t.url;e.open(i,r,!0),e.setRequestHeader("Content-type","text/plain"),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status||304===e.status){var t={};t.request=e,n(t)}else if(o){var t={};t.request=e,o(t)}else window.console&&console.log("HTTP error "+e.status)},4!==e.readyState&&("object"==typeof a&&(a=JSON.stringify(a)),e.send(a))}},this.ad=function(){var t=window,i=document,n=t.pageYOffset?t.pageYOffset:i.documentElement&&i.documentElement.scrollTop?i.documentElement.scrollTop:i.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){e.hideDiv.onclick=function(){e.hide({backgroundClick:!0})}},500),this.theme?this.div.className=this.theme+"_main":this.div.className="",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=n+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.useIframe||!this.autoStretch?this.div.style.height=this.height+"px":this.div.style.height=""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",DayPilot.ModalStatic.list.push(this)},this.Zd=function(){e.iframe.contentWindow.modal=e,e.autoStretch&&e.stretch()},this.stretch=function(){var t=function(){return e.ae().y},i=function(){return e.ae().x};if(this.useIframe){for(var n=i()-40,o=this.width;o<n&&this.be();o+=10)this.div.style.width=o+"px",this.div.style.marginLeft="-"+Math.floor(o/2)+"px";for(var a=this.maxHeight||t()-2*this.top,r=this.height;r<a&&this.ce();r+=10)this.iframe.style.height=r+"px",this.div.style.height=r+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.Zd)}else this.div.style.height=""},this.be=function(){for(var t=this.iframe.contentWindow.document,e="BackCompat"===t.compatMode?t.body:t.documentElement,i=e.scrollWidth,n=t.body.children,o=0;o<n.length;o++){var a=n[o].offsetLeft+n[o].offsetWidth;i=Math.max(i,a)}return i>e.clientWidth},this.ce=function(){for(var t=this.iframe.contentWindow.document,e="BackCompat"===t.compatMode?t.body:t.documentElement,i=e.scrollHeight,n=t.body.children,o=0;o<n.length;o++){var a=n[o].offsetTop+n[o].offsetHeight;i=Math.max(i,a)}return i>e.clientHeight},this.ae=function(){var t=document;if("CSS1Compat"===t.compatMode&&t.documentElement&&t.documentElement.clientWidth){var e=t.documentElement.clientWidth,i=t.documentElement.clientHeight;return{x:e,y:i}}var e=t.body.clientWidth,i=t.body.clientHeight;return{x:e,y:i}},this.Wd=function(){this.Sd||(this.re(window,"resize",this.ee),this.re(window,"scroll",this.fe),this.dragDrop&&(this.re(document,"mousemove",this.ge),this.re(document,"mouseup",this.je)),this.Sd=!0)},this.ke=function(t){t.target===e.div&&(e.div.style.cursor="move",e.le(),e.Ud=e.mc(t||window.event),e.Td={x:e.div.offsetLeft,y:e.div.offsetTop})},this.ge=function(t){if(e.Ud){var t=t||window.event,i=e.mc(t),n=i.x-e.Ud.x,o=i.y-e.Ud.y;e.div.style.marginLeft="0px",e.div.style.top=e.Td.y+o+"px",e.div.style.left=e.Td.x+n+"px"}},this.je=function(t){e.Ud&&(e.me(),e.div.style.cursor=null,e.Ud=null)},this.le=function(){if(this.useIframe){var t=document.createElement("div");t.style.backgroundColor="#ffffff",t.style.filter="alpha(opacity=80)",t.style.opacity="0.80",t.style.width="100%",t.style.height=this.height+"px",t.style.position="absolute",t.style.left="0px",t.style.top="0px",this.div.appendChild(t),this.mask=t}},this.me=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.ee=function(){e.ne},this.fe=function(){e.ne},this.ne=function(){if(e.hideDiv&&e.div&&"none"!==e.hideDiv.style.display&&"none"!==e.div.style.display){var t=window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;e.scrollWithPage||(e.div.style.top=t+e.top+"px")}},this.re=function(t,e,i){t.addEventListener?t.addEventListener(e,i,!1):t.attachEvent&&t.attachEvent("on"+e,i)},this.ue=function(t,e,i){t.removeEventListener?t.removeEventListener(e,i,!1):t.detachEvent&&t.detachEvent("on"+e,i)},this.mc=function(t){return t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+document.documentElement.scrollLeft,y:t.clientY+document.documentElement.scrollTop}},this.abs=function(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t.offsetParent;)t=t.offsetParent,e.x+=t.offsetLeft,e.y+=t.offsetTop;return e},this.Vd=function(){var t=document.createElement("div");t.id=this.id+"hide",t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.style.right="0px",t.style.bottom="0px",t.oncontextmenu=function(){return!1},t.onmousedown=function(){return!1},document.body.appendChild(t);var e=document.createElement("div");e.id=this.id+"popup",e.style.position="fixed",e.style.left="50%",e.style.top="0px",e.style.backgroundColor="white",e.style.width="50px",e.style.height="50px",this.dragDrop&&(e.onmousedown=this.ke);var i=null;this.useIframe&&(i=document.createElement("iframe"),i.id=this.id+"iframe",i.name=this.id+"iframe",i.frameBorder="0",i.style.width="100%",i.style.height="50px",e.appendChild(i)),document.body.appendChild(e),this.div=e,this.iframe=i,this.hideDiv=t},this.setInnerHTML=function(t,i){var n=window.frames[t],o=n.contentWindow||n.document||n.contentDocument;o.document&&(o=o.document),null==o.body&&o.write("<body></body>"),i.nodeType?o.body.appendChild(i):o.body.innerHTML=i,e.autoStretch&&(e.autoStretchFirstLoadOnly&&e.oe||(e.stretch(),e.oe=!0))},this.close=function(t){this.result=t,this.hide()},this.hide=function(t){t=t||{};var i={};i.backgroundClick=!!t.backgroundClick,i.result=this.result,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof this.onClose&&(this.onClose(i),i.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),DayPilot.ModalStatic.remove(this),"function"==typeof this.onClosed?this.onClosed(i):this.closed&&this.closed(),this.result=null,!this.disposeOnClose||!e.div)||(e.div.parentNode.removeChild(e.div),e.div=null)},this.pe=function(){if(t)for(var e in t)this[e]=t[e]},this.pe()},DayPilot.Modal.alert=function(t,e){e=e||{},e.height=e.height||40,e.useIframe=!1;var i=e.okText||"OK";return e.cancelText,DayPilot.getPromise(function(n,o){e.onClosed=function(t){n(t)};var a=new DayPilot.Modal(e),r=document.createElement("div");r.className=a.theme+"_inner";var s=document.createElement("div");s.className=a.theme+"_content",s.innerHTML=t;var l=document.createElement("div");l.className=a.theme+"_buttons";var c=document.createElement("button");c.innerText=i,c.className=a.theme+"_ok",c.onclick=function(t){parent.DayPilot.ModalStatic.close("OK")},l.appendChild(c),r.appendChild(s),r.appendChild(l),a.showHtml(r),c.focus()})},DayPilot.Modal.confirm=function(t,e){e=e||{},e.height=e.height||40,e.useIframe=!1;var i=e.okText||"OK",n=e.cancelText||"Cancel";return DayPilot.getPromise(function(o,a){e.onClosed=function(t){o(t)};var r=new DayPilot.Modal(e),s=document.createElement("div");s.className=r.theme+"_inner";var l=document.createElement("div");l.className=r.theme+"_content",l.innerHTML=t;var c=document.createElement("div");c.className=r.theme+"_buttons";var u=document.createElement("button");u.innerText=i,u.className=r.theme+"_ok",u.onclick=function(t){parent.DayPilot.ModalStatic.close("OK")};var d=document.createTextNode(" "),h=document.createElement("button");h.innerText=n,h.className=r.theme+"_cancel",h.onclick=function(t){parent.DayPilot.ModalStatic.close()},c.appendChild(u),c.appendChild(d),c.appendChild(h),s.appendChild(l),s.appendChild(c),r.showHtml(s),u.focus()})},DayPilot.Modal.prompt=function(t,e,i){"object"==typeof e&&(i=e),i=i||{},i.height=i.height||40,i.useIframe=!1;var n=i.okText||"OK",o=i.cancelText||"Cancel",a=e||"";return DayPilot.getPromise(function(e,r){i.onClosed=function(t){e(t)};var s=new DayPilot.Modal(i),l=document.createElement("div");l.className=s.theme+"_inner";var c=document.createElement("div");c.className=s.theme+"_content",c.innerHTML=t;var u=document.createElement("div");u.className=s.theme+"_input";var d=document.createElement("input");d.innerText=a,d.style.width="100%",d.onkeydown=function(t){switch(t.keyCode){case 13:parent.DayPilot.ModalStatic.close(this.value);break;case 27:parent.DayPilot.ModalStatic.close()}},u.appendChild(d);var h=document.createElement("div");h.className=s.theme+"_buttons";var f=document.createElement("button");f.innerText=n,f.className=s.theme+"_ok",f.onclick=function(t){parent.DayPilot.ModalStatic.close(d.value)};var p=document.createTextNode(" "),v=document.createElement("button");v.innerText=o,v.className=s.theme+"_cancel",v.onclick=function(t){parent.DayPilot.ModalStatic.close()},h.appendChild(f),h.appendChild(p),h.appendChild(v),l.appendChild(c),l.appendChild(u),l.appendChild(h),s.showHtml(l),d.focus()})},DayPilot.Modal.close=function(t){if(!(parent&&parent.DayPilot&&parent.DayPilot.ModalStatic))throw"Unable to close DayPilot.Modal dialog.";parent.DayPilot.ModalStatic.close(t)},DayPilot.Modal.closeSerialized=function(){for(var t=DayPilot.Modal.opener()||DayPilot.ModalStatic.last(),e=t._d(),i=e.querySelectorAll("input, textarea, select"),n={},o=0;o<i.length;o++){var a=i[o],r=a.name;if(r){var s=a.value;n[r]=s}}DayPilot.Modal.close(n)},DayPilot.Modal.opener=function(){return parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},void 0===DayPilot.getPromise&&(DayPilot.getPromise=function(t){return"undefined"!=typeof Promise?new Promise(t):(DayPilot.Promise=function(t){var e=this;this.then=function(e,i){return e=e||function(){},i=i||function(){},t(e,i),DayPilot.getPromise(t)},this.catch=function(i){return e.then(null,i),DayPilot.getPromise(t)}},new DayPilot.Promise(t))})}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){var t=function(){};if(void 0===DayPilot.Month){var e={};DayPilot.Month=function(i,n){this.v="2826",this.nav={};var o=this;this.id=i,this.isMonth=!0,this.api=2,this.z=!1,this.hideUntilInit=!0,this.startDate=new DayPilot.Date,this.width=null,"function"==typeof DayPilot.Bubble?this.bubble=new DayPilot.Bubble:this.bubble=null,this.cssClassPrefix="month_default",this.cellHeight=100,this.cellMarginBottom=0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.doubleClickTimeout=300,this.eventEndSpec="DateTime",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.headerBackColor="#ECE9D8",this.headerFontColor="#000000",this.headerFontFamily="Tahoma",this.headerFontSize="10pt",this.headerHeight=20,this.heightSpec="Auto",this.weekStarts=0,this.innerBorderColor="#cccccc",this.borderColor="black",this.eventHeight=25,this.cellHeaderHeight=16,this.clientState={},this.afterRender=function(){},this.backColor="#FFFFD5",this.nonBusinessBackColor="#FFF4BC",this.cellHeaderBackColor="",this.cellHeaderFontColor="#000000",this.cellHeaderFontFamily="Tahoma",this.cellHeaderFontSize="10pt",this.cssOnly=!0,this.eventBackColor="White",this.eventBorderColor="Black",this.eventCorners="Regular",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.cellWidth=14.285,this.lineSpace=1,this.locale="en-us",this.messageHideAfter=5e3,this.notifyCommit="Immediate",this.visible=!0,this.eventMoveToPosition=!1,this.eventTextLayer="Top",this.eventStartTime=!1,this.eventEndTime=!1,this.eventStartEndWidth=60,this.eventTextAlignment=null,this.eventTextLeftIndent=20,this.showWeekend=!0,this.cellMode=!1,this.shadowType="Fill",this.tapAndHoldTimeout=300,this.timeFormat="Auto",this.eventTimeFontColor="gray",this.eventTimeFontFamily="Tahoma",this.eventTimeFontSize="8pt",this.viewType="Month",this.weeks=1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventDoubleClickHandling="Enabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.onEventFilter=null,this.backendUrl=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.s={},this.s.events={},this.events={},this.A=0,this.members={},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties"],this.J=function(t,e){var t=DayPilot.Util.parseJSON(t);if(t.BubbleGuid){var i=t.BubbleGuid,n=this.bubbles[i];return delete this.bubbles[i],o.W(),void(void 0!==t.Result.BubbleHTML&&n.updateView(t.Result.BubbleHTML,n))}if(t.CallBackRedirect)return void(document.location.href=t.CallBackRedirect);if(void 0!==t.ClientState&&(o.clientState=t.ClientState),"None"===t.UpdateType)return o.X(t.CallBackData,!0),void(t.Message&&o.message(t.Message));if(t.VsUpdate){var a=document.createElement("input");a.type="hidden",a.name=o.id+"_vsupdate",a.id=a.name,a.value=t.VsUpdate,o.qe.innerHTML="",o.qe.appendChild(a)}o.events.list=t.Events,void 0!==t.TagFields&&(o.tagFields=t.TagFields),void 0!==t.SortDirections&&(o.sortDirections=t.SortDirections),"Full"===t.UpdateType&&(o.cellProperties=t.CellProperties,o.headerProperties=t.HeaderProperties,o.startDate=t.StartDate,void 0!==t.ShowWeekend&&(o.showWeekend=t.ShowWeekend),o.headerBackColor=t.HeaderBackColor?t.HeaderBackColor:o.headerBackColor,o.backColor=t.BackColor?t.BackColor:o.backColor,o.nonBusinessBackColor=t.NonBusinessBackColor?t.NonBusinessBackColor:o.nonBusinessBackColor,o.locale=t.Locale?t.Locale:o.locale,o.timeFormat=t.TimeFormat?t.TimeFormat:o.timeFormat,void 0!==t.WeekStarts&&(o.weekStarts=t.WeekStarts),o.hashes=t.Hashes),o.multiselect.clear(!0),o.multiselect.initList=t.SelectedEvents,o.L(),o.se(),o.aa(),"Full"===t.UpdateType&&(o.te(),o.ve()),o.ia(),o.ma(),o.na(),o.X(t.CallBackData,!0),o.qa(),t.Message&&o.message(t.Message)},this.X=function(t,e){var i=function(t,e){return function(){if(o.ra()){if("function"==typeof o.onAfterRender){var i={};i.isCallBack=e,i.data=t,o.onAfterRender(i)}}else o.afterRender&&o.afterRender(t,e)}};window.setTimeout(i(t,e),0)},this.ra=function(){return 2===o.api},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.aa=function(){if(this.events.list){if("function"==typeof this.onBeforeEventRender)for(var t=this.events.list.length,e=0;e<t;e++)this.Qc(e);this.cellMode?this.we():this.xe()}},this.W=function(){},this.xe=function(){if(this.events.list){for(var t=0;t<this.events.list.length;t++){var e=this.events.list[t],i=null;if("function"==typeof o.onBeforeEventRender&&(i=o.s.events[t]),i){if(i.hidden)continue}else if(e.hidden)continue;var n=new DayPilot.Date(e.start),a=new DayPilot.Date(e.end);if(a=o.ye(a),!(n.getTime()>a.getTime()))for(var r=0;r<this.rows.length;r++){var s=this.rows[r];if(s.belongsHere(n,a)){var l=new DayPilot.Event(e,o);if("function"==typeof o.onEventFilter&&o.events.Xc){var c={};if(c.filter=o.events.Xc,c.visible=!0,c.e=l,o.onEventFilter(c),!c.visible)break}s.events.push(l),"function"==typeof this.onBeforeEventRender&&(l.cache=this.s.events[t])}}}for(var u=0;u<this.rows.length;u++){var s=this.rows[u];s.events.sort(this.Zc);for(var d=0;d<this.rows[u].events.length;d++){var h=s.events[d],f=s.getStartColumn(h),p=s.getWidth(h);s.putIntoLine(h,f,p,u)}}}},this.we=function(){this.cellEvents=[];for(var t=0;t<this.ze();t++){this.cellEvents[t]=[];for(var e=0;e<this.rows.length;e++){var i={},n=this.firstDate.addDays(7*e+t);i.start=n,i.end=n.addDays(1),i.events=[],this.cellEvents[t][e]=i}}for(var a=0;a<this.events.list.length;a++){var r=this.events.list[a],s=null;if("function"==typeof o.onBeforeEventRender&&(s=o.s.events[a]),s){if(s.hidden)continue}else if(r.hidden)continue;var l=new DayPilot.Date(r.start),c=new DayPilot.Date(r.start);if(c=o.ye(c),!(l.getTime()>c.getTime()))for(var t=0;t<this.ze();t++)for(var e=0;e<this.rows.length;e++){var i=this.cellEvents[t][e];if(l.getTime()>=i.start.getTime()&&l.getTime()<i.end.getTime()){var u=new DayPilot.Event(r,o);if("function"==typeof o.onEventFilter&&o.events.Xc){var d={};if(d.filter=o.events.Xc,d.visible=!0,d.e=u,o.onEventFilter(d),!d.visible)continue}i.events.push(u),"function"==typeof this.onBeforeEventRender&&(u.cache=this.s.events[a])}}}for(var t=0;t<this.ze();t++)for(var e=0;e<this.rows.length;e++){var i=this.cellEvents[t][e];i.events.sort(this.Zc)}},this.L=function(){for(var t=0;t<this.elements.events.length;t++){var e=this.elements.events[t];e.event=null,e.click=null,e.parentNode.removeChild(e)}this.elements.events=[]},this.na=function(){this.s.events={},this.cellMode?this.Ae():this.Be(),this.multiselect.redraw()},this.Ae=function(){this.elements.events=[];for(var t=0;t<this.ze();t++)for(var e=0;e<this.rows.length;e++)for(var i=this.cellEvents[t][e],n=(this.cells[t][e],0);n<i.events.length;n++){var o=i.events[n];o.part.colStart=t,o.part.colWidth=1,o.part.row=e,o.part.line=n,o.part.startsHere=!0,o.part.endsHere=!0,this.Nb(o)}},this.Be=function(){this.elements.events=[];for(var t=0;t<this.rows.length;t++)for(var e=this.rows[t],i=0;i<e.lines.length;i++)for(var n=e.lines[i],o=0;o<n.length;o++)this.Nb(n[o])},this.Yc=function(t,e){if(!(t&&e&&t.start&&e.start))return 0;var i=t.start().ticks-e.start().ticks;return 0!==i?i:e.end().ticks-t.end().ticks},this.Zc=function(t,e){if(!t||!e)return 0;if(!(t.data&&e.data&&t.data.sort&&e.data.sort&&0!==t.data.sort.length&&0!==e.data.sort.length))return o.Yc(t,e);for(var i=0,n=0;0===i&&void 0!==t.data.sort[n]&&void 0!==e.data.sort[n];)i=t.data.sort[n]===e.data.sort[n]?0:"number"==typeof t.data.sort[n]&&"number"==typeof e.data.sort[n]?t.data.sort[n]-e.data.sort[n]:o.$c(t.data.sort[n],e.data.sort[n],o.sortDirections[n]),n++;return i},this.$c=function(t,e,i){var n="desc"!==i,o=n?-1:1,a=-o;if(null===t&&null===e)return 0;if(null===e)return a;if(null===t)return o;var r=[];return r[0]=t,r[1]=e,r.sort(),t===r[0]?o:a},this.Ce=function(t,i,n,o,a,r){a||(a=0);var s=o;this.shadow={},this.shadow.list=[],this.shadow.start={x:t,y:i},this.shadow.width=o,this.eventMoveToPosition&&(s=1,this.shadow.position=n);var l=7*i+t-a;l<0&&(s+=l,t=0,i=0);for(var c=a;c>=7;)i--,c-=7;c>t?c>t+(7-this.ze())?(i--,t=t+7-c):(s=s-c+t,t=0):t-=c,i<0&&(i=0,t=0);var u=null;for(e.resizingEvent?u="w-resize":e.movingEvent&&(u="move"),this.nav.top.style.cursor=u;s>0&&i<this.rows.length;){var d=Math.min(this.ze()-t,s),h=this.rows[i],f=this.De(i),p=h.getHeight();this.eventMoveToPosition&&(f=this.Ee(i,n),p=2);var v=document.createElement("div");v.setAttribute("unselectable","on"),v.style.position="absolute",v.style.left=this.Fe()*t+"%",v.style.width=this.Fe()*d+"%",v.style.top=f+"px",v.style.height=p+"px",v.style.cursor=u;var g=document.createElement("div");g.setAttribute("unselectable","on"),v.appendChild(g),v.className=this.p("_shadow"),g.className=this.p("_shadow_inner"),this.nav.events.appendChild(v),this.shadow.list.push(v),s-=d+7-this.ze(),t=0,i++}},this.Ge=function(){this.shadow&&(this.nav.events,DayPilot.de(this.shadow.list),this.shadow=null,this.nav.top.style.cursor="")},this.Ee=function(t,e){for(var i=0,n=0;n<t;n++)i+=this.rows[n].getHeight();return i+=this.cellHeaderHeight,i+=e*s.lineHeight()},this.He=function(t,e){return this.firstDate.addDays(7*e+t)},this.Qc=function(t){var e=this.s.events,i=this.events.list[t],n={};for(var o in i)n[o]=i[o];if("function"==typeof this.onBeforeEventRender){var a={};a.e=n,a.data=n,this.onBeforeEventRender(a)}e[t]=n},this.Nb=function(t){var e=this.cellMode,i=t.part.row,n=t.part.line,r=t.part.colStart,l=t.part.colWidth,c=t.cache||t.data,u=e?0:this.Fe()*r,d=e?100:this.Fe()*l,h=e?n*s.lineHeight():this.Ee(i,n),f=document.createElement("div");f.setAttribute("unselectable","on"),f.style.height=s.eventHeight()+"px",f.style.position="relative",f.style.overflow="hidden",f.className=this.p("_event"),c.cssClass&&DayPilot.Util.addClass(f,c.cssClass),f.event=t,e?(f.style.marginRight="2px",f.style.marginBottom="2px"):(f.style.width=d+"%",f.style.position="absolute",f.style.left=u+"%",f.style.top=h+"px"),this.showToolTip&&c.toolTip&&!this.bubble&&(f.title=c.toolTip),f.onclick=this.Ie,f.ondblclick=this.Je,f.oncontextmenu=this.Ke,f.onmousedown=this.Qb,f.onmousemove=this.Ob,f.onmouseout=this.Pb,f.ontouchstart=a.onEventTouchStart,f.ontouchmove=a.onEventTouchMove,f.ontouchend=a.onEventTouchEnd,t.part.startsHere||DayPilot.Util.addClass(f,this.p("_event_continueleft")),t.part.endsHere||DayPilot.Util.addClass(f,this.p("_event_continueright"));var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.p("_event_inner"),c.fontColor&&(p.style.color=c.fontColor),t.client.innerHTML()?p.innerHTML=t.client.innerHTML():p.innerHTML=t.text(),c.backColor&&(p.style.background=c.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(p.style.filter="")),f.appendChild(p);var v=this.qc.locale(),g=o.eventStartEndWidth;if(this.eventStartTime){var y="Clock12Hours"===o.qc.timeFormat()?t.start().toString("h tt",v):t.start().toString("H",v),m={left:5,top:3,width:g,bottom:2,v:"Visible",html:y,css:o.p("_event_timeleft")},b=DayPilot.Areas.createArea(f,t,m);f.appendChild(b),p.style.paddingLeft=g+"px"}if(this.eventEndTime){var y="Clock12Hours"===o.qc.timeFormat()?t.end().toString("h tt",v):t.end().toString("H",v),m={right:5,top:3,width:g,bottom:2,v:"Visible",html:y,css:o.p("_event_timeright")},b=DayPilot.Areas.createArea(f,t,m);f.appendChild(b),p.style.paddingRight=g+"px"}if(c.areas)for(var w=c.areas,D=0;D<w.length;D++){var m=w[D];if("Visible"===m.v){var b=DayPilot.Areas.createArea(f,t,m);f.appendChild(b)}}this.elements.events.push(f),e?this.cells[r][i].body.appendChild(f):this.nav.events.appendChild(f),o.multiselect.wb(f.event)&&o.multiselect.add(f.event,!0);var C=f;if(o.ra()){if("function"==typeof o.onAfterEventRender){var k={};k.e=C.event,k.div=C,o.onAfterEventRender(k)}}else o.afterEventRender&&o.afterEventRender(C.event,C)},this.Ie=function(t){a.start||o.Fa(this,t)},this.Je=function(t){o.Ja(this,t)},this.Ob=function(t){var i=this,n=i.event;if(void 0!==e&&!e.movingEvent&&!e.resizingEvent){var a=DayPilot.mo3(i,t);if(a){!function(){var t=i;if(!t.active){var e=[],a=n.cache||n.data;"Disabled"===o.eventDeleteHandling||a.deleteDisabled||e.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:o.p("_event_delete"),js:function(t){o.Oa(t)}});var r=t.event.cache?t.event.cache.areas:t.event.data.areas;r&&r.length>0&&(e=e.concat(r)),DayPilot.Areas.showAreas(t,t.event,null,e)}}(),o.Le(i.event).each(function(t){DayPilot.Util.addClass(t,o.p("_event_hover"))});var r=6;if(!o.cellMode&&a.x<=r&&n.client.resizeEnabled()?n.part.startsHere?(i.style.cursor="w-resize",i.dpBorder="left"):i.style.cursor="not-allowed":!o.cellMode&&i.clientWidth-a.x<=r&&n.client.resizeEnabled()?n.part.endsHere?(i.style.cursor="e-resize",i.dpBorder="right"):i.style.cursor="not-allowed":i.style.cursor="default",void 0!==DayPilot.Bubble&&o.bubble&&"Disabled"!==o.eventHoverHandling)if(e.movingEvent||e.resizingEvent)DayPilot.Bubble.hideActive();else{var s=this.Rc&&a.x===this.Rc.x&&a.y===this.Rc.y;s||(this.Rc=a,o.bubble.showEvent(i.event))}}}},this.Pb=function(t){var e=this;void 0!==DayPilot.Bubble&&o.bubble&&o.bubble.hideOnMouseOut(),e.style.cursor="",o.Le(e.event).each(function(t){DayPilot.Util.removeClass(t,o.p("_event_hover"))}),DayPilot.Areas.hideAreas(e,t)},this.Ke=function(){var t=this;return o.Ka(t.event),!1},this.Qb=function(t){if(!a.start){var i=this,n=i.event,r=n.part.row,s=n.part.colStart,l=n.part.line,c=n.part.colWidth;t=t||window.event;var u=DayPilot.Util.mouseButton(t);if(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),u.left)if(void 0!==DayPilot.Bubble&&o.bubble&&DayPilot.Bubble.hideActive(),e.movingEvent=null,"w-resize"===this.style.cursor||"e-resize"===this.style.cursor){var d={};d.start={},d.start.x=s,d.start.y=r,d.event=i.event,d.width=DayPilot.DateUtil.daysSpan(d.event.start(),d.event.end())+1,d.direction=this.style.cursor,e.resizingEvent=d}else if("move"===this.style.cursor||n.client.moveEnabled()){o.Ge();var h=DayPilot.mo3(o.nav.events,t);if(!h)return;var f=o.Me(h.x,h.y);if(!f)return;var p=DayPilot.DateUtil.daysDiff(n.start(),o.rows[r].start),v=7*f.y+f.x-(7*r+s);p&&(v+=p);var g={};g.start={},g.start.x=s,g.start.y=r,g.start.line=l,g.offset=o.eventMoveToPosition?0:v,g.colWidth=c,g.event=i.event,g.coords=h,e.movingEvent=g}}},this.temp={},this.temp.getPosition=function(){if(!o.coords)return null;var t=o.Me(o.coords.x,o.coords.y);if(!t)return null;var e=new DayPilot.Date(o.He(t.x,t.y)),t={};return t.start=e,t.end=e.addDays(1),t},this.Rb={};var a=o.Rb;a.active=!1,a.start=!1,a.timeouts=[],a.onEventTouchStart=function(t){if(!a.active&&!a.start){a.clearTimeouts(),a.start=!0,a.active=!1;var e=this;if(e.event.client.moveEnabled()){var i=o.tapAndHoldTimeout;a.timeouts.push(window.setTimeout(function(){a.active=!0,a.start=!1;var i=a.relativeCoords(t);a.startMoving(e,i),t.preventDefault()},i))}t.stopPropagation()}},a.onEventTouchMove=function(t){a.clearTimeouts(),a.start=!1},a.onEventTouchEnd=function(t){a.clearTimeouts(),a.start&&o.Ga(this,t),window.setTimeout(function(){a.start=!1,a.active=!1},500)},a.onMainTouchStart=function(t){if(!a.active&&!a.start){a.clearTimeouts(),a.start=!0,a.active=!1;var e=o.tapAndHoldTimeout;a.timeouts.push(window.setTimeout(function(){a.active=!0,a.start=!1,t.preventDefault();var e=a.relativeCoords(t);a.startRange(e)},e))}},a.onMainTouchMove=function(t){if(a.clearTimeouts(),a.start=!1,a.active){t.preventDefault();var e=a.relativeCoords(t);if(a.moving)return void a.updateMoving(e);a.range&&a.updateRange(e)}},a.onMainTouchEnd=function(t){if(a.clearTimeouts(),a.active){if(a.moving){var e=(a.moving,a.moving.event),i=o.shadow.start,n=o.shadow.position,r=a.moving.offset;o.Ge(),a.moving=null,o.Ta(e,i.x,i.y,r,t,n)}if(a.range){var s=a.range,i=new DayPilot.Date(o.He(s.from.x,s.from.y)),l=i.addDays(s.width);a.range=null,o.$a(i,l)}}window.setTimeout(function(){a.start=!1,a.active=!1},500)},a.clearTimeouts=function(){for(var t=0;t<a.timeouts.length;t++)clearTimeout(a.timeouts[t]);a.timeouts=[]},a.relativeCoords=function(t){var e=o.nav.events,i=t.touches[0].pageX,n=t.touches[0].pageY,a=DayPilot.abs(e);return{x:i-a.x,y:n-a.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},a.startMoving=function(t,e){o.Ge();var i=t.event,n=o.Me(e.x,e.y);if(n){var r=DayPilot.DateUtil.daysDiff(i.start(),o.rows[i.part.row].start),s=7*n.y+n.x-(7*i.part.row+i.part.colStart);r&&(s+=r);var l={};l.start={},l.start.x=i.part.colStart,l.start.y=i.part.row,l.start.line=i.part.line,l.offset=o.eventMoveToPosition?0:s,l.colWidth=i.part.colWidth,l.event=i,l.coords=e,a.moving=l,a.updateMoving(e)}},a.updateMoving=function(t){var e=o.Me(t.x,t.y);if(e){var i=o.Ne(e);o.Ge();var n=a.moving.event,r=a.moving.offset,s=o.cellMode?1:DayPilot.DateUtil.daysSpan(n.start(),n.end())+1;s<1&&(s=1),o.Ce(e.x,e.y,i,s,r,n)}},a.startRange=function(t){var e=o.Me(t.x,t.y);if(e){o.Ge();var i={};i.start={},i.start.x=e.x,i.start.y=e.y,i.x=e.x,i.y=e.y,i.width=1,a.range=i,a.updateRange(t)}},a.updateRange=function(t){var e=o.Me(t.x,t.y);if(e){o.Ge();var i=a.range.start,n=7*i.y+i.x,r=7*e.y+e.x,s=Math.abs(r-n)+1;s<1&&(s=1);var l=n<r?i:e;a.range.width=s,a.range.from={x:l.x,y:l.y},o.Ce(l.x,l.y,0,s,0,null)}},this.isWeekend=function(t){return 0===t.dayOfWeek()||6===t.dayOfWeek()},this.Oe=function(){var t=this.startDate.lastDayOfMonth();if(this.showWeekend)return t;for(;this.isWeekend(t);)t=t.addDays(-1);return t},this.se=function(){if("string"==typeof this.startDate&&(this.startDate=new DayPilot.Date(this.startDate)),"Month"===this.viewType?this.startDate=this.startDate.firstDayOfMonth():this.startDate=this.startDate.getDatePart(),this.firstDate=this.startDate.firstDayOfWeek(s.weekStarts()),!this.showWeekend){for(var t=this.startDate.addMonths(-1).getMonth(),e=new DayPilot.Date(this.firstDate).addDays(6);this.isWeekend(e);)e=e.addDays(-1);e.getMonth()===t&&(this.firstDate=this.firstDate.addDays(7))}var i;if(this.startDate,"Month"===this.viewType){var n=this.Oe(),a=DayPilot.DateUtil.daysDiff(this.firstDate,n)+1;i=Math.ceil(a/7)}else i=this.weeks;this.days=7*i,this.rows=[];for(var r=0;r<i;r++){var l={};l.start=this.firstDate.addDays(7*r),l.end=l.start.addDays(this.ze()),l.events=[],l.lines=[],l.index=r,l.minHeight=this.cellHeight,l.calendar=this,l.belongsHere=function(t,e){return e.getTime()===t.getTime()&&t.getTime()===this.start.getTime()||!(e.getTime()<=this.start.getTime()||t.getTime()>=this.end.getTime())},l.getPartStart=function(t){return DayPilot.DateUtil.max(this.start,t.start())},l.getPartEnd=function(t){return DayPilot.DateUtil.min(this.end,t.rawend())},l.getStartColumn=function(t){var e=this.getPartStart(t);return DayPilot.DateUtil.daysDiff(this.start,e)},l.getWidth=function(t){return DayPilot.DateUtil.daysSpan(this.getPartStart(t),this.getPartEnd(t))+1},l.putIntoLine=function(t,e,i,n){for(var o=this,a=0;a<this.lines.length;a++){var r=this.lines[a];if(r.isFree(e,i))return r.addEvent(t,e,i,n,a),a}var r=[];return r.isFree=function(t,e){for(var i=!0,n=0;n<this.length;n++){var o=this[n];t+e-1<o.part.colStart||t>o.part.colStart+o.part.colWidth-1||(i=!1)}return i},r.addEvent=function(t,e,i,n,a){t.part.colStart=e,t.part.colWidth=i,t.part.row=n,t.part.line=a,t.part.startsHere=o.start.getTime()<=t.start().getTime(),t.part.endsHere=o.end.getTime()>=t.end().getTime(),this.push(t)},r.addEvent(t,e,i,n,this.lines.length),this.lines.push(r),this.lines.length-1},l.getStart=function(){for(var t=0,e=0;e<o.rows.length&&e<this.index;e++)t+=o.rows[e].getHeight()},l.getHeight=function(){return Math.max(this.lines.length*s.lineHeight()+o.cellHeaderHeight+o.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(l)}this.Pe=this.firstDate.addDays(7*i)},this.Qe=function(){switch(this.heightSpec){case"Auto":for(var t=s.headerHeight(),e=0;e<this.rows.length;e++)t+=this.rows[e].getHeight();return t;case"Fixed":return this.height}},this.Re=function(t,e){return 7*e.y+e.x-(7*t.y+t.x)+1},this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){o.Jc.scope&&o.Jc.scope.$apply()},this.debug=new DayPilot.Debug(this),this.Wb=function(){var t=this.nav.top;this.nav.top.dp=this,t.setAttribute("unselectable","on"),t.style.MozUserSelect="none",t.style.KhtmlUserSelect="none",t.style.WebkitUserSelect="none",t.style.WebkitTapHighlightColor="rgba(0,0,0,0)",t.style.WebkitTouchCallout="none",t.style.position="relative",this.width&&(t.style.width=this.width),t.onselectstart=function(t){return!1},t.className=this.p("_main"),this.hideUntilInit&&(t.style.visibility="hidden"),this.visible||(t.style.display="none"),t.onmousemove=this.bc,t.ontouchstart=a.onMainTouchStart,t.ontouchmove=a.onMainTouchMove,t.ontouchend=a.onMainTouchEnd,this.qe=document.createElement("div"),this.qe.style.display="none",this.nav.top.appendChild(this.qe);var e=document.createElement("div");e.style.position="relative",e.style.height=s.headerHeight()+"px",e.oncontextmenu=function(){return!1},this.nav.top.appendChild(e),this.nav.header=e;var i=document.createElement("div");i.style.zoom="1";var n=document.createElement("div");n.style.position="relative",i.appendChild(n),this.nav.top.appendChild(i),this.nav.scrollable=i,this.nav.events=n},this.bc=function(t){o.coords=DayPilot.mo3(o.nav.events,t);var i=o.coords;if(i){var n=o.Me(i.x,i.y);if(n)if(e.resizingEvent){o.Ge();var a,r,s=e.resizingEvent;if(s.start,"w-resize"===s.direction){r=n;var l=s.event.rawend();l.getDatePart().getTime()===l.getTime()&&(l=l.addDays(-1));var c=o.Se(l);a=o.Re(n,c)}else r=o.Se(s.event.start()),a=o.Re(r,n);a<1&&(a=1),o.Ce(r.x,r.y,0,a)}else if(e.movingEvent){if(o.debug.message("mousemove/moving start coords: "+e.movingEvent.coords.x+" "+e.movingEvent.coords.y),o.debug.message("mousemove/current coords: "+i.x+" "+i.y),i.x===e.movingEvent.coords.x&&i.y===e.movingEvent.coords.y)return;var u=o.Ne(n);o.Ge();var d=e.movingEvent.event,h=e.movingEvent.offset,a=o.cellMode?1:DayPilot.DateUtil.daysSpan(d.start(),d.rawend())+1;a<1&&(a=1),o.Ce(n.x,n.y,u,a,h,d)}else if(e.timeRangeSelecting){e.cancelCellClick=!0,o.Ge();var r=e.timeRangeSelecting,f=7*r.y+r.x,p=7*n.y+n.x,a=Math.abs(p-f)+1;a<1&&(a=1);var v=f<p?r:n;e.timeRangeSelecting.from={x:v.x,y:v.y},e.timeRangeSelecting.width=a,e.timeRangeSelecting.moved=!0,o.Ce(v.x,v.y,0,a,0,null)}}},this.Ne=function(t){for(var e=t.relativeY,i=o.rows[t.y],n=o.cellHeaderHeight,a=s.lineHeight(),r=i.lines.length,l=0;l<i.lines.length;l++)if(i.lines[l].isFree(t.x,1)){r=l;break}var c=Math.floor((e-n+a/2)/a),c=Math.min(r,c),c=Math.max(0,c);return c},this.message=function(t,e,i,n){if(null!==t){var a,e=e||this.messageHideAfter||2e3,r=.8,l=s.headerHeight();if(this.nav.message)a=o.nav.message;else{a=document.createElement("div"),a.setAttribute("unselectable","on"),a.style.position="absolute",a.style.right="0px",a.style.left="0px",a.style.top=l+"px",a.style.opacity=r,a.style.filter="alpha(opacity=80)",a.style.display="none",a.onmousemove=function(){a.messageTimeout&&!a.status&&clearTimeout(a.messageTimeout)},a.onmouseout=function(){"none"!==o.nav.message.style.display&&(a.messageTimeout=setTimeout(o.Da,500))};var c=document.createElement("div");c.setAttribute("unselectable","on"),c.onclick=function(){o.nav.message.style.display="none"},c.className=this.p("_message"),a.appendChild(c);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.className=this.p("_message_close"),u.onclick=function(){o.nav.message.style.display="none"},a.appendChild(u),this.nav.top.appendChild(a),this.nav.message=a}var d=function(){o.nav.message.style.opacity=r,o.nav.message.firstChild.innerHTML=t;var i=function(){a.messageTimeout=setTimeout(o.Da,e)};DayPilot.fade(o.nav.message,.2,i)};clearTimeout(a.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(o.nav.message,-.2,d):d()}},this.message.show=function(t){o.message(t)},this.message.hide=function(){o.Da()},this.Da=function(){var t=function(){o.nav.message.style.display="none"};DayPilot.fade(o.nav.message,-.2,t)},this.O=function(t){"Parent100Pct"===o.heightSpec&&o.ia()},this.ia=function(){var t=this.nav.scrollable;"Parent100Pct"===this.heightSpec||"Fixed"===this.heightSpec?(t.style.top=this.headerHeight+"px",t.style.bottom="0px",t.style.left="0px",t.style.right="0px",t.style.overflow="auto",t.style.position="absolute"):t.style.position="relative","Parent100Pct"===this.heightSpec?(this.nav.top.style.height="100%",this.nav.top.clientHeight):this.nav.top.style.height=this.Qe()+"px";for(var e=0;e<this.cells.length;e++)for(var i=0;i<this.cells[e].length;i++)this.cells[e][i].style.top=this.De(i)+"px",this.cells[e][i].style.height=this.rows[i].getHeight()+"px";this.Te()},this.Me=function(t,e){for(var i=Math.floor(this.nav.top.clientWidth/this.ze()),n=Math.min(Math.floor(t/i),this.ze()-1),o=null,a=0,r=0,s=0,l=0;l<this.rows.length;l++){if(r+=this.rows[l].getHeight(),e<r){a=e-s,o=l;break}s=r}null===o&&(o=this.rows.length-1);var c={};return c.x=n,c.y=o,c.relativeY=a,c},this.Se=function(t){for(var e=DayPilot.DateUtil.daysDiff(this.firstDate,t),i={x:0,y:0};e>=7;)i.y++,e-=7;return i.x=e,i},this.Te=function(){var t=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=t+"px"};var r=null;this.ve=function(){var t=this.nav.header,e=this.nav.events;this.cells=[];for(var i=0;i<this.ze();i++){this.cells[i]=[];var n=this.headerProperties?this.headerProperties[i]:null,a=i+s.weekStarts();if(a>6&&(a-=7),!n){var n={};n.html=s.locale().dayNames[a]}if("function"==typeof o.onBeforeHeaderRender){var l={};l.header={},l.header.dayOfWeek=a;var c=["html","backColor","cssClass"];DayPilot.Util.copyProps(n,l.header,c),o.onBeforeHeaderRender(l),DayPilot.Util.copyProps(l.header,n,c)}var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.left=this.Fe()*i+"%",u.style.width=this.Fe()+"%",u.style.top="0px",u.style.height=s.headerHeight()+"px",function(t){u.onclick=function(){o.La(t)}}(a);var d=document.createElement("div");d.setAttribute("unselectable","on"),d.className=this.p("_header_inner"),d.innerHTML=n.html,u.appendChild(d),u.className=this.p("_header"),n&&(n.cssClass&&DayPilot.Util.addClass(u,n.cssClass),n.backColor&&(d.style.background=n.backColor)),t.appendChild(u);for(var h=0;h<this.rows.length;h++)this.Ue(i,h,e)}if(!DayPilot.contains(this.nav.top.childNodes,r)&&DayPilot.Util.isNullOrUndefined(void 0)){var f=document.createElement("div");f.style.position="absolute",f.style.padding="2px",f.style.top="0px",f.style.left="0px",f.style.backgroundColor="#FF6600",f.style.color="white",f.innerHTML="DEMO",r=f,this.nav.top.appendChild(f)}},this.te=function(){for(var t=0;t<this.cells.length;t++)for(var e=0;e<this.cells[t].length;e++)this.cells[t][e].onclick=null;this.nav.header.innerHTML="",this.nav.events.innerHTML=""},this.Ue=function(e,i,n){var a=this.rows[i],r=this.firstDate.addDays(7*i+e),l=this.cellProperties?this.cellProperties[i*this.ze()+e]:null,c=null;if(l)c=l.headerHtml;else{var u=r.getDay();c=1===u?s.locale().monthNames[r.getMonth()]+" "+u:u+""}if(!l){var l={};l.business=!o.isWeekend(r),l.headerHtml=c}if("function"==typeof o.onBeforeCellRender){var d={};d.cell={},d.cell.areas=null,d.cell.backColor=null,d.cell.backImage=null,d.cell.backRepeat=null,d.cell.business=o.isWeekend(r),d.cell.headerHtml=c,d.cell.headerBackColor=null,d.cell.cssClass=null,d.cell.html=null,d.cell.start=r,d.cell.end=d.cell.start.addDays(1),DayPilot.Util.copyProps(l,d.cell),o.onBeforeCellRender(d),DayPilot.Util.copyProps(d.cell,l,["areas","backColor","backImage","backRepeat","business","headerHtml","headerBackColor","cssClass","html"])}var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.position="absolute",h.style.cursor="default",h.style.left=this.Fe()*e+"%",h.style.width=this.Fe()+"%",h.style.top=this.De(i)+"px",h.style.height=a.getHeight()+"px",h.d=r,h.x=e,h.y=i,h.props=l;var f=this.startDate.addMonths(-1).getMonth(),p=this.startDate.addMonths(1).getMonth(),v=this.startDate.getMonth(),g=document.createElement("div");g.setAttribute("unselectable","on"),h.appendChild(g),g.className=this.p("_cell_inner"),g.className=this.p("_cell_inner"),r.getMonth()===v?h.className=this.p("_cell"):r.getMonth()===f?h.className=this.p("_cell")+" "+this.p("_previous"):r.getMonth()===p?h.className=this.p("_cell")+" "+this.p("_next"):t(),l&&(l.cssClass&&DayPilot.Util.addClass(h,l.cssClass),l.business&&DayPilot.Util.addClass(h,this.p("_cell_business")),l.backColor&&(g.style.backgroundColor=l.backColor),l.backImage&&(g.style.backgroundImage="url('"+l.backImage+"')"),l.backRepeat&&(g.style.backgroundRepeat=l.backRepeat)),h.onmousedown=this.gb,h.onmousemove=this.jb,h.onmouseout=this.ib,h.oncontextmenu=this.Ve,h.onclick=this.We,h.ondblclick=this.Xe;var y=document.createElement("div");if(y.setAttribute("unselectable","on"),y.style.height=this.cellHeaderHeight+"px",l&&l.headerBackColor&&(y.style.background=l.headerBackColor),y.className=this.p("_cell_header"),y.innerHTML=l.headerHtml,g.appendChild(y),l&&l.html){var m=document.createElement("div");m.setAttribute("unselectable","on"),m.style.height=a.getHeight()-this.cellHeaderHeight+"px",m.style.overflow="hidden",m.innerHTML=l.html,g.appendChild(m)}if(this.cellMode){var b=document.createElement("div");b.setAttribute("unselectable","on"),b.style.height=this.cellHeight-this.cellHeaderHeight+"px",b.style.overflow="auto",b.style.position="relative";var w=document.createElement("div");w.setAttribute("unselectable","on"),w.style.paddingTop="1px",w.style.paddingBottom="1px",b.appendChild(w),g.appendChild(b),h.body=w,h.scrolling=b}if(h.props)for(var D=h.props.areas||[],C=0;C<D.length;C++){var k=D[C],x=k.v||"Visible";if("Visible"===x){var P=DayPilot.Areas.createArea(h,h.props,k);h.appendChild(P)}}this.cells[e][i]=h,n.appendChild(h),"function"==typeof o.onAfterCellRender&&(d.cell.div=h,d.cell.divHeader=y,o.onAfterCellRender(d))},this.jb=function(){var t=this;t.props&&DayPilot.Areas.showAreas(t,t.props)},this.ib=function(t){var e=this;e.props&&DayPilot.Areas.hideAreas(e,t)},this.Ve=function(){var t=this.d;return function(t){var e=new DayPilot.Date(t),i=e.addDays(1),n=new DayPilot.Selection(e,i,null,o);o.contextMenuSelection&&o.contextMenuSelection.show(n)}(t),!1},this.Xe=function(){var t=this.d;if(o.timeouts){for(var e in o.timeouts)window.clearTimeout(o.timeouts[e]);o.timeouts=null}if("Disabled"!==o.timeRangeDoubleClickHandling){var i=new DayPilot.Date(t),n=i.addDays(1);o._a(i,n)}},this.We=function(){if(!e.cancelCellClick){var t=this.d,i=function(t){var e=new DayPilot.Date(t),i=e.addDays(1);o.$a(e,i)};if("Disabled"!==o.timeRangeSelectedHandling&&"Disabled"===o.timeRangeDoubleClickHandling)return void i(t);o.timeouts||(o.timeouts=[]);var n=function(t){return function(){i(t)}};o.timeouts.push(window.setTimeout(n(t),o.doubleClickTimeout))}},this.gb=function(t){var i=this,n=i.x,a=i.y;if(e.cancelCellClick=!1,i.scrolling){var r=DayPilot.mo3(i.scrolling,t),s=DayPilot.sw(i.scrolling),l=i.scrolling.offsetWidth;if(r.x>l-s)return}"Disabled"!==o.timeRangeSelectedHandling&&(o.Ge(),e.timeRangeSelecting={root:o,x:n,y:a,from:{x:n,y:a},width:1})},this.ze=function(){return this.showWeekend?7:5},this.Fe=function(){return this.showWeekend?14.285:20},this.Ye=function(t){return 6===t.getUTCDay()||0===t.getUTCDay()?this.nonBusinessBackColor:this.backColor},this.De=function(t){for(var e=0,i=0;i<t;i++)e+=this.rows[i].getHeight();return e},this.clearSelection=function(){this.Ge()},this.D=function(t,e,i){var n={};n.action=t,n.parameters=i,n.data=e,n.header=this.E();var a="JSON"+DayPilot.JSON.stringify(n);__doPostBack(o.uniqueID,a)},this.F=function(t,e,i,n){if(!this.q())return void o.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");void 0===n&&(n="CallBack");var a={};a.action=t,a.type=n,a.parameters=e,a.data=i,a.header=this.E();var r="JSON"+DayPilot.JSON.stringify(a);this.backendUrl?DayPilot.request(this.backendUrl,this.H,r,this.I):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.J,null,this.callbackError,!0)},this.q=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.I=function(t){if("function"==typeof o.onAjaxError){var e={};e.request=t,o.onAjaxError(e)}else"function"==typeof o.ajaxError&&o.ajaxError(t)},this.H=function(t){o.J(t.responseText)},this.E=function(){var t={};return t.v=this.v,t.control="dpm",t.id=this.id,t.visibleStart=new DayPilot.Date(this.firstDate),t.visibleEnd=t.visibleStart.addDays(this.days),t.clientState=this.clientState,t.cssClassPrefix=o.cssClassPrefix,t.startDate=o.startDate,t.showWeekend=this.showWeekend,t.headerBackColor=this.headerBackColor,t.backColor=this.backColor,t.nonBusinessBackColor=this.nonBusinessBackColor,t.locale=this.locale,t.timeFormat=this.timeFormat,t.weekStarts=this.weekStarts,t.viewType=this.viewType,t.weeks=this.weeks,t.selected=o.multiselect.events(),t.hashes=o.hashes,t},this.visibleStart=function(){return new DayPilot.Date(this.firstDate)},this.visibleEnd=function(){return o.visibleStart().addDays(o.days)},this.Pa=function(t,e,i,n){if("PostBack"===t)o.postBack2(e,i,n);else if("CallBack"===t)o.F(e,i,n,"CallBack");else if("Immediate"===t)o.F(e,i,n,"Notify");else if("Queue"===t)o.queue.add(new DayPilot.Action(this,e,i,n));else{if("Notify"!==t)throw"Invalid event invocation type";"Notify"===s.notifyType()?o.F(e,i,n,"Notify"):o.queue.add(new DayPilot.Action(o,e,i,n))}},this.Wa=function(t,e){var i=o.Xa(e),n={};n.args=t,n.guid=i,o.F("Bubble",n)},this.Xa=function(t){var e=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[e]=t,e},this.eventClickPostBack=function(t,e){this.D("EventClick",e,t)},this.eventClickCallBack=function(t,e){this.F("EventClick",t,e)},this.Fa=function(t,i){e.movingEvent=null,e.resizingEvent=null;var i=i||window.event;if(i.ctrlKey,i.metaKey,i.cancelBubble=!0,i.stopPropagation&&i.stopPropagation(),void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===o.eventDoubleClickHandling)return void o.Ga(t,i);if(o.timeouts){for(var n in o.timeouts)window.clearTimeout(o.timeouts[n]);o.timeouts=[]}else o.timeouts=[];var a=function(t,e){return function(){o.Ga(t,e)}};o.timeouts.push(window.setTimeout(a(t,i),o.doubleClickTimeout))},this.Ga=function(t,e){var i=t.event;if(i.client.clickEnabled()){var n=e.ctrlKey,a=e.metaKey;if(o.ra()){var r={};if(r.e=i,r.div=t,r.originalEvent=e,r.meta=e.metaKey,r.ctrl=e.ctrlKey,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventClick&&(o.onEventClick(r),r.preventDefault.value))return;switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(i);break;case"CallBack":o.eventClickCallBack(i);break;case"Select":o.Ia(t,i,n,a);break;case"ContextMenu":var s=i.client.contextMenu();s?s.show(i):o.contextMenu&&o.contextMenu.show(i);break;case"Bubble":o.bubble&&o.bubble.showEvent(i)}"function"==typeof o.onEventClicked&&o.onEventClicked(r)}else switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(i);break;case"CallBack":o.eventClickCallBack(i);break;case"JavaScript":o.onEventClick(i);break;case"Select":o.Ia(t,i,n,a);break;case"ContextMenu":var s=i.client.contextMenu();s?s.show(i):o.contextMenu&&o.contextMenu.show(i);break;case"Bubble":o.bubble&&o.bubble.showEvent(i)}}},this.Oa=function(t){if(o.ra()){var e={};if(e.e=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDelete&&(o.onEventDelete(e),e.preventDefault.value))return;switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(t);break;case"CallBack":o.eventDeleteCallBack(t);break;case"Update":o.events.remove(t)}"function"==typeof o.onEventDeleted&&o.onEventDeleted(e)}else switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(t);break;case"CallBack":o.eventDeleteCallBack(t);break;case"JavaScript":o.onEventDelete(t)}},this.eventDeletePostBack=function(t,e){this.D("EventDelete",t,e)},this.eventDeleteCallBack=function(t,e){this.F("EventDelete",t,e)},this.eventDoubleClickPostBack=function(t,e){this.D("EventDoubleClick",e,t)},this.eventDoubleClickCallBack=function(t,e){this.F("EventDoubleClick",t,e)},this.Ja=function(t,e){if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),o.timeouts){for(var i in o.timeouts)window.clearTimeout(o.timeouts[i]);o.timeouts=null}var e=e||window.event,n=t.event;if(o.ra()){var a={};if(a.e=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDoubleClick&&(o.onEventDoubleClick(a),a.preventDefault.value))return;switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(n);break;case"CallBack":o.eventDoubleClickCallBack(n);break;case"Select":o.Ia(t,n,e.ctrlKey,e.metaKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(n)}"function"==typeof o.onEventDoubleClicked&&o.onEventDoubleClicked(a)}else switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(n);break;case"CallBack":o.eventDoubleClickCallBack(n);break;case"JavaScript":o.onEventDoubleClick(n);break;case"Select":o.Ia(t,n,e.ctrlKey,e.metaKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(n)}},this.Ia=function(t,e,i,n){o.bb(t,e,i,n)},this.eventSelectPostBack=function(t,e,i){var n={};n.e=t,n.change=e,this.D("EventSelect",i,n)},this.eventSelectCallBack=function(t,e,i){var n={};n.e=t,n.change=e,this.F("EventSelect",n,i)},this.bb=function(t,e,i,n){var a=o.multiselect,r=a.isSelected(e);if(i||n||!r||1!==a.list.length)if(o.ra()){a.previous=a.events();var s={};if(s.e=e,s.selected=a.isSelected(e),s.ctrl=i,s.meta=n,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventSelect&&(o.onEventSelect(s),s.preventDefault.value))return;switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(e,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),o.eventSelectCallBack(e,l);break;case"Update":a.fb(t,i)}"function"==typeof o.onEventSelected&&(s.change=a.isSelected(e)?"selected":"deselected",s.selected=a.isSelected(e),o.onEventSelected(s))}else{a.previous=a.events(),a.fb(t,i);var l=a.isSelected(e)?"selected":"deselected";switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(e,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),o.eventSelectCallBack(e,l);break;case"JavaScript":o.onEventSelect(e,l)}}},this.eventRightClickPostBack=function(t,e){this.D("EventRightClick",e,t)},this.eventRightClickCallBack=function(t,e){this.F("EventRightClick",t,e)},this.Ka=function(t){if(this.event=t,!t.client.rightClickEnabled())return!1;if(o.ra()){var e={};if(e.e=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventRightClick&&(o.onEventRightClick(e),e.preventDefault.value))return;switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(t);break;case"CallBack":o.eventRightClickCallBack(t);break;case"ContextMenu":var i=t.client.contextMenu();i?i.show(t):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(t)}"function"==typeof o.onEventRightClicked&&o.onEventRightClicked(e)}else switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(t);break;case"CallBack":o.eventRightClickCallBack(t);break;case"JavaScript":o.onEventRightClick(t);break;case"ContextMenu":var i=t.client.contextMenu();i?i.show(t):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(t)}return!1},this.eventMenuClickPostBack=function(t,e,i){var n={};n.e=t,n.command=e,this.D("EventMenuClick",i,n)},this.eventMenuClickCallBack=function(t,e,i){var n={};n.e=t,n.command=e,this.F("EventMenuClick",n,i)},this.Ya=function(t,e,i){switch(i){case"PostBack":o.eventMenuClickPostBack(e,t);break;case"CallBack":o.eventMenuClickCallBack(e,t)}},this.eventMovePostBack=function(t,e,i,n,o){if(!e)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=t,a.newStart=e,a.newEnd=i,a.position=o,this.D("EventMove",n,a)},this.eventMoveCallBack=function(t,e,i,n,o){if(!e)throw"newStart is null";if(!i)throw"newEnd is null";var a={};a.e=t,a.newStart=e,a.newEnd=i,a.position=o,this.F("EventMove",a,n)},this.Ta=function(t,e,i,n,a,r){var s=t.start().getTimePart(),l=t.rawend().getDatePart();l.getTime()!==t.rawend().getTime()&&(l=l.addDays(1));var c=DayPilot.DateUtil.diff(t.rawend(),l),u=this.He(e,i);u=u.addDays(-n);var d=DayPilot.DateUtil.daysSpan(t.start(),t.rawend())+1,h=u.addDays(d),f=u.addTime(s),p=h.addTime(c);if(p=o.Ze(p),o.ra()){var v={};if(v.e=t,v.newStart=f,v.newEnd=p,v.position=r,v.ctrl=!1,a&&(v.ctrl=a.ctrlKey),v.shift=!1,a&&(v.shift=a.shiftKey),v.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventMove&&(o.onEventMove(v),v.preventDefault.value))return;switch(o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,f,p,null,r);break;case"CallBack":o.eventMoveCallBack(t,f,p,null,r);break;case"Notify":o.eventMoveNotify(t,f,p,null,r);break;case"Update":t.start(f),t.end(p),o.events.update(t)}"function"==typeof o.onEventMoved&&o.onEventMoved(v)}else switch(o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,f,p,null,r);break;case"CallBack":o.eventMoveCallBack(t,f,p,null,r);break;case"JavaScript":o.onEventMove(t,f,p,a.ctrlKey,a.shiftKey,r);break;case"Notify":o.eventMoveNotify(t,f,p,null,r)}},this.eventMoveNotify=function(t,e,i,n,a){var r=new DayPilot.Event(t.copy(),this);t.start(e),t.end(i),t.commit(),o.update(),this.Va("Notify",r,e,i,n,a)},this.Va=function(t,e,i,n,o,a){var r={};r.e=e,r.newStart=i,r.newEnd=n,r.position=a,this.Pa(t,"EventMove",r,o)},this.eventResizePostBack=function(t,e,i,n){if(!e)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=t,o.newStart=e,o.newEnd=i,this.D("EventResize",n,o)},this.eventResizeCallBack=function(t,e,i,n){if(!e)throw"newStart is null";if(!i)throw"newEnd is null";var o={};o.e=t,o.newStart=e,o.newEnd=i,this.F("EventResize",o,n)},this.Ra=function(t,e,i){var n=t.start().getTimePart(),a=t.rawend().getDatePart();a!=t.rawend()&&(a=a.addDays(1));var r=DayPilot.DateUtil.diff(t.rawend(),a),s=this.He(e.x,e.y),l=s.addDays(i),c=s.addTime(n),u=l.addTime(r);if(u=o.Ze(u),o.ra()){var d={};if(d.e=t,d.newStart=c,d.newEnd=u,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventResize&&(o.onEventResize(d),d.preventDefault.value))return;switch(o.eventResizeHandling){case"PostBack":o.eventResizePostBack(t,c,u);break;case"CallBack":o.eventResizeCallBack(t,c,u);break;case"Notify":o.eventResizeNotify(t,c,u);break;case"Update":t.start(c),t.end(u),o.events.update(t)}"function"==typeof o.onEventResized&&o.onEventResized(d)}else switch(o.eventResizeHandling){case"PostBack":o.eventResizePostBack(t,c,u);break;case"CallBack":o.eventResizeCallBack(t,c,u);break;case"JavaScript":o.onEventResize(t,c,u);break;case"Notify":o.eventResizeNotify(t,c,u)}},this.eventResizeNotify=function(t,e,i,n){var a=new DayPilot.Event(t.copy(),this);t.start(e),t.end(i),t.commit(),o.update(),this.Sa("Notify",a,e,i,n)},this.Sa=function(t,e,i,n,o){var a={};a.e=e,a.newStart=i,a.newEnd=n,this.Pa(t,"EventResize",a,o)},this.timeRangeSelectedPostBack=function(t,e,i){var n={};n.start=t,n.end=e,this.D("TimeRangeSelected",i,n)},this.timeRangeSelectedCallBack=function(t,e,i){var n={};n.start=t,n.end=e,this.F("TimeRangeSelected",n,i)},this.$a=function(t,e){if(e=o.Ze(e),o.ra()){var i={};if(i.start=t,i.end=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeSelect&&(o.onTimeRangeSelect(i),i.preventDefault.value))return;switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,e),o.clearSelection();break;case"CallBack":o.timeRangeSelectedCallBack(t,e),o.clearSelection()}"function"==typeof o.onTimeRangeSelected&&o.onTimeRangeSelected(i)}else switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,e),o.clearSelection();break;case"CallBack":o.timeRangeSelectedCallBack(t,e),o.clearSelection();break;case"JavaScript":o.onTimeRangeSelected(t,e)}},this.timeRangeMenuClickPostBack=function(t,e,i){var n={};n.selection=t,n.command=e,this.D("TimeRangeMenuClick",i,n)},this.timeRangeMenuClickCallBack=function(t,e,i){var n={};n.selection=t,n.command=e,this.F("TimeRangeMenuClick",n,i)},this.Za=function(t,e,i){switch(i){case"PostBack":o.timeRangeMenuClickPostBack(e,t);break;case"CallBack":o.timeRangeMenuClickCallBack(e,t)}},this.headerClickPostBack=function(t,e){this.D("HeaderClick",e,t)},this.headerClickCallBack=function(t,e){this.F("HeaderClick",t,e)},this.La=function(t){var e=(this.data,{day:t});if(o.ra()){var i={};if(i.header={},i.header.dayOfWeek=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onHeaderClick&&(o.onHeaderClick(i),i.preventDefault.value))return;switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(e);break;case"CallBack":o.headerClickCallBack(e)}"function"==typeof o.onHeaderClicked&&o.onHeaderClicked(i)}else switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(e);break;case"CallBack":o.headerClickCallBack(e);break;case"JavaScript":o.onHeaderClick(e)}},this.timeRangeDoubleClickPostBack=function(t,e,i){var n={};n.start=t,n.end=e,this.D("TimeRangeDoubleClick",i,n)},this.timeRangeDoubleClickCallBack=function(t,e,i){var n={};n.start=t,n.end=e,this.F("TimeRangeDoubleClick",n,i)},this._a=function(t,e){if(o.ra()){var i={};if(i.start=t,i.end=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeDoubleClick&&(o.onTimeRangeDoubleClick(i),i.preventDefault.value))return;switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(t,e);break;case"CallBack":o.timeRangeDoubleClickCallBack(t,e)}"function"==typeof o.onTimeRangeDoubleClicked&&o.onTimeRangeDoubleClicked(i)}else switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(t,e);break;case"CallBack":o.timeRangeDoubleClickCallBack(t,e);break;case"JavaScript":o.onTimeRangeDoubleClick(t,e)}},this.commandCallBack=function(t,e){this.$e();var i={};i.command=t,this.F("Command",i,e)},this.commandPostBack=function(t,e){this.$e();var i={};i.command=t,this.D("Command",i,e)},this._c=function(t){for(var e=0;e<o.elements.events.length;e++){var i=o.elements.events[e];if(i.event===t||i.event.data===t.data)return i}return null},this.Le=function(t){var e={};e.list=[],e.each=function(t){if(t)for(var e=0;e<this.list.length;e++)t(this.list[e])};for(var i=0;i<this.elements.events.length;i++){var n=this.elements.events[i];n.event.data===t.data&&e.list.push(n)}return e},this.fd=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.className=this.p(t),document.body.appendChild(e);var i=e.offsetHeight,n=e.offsetWidth;document.body.removeChild(e);var o={};return o.height=i,o.width=n,o},this.qc={};var s=this.qc;s.clearCache=function(){delete o.s.eventHeight,delete o.s.headerHeight},s.lineHeight=function(){return s.eventHeight()+o.lineSpace},s.rounded=function(){return"Rounded"===o.eventCorners},s.loadFromServer=function(){return!(!o.backendUrl||void 0!==o.events.list&&o.events.list)},s.locale=function(){return DayPilot.Locale.find(o.locale)},s.getWeekStart=function(){return o.showWeekend?o.weekStarts:1},s.weekStarts=function(){if(!o.showWeekend)return 1;if("Auto"===o.weekStarts){var t=s.locale();return t?t.weekStarts:0}return o.weekStarts},s.notifyType=function(){var t;if("Immediate"===o.notifyCommit)t="Notify";else{if("Queue"!==o.notifyCommit)throw"Invalid notifyCommit value: "+o.notifyCommit;t="Queue"}return t},s.eventHeight=function(){if(o.s.eventHeight)return o.s.eventHeight;var t=o.fd("_event_height").height;return t||(t=o.eventHeight),o.s.eventHeight=t,t},s.headerHeight=function(){if(o.s.headerHeight)return o.s.headerHeight;var t=o.fd("_header_height").height;return t||(t=o.headerHeight),o.s.headerHeight=t,t},s.timeFormat=function(){return"Auto"!==o.timeFormat?o.timeFormat:s.locale().timeFormat},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.ub=function(){var t=o.multiselect;return DayPilot.JSON.stringify(t.events())},this.multiselect.events=function(){var t=o.multiselect,e=[];e.ignoreToJSON=!0;for(var i=0;i<t.list.length;i++)e.push(t.list[i]);return e},this.multiselect.vb=function(){},this.multiselect.fb=function(t,e){var i=o.multiselect;if(i.isSelected(t.event))if(o.allowMultiSelect)if(e)i.remove(t.event,!0);else{var n=i.list.length;i.clear(!0),n>1&&i.add(t.event,!0)}else i.clear(!0);else o.allowMultiSelect&&e?i.add(t.event,!0):(i.clear(!0),i.add(t.event,!0));i.redraw(),i.vb()},this.multiselect.wb=function(t){var e=o.multiselect;return e.xb(t,e.initList)},this.multiselect.yb=function(){for(var t=o.multiselect,e=[],i=0;i<t.list.length;i++){var n=t.list[i];e.push(n.value())}alert(e.join("\n"))},this.multiselect.add=function(t,e){var i=o.multiselect;-1===i.indexOf(t)&&i.list.push(t),e||i.redraw()},this.multiselect.remove=function(t,e){var i=o.multiselect,n=i.indexOf(t);-1!==n&&i.list.splice(n,1)},this.multiselect.clear=function(t){var e=o.multiselect;e.list=[],t||e.redraw()},this.multiselect.redraw=function(){for(var t=o.multiselect,e=0;e<o.elements.events.length;e++){var i=o.elements.events[e];t.isSelected(i.event)?t.Ab(i):t.Bb(i)}},this.multiselect.Ab=function(t){var e=o.multiselect,i=o.p("_selected"),t=e.Cb(t);DayPilot.Util.addClass(t,i),e.divs.push(t)},this.multiselect.Cb=function(t){return t},this.multiselect.Eb=function(){for(var t=o.multiselect,e=0;e<t.divs.length;e++){var i=t.divs[e];t.Bb(i,!0)}t.divs=[]},this.multiselect.Bb=function(t,e){var i=o.multiselect,n=o.p("_selected"),a=i.Cb(t);if(a&&a.className&&-1!==a.className.indexOf(n)&&(a.className=a.className.replace(n,"")),!e){var r=DayPilot.indexOf(i.divs,t);-1!==r&&i.divs.splice(r,1)}},this.multiselect.isSelected=function(t){return o.multiselect.xb(t,o.multiselect.list)},this.multiselect.indexOf=function(t){return DayPilot.indexOf(o.multiselect.list,t)},this.multiselect.xb=function(t,e){if(!e)return!1;for(var i=0;i<e.length;i++){var n=e[i];if(t===n)return!0;if("function"==typeof n.value){if(null!==n.value()&&null!==t.value()&&n.value()===t.value())return!0;if(null===n.value()&&null===t.value()&&n.recurrentMasterId()===t.recurrentMasterId()&&t.start().toStringSortable()===n.start())return!0}else{if(null!==n.value&&null!==t.value()&&n.value===t.value())return!0;if(null===n.value&&null===t.value()&&n.recurrentMasterId===t.recurrentMasterId()&&t.start().toStringSortable()===n.start)return!0}}return!1},this.events.forRange=function(t,e){return t=new DayPilot.Date(t),e=new DayPilot.Date(e),DayPilot.list(o.events.list).filter(function(i){var n=new DayPilot.Date(i.start),o=new DayPilot.Date(i.end);return DayPilot.Util.overlaps(t,e,n,o)}).map(function(t){return new DayPilot.Event(t,o)})},this.events.find=function(t){if(!o.events.list||void 0===o.events.list.length)return null;for(var e=o.events.list.length,i=0;i<e;i++)if(o.events.list[i].id===t)return new DayPilot.Event(o.events.list[i],o);return null},this.events.findRecurrent=function(t,e){if(!o.events.list||void 0===o.events.list.length)return null;for(var i=o.events.list.length,n=0;n<i;n++)if(o.events.list[n].recurrentMasterId===t&&o.events.list[n].start.getTime()===e.getTime())return new DayPilot.Event(o.events.list[n],o);return null},this.events.update=function(t,e){var i={};i.oldEvent=new DayPilot.Event(t.copy(),o),i.newEvent=new DayPilot.Event(t.temp(),o);var n=new DayPilot.Action(o,"EventUpdate",i,e);return t.commit(),o.z&&o.update(),o.Jc.notify(),n},this.events.remove=function(t,e){var i={};i.e=new DayPilot.Event(t.data,o);var n=new DayPilot.Action(o,"EventRemove",i,e),a=DayPilot.indexOf(o.events.list,t.data);return o.events.list.splice(a,1),o.z&&o.update(),o.Jc.notify(),n},this.events.add=function(t,e){t.calendar=o,o.events.list||(o.events.list=[]),o.events.list.push(t.data);var i={};i.e=t;var n=new DayPilot.Action(o,"EventAdd",i,e);return o.z&&o.update(),o.Jc.notify(),n},this.events.filter=function(t){o.events.Xc=t,o.ad()},this.events.load=function(t,e,i){var n=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof i&&i(e)},a=function(t){var i,a=t.request;try{i=DayPilot.Util.parseJSON(a.responseText)}catch(t){var r={};return r.exception=t,void n(r)}if(DayPilot.isArray(i)){var s={};if(s.preventDefault=function(){this.preventDefault.value=!0},s.data=i,"function"==typeof e&&e(s),s.preventDefault.value)return;o.events.list=i,o.z&&o.update()}};DayPilot.ajax({method:"POST",data:{start:o.visibleStart().toString(),end:o.visibleEnd().toString()},url:t,success:a,error:n})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(t){if(t){if(!t.isAction)throw"DayPilot.Action object required for queue.add()";o.queue.list.push(t)}},this.queue.notify=function(t){var e={};e.actions=o.queue.list,o.F("Notify",e,t,"Notify"),o.queue.list=[]},this.queue.clear=function(){o.queue.list=[]},this.queue.pop=function(){return o.queue.list.pop()},this.Ze=function(t){return"DateTime"===o.eventEndSpec?t:t.getDatePart().ticks===t.ticks?t.addDays(-1):t.getDatePart()},this.ye=function(t){return"DateTime"===o.eventEndSpec?t:t.getDatePart().addDays(1)},this._e=function(t){return"DateTime"===o.eventEndSpec?t:t.getDatePart()},this.qa=function(t){if(t&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.A>=this.autoRefreshMaxCount)){this.$e();var e=this.autoRefreshInterval;if(!e||e<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){o.Oc()},1e3*this.autoRefreshInterval)}},this.$e=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.Oc=function(){if(!e.eventResizing&&!e.eventMoving&&!e.timeRangeSelecting){var t=!1;if("function"==typeof this.onAutoRefresh){var i={};i.i=this.A,i.preventDefault=function(){this.preventDefault.value=!0},o.onAutoRefresh(i),i.preventDefault.value&&(t=!0)}!t&&this.q()&&this.commandCallBack(this.autoRefreshCommand),this.A++}this.A<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){o.Oc()},1e3*this.autoRefreshInterval))},this.ad=function(t){if(this.cells){var t=t||{},e=!t.eventsOnly;o.cssOnly||(o.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),o.L(),o.se(),o.aa(),e&&(o.qc.clearCache(),o.te(),o.ve()),o.ia(),o.ma(),o.na(),this.visible?this.show():this.hide()}},this.update=function(){this.ad()},this.dispose=function(){var t=o;t.nav.top&&(t.$e(),t.L(),t.nav.top.removeAttribute("style"),t.nav.top.removeAttribute("class"),t.nav.top.innerHTML="",t.nav.top.dp=null,t.nav.top.onmousemove=null,t.nav.top.ontouchstart=null,t.nav.top.ontouchmove=null,t.nav.top.ontouchend=null,t.nav.top=null,DayPilot.ue(window,"resize",t.O),e.unregister(t))},this.Pc=function(){e.globalHandlers||(e.globalHandlers=!0,DayPilot.re(document,"mouseup",e.gMouseUp)),DayPilot.re(window,"resize",this.O),window.eval("var lh=location.hostname;if(!~lh.indexOf('daypilot.org')&&lh!=='localhost')setTimeout(function(){alert('You are using a trial version of DayPilot Pro.')},100000*(Math.random()*6+6));")},this.ma=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){o.visible=!0,o.nav.top.style.display=""},this.hide=function(){o.visible=!1,o.nav.top.style.display="none"},this.hd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+i+"'."}},this.jd=function(){this.hd(),this.se(),this.Wb(),this.ve(),this.ia(),this.Pc(),this.qa(),this.F("Init"),e.register(this)},this.init=function(){if(this.hd(),!this.nav.top.dp){var t=s.loadFromServer();if(o.cssOnly||(o.cssOnly=!0,window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),t)return this.jd(),void(this.z=!0);this.se(),this.aa(),this.Wb(),this.ve(),this.ma(),this.na(),this.ia(),this.Pc(),this.messageHTML&&this.message(this.messageHTML),this.X(null,!1),this.qa(),e.register(this),this.z=!0,this.kd()}},this.ld=null,this.md=function(t){var e={events:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?o.events.list=t.list:o.events.list=t)}}};this.ld=e;for(var i in t)if(e[i]){var n=e[i];n.data=t[i],n.preInit&&n.preInit()}else o[i]=t[i]},this.kd=function(){var t=this.ld;for(var e in t){var i=t[e];i.postInit&&i.postInit()}},this.internal={},this.internal.initialized=function(){return o.z},this.internal.invokeEvent=this.Pa,this.internal.eventMenuClick=this.Ya,this.internal.timeRangeMenuClick=this.Za,this.internal.bubbleCallBack=this.Wa,this.internal.findEventDiv=this._c,this.internal.adjustEndIn=this.ye,this.Init=this.init,this.md(n)},e.register=function(t){e.registered||(e.registered=[]);for(var i=0;i<e.registered.length;i++)if(e.registered[i]===t)return;e.registered.push(t)},e.unregister=function(t){var i=e.registered;if(i){var n=DayPilot.indexOf(i,t);-1!==n&&i.splice(n,1),0===i.length&&(i=null)}i||(DayPilot.ue(document,"mouseup",e.gMouseUp),e.globalHandlers=!1)},e.gMouseUp=function(t){if(e.movingEvent){var i=e.movingEvent;if(e.movingEvent=null,!(i.event&&i.event.calendar&&i.event.calendar.shadow&&i.event.calendar.shadow.start))return;var n=i.event.calendar,o=i.event,a=n.shadow.start,r=n.shadow.position,s=i.offset;n.Ge();var t=t||window.event;return n.Ta(o,a.x,a.y,s,t,r),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),!1}if(e.resizingEvent){var i=e.resizingEvent;if(e.resizingEvent=null,!(i.event&&i.event.calendar&&i.event.calendar.shadow&&i.event.calendar.shadow.start))return;var n=i.event.calendar,o=i.event,a=n.shadow.start,l=n.shadow.width;return n.Ge(),n.Ra(o,a,l),t.cancelBubble=!0,!1}if(e.timeRangeSelecting){if(e.timeRangeSelecting.moved){var c=e.timeRangeSelecting,n=c.root,a=new DayPilot.Date(n.He(c.from.x,c.from.y)),u=a.addDays(c.width);n.$a(a,u)}e.timeRangeSelecting=null}},"undefined"!=typeof jQuery&&function(t){t.fn.daypilotMonth=function(t){var e=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Month(this.id,t);i.init(),this.daypilot=i,e||(e=i)}});return 1===this.length?e:i}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotMonth",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,i){return e.replaceWith(this.template.replace("{{id}}",i.id)),function(e,i,n){var o=new DayPilot.Month(i[0]);o.Jc.scope=e,o.init();var a=n.id;a&&(e[a]=o);var r=n.publishAs;r&&(0,t(r).assign)(e,o);for(var s in n)if(0===s.indexOf("on")){var l=DayPilot.Util.shouldApply(s);l?function(i){o[i]=function(o){var a=t(n[i]);e.$apply(function(){a(e,{args:o})})}}(s):function(i){o[i]=function(o){t(n[i])(e,{args:o})}}(s)}var c=e.$watch,u=n.config||n.daypilotConfig,d=n.events||n.daypilotEvents;c.call(e,u,function(t,e){for(var i in t)o[i]=t[i];o.update()},!0),c.call(e,d,function(t){o.events.list=t,o.ad({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.Navigator&&(DayPilot.Navigator=function(t,e){this.v="2826";var i=this;this.id=t,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="day",this.titleHeight=20,this.dayHeaderHeight=20,this.bound=null,this.cellWidth=20,this.cellHeight=20,this.cssOnly=!0,this.cssClassPrefix="navigator_default",this.freeHandSelectionEnabled=!1,this.selectionStart=(new DayPilot.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new DayPilot.Date).getYear(),this.month=(new DayPilot.Date).getMonth()+1,this.showWeekNumbers=!1,this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.onVisibleRangeChange=null,this.onVisibleRangeChanged=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.nav={},this.s={},this.af=function(){this.root.dp=this,this.cssOnly?this.root.className=this.p("_main"):this.root.className=this.p("main"),"Horizontal"===this.orientation?(this.root.style.width=this.showMonths*(7*a.cellWidth()+this.bf())+"px",this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):this.root.style.width=7*a.cellWidth()+this.bf()+"px",this.root.style.position="relative",this.visible||(this.root.style.display="none");var t=document.createElement("input");t.type="hidden",t.name=i.id+"_state",t.id=t.name,this.root.appendChild(t),this.state=t,this.startDate?this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth():this.startDate=DayPilot.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.ra=function(){return 2===i.api},this.te=function(){this.root.innerHTML=""},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.cf=function(t,e){var i=this.cssOnly?this.p("_"+e):this.p(e);DayPilot.Util.addClass(t,i)},this.df=function(t,e){var i=this.cssOnly?this.p("_"+e):this.p(e);DayPilot.Util.removeClass(t,i)},this.ve=function(t,e){var n={};n.cells=[],n.days=[],n.weeks=[];var o=this.startDate.addMonths(t),r=e.before,s=e.after,l=o.firstDayOfMonth(),c=l.firstDayOfWeek(a.weekStarts()),u=l.addMonths(1),d=DayPilot.DateUtil.daysDiff(c,u),h="Auto"===this.rowsPerMonth?Math.ceil(d/7):6;n.rowCount=h;var f=(new DayPilot.Date).getDatePart(),p=7*a.cellWidth()+this.bf();n.width=p;var v=this.cellHeight*h+this.titleHeight+this.dayHeaderHeight;n.height=v;var g=document.createElement("div");if(g.style.width=p+"px",g.style.height=v+"px","Horizontal"===this.orientation)g.style.position="absolute",g.style.left=p*t+"px",g.style.top="0px",n.top=0,n.left=p*t;else{g.style.position="relative";var y=t>0?i.months[t-1].top+i.months[t-1].height:0;n.top=y,n.left=0}this.cssOnly?g.className=this.p("_month"):g.className=this.p("month"),g.style.cursor="default",g.style.MozUserSelect="none",g.style.KhtmlUserSelect="none",g.style.WebkitUserSelect="none",g.month=n,this.root.appendChild(g);var m=this.titleHeight+this.dayHeaderHeight,b=document.createElement("div");b.style.position="absolute",b.style.left="0px",b.style.top="0px",b.style.width=a.cellWidth()+"px",b.style.height=this.titleHeight+"px",b.style.lineHeight=this.titleHeight+"px",b.setAttribute("unselectable","on"),this.cssOnly?b.className=this.p("_titleleft"):b.className=this.p("titleleft"),e.left&&(b.style.cursor="pointer",b.innerHTML="<span>&lt;</span>",b.onclick=this.ef),g.appendChild(b),this.tl=b;var w=document.createElement("div");w.style.position="absolute",w.style.left=a.cellWidth()+"px",w.style.top="0px",w.style.width=5*a.cellWidth()+this.bf()+"px",w.style.height=this.titleHeight+"px",w.style.lineHeight=this.titleHeight+"px",w.setAttribute("unselectable","on"),this.cssOnly?w.className=this.p("_title"):w.className=this.p("title"),w.innerHTML=a.locale().monthNames[o.getMonth()]+" "+o.getYear(),g.appendChild(w),this.ti=w;var D=document.createElement("div");D.style.position="absolute",D.style.left=6*a.cellWidth()+this.bf()+"px",D.style.top="0px",D.style.width=a.cellWidth()+"px",D.style.height=this.titleHeight+"px",D.style.lineHeight=this.titleHeight+"px",D.setAttribute("unselectable","on"),this.cssOnly?D.className=this.p("_titleright"):D.className=this.p("titleright"),e.right&&(D.style.cursor="pointer",D.innerHTML="<span>&gt;</span>",D.onclick=this.gf),g.appendChild(D),this.tr=D;var C=this.bf();if(this.showWeekNumbers)for(var k=0;k<h;k++){var x=c.addDays(7*k),P=null;switch(this.weekNumberAlgorithm){case"Auto":P=1===a.weekStarts()?x.weekNumberISO():x.weekNumber();break;case"US":P=x.weekNumber();break;case"ISO8601":P=x.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var _=document.createElement("div");_.style.position="absolute",_.style.left="0px",_.style.top=k*this.cellHeight+m+"px",_.style.width=a.cellWidth()+"px",_.style.height=this.cellHeight+"px",_.style.lineHeight=this.cellHeight+"px",_.setAttribute("unselectable","on"),this.cssOnly?_.className=this.p("_weeknumber"):_.className=this.p("weeknumber"),_.innerHTML="<span>"+P+"</span>",g.appendChild(_),n.weeks.push(_)}for(var S=0;S<7;S++){n.cells[S]=[];var _=document.createElement("div");_.style.position="absolute",_.style.left=S*a.cellWidth()+C+"px",_.style.top=this.titleHeight+"px",_.style.width=a.cellWidth()+"px",_.style.height=this.dayHeaderHeight+"px",_.style.lineHeight=this.dayHeaderHeight+"px",_.setAttribute("unselectable","on"),this.cssOnly?_.className=this.p("_dayheader"):_.className=this.p("dayheader"),_.innerHTML="<span>"+this.hf(S)+"</span>",g.appendChild(_),n.days.push(_);for(var k=0;k<h;k++){var x=c.addDays(7*k+S),A=this.if(x)&&"none"!==this.jf(),E=x.firstDayOfMonth()===o,T=x<o,R=x>=o.addMonths(1);if("month"===this.jf())A=A&&E;else if("day"===this.jf())A=A&&(E||r&&T||s&&R);else if("week"===this.jf()){var M=x.firstDayOfMonth()===o;A=A&&(M||r&&T||s&&R)}var H=document.createElement("div");n.cells[S][k]=H;var B=i.kf(S,k),O=B.x,N=B.y;H.day=x,H.x=S,H.y=k,H.left=O,H.top=N,H.isCurrentMonth=E,H.isNextMonth=R,H.isPrevMonth=T,H.showBefore=r,H.showAfter=s,this.cssOnly?H.className=this.p(E?"_day":"_dayother"):H.className=this.p(E?"day":"dayother"),i.cf(H,"cell"),x.getTime()===f.getTime()&&E&&this.cf(H,"today"),0!==x.dayOfWeek()&&6!==x.dayOfWeek()||this.cf(H,"weekend"),H.style.position="absolute",H.style.left=O+"px",H.style.top=N+"px",H.style.width=a.cellWidth()+"px",H.style.height=this.cellHeight+"px",H.style.lineHeight=this.cellHeight+"px";var j=document.createElement("div");j.style.position="absolute",this.cssOnly?j.className=x.getTime()===f.getTime()&&E?this.p("_todaybox"):this.p("_daybox"):j.className=x.getTime()===f.getTime()&&E?this.p("todaybox"):this.p("daybox"),i.cf(j,"cell_box"),j.style.left="0px",j.style.top="0px",j.style.right="0px",j.style.bottom="0px",H.appendChild(j);var I=null;if(this.cells&&this.cells[x.toStringSortable()]&&(I=this.cells[x.toStringSortable()]),"function"==typeof i.onBeforeCellRender){var U={};U.cell=I||{},U.cell.day=x,U.cell.isCurrentMonth=E,U.cell.isToday=x.getTime()===f.getTime()&&E,U.cell.isWeekend=0===x.dayOfWeek()||6===x.dayOfWeek(),I?(U.cell.html=I.html||x.getDay(),U.cell.cssClass=I.css):(U.cell.html=x.getDay(),U.cell.cssClass=null),i.onBeforeCellRender(U),I=U.cell}if(I&&DayPilot.Util.addClass(H,I.cssClass||I.css),E||r&&T||s&&R){var L=document.createElement("div");L.innerHTML=x.getDay(),L.style.position="absolute",L.style.left="0px",L.style.top="0px",L.style.right="0px",L.style.bottom="0px",i.cf(L,"cell_text"),H.style.cursor="pointer",H.isClickable=!0,I&&I.html&&(L.innerHTML=I.html),H.appendChild(L)}H.setAttribute("unselectable","on"),H.onclick=this.lf,g.appendChild(H),A&&(i.mf(g,S,k),this.selected.push(H))}}var F=document.createElement("div");F.style.position="absolute",F.style.left="0px",F.style.top=m-2+"px",F.style.width=7*a.cellWidth()+this.bf()+"px",F.style.height="1px",F.style.fontSize="1px",F.style.lineHeight="1px",this.cssOnly?F.className=this.p("_line"):F.className=this.p("line"),g.appendChild(F),this.months.push(n)},this.kf=function(t,e){var i=this.titleHeight+this.dayHeaderHeight,n=this.bf();return{x:t*a.cellWidth()+n,y:e*this.cellHeight+i}},this.mf=function(t,e,n){var o=t.month.cells[e][n];i.cf(o,"select")},this.nf=function(t,e,n){var o=t.month.cells[e][n];i.df(o,"select")},this.bf=function(){return this.showWeekNumbers?a.cellWidth():0},this.of=function(){if(this.items)for(var t=0;t<this.showMonths;t++)for(var e=0;e<7;e++)for(var i=0;i<6;i++){var n=this.months[t].cells[e][i];n&&(1===this.items[n.day.toStringSortable()]?this.cf(n,"busy"):this.df(n,"busy"))}},this.pf=function(){var t={};t.startDate=i.startDate,t.selectionStart=i.selectionStart,t.selectionEnd=i.selectionEnd.addDays(1),i.state.value=DayPilot.JSON.stringify(t)},this.jf=function(){return(this.selectMode||"").toLowerCase()},this.qf=function(){var t=this.selectionDay||this.selectionStart;t||(t=DayPilot.Date.today());var t=new DayPilot.Date(t);switch(this.jf()){case"day":this.selectionDay=t,this.selectionEnd=t;break;case"week":this.selectionDay=t,this.selectionStart=t.firstDayOfWeek(a.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=t,this.selectionStart=t.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=t;break;default:throw"Unknown selectMode value."}},this.select=function(t,e){var i=!0,n=!0;"object"==typeof e?(e.dontFocus&&(i=!1),e.dontNotify&&(n=!1)):"boolean"==typeof e&&(i=!e);var o=this.selectionStart,a=this.selectionEnd;this.selectionStart=new DayPilot.Date(t).getDatePart(),this.selectionDay=this.selectionStart;var r=!1;if(i){var s=this.startDate;(this.selectionStart<this.rf()||this.selectionStart>=this.sf())&&(s=this.selectionStart.firstDayOfMonth()),s.toStringSortable()!==this.startDate.toStringSortable()&&(r=!0),this.startDate=s}this.qf(),this.te(),this.af(),this.tf(),this.of(),this.pf(),!n||o.equals(this.selectionStart)&&a.equals(this.selectionEnd)||this.$a(),r&&this.uf()},this.update=function(){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.te(),this.af(),this.qf(),this.tf(),this.aa(),this.of(),this.pf(),this.visible?this.show():this.hide()},this.F=function(t,e,i){var n={};n.action=t,n.parameters=i,n.data=e,n.header=this.E();var o="JSON"+DayPilot.JSON.stringify(n);this.backendUrl?DayPilot.request(this.backendUrl,this.H,o,this.I):WebForm_DoCallback(this.uniqueID,o,this.J,null,this.callbackError,!0)},this.I=function(t){if("function"==typeof i.onAjaxError){var e={};e.request=t,i.onAjaxError(e)}else"function"==typeof i.ajaxError&&i.ajaxError(t)},this.H=function(t){i.J(t.responseText)},this.D=function(t,e,n){var o={};o.action=t,o.parameters=n,o.data=e,o.header=this.E();var a="JSON"+DayPilot.JSON.stringify(o);__doPostBack(i.uniqueID,a)},this.E=function(){var t={};return t.v=this.v,t.startDate=this.startDate,t.selectionStart=this.selectionStart,t.showMonths=this.showMonths,t},this.vf=function(t,e){"refresh"===t&&this.uf()},this.hf=function(t){var e=t+a.weekStarts();return e>6&&(e-=7),a.locale().dayNamesShort[e]},this.if=function(t){return null!==this.selectionStart&&null!==this.selectionEnd&&this.selectionStart.getTime()<=t.getTime()&&t.getTime()<=this.selectionEnd.getTime()},this.wf=function(t){for(var e=0;e<i.months.length;e++){var n=i.months[e];if(!n)return null;if(t.x<n.left||n.width<t.x)return null;if(i.months[e].height,n.top<=t.y&&t.y<n.top+n.height)return e}return null},this.xf=function(t){var e=DayPilot.mo3(i.nav.top,t),n=i.wf(e);if(null===n)return null;var o=i.months[n],a=this.titleHeight+this.dayHeaderHeight;if(o.top<=e.y&&e.y<o.top+a)return{month:n,x:0,y:0,coords:e,header:!0};for(var r=0;r<o.cells.length;r++)for(var s=0;s<o.cells[r].length;s++){var l=o.cells[r][s],c=l.top+o.top,u=l.left+o.left;if(u<=e.x&&e.x<u+i.cellWidth&&c<=e.y&&e.y<c+i.cellHeight)return{month:n,x:r,y:s,coords:e}}return null},this.yf=function(t){if(i.freeHandSelectionEnabled){var e=i.xf(t);e&&!e.header&&(n.start=e),i.months[e.month].cells[e.x][e.y],t.preventDefault()}},this.zf=function(t){if(n.start){var e=i.xf(t);if(n.end)n.end=e;else if(e){var o=3,a=DayPilot.distance(n.start.coords,e.coords);a>o&&(n.end=e)}n.end&&(n.clear(),n.draw())}},this.Af={};var n=this.Af;n.start=null,n.drawCell=function(t){var e=i.months[t.month],o=i.kf(t.x,t.y),a=e.top+o.y,r=e.left+o.x,s=document.createElement("div");s.style.position="absolute",s.style.left=r+"px",s.style.top=a+"px",s.style.height=i.cellHeight+"px",s.style.width=i.cellWidth+"px",s.style.backgroundColor="#ccc",s.style.opacity=.5,s.style.cursor="default",i.nav.preselection.appendChild(s),n.cells.push(s)},n.clear=function(){if(n.cells){for(var t=0;t<n.cells.length;t++)i.nav.preselection.removeChild(n.cells[t]);n.cells=[]}},n.draw=function(){var t=n.ordered(),e=new o(t.start),a=t.end;if(a){if(a===n.end&&a.header&&a.month>0){a.month-=1;var r=i.months[a.month];a.x=6,a.y=r.rowCount-1}for(n.cells=[];!e.is(a);){n.drawCell(e);var s=new o(e).next();if(!s)return;e.month=s.month,e.x=s.x,e.y=s.y}n.drawCell(e)}},n.ordered=function(){var t=n.start,e=n.end,i={};return!e||new o(t).before(e)?(i.start=t,i.end=e):(i.start=e,i.end=t),i};var o=function(t,e,n){if(t instanceof o)return t;if("object"==typeof t){var a=t;this.month=a.month,this.x=a.x,this.y=a.y}else this.month=t,this.x=e,this.y=n;this.is=function(t){return this.month===t.month&&this.x===t.x&&this.y===t.y},this.next=function(){var t=this;if(t.x<6)return{month:t.month,x:t.x+1,y:t.y};var e=i.months[t.month];return t.y<e.rowCount-1?{month:t.month,x:0,y:t.y+1}:t.month<i.months.length-1?{month:t.month+1,x:0,y:0}:null},this.visible=function(){var t=this.cell();return!!t.isCurrentMonth||!(!t.isPrevMonth||!t.showBefore)||!(!t.isNextMonth||!t.showAfter)},this.nextVisible=function(){for(var t=this;!t.visible();){var e=t.next();if(!e)return null;t=new o(e)}return t},this.previous=function(){var t=this;if(t.x>0)return{month:t.month,x:t.x-1,y:t.y};if(i.months[t.month],t.y>0)return{month:t.month,x:6,y:t.y-1};if(t.month>0){var e=i.months[t.month-1];return{month:t.month-1,x:6,y:e.rowCount-1}}return null},this.previousVisible=function(){for(var t=this;!t.visible();){var e=t.previous();if(!e)return null;t=new o(e)}return t},this.cell=function(){return i.months[this.month].cells[this.x][this.y]},this.date=function(){return this.cell().day},this.before=function(t){return this.date()<new o(t).date()}};this.lf=function(t){var e=this.parentNode,n=this.parentNode.month,o=this.x,a=this.y,r=n.cells[o][a].day;if(n.cells[o][a].isClickable){i.clearSelection(),i.selectionDay=r;var r=i.selectionDay;switch(i.jf()){case"none":i.selectionStart=r,i.selectionEnd=r;break;case"day":if(i.autoFocusOnClick){var s=r;if(r<i.rf()||r>=i.sf())return void i.select(r)}var l=n.cells[o][a];i.mf(e,o,a),i.selected.push(l),i.selectionStart=l.day,i.selectionEnd=l.day;break;case"week":if(i.autoFocusOnClick){var s=n.cells[0][a].day,c=n.cells[6][a].day;if(s.firstDayOfMonth()===c.firstDayOfMonth()&&(s<i.rf()||c>=i.sf()))return void i.select(r)}for(var u=0;u<7;u++)i.mf(e,u,a),i.selected.push(n.cells[u][a]);i.selectionStart=n.cells[0][a].day,i.selectionEnd=n.cells[6][a].day;break;case"month":if(i.autoFocusOnClick){var s=r;if(r<i.rf()||r>=i.sf())return void i.select(r)}for(var s=null,c=null,a=0;a<6;a++)for(var o=0;o<7;o++){var l=n.cells[o][a];l&&l.day.getYear()===r.getYear()&&l.day.getMonth()===r.getMonth()&&(i.mf(e,o,a),i.selected.push(l),null===s&&(s=l.day),c=l.day)}i.selectionStart=s,i.selectionEnd=c;break;default:throw"unknown selectMode"}i.pf(),i.$a()}},this.$a=function(t){var e=i.selectionStart,n=i.selectionEnd.addDays(1),o=DayPilot.DateUtil.daysDiff(e,n),a=i.selectionDay;if(t=t||{},i.ra()){var r={};if(r.start=e,r.end=n,r.day=a,r.days=o,r.mode=t.mode||i.selectMode,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onTimeRangeSelect&&(i.onTimeRangeSelect(r),r.preventDefault.value))return;switch(i.timeRangeSelectedHandling){case"Bind":var s=DayPilot.Util.evalVariable(i.bound);if(s){var l={};l.start=e,l.end=n,l.days=o,l.day=a,s.commandCallBack(i.command,l)}break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(e,n,a)}"function"==typeof i.onTimeRangeSelected&&i.onTimeRangeSelected(r)}else switch(i.timeRangeSelectedHandling){case"Bind":var s=DayPilot.Util.evalVariable(i.bound);if(s){var l={};l.start=e,l.end=n,l.days=o,l.day=a,s.commandCallBack(i.command,l)}break;case"JavaScript":i.onTimeRangeSelected(e,n,a);break;case"None":break;case"PostBack":i.timeRangeSelectedPostBack(e,n,a)}},this.timeRangeSelectedPostBack=function(t,e,i,n){var o={};o.start=t,o.end=e,o.day=n,this.D("TimeRangeSelected",i,o)},this.gf=function(t){i.Bf(i.skipMonths)},this.ef=function(t){i.Bf(-i.skipMonths)},this.Bf=function(t){this.startDate=this.startDate.addMonths(t),this.te(),this.af(),this.tf(),this.pf(),this.uf(),this.of()},this.rf=function(){return i.startDate.firstDayOfMonth()},this.sf=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return i.startDate.firstDayOfMonth().firstDayOfWeek(a.weekStarts())},this.visibleEnd=function(){return i.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(a.weekStarts()).addDays(42)},this.uf=function(){var t=this.visibleStart(),e=this.visibleEnd();if(i.ra()){var n={};if(n.start=t,n.end=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof i.onVisibleRangeChange&&(i.onVisibleRangeChange(n),n.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null)}"function"==typeof i.onVisibleRangeChanged&&i.onVisibleRangeChanged(n)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(t,e)}},this.visibleRangeChangedCallBack=function(t){var e={};this.F("Visible",t,e)},this.visibleRangeChangedPostBack=function(t){var e={};this.D("Visible",t,e)},this.J=function(t,e){var t=DayPilot.Util.parseJSON(t);i.items=t.Items,i.cells=t.Cells,i.cells?i.update():i.of()},this.tf=function(){for(var t=0;t<this.showMonths;t++){var e=this.Cf(t);this.ve(t,e)}this.root.style.height=this.Qe()+"px",this.nav.preselection=document.createElement("div"),this.nav.preselection.style.position="absolute",this.nav.preselection.style.left="0px",this.nav.preselection.style.top="0px",this.root.appendChild(this.nav.preselection)},this.Qe=function(){if("Horizontal"===this.orientation){for(var t=0,e=0;e<this.months.length;e++){var i=this.months[e];i.height>t&&(t=i.height)}return t}for(var n=0,e=0;e<this.months.length;e++){var i=this.months[e];n+=i.height}return n},this.Cf=function(t){if(this.internal.showLinks)return this.internal.showLinks;var e={};return e.left=0===t,e.right=0===t,e.before=0===t,e.after=t===this.showMonths-1,"Horizontal"===this.orientation&&(e.right=t===this.showMonths-1),e},this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){i.Jc.scope&&i.Jc.scope.$apply()},this.internal={},this.internal.initialized=function(){return i.z},this.qc={};var a=this.qc;a.locale=function(){return DayPilot.Locale.find(i.locale)},a.weekStarts=function(){if("Auto"===i.weekStarts){var t=a.locale();return t?t.weekStarts:0}return i.weekStarts},a.cellWidth=function(){if(i.s.cellWidth)return i.s.cellWidth;var t=i.fd("_cell_dimensions").width;return t||(t=i.cellWidth),i.s.cellWidth=t,t},this.clearSelection=function(){for(var t=0;t<this.selected.length;t++){var e=this.selected[t];i.nf(e.parentNode,e.x,e.y)}this.selected=[]},this.gd=function(){return!(!this.backendUrl||void 0!==i.items&&i.items)},this.events={},this.aa=function(){if(DayPilot.isArray(this.events.list)){this.items={};for(var t=0;t<this.events.list.length;t++){var e=this.events.list[t],i=this.Df(e);for(var n in i)this.items[n]=1}}},this.fd=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.className=this.p(t);var n=i.root||document.body;n.appendChild(e);var o=e.offsetHeight,a=e.offsetWidth;n.removeChild(e);var r={};return r.height=o,r.width=a,r},this.Df=function(t){for(var e=new DayPilot.Date(t.start),i=new DayPilot.Date(t.end),n={},o=e.getDatePart();o.getTime()<i.getTime();)n[o.toStringSortable()]=1,o=o.addDays(1);return n},this.show=function(){i.visible=!0,i.root.style.display=""},this.hide=function(){i.visible=!1,i.root.style.display="none"},this.hd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+t+"'."}this.root=this.nav.top},this.init=function(){this.hd(),this.root.dp||(i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.qf(),this.af(),this.tf(),this.aa(),this.of(),this.P(),this.Ef(),this.Pc(),this.gd()&&this.uf(),this.z=!0)},this.Ef=function(){i.nav.top.onmousedown=this.yf,i.nav.top.onmousemove=this.zf},this.Pc=function(){DayPilot.re(document,"mouseup",i.Ld)},this.Ld=function(t){if(n.start&&n.end){var e=DayPilot.mo3(i.nav.top,t);if(e.x===n.start.coords.x&&e.y===n.start.coords.y)return n.start=null,void n.clear();n.clear();var a=n.ordered();a.start=new o(a.start).nextVisible(),a.end=new o(a.end).previousVisible(),i.selectionDay=new o(a.start).date(),i.selectionStart=i.selectionDay,i.selectionEnd=new o(a.end).date(),n.start=null,n.end=null,i.te(),i.af(),i.tf(),i.of(),i.pf(),i.$a({mode:"freehand"})}n.start=null,n.end=null},this.dispose=function(){var t=i;t.root&&(t.root.removeAttribute("style"),t.root.removeAttribute("class"),t.root.dp=null,t.root.innerHTML=null,t.root=null)},this.P=function(){this.root.dispose=this.dispose},this.Init=this.init},"undefined"!=typeof jQuery&&function(t){t.fn.daypilotNavigator=function(t){var e=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Navigator(this.id);this.daypilot=i;for(var n in t)i[n]=t[n];i.Init(),e||(e=i)}});return 1===this.length?e:i}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotNavigator",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,i){return e.replaceWith(this.template.replace("{{id}}",i.id)),function(e,i,n){var o=new DayPilot.Navigator(i[0]);o.Jc.scope=e,o.init();var a=n.id;a&&(e[a]=o);var r=n.publishAs;r&&(0,t(r).assign)(e,o);for(var s in n)if(0===s.indexOf("on")){var l=DayPilot.Util.shouldApply(s);l?function(i){o[i]=function(o){var a=t(n[i]);e.$apply(function(){a(e,{args:o})})}}(s):function(i){o[i]=function(o){t(n[i])(e,{args:o})}}(s)}var c=e.$watch,u=n.config||n.daypilotConfig,d=n.events||n.daypilotEvents;c.call(e,u,function(t,e){for(var i in t)o[i]=t[i];o.update()},!0),c.call(e,d,function(t){o.events.list=t,o.aa(),o.of()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded())}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){function t(t){for(var e=t.touches[0].clientX,i=t.touches[0].clientY,n=document.elementFromPoint(e,i);n&&n.parentNode;)if(n=n.parentNode,n.daypilotMainD)return n.calendar;return!1}function e(t){var e=t.touches[0].pageX,i=t.touches[0].pageY,n={};return n.x=e,n.y=i,n}if(void 0===DayPilot.Scheduler){var i=function(){var t=navigator.userAgent;return t.indexOf("Mozilla/5.0")>-1&&t.indexOf("Android ")>-1&&t.indexOf("AppleWebKit")>-1&&!(t.indexOf("Chrome")>-1)}(),n={},o=function(){};DayPilot.Scheduler=function(t,l){function c(t,e){return 1-t/e}this.v="2826";var u=this;this.id=t,this.isScheduler=!0,this.hideUntilInit=!0,this.api=2,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiMove=!1,this.allowMultiRange=!1,this.allowMultiResize=!1,this.allowMultiSelect=!0,this.multiSelectRectangle="Disabled",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.blockOnCallBack=!1,this.navigatorBackSync=null,this.beforeCellRenderCaching=!0,"function"==typeof DayPilot.Bubble?(this.bubble=new DayPilot.Bubble,this.cellBubble=new DayPilot.Bubble,this.resourceBubble=new DayPilot.Bubble):(this.bubble=null,this.cellBubble=null,this.resourceBubble=null),this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellStacking=!1,this.cellStackingAutoHeight=!1,this.cellWidth=40,this.cellWidthMin=1,this.cellWidthSpec="Fixed",this.cellsMarkBusiness=!0,this.eventMarginLeft=0,this.eventMarginRight=0,this.eventMarginBottom=0,this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,this.Ff=!0,this.Gf=!1,this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.xd=!1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.durationBarHeight=3,this.durationBarVisible=!0,this.durationBarMode="Duration",this.durationBarDetached=!1,this.days=1,this.drawBlankCells=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.eventBorderColor="#000000",this.eventBackColor="#FFFFFF",this.eventEditMinWidth=100,this.eventEndSpec="DateTime",this.eventFontFamily="Tahoma, Arial",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventHeight=25,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventMoveSkipNonBusiness=!1,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventUpdateInplaceOptimization=!1,this.Hf=!1,this.headerFontColor="#000000",this.headerFontFamily="Tahoma, Arial",this.headerFontSize="8pt",this.headerHeight=20,this.heightSpec="Auto",this.height=300,this.hideBorderFor100PctHeight=!1,this.hourFontFamily="Tahoma, Arial",this.hourFontSize="10pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.If=10,this.Jf=30,this.initEventEnabled=!0,this.jointEventsResize=!0,this.jointEventsMove=!0,this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=10,this.linkPointSize=10,this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.overrideWheelScrolling=!1,this.messageBarPosition="Top",this.messageHideAfter=5e3,this.messageHideOnMouseOut=!0,this.multiMoveVerticalMode="Disabled",this.moveBy="Full",this.notifyCommit="Immediate",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.treePreventParentUsage=!1,this.treeAutoExpand=!0,this.rowCreateHeight=null,this.rowCreateHtml="New row...",this.rowHeaderColumnDefaultWidth=80,this.rowHeaderHideIconEnabled=!1,this.rowHeaderWidth=80,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderWidthMarginRight=0,this.rowHeaderCols=null,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.scale="CellDuration",this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=0,this.scrollDelayFloats=0,this.scrollStep=null,this.scrollX=0,this.scrollY=0,this.selectedRows=[],this.showBaseTimeHeader=!0,this.showNonBusiness=!0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=DayPilot.Date.today(),this.syncResourceTree=!1,this.timeHeaderTextWrappingEnabled=!1,this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Resources",this.visible=!0,this.watchWidthChanges=!0,this.weekStarts="Auto",this.width=null,this.floatingEvents=!0,this.floatingTimeHeaders=!0,this.eventCorners="Regular",this.separators=[],this.cornerHtml="",this.Kf=!0,this.Lf=-1,this.Mf=-1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.resourceCollapseHandling="Enabled",this.resourceExpandHandling="Enabled",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowHeaderColumnResizedHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.timeRangeClickHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy",this.cssOnly=!0,this.cssClassPrefix="scheduler_default",this.eventVersionsEnabled=!1,this.eventVersionHeight=25,this.eventVersionMargin=2,this.eventVersionPosition="Above",this.backendUrl=null,1===u.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onEventClick=null,this.onEventClicked=null,this.onEventMove=null,this.onEventMoved=null;this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onEventMouseOver=null,this.onEventMouseOut=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeDoubleClick=null,this.onTimeRangeDoubleClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onRowHeaderResized=null,this.onCellMouseOver=null,this.onCellMouseOut=null,this.onGridMouseDown=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeResHeaderRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeCellExport=null,this.onBeforeEventExport=null,this.onBeforeTimeHeaderExport=null,this.onBeforeRowHeaderExport=null,this.onEventFilter=null,this.onRowFilter=null,this.onRectangleEventSelecting=null,this.onRectangleEventSelect=null,this.onRectangleEventSelected=null,this.onDimensionsChanged=null,this.onAfterUpdate=null,this.A=0,this.Nf=-1,this.rowlist=DayPilot.list(),this.itline=DayPilot.list(),this.timeline=null,this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.elements.rectangle=[],this.elements.hover=[],this.s={},this.s.cells=[],this.s.linesVertical={},this.s.linesHorizontal={},this.s.timeHeaderGroups=[],this.s.timeHeader={},this.s.pixels=[],this.s.breaks=[],this.s.events=[],this.clientState={},this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"],this.members.ignoreFilter=function(t){return 0===t.indexOf("div")},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader","timeouts"],this.members.noCssOnly=["eventCorners","eventFontColor","eventFontFamily","eventFontSize","headerFontColor","headerFontFamily","headerFontSize","hourFontFamily","hourFontSize","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","shadow","timeBreakColor"],this.nav={},this.J=function(t,e){var t=DayPilot.Util.parseJSON(t);if(u.onScrollCalled=!1,t.CallBackRedirect)return void(document.location.href=t.CallBackRedirect);if("function"==typeof u.onCallBackResult){var i={};if(i.result=t,i.preventDefault=function(){i.preventDefault.value=!0},u.onCallBackResult(i),i.preventDefault.value)return u.Ua(),u.W(),u.qa(),t.Message&&u.message&&u.message(t.Message),u.X(t.CallBackData,!0),u.Of(),void u.Pf()}if(t.BubbleGuid){var n=t.BubbleGuid,o=this.bubbles[n];return delete this.bubbles[n],u.W(),void 0!==t.Result.BubbleHTML&&o&&o.updateView(t.Result.BubbleHTML,o),void u.Of()}if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),void 0!==t.ClientState&&(null===t.ClientState?u.clientState={}:u.clientState=t.ClientState),"None"===t.UpdateType)return u.W(),u.Of(),t.Message&&u.message(t.Message),void u.X(t.CallBackData,!0);if(t.VsUpdate){var a=document.createElement("input");a.type="hidden",a.name=u.id+"_vsupdate",a.id=a.name,a.value=t.VsUpdate,u.qe.innerHTML="",u.qe.appendChild(a)}void 0!==t.TagFields&&(u.tagFields=t.TagFields),void 0!==t.SortDirections&&(u.sortDirections=t.SortDirections),u.s.drawArea=null,"Full"===t.UpdateType&&(u.resources=t.Resources,u.colors=t.Colors,u.palette=t.Palette,u.dirtyColors=t.DirtyColors,u.cellProperties=t.CellProperties,u.cellConfig=t.CellConfig,u.separators=t.Separators,u.timeline=t.Timeline,u.timeHeader=t.TimeHeader,u.timeHeaders=t.TimeHeaders,void 0!==t.Links&&(u.links.list=t.Links),void 0!==t.RowHeaderColumns&&(u.rowHeaderColumns=t.RowHeaderColumns),u.startDate=t.StartDate?new DayPilot.Date(t.StartDate):u.startDate,u.days=t.Days?t.Days:u.days,u.cellDuration=t.CellDuration?t.CellDuration:u.cellDuration,u.cellGroupBy=t.CellGroupBy?t.CellGroupBy:u.cellGroupBy,u.cellWidth=t.CellWidth?t.CellWidth:u.cellWidth,void 0!==t.Scale&&(u.scale=t.Scale),u.viewType=t.ViewType?t.ViewType:u.viewType,u.hourNameBackColor=t.HourNameBackColor?t.HourNameBackColor:u.hourNameBackColor,void 0!==t.ShowNonBusiness&&(u.showNonBusiness=t.ShowNonBusiness),u.businessBeginsHour=t.BusinessBeginsHour?t.BusinessBeginsHour:u.businessBeginsHour,u.businessEndsHour=t.BusinessEndsHour?t.BusinessEndsHour:u.businessEndsHour,void 0!==t.DynamicLoading&&(u.dynamicLoading=t.DynamicLoading),void 0!==t.TreeEnabled&&(u.treeEnabled=t.TreeEnabled),u.backColor=t.BackColor?t.BackColor:u.backColor,u.nonBusinessBackColor=t.NonBusinessBackColor?t.NonBusinessBackColor:u.nonBusinessBackColor,u.locale=t.Locale?t.Locale:u.locale,void 0!==t.TimeZone&&(u.timeZone=t.TimeZone),u.timeFormat=t.TimeFormat?t.TimeFormat:u.timeFormat,u.rowHeaderCols=t.RowHeaderCols?t.RowHeaderCols:u.rowHeaderCols,void 0!==t.DurationBarMode&&(u.durationBarMode=t.DurationBarMode),u.cornerBackColor=t.CornerBackColor?t.CornerBackColor:u.cornerBackColor,void 0!==t.CornerHTML&&(u.cornerHtml=t.CornerHTML),u.hashes=t.Hashes,u.Qf(),u.Rf(),u.Sf(),u._()),"Scroll"!==t.Action&&u.aa(t.Events),"Full"===t.UpdateType&&(u.Tf(),u.Uf()),u.Vf(),u.ma(),u.Wf(),u.s.drawArea=null,"Scroll"!==t.Action?(u.Xf(),u.ba(),"Auto"!==u.heightSpec&&"Max"!==u.heightSpec||u.ia(),u.Yf(),u.L(),u.Zf(),u.multiselect.clear(!0),u.multiselect.$f(t.SelectedEvents),u._f(),u.ag(),u.na()):(u.multiselect.clear(!0),u.multiselect.$f(t.SelectedEvents),u.bg(t.Events)),"HoldForever"!==u.timeRangeSelectedHandling&&u.cg(),"Full"===t.UpdateType&&(u.setScroll(t.ScrollX,t.ScrollY),u.pf()),u.dg(),u.Ua(),t.SelectedRows&&u.eg(t.SelectedRows),u.W(),"Full"===t.UpdateType&&-1!==navigator.appVersion.indexOf("MSIE 7.")&&window.setTimeout(function(){u.Tf(),u.ia()},0),u.qa(),t.Message&&u.message&&u.message(t.Message),u.X(t.CallBackData,!0),u.Of(),u.Pf(),"Full"!==t.UpdateType||"Scroll"===t.Action||u.onScrollCalled||setTimeout(function(){u.fg()},0)},this.Ua=function(){if(u.todo&&u.todo.del){var t=u.todo.del;t.parentNode.removeChild(t),u.todo.del=null}},this.X=function(t,e){var i=function(t,e){return function(){if(u.ra()){if("function"==typeof u.onAfterRender){var i={};i.isCallBack=e,i.isScroll=!1,i.data=t,u.onAfterRender(i)}}else u.afterRender&&u.afterRender(t,e)}};window.setTimeout(i(t,e),0)},this.scrollTo=function(t,e,i){u.gg.enabled?(u.gg.scrollToRequested=t,setTimeout(function(){var t=u.gg.scrollToRequested;t&&u.hg(t,e,i)},0)):u.hg(t,e,i)},this.hg=function(t,e,i){if(t){if("Days"===u.viewType){var n=u.ig(new DayPilot.Date(t));if(!n)return;return void setTimeout(function(){var t=n.top;u.nav.scroll.scrollTop=t},100)}var o;if(t instanceof DayPilot.Date)o=this.getPixels(t).left;else if("string"==typeof t)o=this.getPixels(new DayPilot.Date(t)).left;else{if("number"!=typeof t)throw"Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";o=t}var a=this.jg.clientWidth,r=this.nav.scroll.clientWidth;switch(i=i||"left",i.toLowerCase()){case"left":break;case"middle":o-=r/2;break;case"right":o-=r}if(o<0&&(o=0),o>a-r&&(o=a-r),!e)return void u.kg(o);var s=Math.abs(u.nav.scroll.scrollLeft-o),l=s/a,c=50;if("number"==typeof e)c=e;else if("string"==typeof e)switch(e){case"fast":c=30;break;case"normal":c=50;break;case"slow":c=100;break;case"linear":c=Math.floor(100*l)}l>.6&&(c=Math.min(c,80)),this.lg(o,c)}},this.lg=function(t,e){function i(t){var e=t.next();return void 0===e?void(t.finished&&t.finished()):(u.setScrollX(e),window.clearTimeout(u.refreshTimeout),void setTimeout(function(){i(t)},t.delay))}var n={};n.steps=[],n.index=0,n.delay=10,n.next=function(){var t=n.steps[n.index];return n.index+=1,t},n.finished=function(){u.fg()};for(var o=u.getScrollX(),e=e||100,a=t-o,r=0;r<e;r++){var s=r/e,l=2*(s-.5)/(Math.pow(2*(s-.5),2)+1)+.5;n.steps.push(o+a*l)}n.steps.push(t),i(n)},this.scrollToResource=function(t){DayPilot.complete(function(){var e=u.mg(t);e&&setTimeout(function(){var t=e.top;u.nav.scroll.scrollTop=t},100)})},this.ng=function(){if(this.floatingTimeHeaders&&this.timeHeader){var t=this.og();if(t){this.pg();for(var e=t.pixels.left+h.shiftX,i=t.pixels.right+h.shiftX,n=[],o=0;o<this.timeHeader.length;o++)for(var a=0;a<this.timeHeader[o].length;a++){var r=this.timeHeader[o][a],s=r.left,l=r.left+r.width,c=null;if(s<e&&e<l&&(c={},c.x=a,c.y=o,c.marginLeft=e-s,c.marginRight=0,c.div=this.s.timeHeader[a+"_"+o],n.push(c)),s<i&&i<l){c||(c={},c.x=a,c.y=o,c.marginLeft=0,c.div=this.s.timeHeader[a+"_"+o],n.push(c)),c.marginRight=l-i;break}}for(var u=0;u<n.length;u++){var c=n[u];this.qg(c.div,c.marginLeft,c.marginRight)}}}},this.dg=function(){this.ng(),this.rg()},this.sg={};var d=this.sg;d.eventsInRectangle=function(t,e,i,n){var o=t,a=t+i,r=e,s=e+n;return DayPilot.list(u.elements.events).filter(function(t){var e=t.event,i=e.part.left,n=e.part.left+e.part.width,l=u.rowlist[e.part.dayIndex],c=l.top+e.part.top,d=c+e.part.height;if(DayPilot.Util.overlaps(i,n,o,a)&&DayPilot.Util.overlaps(c,d,r,s))return!0})},d.events=function(t){var e=[],t=t||"All",i=u.og();if(!i)return DayPilot.list(e);for(var n=i.pixels.left,o=i.pixels.right,a=0;a<u.elements.events.length;a++){var r=u.elements.events[a],s=r.event,l=s.part.left,c=s.part.left+s.part.width;switch(t){case"Left":l<n&&n<c&&e.push(r);break;case"All":DayPilot.Util.overlaps(l,c,n,o)&&e.push(r)}}return DayPilot.list(e).addProps({area:i})},this.rg=function(){if(this.floatingEvents){var t=d.events("Left");this.tg(),t.each(function(e){var i=t.area.pixels.left,n=e.event,o=n.part.left,a=i-o;u.ug(e,a,0)})}},this.elements.sections=[],this.elements.hsections=[],this.qg=function(t,e,i){var n=document.createElement("div");n.setAttribute("unselectable","on"),n.className=this.p("_timeheader_float"),n.style.position="absolute",n.style.left=e+"px",n.style.right=i+"px",n.style.top="0px",n.style.bottom="0px",n.style.overflow="hidden";var o=document.createElement("div");o.className=this.p("_timeheader_float_inner"),o.setAttribute("unselectable","on"),t.cell.th.innerHTML&&(o.innerHTML=t.cell.th.innerHTML),n.appendChild(o),t.section=n,t.insertBefore(n,t.firstChild.nextSibling),t.firstChild.innerHTML="",this.elements.hsections.push(t)},this.pg=function(){for(var t=0;t<this.elements.hsections.length;t++){var e=this.elements.hsections[t],i=e.cell;i&&e.firstChild&&(e.firstChild.innerHTML=i.th.innerHTML),DayPilot.de(e.section),e.section=null}this.elements.hsections=[]},this.ug=function(t,e,i){var n=document.createElement("div");n.setAttribute("unselectable","on"),n.className=this.p(E.eventFloat),n.style.position="absolute",n.style.left=e+"px",n.style.right=i+"px",n.style.top="0px",n.style.bottom="0px",n.style.overflow="hidden";var o=document.createElement("div");o.className=this.p(E.eventFloatInner),o.setAttribute("unselectable","on"),o.innerHTML=t.event.client.html(),t.event.data.fontColor&&(o.style.color=t.event.data.fontColor),n.appendChild(o),t.section=n,t.insertBefore(n,t.firstChild.nextSibling),t.firstChild.innerHTML="";var a={offsetX:u.vg(o),eventDiv:t};DayPilot.Areas.attach(n,t.event,a),DayPilot.Areas.disable(t),this.elements.sections.push(t)},this.wg=null,this.vg=function(t){return null===u.wg&&(u.wg=parseInt(new DayPilot.StyleReader(t).get("padding-left"))),u.wg},this.tg=function(){for(var t=0;t<this.elements.sections.length;t++){var e=this.elements.sections[t],i=e.event;i&&(e.firstChild.innerHTML=i.client.html()),DayPilot.de(e.section),DayPilot.Areas.enable(e),e.section=null}this.elements.sections=[]},this.setScrollX=function(t){u.gg.enabled?(u.gg.scrollXRequested=t,setTimeout(function(){var t=u.gg.scrollXRequested;"number"==typeof t&&u.kg(t)},0)):u.kg(t)},this.kg=function(t){var e=u.nav.scroll,i=u.xg();e.clientWidth+t>i&&(t=i-e.clientWidth),u.divTimeScroll.scrollLeft=t,e.scrollLeft=t},this.setScrollY=function(t){u.gg.enabled?(u.gg.scrollYRequested=t,setTimeout(function(){var t=u.gg.scrollYRequested;"number"==typeof t&&u.yg(t)},0)):u.yg(t)},this.yg=function(t){var e=u.nav.scroll,i=u.Nf;e.clientHeight+t>i&&(t=i-e.clientHeight),u.divResScroll.scrollTop=t,e.scrollTop=t},this.setScroll=function(t,e){u.setScrollX(t),u.setScrollY(e)},this.message=function(t,e){if(null!==t){var i={};"object"==typeof arguments[1]&&(i=arguments[1],e=i.delay);var n,e=e||this.messageHideAfter||2e3,o=this.zg()+1,a=this.Ag()+M.splitterWidth(),r=DayPilot.sw(u.nav.scroll)+1,s=DayPilot.sh(u.nav.scroll)+1;if(this.nav.message)n=u.nav.message;else{n=document.createElement("div"),n.style.position="absolute",n.style.left=a+"px",n.style.right=r+"px",n.style.display="none",DayPilot.re(n,DayPilot.touch.start,function(t){u.nav.message.style.display="none",t.preventDefault(),t.stopPropagation()}),n.onmousemove=function(){u.messageHideOnMouseOut&&n.messageTimeout&&!n.status&&clearTimeout(n.messageTimeout)},n.onmouseout=function(){u.messageHideOnMouseOut&&"none"!==u.nav.message.style.display&&(n.messageTimeout=setTimeout(u.Da,500))};var l=document.createElement("div");l.onclick=function(){u.nav.message.style.display="none"},l.className=this.p("_message"),n.appendChild(l);var c=document.createElement("div");c.style.position="absolute",c.className=this.p("_message_close"),c.onclick=function(){u.nav.message.style.display="none"},n.appendChild(c),this.nav.top.appendChild(n),this.nav.message=n}var d=function(){var n=u.nav.message;n.firstChild.className=u.p("_message"),i.cssClass&&DayPilot.Util.addClass(n.firstChild,i.cssClass),u.nav.message.firstChild.innerHTML=t;var a=DayPilot.sw(u.nav.scroll)+1;u.nav.message.style.right=a+"px";var r=u.messageBarPosition||"Top";"Bottom"===r?(u.nav.message.style.bottom=s+"px",u.nav.message.style.top=""):"Top"===r&&(u.nav.message.style.bottom="",u.nav.message.style.top=o+"px");var l=function(){n.messageTimeout=setTimeout(u.Da,e)};DayPilot.fade(u.nav.message,.2,l)};clearTimeout(n.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(u.nav.message,-.2,d):d()}},this.Da=function(){if(u.nav.message){var t=function(){u.nav.message.style.display="none"};DayPilot.fade(u.nav.message,-.2,t)}},this.message.show=function(t){u.message(t)},this.message.hide=function(){u.Da()},this.Bg=null,this.ia=function(){if(this.nav.scroll){!function(){var t=u.xg();u.jg.style.height=u.Nf+"px",u.jg.style.width=t+"px","Auto"!==u.cellWidthSpec||u.Cg?t>u.nav.scroll.clientWidth?u.nav.scroll.style.overflowX="auto":u.nav.scroll.style.overflowX="hidden":(u.nav.scroll.style.overflowX="hidden",u.nav.scroll.scrollLeft=0)}();var t=1;null!==this.Bg&&(this.nav.top.style.border=this.Bg,this.Bg=null),"Parent100Pct"!==this.heightSpec&&"Max100Pct"!==this.heightSpec||(this.nav.top.style.height="100%",this.hideBorderFor100PctHeight&&(this.Bg=this.nav.top.style.border,this.nav.top.style.border="0 none"),this.height=parseInt(this.nav.top.clientHeight,10)-this.zg()-t),this.nav.scroll.style.height="30px";var e=this.Vb(),i=e+this.zg()+t;e>=0&&(this.nav.scroll.style.height=e+"px",this.Dg.style.height=e+"px"),this.nav.divider&&((!i||isNaN(i)||i<0)&&(i=0),this.nav.divider.style.height=i+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=i+"px"),u.nav.resScrollSpace&&(u.nav.resScrollSpace.style.height=e+20+"px");for(var n=0;n<this.elements.separators.length;n++)this.elements.separators[n].style.height=this.Nf+"px";for(var n=0;n<this.elements.linesVertical.length;n++)this.elements.linesVertical[n].style.height=this.Nf+"px";u.Eg()}},this.Rf=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.s.pixels=[],this.itline=DayPilot.list();var t="Auto"===this.cellWidthSpec;if(function(){if(t){var e=0;u.q()&&u.timeline?e=u.timeline.length:"Manual"===u.scale?e=u.timeline.length:(u.Fg(),e=u.itline.length,u.itline=DayPilot.list());var i=u.Gg();if(e>0&&i>0){var n=i/e;u.cellWidth=Math.max(n,u.cellWidthMin),u.Cg=n<u.cellWidthMin}}}(),this.q()&&this.timeline){if(this.timeline){this.itline=DayPilot.list();for(var e=null,i=0,n=0;n<this.timeline.length;n++){var o=this.timeline[n],a={};if(a.start=new DayPilot.Date(o.start),a.end=o.end?new DayPilot.Date(o.end):a.start.addMinutes(this.cellDuration),o.width)a.left=o.left||i,a.width=o.width||this.cellWidth,i+=a.width;else{var r=Math.floor(i+this.cellWidth),s=r-Math.floor(i);a.left=Math.floor(i),a.width=s,i+=this.cellWidth}a.breakBefore=e&&e.ticks!==a.start.ticks,e=a.end,this.itline.push(a)}}t&&this.Hg()}else{if(this.timeHeader=[],"Manual"===this.scale){this.itline=DayPilot.list();for(var i=0,e=null,n=0;n<this.timeline.length;n++){var o=this.timeline[n],a={};if(a.start=new DayPilot.Date(o.start),a.end=o.end?new DayPilot.Date(o.end):a.start.addMinutes(this.cellDuration),e&&a.start.ticks<e.ticks)throw"The timeline must be sequential";var l=o.width||this.cellWidth,r=Math.floor(i+l),s=r-Math.floor(i);a.left=Math.floor(i),a.width=s,i+=l,a.breakBefore=e&&e.ticks!==a.start.ticks,e=a.end,this.itline.push(a)}}else this.Fg();this.Ig()}},this.Jg={};var h=this.Jg;h.shiftX=0,h.active=!1,h.updateRowStarts=function(){DayPilot.list(u.rowlist).each(function(t,e){t.start=u.Aa(),t.data=null,u.Kg(e)})},h.isEnabled=function(){return u.temp.infiniteScrolling},h.shiftTo=function(t){var t=new DayPilot.Date(t),e=t.addDays(-u.Jf).getDatePart(),i=new DayPilot.Duration(e.getTime()-u.startDate.getDatePart().getTime()).totalDays();h.shiftStart(i,t)},h.shiftStart=function(t,e){var i;h.active=!0;var n=u.startDate,o=u.startDate.addDays(t);t>0&&(i=-u.getPixels(o).left),u.startDate=u.startDate.addDays(t),u.itline=DayPilot.list(),u.s.pixels=[],u.Fg(),h.updateRowStarts(),t<0&&(i=u.getPixels(n).left),u.timeHeader=[],u.Ig(),u.Uf(),u.cellProperties={},u.Yf(),u.Zf(),u.aa(),u.L(),void 0!==e?(u.scrollTo(new DayPilot.Date(e)),u.fg()):u.nav.scroll.scrollLeft+=i,u.na(),h.active=!1},this.Fg=function(){for(var t="Days"!==this.viewType?this.startDate.addDays(this.days):this.startDate.addDays(1),e=this.startDate,i=this.Lg(e),n=!1,o=0;i.ticks<=t.ticks&&i.ticks>e.ticks;){if(this.Mg(e,i)){var a=Math.floor(o+this.cellWidth),r=a-Math.floor(o),s={};s.start=e,s.end=i,s.left=Math.floor(o),s.width=r,s.breakBefore=n,this.itline.push(s),o+=this.cellWidth,n=!1}else n=!0;e=i,i=this.Lg(e)}},this.Hg=function(){if(this.timeHeader)for(var t=0;t<this.timeHeader.length;t++)for(var e=this.timeHeader[t],i=0;i<e.length;i++){var n=e[i];n.left=this.getPixels(new DayPilot.Date(n.start)).left;var o=this.getPixels(new DayPilot.Date(n.end)).left,a=o-n.left;n.width=a}},this.Ig=function(){var t=this.timeHeaders;if(t||(t=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]),this.itline.isEmpty()){this.timeHeader=[];for(var e=0;e<t.length;e++)this.timeHeader[e]=[]}else for(var i=u.Ng(),e=0;e<t.length;e++){var n=t[e].groupBy,o=t[e].format;"Default"===n&&(n=this.cellGroupBy);for(var a=[],r=this.Aa();r.ticks<i.ticks;){var s={};if(s.start=r,s.end=this.Og(s.start,n),s.start.ticks===s.end.ticks)break;s.left=this.getPixels(s.start).left;var l=this.getPixels(s.end).left,c=l-s.left;if(s.width=c,s.colspan=Math.ceil(c/(1*this.cellWidth)),s.innerHTML="string"==typeof o?s.start.toString(o,M.locale()):this.Pg(s,n),s.text=s.innerHTML,c>0){if("function"==typeof this.onBeforeTimeHeaderRender){var d={};d.start=s.start,d.end=s.end,d.text=s.innerHTML,d.html=s.innerHTML,d.toolTip=s.innerHTML,d.backColor=null,d.level=this.timeHeader.length,d.cssClass=null;var h={};h.header=d,this.onBeforeTimeHeaderRender(h),s.text=s.innerHTML,s.innerHTML=d.html,s.backColor=d.backColor,s.toolTip=d.toolTip,s.areas=d.areas,s.cssClass=d.cssClass}a.push(s)}r=s.end}this.timeHeader.push(a)}},this.Mg=function(t,e){if("function"==typeof this.onIncludeTimeCell){var i={};i.start=t,i.end=e,i.visible=!0;var n={};return n.cell=i,this.onIncludeTimeCell(n),i.visible}return!!this.showNonBusiness||this.isBusiness({start:t,end:e})},this.getPixels=function(t){var e=t.ticks,i=this.s.pixels[e];if(i)return i;var n=2218768416e5;if(0===this.itline.length||e<this.itline[0].start.ticks){var o={};return o.cut=!1,o.left=0,o.boxLeft=o.left,o.boxRight=o.left,o.i=null,o}for(var a=this.Qg(t),r=Math.max(a.i-1,0),s=r;s<this.itline.length;s++){var l=this.itline[s],c=l.start.ticks,u=l.end.ticks;if(c<e&&e<u){var d=e-c,o={};o.cut=!1,o.left=l.left+this.dd(l,d),o.boxLeft=l.left,o.boxRight=l.left+l.width,o.i=s;break}if(c===e){var o={};o.cut=!1,o.left=l.left,o.boxLeft=o.left,o.boxRight=o.left+l.width,o.i=s;break}if(u===e){var o={};o.cut=!1,o.left=l.left+l.width,o.boxLeft=o.left,o.boxRight=o.left,o.i=s+1;break}if(e<c&&e>n){var o={};o.cut=!0,o.left=l.left,o.boxLeft=o.left,o.boxRight=o.left,o.i=s;break}n=u}if(!o){var h=this.itline[this.itline.length-1],o={};o.cut=!0,o.left=h.left+h.width,o.boxLeft=o.left,o.boxRight=o.left,o.i=null}return this.s.pixels[e]=o,o},this.getDate=function(t,e,i){var n=this.Rg(t,i);if(!n)return null;var o=n.x,a=this.itline[o];if(!a)return null;var r=i&&!e?a.end:a.start;return e?r.addTime(this.Sg(n.cell,n.offset)):r},this.Rg=function(t,e){if(0===this.itline.length)return null;for(var i=0,n=0,o=0;o<this.itline.length;o++){var a=this.itline[o];if(i+=a.width||this.cellWidth,t<i||e&&t===i){var r={};return r.x=o,r.offset=t-n,r.cell=a,r}n=i}var a=u.itline.last(),r={};return r.x=this.itline.length-1,r.offset=a.width||this.cellWidth,r.cell=a,r},this.Tg=function(t){return this.Qg(t)},this.Ug=function(t){for(var e=new DayPilot.Date(t),i=0;i<this.itline.length;i++){var n=this.itline[i];if(n.start.ticks<=e.ticks&&e.ticks<n.end.ticks){var o={};return o.hidden=!1,o.current=n,o}if(e.ticks<n.start.ticks){var o={};return o.hidden=!0,o.previous=i>0?this.itline[i-1]:null,o.current=null,o.next=this.itline[i],o}}var o={};return o.past=!0,o.previous=this.itline[this.itline.length-1],o},this.Qg=function(t){var e=new DayPilot.Date(t),i=0,n=this.itline[0];if(e.ticks<n.start.ticks){var o={};return o.hidden=!0,o.previous=null,o.current=null,o.next=this.itline[0],o.i=-1,o}var a=this.itline.length-1,r=this.itline[a];if(e.ticks>r.end.ticks){var o={};return o.past=!0,o.previous=this.itline[this.itline.length-1],o.i=this.itline.length,o}for(var s=function(){for(var t,n=u.itline;i<=a;)if(t=Math.floor((i+a)/2),n[t].start.ticks>e.ticks)a=t-1;else{if(!(n[t].end.ticks<e.ticks))return t;i=t+1}return i}(),l=s;l<this.itline.length;l++){var c=this.itline[l];if(c.start.ticks<=e.ticks&&e.ticks<c.end.ticks){var o={};return o.hidden=!1,o.current=c,o.i=l,o}if(e.ticks<c.start.ticks){var o={};return o.hidden=!0,o.previous=l>0?this.itline[l-1]:null,o.current=null,o.next=this.itline[l],o.i=l,o}}var o={};return o.past=!0,o.previous=this.itline[this.itline.length-1],o.i=this.itline.length,o},this.dd=function(t,e){var i=t.width||this.cellWidth,n=t.end.ticks-t.start.ticks;return Math.floor(i*e/n)},this.Sg=function(t,e){var i=t.end.ticks-t.start.ticks,n=t.width||this.cellWidth;return Math.floor(e/n*i)},this.Ie=function(t){A.start||n.preventEventClick||(S={},u.Fa(this,t))},this.eventClickPostBack=function(t,e){this.D("EventClick",t,e)},this.eventClickCallBack=function(t,e){this.F("EventClick",t,e)},this.Fa=function(t,e){var i=t.event,e=e||window.event;if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),!i.client.doubleClickEnabled())return void u.Ga(t,e);u.timeouts.click||(u.timeouts.click=[]);var n=function(t,e){return function(){u.Ga(t,e)}};u.timeouts.click.push(window.setTimeout(n(t,e),u.doubleClickTimeout))},this.Vg=function(t){return u.itline[t]},this.Ga=function(t,e){if("boolean"==typeof e)throw"Invalid _eventClickSingle parameters";var i=t.event,n=e.ctrlKey,o=e.metaKey;if(i.client.clickEnabled())if(u.ra()){var a={};if(a.e=i,a.div=t,a.originalEvent=e,a.ctrl=n,a.meta=o,a.shift=e.shiftKey,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventClick&&(u.onEventClick(a),a.preventDefault.value))return;switch(u.eventClickHandling){case"PostBack":u.eventClickPostBack(i);break;case"CallBack":u.eventClickCallBack(i);break;case"Edit":u.Ha(t);break;case"Select":u.Ia(t,i,n,o);break;case"ContextMenu":var r=i.client.contextMenu();r?r.show(i):u.contextMenu&&u.contextMenu.show(i);break;case"Bubble":u.bubble&&u.bubble.showEvent(i);break;case"RectangleSelect":if("Disabled"!==u.multiSelectRectangle)return T.start(),!1}"function"==typeof u.onEventClicked&&u.onEventClicked(a)}else switch(u.eventClickHandling){case"PostBack":u.eventClickPostBack(i);break;case"CallBack":u.eventClickCallBack(i);break;case"JavaScript":u.onEventClick(i);break;case"Edit":u.Ha(t);break;case"Select":u.Ia(t,i,n,o);break;case"ContextMenu":var r=i.client.contextMenu();r?r.show(i):u.contextMenu&&u.contextMenu.show(i);break;case"Bubble":u.bubble&&u.bubble.showEvent(i);break;case"RectangleSelect":if("Disabled"!==u.multiSelectRectangle)return T.start(),!1}},this.Oa=function(t){if(u.ra()){var e={};if(e.e=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventDelete&&(u.onEventDelete(e),e.preventDefault.value))return;switch(u.eventDeleteHandling){case"PostBack":u.eventDeletePostBack(t);break;case"CallBack":u.eventDeleteCallBack(t);break;case"Update":u.events.remove(t)}"function"==typeof u.onEventDeleted&&u.onEventDeleted(e)}else switch(u.eventDeleteHandling){case"PostBack":u.eventDeletePostBack(t);break;case"CallBack":u.eventDeleteCallBack(t);break;case"JavaScript":u.onEventDelete(t)}},this.eventDeletePostBack=function(t,e){this.D("EventDelete",t,e)},this.eventDeleteCallBack=function(t,e){this.F("EventDelete",t,e)},this.setHScrollPosition=function(t){this.nav.scroll.scrollLeft=t},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.Ia=function(t,e,i,n){u.bb(t,e,i,n)},this.eventSelectPostBack=function(t,e,i){var n={};n.e=t,n.change=e,this.D("EventSelect",n,i)},this.eventSelectCallBack=function(t,e,i){var n={};n.e=t,n.change=e,this.F("EventSelect",n,i)},this.bb=function(t,e,i,n){var o=u.multiselect,a=o.isSelected(e);if(i||n||!a||1!==o.list.length)if(u.ra()){o.previous=o.events();var r={};if(r.e=e,r.selected=a,r.ctrl=i,r.meta=n,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventSelect&&(u.onEventSelect(r),r.preventDefault.value))return;switch(u.eventSelectHandling){case"PostBack":u.eventSelectPostBack(e,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),u.eventSelectCallBack(e,s);break;case"Update":o.fb(t,i,n)}"function"==typeof u.onEventSelected&&(r.change=o.isSelected(e)?"selected":"deselected",r.selected=o.isSelected(e),u.onEventSelected(r))}else{o.previous=o.events(),o.fb(t,i,n);var s=o.isSelected(e)?"selected":"deselected";switch(u.eventSelectHandling){case"PostBack":u.eventSelectPostBack(e,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),u.eventSelectCallBack(e,s);break;case"JavaScript":u.onEventSelect(e,s)}}},this.eventRightClickPostBack=function(t,e){this.D("EventRightClick",t,e)},this.eventRightClickCallBack=function(t,e){this.F("EventRightClick",t,e)},this.Ka=function(t){var e=this.event;if(t=t||window.event,t.cancelBubble=!0,!this.event.client.rightClickEnabled())return!1;if(u.ra()){var i={};if(i.e=e,i.div=this,i.originalEvent=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventRightClick&&(u.onEventRightClick(i),i.preventDefault.value))return!1;switch(u.eventRightClickHandling){case"PostBack":u.eventRightClickPostBack(e);break;case"CallBack":u.eventRightClickCallBack(e);break;case"ContextMenu":var n=e.client.contextMenu();n?n.show(e):u.contextMenu&&u.contextMenu.show(this.event);break;case"Bubble":u.bubble&&u.bubble.showEvent(e)}"function"==typeof u.onEventRightClicked&&u.onEventRightClicked(i)}else switch(u.eventRightClickHandling){case"PostBack":u.eventRightClickPostBack(e);break;case"CallBack":u.eventRightClickCallBack(e);break;case"JavaScript":u.onEventRightClick(e);break;case"ContextMenu":var n=e.client.contextMenu();n?n.show(e):u.contextMenu&&u.contextMenu.show(this.event);break;case"Bubble":u.bubble&&u.bubble.showEvent(e)}return!1},this.eventDoubleClickPostBack=function(t,e){this.D("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(t,e){this.F("EventDoubleClick",t,e)},this.Ja=function(t){if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),u.timeouts.click){for(var e in u.timeouts.click)window.clearTimeout(u.timeouts.click[e]);u.timeouts.click=null}var t=t||window.event,i=this.event;if(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,u.ra()){var n={};if(n.e=i,n.originalEvent=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventDoubleClick&&(u.onEventDoubleClick(n),n.preventDefault.value))return;switch(u.eventDoubleClickHandling){case"PostBack":u.eventDoubleClickPostBack(i);break;case"CallBack":u.eventDoubleClickCallBack(i);break;case"Edit":u.Ha(this);break;case"Select":u.Ia(div,i,t.ctrlKey,t.metaKey);break;case"Bubble":u.bubble&&u.bubble.showEvent(i);break;case"ContextMenu":var o=i.client.contextMenu();o?o.show(i):u.contextMenu&&u.contextMenu.show(i)}"function"==typeof u.onEventDoubleClicked&&u.onEventDoubleClicked(n)}else switch(u.eventDoubleClickHandling){case"PostBack":u.eventDoubleClickPostBack(i);break;case"CallBack":u.eventDoubleClickCallBack(i);break;case"JavaScript":u.onEventDoubleClick(i);break;case"Edit":u.Ha(this);break;case"Select":u.Ia(div,i,t.ctrlKey,t.metaKey);break;case"Bubble":u.bubble&&u.bubble.showEvent(i);break;case"ContextMenu":var o=i.client.contextMenu();o?o.show(i):u.contextMenu&&u.contextMenu.show(i)}},this.eventResizePostBack=function(t,e,i,n){this.Sa("PostBack",t,e,i,n)},this.eventResizeCallBack=function(t,e,i,n){this.Sa("CallBack",t,e,i,n)},this.Sa=function(t,e,i,n,o){var a={};a.e=e,a.newStart=i,a.newEnd=n,this.Pa(t,"EventResize",a,o)},this.Ra=function(t,e,i){if("Disabled"!==this.eventResizeHandling)if(i=u.Ze(i),u.ra()){var n={},o=function(){if(P.hide(),!n.preventDefault.value){switch(e=n.newStart,i=n.newEnd,u.eventResizeHandling){case"PostBack":u.eventResizePostBack(t,e,i);break;case"CallBack":u.eventResizeCallBack(t,e,i);break;case"Notify":u.eventResizeNotify(t,e,i);break;case"Update":u.Wg(n)}"function"==typeof u.onEventResized&&u.onEventResized(n)}};n.e=t,n.async=!1,n.loaded=function(){o()},n.newStart=e,n.newEnd=i,n.preventDefault=function(){this.preventDefault.value=!0},n.multiresize=DayPilot.list(b.list);var a={};a.event=t,a.start=e,a.end=i,n.multiresize.splice(0,0,a),"function"==typeof u.onEventResize&&u.onEventResize(n),n.async?u.blockOnCallBack&&P.show():o()}else switch(u.eventResizeHandling){case"PostBack":u.eventResizePostBack(t,e,i);break;case"CallBack":u.eventResizeCallBack(t,e,i);break;case"JavaScript":u.onEventResize(t,e,i);break;case"Notify":u.eventResizeNotify(t,e,i);break;case"Update":u.Wg(n)}},this.eventMovePostBack=function(t,e,i,n,o,a){this.Va("PostBack",t,e,i,n,o,a)},this.eventMoveCallBack=function(t,e,i,n,o,a){this.Va("CallBack",t,e,i,n,o,a)},this.Va=function(t,e,i,n,o,a,r){var s=e&&!!e.preventDefault,l={};if(s){var c=e;l.e=c.e,l.newStart=c.newStart,l.newEnd=c.newEnd,l.newResource=c.newResource,l.position=c.position,l.multimove=[],c.multimove.each(function(t){var e={};if(e.e=t.event,e.newStart=t.start,e.newEnd=t.end,e.newResource=t.event.resource(),e.e===c.e||e.e.data.id==c.e.data.id)e.newResource=c.newResource;else if(w.rowoffset){var i=t.event.part.dayIndex+w.rowoffset;e.newResource=u.rowlist[i].id}l.multimove.push(e)})}else l.e=e,l.newStart=i,l.newEnd=n,l.newResource=o,l.position=r;this.Pa(t,"EventMove",l,a)},this.Xg=function(t,e,i){var n={};n.start=e.start,n.end=e.end,n.resource=e.resource,n.multirange=[],e.multirange.each(function(t){var e={};e.start=t.start,e.end=t.end,e.resource=t.resource,n.multirange.push(e)}),this.Pa(t,"TimeRangeSelected",n,i)},this.Pa=function(t,e,i,n){if("PostBack"===t)u.D(e,i,n);else if("CallBack"===t)u.F(e,i,n,"CallBack");else if("Immediate"===t)u.F(e,i,n,"Notify");else if("Queue"===t)u.queue.add(new DayPilot.Action(this,e,i,n));else{if("Notify"!==t)throw"Invalid event invocation type";"Notify"===M.notifyType()?u.F(e,i,n,"Notify"):u.queue.add(new DayPilot.Action(u,e,i,n))}},this.eventMoveNotify=function(t,e,i,n,o,a){if(t&&t.preventDefault){var r=t;r.old=new DayPilot.Event(r.e.copy(),u),r.multimove.each(function(t){t.old=new DayPilot.Event(t.event.copy(),u)}),u.Wg(r),r.e=r.old,delete r.old,r.multimove.each(function(t){t.event=t.old,delete t.old})}else{t=new DayPilot.Event(t.copy(),u);var s=u.events.Yg(t.data);t.start(e),t.end(i),t.resource(n),t.commit(),s=s.concat(u.events.Zg(t.data)),u.$g(s),u._g(),u.ah(s)}this.Va("Notify",t,e,i,n,o,a)},this.eventResizeNotify=function(t,e,i,n){var o=new DayPilot.Event(t.copy(),this),a=u.events.Yg(t.data);t.start(e),t.end(i),t.commit(),a=a.concat(u.events.Zg(t.data)),u.$g(a),u._g(),u.ah(a),this.Sa("Notify",o,e,i,n)},this.multiselect={},this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$f=function(t){u.multiselect.list=DayPilot.list(t).map(function(t){return new DayPilot.Event(t,u)})},this.multiselect.ub=function(){var t=u.multiselect;return DayPilot.JSON.stringify(t.events())},this.multiselect.events=function(){var t=u.multiselect,e=DayPilot.list();e.ignoreToJSON=!0;for(var i=0;i<t.list.length;i++)e.push(t.list[i]);return e},this.multiselect.vb=function(){},this.multiselect.fb=function(t,e,i){var n=u.multiselect;if(n.isSelected(t.event))if(u.allowMultiSelect)if(e||i)n.remove(t.event,!0);else{var o=n.list.length;n.clear(),o>1&&n.add(t.event,!0)}else n.clear();else u.allowMultiSelect&&(e||i)?n.add(t.event,!0):(n.clear(),n.add(t.event,!0));n.ad(t),n.vb()},this.multiselect.wb=function(t){var e=u.multiselect;return e.xb(t,e.initList)},this.multiselect.yb=function(){for(var t=u.multiselect,e=[],i=0;i<t.list.length;i++){var n=t.list[i];e.push(n.value())}alert(e.join("\n"))},this.multiselect.add=function(t,e){var i=u.multiselect;-1===i.indexOf(t)&&i.list.push(t),e||i.bh(t)},this.multiselect.remove=function(t,e){var i=u.multiselect,n=i.indexOf(t);-1!==n&&i.list.splice(n,1),e||i.bh(t)},this.multiselect.clear=function(t){var e=u.multiselect;e.list=[],t||e.redraw()},this.multiselect.redraw=function(){var t=u.multiselect;t.divs=[];for(var e=0;e<u.elements.events.length;e++){var i=u.elements.events[e];i.event&&i.event.isEvent&&(t.isSelected(i.event)?t.Ab(i):t.Bb(i))}},this.multiselect.ad=function(t){if(t){var e=u.multiselect;e.isSelected(t.event)?e.Ab(t):e.Bb(t)}},this.multiselect.bh=function(t){var e=u.multiselect,i=u._c(t);e.ad(i)},this.multiselect.Ab=function(t){var e=u.multiselect,i=u.p("_selected"),t=e.Cb(t);DayPilot.Util.addClass(t,i),e.divs.push(t)},this.multiselect.Cb=function(t){return t},this.multiselect.Eb=function(){for(var t=u.multiselect,e=0;e<t.divs.length;e++){var i=t.divs[e];t.Bb(i,!0)}t.divs=[]},this.multiselect.Bb=function(t,e){var i=u.multiselect,n=u.p("_selected");if(DayPilot.Util.removeClass(t,n),!e){var o=DayPilot.indexOf(i.divs,t);-1!==o&&i.divs.splice(o,1)}},this.multiselect.isSelected=function(t){return!!t&&!!t.isEvent&&u.multiselect.xb(t,u.multiselect.list)},this.multiselect.indexOf=function(t){for(var e=t.data,i=0;i<u.multiselect.list.length;i++)if(u.multiselect.list[i].data===e)return i;return-1},this.multiselect.xb=function(t,e){if(!e)return!1;for(var i=0;i<e.length;i++){var n=e[i];if(t===n)return!0;if("function"==typeof n.id){if(null!==n.id()&&null!==t.id()&&n.id()===t.id())return!0;if(null===n.id()&&null===t.id()&&n.recurrentMasterId()===t.recurrentMasterId()&&t.start().toStringSortable()===n.start().toStringSortable())return!0}else{if(null!==n.id&&null!==t.id()&&n.id===t.id())return!0;if(null===n.id&&null===t.id()&&n.recurrentMasterId===t.recurrentMasterId()&&t.start().toStringSortable()===n.start)return!0}}return!1},this.multiselect.startRectangle=function(){T.start()},this.ch=function(){this.Zf(),this.ag()},this.dh=function(){u.Tf(),u.Xf(),u.eh(),u.progressiveRowRendering&&u.fh()},this.ad=function(t){var t=t||{},e=!t.eventsOnly;u.cssOnly||(u.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e&&(this.q()||(u.timeHeader=null,u.cellProperties={}),u.gh={},u.Qf(),u.Rf(),t&&t.dontLoadResources||u.Sf(),u.events.hh(),u.qc.clearCache()),this.aa(),this.ih(),u.Tf(),e&&(u.cd(),u.jh(),u.Uf(),u.eg(u.selectedRows),u.kh()),u.Vf(),u.Xf(),u.eh(),u.ba(),p.hideLinkpoints(),this.L(),this.Yf(),this.Pf(),this._(),this._f(),this.ch(),u.ia(),t.immediateEvents||t.eventsOnly?u.na():setTimeout(function(){u.na()},100),this.visible?u.Kf!=u.visible&&this.show():this.hide(),this.Kf=this.visible,this.dg(),this.fg(),this.lh(),this.qa()},this.lh=function(){if("function"==typeof u.onAfterUpdate){var t={};u.onAfterUpdate(t)}},this.update=function(t){if(u.xd)throw"You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.";f.request(t)};var f={};f.timeout=null,f.options=null,f.enabled=!1,f.request=function(t){f.enabled?(clearTimeout(f.timeout),f.mergeOptions(t),f.timeout=setTimeout(f.doit)):(f.mergeOptions(t),f.doit())},f.mergeOptions=function(t){if(t){f.options||(f.options={});for(var e in t)f.options[e]=t[e]}},f.doit=function(){var t=f.options;return f.options=null,t?(t.events?(u.events.list=t.events,u.z&&u.ad({eventsOnly:!0})):t.separators?(u.separators=t.separators,u.z&&u.ch()):t.rowHeaderColumns&&(u.rowHeaderColumns=t.rowHeaderColumns,u.z&&u.dh()),void u.X(null,!1)):void(u.z&&(u.ad({immediateEvents:!0}),u.X(null,!1)))},this.ah=function(t,e,i){t=DayPilot.ua(t);for(var n=0;n<t.length;n++){var o=t[n];u.mh(o)}if(this.nh){this.Vf(),this.Xf(),this.Yf(),this.Zf();for(var n=0;n<t.length;n++){var o=t[n];this.oh(o)}for(var n=0;n<t.length;n++){var o=t[n];this.ph(o)}this._f(),this.ag(),this.qh()}else{for(var n=0;n<t.length;n++){var o=t[n];e||this.oh(o),this.ph(o)}DayPilot.list(t).each(function(t){u.rh(t)}),u._f()}u.rg(),p.load(),u.multiselect.redraw(),i&&i(),this.Pf()},this.Ze=function(t){return"DateTime"===u.eventEndSpec?t:t.getDatePart().ticks===t.ticks?t.addDays(-1):t.getDatePart()},this.ye=function(t){return"DateTime"===u.eventEndSpec?t:t.getDatePart().addDays(1)},this._e=function(t){return"DateTime"===u.eventEndSpec?t:t.getDatePart()},this.Ta=function(t,e,i,n,o,a,r){if(u.uh=null,"Disabled"!==u.eventMoveHandling){i=u.Ze(i);var s={};s.e=t,s.newStart=e,s.newEnd=i,s.newResource=n,s.external=o,s.ctrl=!1,s.meta=!1,s.shift=!1,a&&(s.shift=a.shiftKey,s.ctrl=a.ctrlKey,s.meta=a.metaKey),s.multimove=DayPilot.list(w.list);var l={};if(l.event=t,l.start=e,l.end=i,l.overlapping=!1,l.resource=n,s.multimove.splice(0,0,l),s.position=r,s.preventDefault=function(){this.preventDefault.value=!0},u.ra()){var c=function(){if(P.hide(),s.preventDefault.value)return void u.vh();switch(e=s.newStart,i=s.newEnd,u.eventMoveHandling){case"PostBack":u.eventMovePostBack(s);break;case"CallBack":u.eventMoveCallBack(s);break;case"Notify":u.eventMoveNotify(s);break;case"Update":u.Wg(s)}u.vh(),"function"==typeof u.onEventMoved&&u.onEventMoved(s)};s.async=!1,s.loaded=function(){c()},"function"==typeof u.onEventMove&&u.onEventMove(s),s.async?u.blockOnCallBack&&P.show():c()}else{switch(u.eventMoveHandling){case"PostBack":u.eventMovePostBack(s);break;case"CallBack":u.eventMoveCallBack(s);break;case"JavaScript":u.onEventMove(t,e,i,n,o,!!a&&a.ctrlKey,!!a&&a.shiftKey,r);break;case"Notify":u.eventMoveNotify(s);break;case"Update":u.Wg(s)}u.vh()}}},this.Wg=function(t){var e=t.e,i=t.newStart,n=t.newEnd,o=t.newResource,a=t.external;e.start(i),e.end(n),e.resource(o),a?(e.commit(),u.events.add(e)):u.events.update(e),t.multimove&&!t.multimove.isEmpty()&&t.multimove.each(function(t){if(t.event!==e){if(t.event.start(t.start),t.event.end(t.end),w.rowoffset){var i=t.event.part.dayIndex+w.rowoffset,n=u.rowlist[i].id;t.event.resource(n)}t.event.commit(),u.events.update(t.event)}}),t.multiresize&&!t.multiresize.isEmpty()&&t.multiresize.each(function(t){t.event!==e&&(t.event.start(t.start),t.event.end(t.end),t.event.commit(),u.events.update(t.event))}),u.events.immediateRefresh(),u.Ua()},this.Wa=function(t,e){var i=u.Xa(e),n={};n.args=t,n.guid=i,u.F("Bubble",n)},this.Xa=function(t){var e=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[e]=t,e},this.eventMenuClickPostBack=function(t,e,i){var n={};n.e=t,n.command=e,this.D("EventMenuClick",n,i)},this.eventMenuClickCallBack=function(t,e,i){var n={};n.e=t,n.command=e,this.F("EventMenuClick",n,i)},this.Ya=function(t,e,i){switch(i){case"PostBack":u.eventMenuClickPostBack(e,t);break;case"CallBack":u.eventMenuClickCallBack(e,t)}},this.timeRangeSelectedPostBack=function(t,e,i,n){var o={};o.start=t,o.end=e,o.resource=i,this.D("TimeRangeSelected",o,n)},this.timeRangeSelectedCallBack=function(t,e,i,n){var o={};o.start=t,o.end=e,o.resource=i,this.F("TimeRangeSelected",o,n)},this.wh=function(t){if(t){if(t.disabled)return void u.clearSelection();var e=u.xh(t);e&&u.$a(e.start,e.end,e.resource)}},this.$a=function(t,e,i){if("Disabled"!==u.timeRangeSelectedHandling){var n=e;e=u.Ze(n);var o={};if(o.start=t,o.end=e,o.resource=i,o.preventDefault=function(){this.preventDefault.value=!0},o.multirange=DayPilot.list(R.list).map(function(t){return u.xh(t)}),o.multirange.isEmpty()&&o.multirange.push({start:o.start,end:o.end,resource:o.resource}),u.ra()){if("function"==typeof u.onTimeRangeSelect){if(u.onTimeRangeSelect(o),o.preventDefault.value)return;t=o.start,e=o.end}switch(u.yh(u.rangeHold,t,e,o.multirange),u.zh(u.rangeHold),u.timeRangeSelectedHandling){case"PostBack":u.Xg("PostBack",o);break;case"CallBack":u.Xg("CallBack",o)}"function"==typeof u.onTimeRangeSelected&&u.onTimeRangeSelected(o)}else switch(u.timeRangeSelectedHandling){case"PostBack":u.Xg("PostBack",o);break;case"CallBack":u.Xg("CallBack",o);break;case"JavaScript":u.onTimeRangeSelected(t,e,i,o.multirange)}}},this.yh=function(t,e,i,n){if(t&&!(n&&n.length>1)){var o,a,r=u.ye(i),s=0;"Days"===u.viewType&&(s=u.ig(e).start.getTime()-u.Aa().getTime()),e.getTime()<u.itline[0].start.getTime()?t.start.x=0:(o=u.Tg(e.addTime(-s)),a=o.current||o.previous,t.start.x=DayPilot.indexOf(u.itline,a)),o=u.Tg(r.addSeconds(-1).addTime(-s)),o.past?t.end.x=u.itline.length-1:(a=o.current||o.next,t.end.x=DayPilot.indexOf(u.itline,a))}},this.ig=function(t){var e=t.getDatePart();return DayPilot.list(u.rowlist).find(function(t){return t.start.getDatePart()===e})},this.timeRangeDoubleClickPostBack=function(t,e,i,n){var o={};o.start=t,o.end=e,o.resource=i,this.D("TimeRangeDoubleClick",o,n)},this.timeRangeDoubleClickCallBack=function(t,e,i,n){var o={};o.start=t,o.end=e,o.resource=i,this.F("TimeRangeDoubleClick",o,n)},this._a=function(t,e,i){if(e=u.Ze(e),u.ra()){var n={};if(n.start=t,n.end=e,n.resource=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onTimeRangeDoubleClick&&(u.onTimeRangeDoubleClick(n),n.preventDefault.value))return;switch(u.timeRangeDoubleClickHandling){case"PostBack":u.timeRangeDoubleClickPostBack(t,e,i);break;case"CallBack":u.timeRangeDoubleClickCallBack(t,e,i)}"function"==typeof u.onTimeRangeDoubleClicked&&u.onTimeRangeDoubleClicked(n)}else switch(u.timeRangeDoubleClickHandling){case"PostBack":u.timeRangeDoubleClickPostBack(t,e,i);break;case"CallBack":u.timeRangeDoubleClickCallBack(t,e,i);break;case"JavaScript":u.onTimeRangeDoubleClick(t,e,i)}},this.timeRangeMenuClickPostBack=function(t,e,i){var n={};n.selection=t,n.command=e,this.D("TimeRangeMenuClick",n,i)},this.timeRangeMenuClickCallBack=function(t,e,i){var n={};n.selection=t,n.command=e,this.F("TimeRangeMenuClick",n,i)},this.Za=function(t,e,i){switch(i){case"PostBack":u.timeRangeMenuClickPostBack(e,t);break;case"CallBack":u.timeRangeMenuClickCallBack(e,t)}},this.linkMenuClickPostBack=function(t,e,i){var n={};n.link=t,n.command=e,this.D("LinkMenuClick",n,i)},this.linkMenuClickCallBack=function(t,e,i){var n={};n.link=t,n.command=e,this.F("LinkMenuClick",n,i)},this.Ah=function(t,e,i){switch(i){case"PostBack":u.linkMenuClickPostBack(e,t);break;case"CallBack":u.linkMenuClickCallBack(e,t)}},this.rowMenuClickPostBack=function(t,e,i){var n={};n.resource=t,n.command=e,this.D("RowMenuClick",n,i)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(t,e,i){var n={};n.resource=t,n.command=e,this.F("RowMenuClick",n,i)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.Bh=function(t,e,i){switch(i){case"PostBack":u.rowMenuClickPostBack(e,t);break;case"CallBack":u.rowMenuClickCallBack(e,t)}},this.Ch=function(t,e){var i=u.Dh(t);i.data.name=e,i.data.html&&(i.data.html=e),u.rows.update(i)},this.Eh=function(t,e){if(e){var i={};if(i.text=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof u.onRowCreate||(u.onRowCreate(i),!i.preventDefault.value)){switch(u.rowCreateHandling){case"CallBack":u.rowCreateCallBack(i.text);break;case"PostBack":u.rowCreatePostBack(i.text)}"function"==typeof u.onRowCreated&&u.onRowCreated(i)}}},this.Fh=function(t,e,i){if(t.isNewRow)return void(i||u.Eh(t,e));var n=DayPilot.indexOf(u.rowlist,t),o=u.Dh(t,n);if(u.ra()){var a={};if(a.resource=o,a.row=o,a.newText=e,a.canceled=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowEdit&&(u.onRowEdit(a),a.preventDefault.value))return;if(!i){switch(u.rowEditHandling){case"PostBack":u.rowEditPostBack(o,e);break;case"CallBack":u.rowEditCallBack(o,e);break;case"Update":u.Ch(t,e)}"function"==typeof u.onRowEdited&&u.onRowEdited(a)}}else switch(u.rowEditHandling){case"PostBack":u.rowEditPostBack(o,e);break;case"CallBack":u.rowEditCallBack(o,e);break;case"JavaScript":u.onrowEdit(o,e)}},this.rowCreatePostBack=function(t,e){var i={};i.text=t,this.D("RowCreate",i,e)},this.rowCreateCallBack=function(t,e){var i={};i.text=t,this.F("RowCreate",i,e)},this.rowEditPostBack=function(t,e,i){var n={};n.resource=t,n.newText=e,this.D("RowEdit",n,i)},this.rowEditCallBack=function(t,e,i){var n={};n.resource=t,n.newText=e,this.F("RowEdit",n,i)},this.rowMovePostBack=function(t,e,i,n){var o={};o.source=t,o.target=e,o.position=i,this.D("RowMove",o,n)},this.rowMoveCallBack=function(t,e,i,n){var o={};o.source=t,o.target=e,o.position=i,this.F("RowMove",o,n)},this.rowMoveNotify=function(t,e,i,n){var o={};o.source=t,o.target=e,o.position=i,this.F("RowMove",o,n,"Notify")},this.rowClickPostBack=function(t,e){var i={};i.resource=t,this.D("RowClick",i,e)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(t,e){var i={};i.resource=t,this.F("RowClick",i,e)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.Gh=function(t,e,i,n){if("Disabled"===u.rowDoubleClickHandling)return void u.Hh(t,e,i,n);u.timeouts.resClick||(u.timeouts.resClick=[]);var o=function(t,e,i,n){return function(){u.Hh(t,e,i,n)}};u.timeouts.resClick.push(window.setTimeout(o(t,e,i,n),u.doubleClickTimeout))},this.Hh=function(t,e,i,n){var o=u.resourceHeaderClickHandling||u.rowClickHandling;if(u.ra()){var a={};if(a.resource=t,a.row=t,a.ctrl=e,a.shift=i,a.meta=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowClick&&(u.onRowClick(a),a.preventDefault.value))return;if("function"==typeof u.onResourceHeaderClick&&(u.onResourceHeaderClick(a),a.preventDefault.value))return;switch(o){case"PostBack":u.rowClickPostBack(t);break;case"CallBack":u.rowClickCallBack(t);break;case"Select":u.Ih(t.$.row,e,i,n);break;case"Edit":u.Jh.edit(t.$.row)}"function"==typeof u.onRowClicked&&u.onRowClicked(a),"function"==typeof u.onResourceHeaderClicked&&u.onResourceHeaderClicked(a)}else switch(o){case"PostBack":u.rowClickPostBack(t);break;case"CallBack":u.rowClickCallBack(t);break;case"JavaScript":u.onRowClick(t);break;case"Select":u.Ih(t.$.row,e,i);break;case"Edit":u.Jh.edit(t.$.row)}},this.timeHeaderClickPostBack=function(t,e){var i={};i.header=t,this.D("TimeHeaderClick",i,e)},this.timeHeaderClickCallBack=function(t,e){var i={};i.header=t,this.F("TimeHeaderClick",i,e)},this.Kh=function(t){if(u.ra()){var e={};if(e.header=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onTimeHeaderClick&&(u.onTimeHeaderClick(e),e.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":u.timeHeaderClickPostBack(t);break;case"CallBack":u.timeHeaderClickCallBack(t)}"function"==typeof u.onTimeHeaderClicked&&u.onTimeHeaderClicked(e)}else switch(this.timeHeaderClickHandling){case"PostBack":u.timeHeaderClickPostBack(t);break;case"CallBack":u.timeHeaderClickCallBack(t);break;case"JavaScript":u.onTimeHeaderClick(t)}},this.resourceCollapsePostBack=function(t,e){var i={};i.resource=t,this.D("ResourceCollapse",i,e)},this.resourceCollapseCallBack=function(t,e){var i={};i.resource=t,this.F("ResourceCollapse",i,e)},this.Lh=function(t){if(u.ra()){var e={};if(e.resource=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onResourceCollapse&&(u.onResourceCollapse(e),e.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":u.resourceCollapsePostBack(t);break;case"CallBack":u.resourceCollapseCallBack(t)}}else switch(this.resourceCollapseHandling){case"PostBack":u.resourceCollapsePostBack(t);break;case"CallBack":u.resourceCollapseCallBack(t);break;case"JavaScript":u.onResourceCollapse(t)}},this.resourceExpandPostBack=function(t,e){var i={};i.resource=t,this.D("ResourceExpand",i,e)},this.resourceExpandCallBack=function(t,e){var i={};i.resource=t,this.F("ResourceExpand",i,e)},this.Mh=function(t){if(u.ra()){var e={};if(e.resource=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onResourceExpand&&(u.onResourceExpand(e),e.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":u.resourceExpandPostBack(t);break;case"CallBack":u.resourceExpandCallBack(t)}}else switch(this.resourceExpandHandling){case"PostBack":u.resourceExpandPostBack(t);break;case"CallBack":u.resourceExpandCallBack(t);break;case"JavaScript":u.onResourceExpand(t)}},this.eventEditPostBack=function(t,e,i){var n={};n.e=t,n.newText=e,this.D("EventEdit",n,i)},this.eventEditCallBack=function(t,e,i){var n={};n.e=t,n.newText=e,this.F("EventEdit",n,i)},this.eventEditNotify=function(t,e,i,n){var o=new DayPilot.Event(t.copy(),this);t.text(e),u.events.update(t,null,n);var a={};a.e=o,a.newText=e,this.F("EventEdit",a,i,"Notify")},this.ab=function(t,e,i){if(u.ra()){var n={};if(n.e=t,n.newText=e,n.canceled=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventEdit&&(u.onEventEdit(n),n.preventDefault.value))return;if(!i)switch(u.eventEditHandling){case"PostBack":u.eventEditPostBack(t,e);break;case"CallBack":u.eventEditCallBack(t,e);break;case"Update":t.text(e),u.events.update(t,null,{inplace:!0})}"function"==typeof u.onEventEdited&&u.onEventEdited(n)}else switch(u.eventEditHandling){case"PostBack":u.eventEditPostBack(t,e);break;case"CallBack":u.eventEditCallBack(t,e);break;case"Notify":u.eventEditNotify(t,e,null,{inplace:!0});break;case"JavaScript":u.onEventEdit(t,e)}},this.commandCallBack=function(t,e){this.Nh("CallBack",t,e)},this.commandPostBack=function(t,e){this.Nh("PostBack",t,e)},this.Nh=function(t,e,i){var n={};n.command=e,this.Pa(t,"Command",n,i)},this.D=function(t,e,i){var n={};n.action=t,n.type="PostBack",n.parameters=e,n.data=i,n.header=this.E();var o="JSON"+DayPilot.JSON.stringify(n);__doPostBack(u.uniqueID,o)},this.F=function(t,e,i,n){if(!u.q())return void u.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");void 0===n&&(n="CallBack"),this.K(),u.G();var o={};o.action=t,o.type=n,o.parameters=e,o.data=i,o.header=this.E();var a,r=DayPilot.JSON.stringify(o);a="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(r)):"JSON"+r,this.Oh(o),this.backendUrl?DayPilot.request(this.backendUrl,this.H,a,this.I):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,a,this.J,null,this.callbackError,!0)},this.Oh=function(t){var e={};"function"==typeof u.onCallBackStart&&u.onCallBackStart(e)},this.Of=function(){var t={};"function"==typeof u.onCallBackEnd&&setTimeout(function(){u.onCallBackEnd(t)},0)},this.q=function(){return!!this.backendUrl||!!this.Ph()},this.Ph=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.I=function(t){if("function"==typeof u.onAjaxError){var e={};e.request=t,u.onAjaxError(e)}else"function"==typeof u.ajaxError&&u.ajaxError(t)},this.H=function(t){u.J(t.responseText)},this.E=function(){var t={};t.v=this.v,t.control="dps",t.id=this.id,t.startDate=u.startDate,t.days=u.days,t.cellDuration=u.cellDuration,t.cellGroupBy=u.cellGroupBy,t.cellWidth=u.cellWidth,t.cellWidthSpec=u.cellWidthSpec,t.viewType=u.viewType,t.hourNameBackColor=u.hourNameBackColor,t.showNonBusiness=u.showNonBusiness,t.businessBeginsHour=u.businessBeginsHour,t.businessEndsHour=u.businessEndsHour,t.weekStarts=u.weekStarts,t.treeEnabled=u.treeEnabled,t.locale=u.locale,t.timeZone=u.timeZone,t.tagFields=u.tagFields,t.timeHeaders=u.timeHeaders,t.cssClassPrefix=u.cssClassPrefix,t.durationBarMode=u.durationBarMode,t.showBaseTimeHeader=!0,t.rowHeaderColumns=u.rowHeaderColumns,t.rowMarginBottom=u.rowMarginBottom,t.rowMarginTop=u.rowMarginTop,t.rowMinHeight=u.rowMinHeight,t.scale=u.scale,t.clientState=u.clientState,this.nav.scroll&&(t.scrollX=this.nav.scroll.scrollLeft,t.scrollY=this.nav.scroll.scrollTop),t.selected=u.multiselect.events(),t.selectedRows=k.Qh(),t.hashes=u.hashes;var e=u.Rh(t.scrollX,t.scrollY),i=u.Sh(e),n=u.Th(e);if(t.rangeStart=i.start,t.rangeEnd=i.end,t.resources=n,t.dynamicLoading=u.dynamicLoading,t.separators=this.separators,this.syncResourceTree&&"Days"!=this.viewType&&(t.tree=this.Q()),this.syncLinks&&(t.links=this.Uh()),"Manual"===this.scale&&(t.timeline=this.Vh()),"function"==typeof u.onCallBackHeader){var o={};o.header=t,u.onCallBackHeader(o)}return t},this.Vh=function(){var t=[];return DayPilot.list(u.timeline).each(function(e){var i={};i.start=e.start,i.end=e.end,i.width=e.width,t.push(i)}),t},this.Uh=function(){var t=[],e=function(t){var e={};if(t.tags)for(var i in t.tags)e[i]=""+t.tags[i];return e};if(!DayPilot.isArray(u.links.list))return t;for(var i=0;i<u.links.list.length;i++){var n=u.links.list[i],o={};o.id=n.id,o.from=n.from,o.to=n.to,o.type=n.type,o.tags=e(n),t.push(o)}return t},this.getViewPort=function(){var t=this.nav.scroll.scrollLeft-h.shiftX,e=this.nav.scroll.scrollTop,i={};if("Days"!==u.viewType){var n=u.Rh(t,e),o=u.Sh(n),a=u.Th(n);i.start=o.start,i.end=o.end,i.resources=a}else{var n=u.Rh(t,e),o=u.Wh(n);i.start=o.start,i.end=o.end,i.resources=[]}return i},this.Rh=function(t,e){var i={};i.start={},i.end={},i.start.x=Math.floor(t/u.cellWidth),i.end.x=Math.floor((t+u.nav.scroll.clientWidth)/u.cellWidth),i.start.y=u.Xh(e).i,i.end.y=u.Xh(e+u.nav.scroll.clientHeight).i;var n=this.itline.length;return i.end.x>=n&&(i.end.x=n-1),i},this.Sh=function(t){var e={};if(this.itline.length<=0)return e.start=this.startDate,e.end=this.startDate,e;if(!this.itline[t.start.x])throw"Internal error: area.start.x is null.";return e.start=this.itline[t.start.x].start,e.end=this.itline[t.end.x].end,e},this.Th=function(t){if(!t)var t=this.Rh(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var e=[];e.ignoreToJSON=!0;for(var i=t.start.y;i<=t.end.y;i++){var n=u.rowlist[i];n&&!n.hidden&&e.push(n.id)}return e},this.Wh=function(t){if(!t)var t=this.Rh(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var e={};if(0===u.rowlist.length)return e;var i=u.itline[u.itline.length-1].end.getTime()-u.itline[0].start.getTime();return e.start=u.rowlist[t.start.y]&&u.rowlist[t.start.y].start,e.end=u.rowlist[t.end.y]&&u.rowlist[t.end.y].start.addTime(i),e},this.Q=function(){var t=[];t.ignoreToJSON=!0;for(var e=0;e<this.rowlist.length;e++){var i=this.rowlist[e];if(!(i.level>0||i.isNewRow)){var n=this.U(e);t.push(n)}}return t},this.V=function(t){var e=[];e.ignoreToJSON=!0;for(var i=0;i<t.length;i++){var n=t[i];u.rowlist[n].isNewRow||e.push(u.U(n))}return e},this.U=function(t){var e=this.rowlist[t];if("function"==typeof u.onGetNodeState){var i={};if(i.row=e,i.preventDefault=function(){i.preventDefault.value=!0},i.result={},u.onGetNodeState(i),i.preventDefault.value)return i.result}var n={};return n.Value=e.id,n.BackColor=e.backColor,n.Name=e.name,n.InnerHTML=e.html,n.ToolTip=e.toolTip,n.Expanded=e.expanded,n.Children=this.V(e.children),n.Loaded=e.loaded,n.IsParent=e.isParent,n.Columns=this.Yh(e),e.start.getTime()!==u.Aa().getTime()&&(n.Start=e.start),e.minHeight!==u.rowMinHeight&&(n.MinHeight=e.minHeight),e.marginBottom!==u.rowMarginBottom&&(n.MarginBottom=e.marginBottom),e.marginTop!==u.rowMarginTop&&(n.MarginTop=e.marginTop),e.eventHeight!==u.eventHeight&&(n.EventHeight=e.eventHeight),n},this.Yh=function(t){if(!t.columns||0===t.columns.length)return null;var e=[];e.ignoreToJSON=!0;for(var i=0;i<t.columns.length;i++){var n={};n.InnerHTML=t.columns[i].html,e.push(n)}return e},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.cd=function(){u.nav.top.className!==u.p("_main")&&(u.nav.top.className=u.p("_main"),u.nav.dh1.className=u.p("_divider_horizontal"),u.nav.dh2.className=u.p("_divider_horizontal"),u.divResScroll.className=u.p("_rowheader_scroll"),u.nav.divider.className=u.p("_divider")+" "+u.p("_splitter"),u.nav.scroll.className=u.p("_scrollable"),u.jg.className=u.p("_matrix"),u.nav.loading.className=u.p("_loading"))},this.P=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var t=u;if(t.Zh&&!t.xd){t.xd=!0,t.K(),clearInterval(t.Nc),clearInterval(t.$h);for(var e in t.timeouts){var i=t.timeouts[e];DayPilot.isArray(i)?DayPilot.list(i).each(function(t){clearTimeout(t)}):clearTimeout(i)}t.L(),t.divBreaks=null,t.divCells=null,t.divCorner=null,t.divCrosshair=null,t.divEvents=null,t.divHeader&&(t.divHeader.rows=null),t.divHeader=null,t.divLines=null,t.divNorth=null,t.divRange=null,t.divResScroll=null,t.divSeparators=null,t.divSeparatorsAbove=null,t.divStretch=null,t.divTimeScroll=null,t.Dg=null,t.qe=null,t.jg.calendar=null,t.jg=null,t.nav.loading=null,t.nav.top.onmousemove=null,t.nav.top.dispose=null,t.nav.top.ontouchstart=null,t.nav.top.ontouchmove=null,t.nav.top.ontouchend=null,t.nav.top.removeAttribute("style"),t.nav.top.removeAttribute("class"),t.nav.top.innerHTML="",t.nav.top.dp=null,t.nav.top=null,t.nav.scroll.onscroll=null,t.nav.scroll.root=null,t.nav.scroll=null,t._h&&(t._h.dispose(),t._h=null),t.daypilot&&delete t.daypilot,DayPilot.ue(window,"resize",t.ee),n.unregister(t),D=null;for(var e in t)t[e]=null}},this.sa=function(t){var e=u.jg,i=u.ai(t),o=t.event,a=o;if(!u.bi(i.rowIndex)){var r=o.part.height||u.qc.eventHeight(),s=o.part&&o.part.top&&u.rowlist[o.part.dayIndex]?o.part.top+u.rowlist[o.part.dayIndex].top:i.top,l=i.left,c=a.cache&&void 0!==a.cache.moveVDisabled?!a.cache.moveVDisabled:!a.data.moveVDisabled,d=a.cache&&void 0!==a.cache.moveHDisabled?!a.cache.moveHDisabled:!a.data.moveHDisabled;!c&&n.moving&&(s=u.rowlist[a.part.dayIndex].top),!d&&n.moving&&(l=o.part.left);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.position="absolute",h.style.width=i.width+"px",h.style.height=r+"px",h.style.left=l+"px",h.style.top=s+"px",h.style.zIndex=101,h.style.overflow="hidden";var f=document.createElement("div");return h.appendChild(f),h.className=this.p("_shadow"),f.className=this.p("_shadow_inner"),e.appendChild(h),h.calendar=u,h}},this.Xh=function(t){for(var e,i={},n=0,o=0,a=this.rowlist.length,r=0;r<a;r++){var s=this.rowlist[r];if(!s.hidden&&(o+=s.height,t<o||r===a-1)){n=o-s.height,e=s;break}}return i.top=n,i.bottom=o,i.i=r,i.element=e,i},this.links={};var p={};this.ci=p,p.clear=function(){u.divLinksAbove.innerHTML="",u.divLinksBelow.innerHTML="",u.elements.links=[]},p.showLinkpoints=function(){d.events().each(function(t){p.showLinkpoint(t)})},p.showLinkpoint=function(t){var e=u.linkPointSize,i=e/2,n=t.event.part.left,o=u.rowlist[t.event.part.dayIndex].top+t.event.part.top,a=t.event.part.height,r=t.event.part.right,s=DayPilot.Util.div(u.divLinkpoints,n-i,o-i+a/2,e,e);s.className=u.p("_linkpoint"),s.style.boxSizing="border-box",s.coords={x:n,y:o+a/2},s.type="Start",s.event=t.event,p.activateLinkpoint(s),u.elements.linkpoints.push(s);var l=DayPilot.Util.div(u.divLinkpoints,r-i,o-i+a/2,e,e);l.className=u.p("_linkpoint"),l.style.boxSizing="border-box",l.coords={x:r,y:o+a/2},l.type="Finish",l.event=t.event,p.activateLinkpoint(l),u.elements.linkpoints.push(l)},p.activateLinkpoint=function(t){t.onmousedown=function(e){var e=e||window.event;return s.source=t,s.calendar=u,p.showLinkpoints(),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1},t.onmousemove=function(e){DayPilot.Util.addClass(t,u.p("_linkpoint_hover")),p.clearHideTimeout()},t.onmouseout=function(e){s.source&&s.source.event===t.event||DayPilot.Util.removeClass(t,u.p("_linkpoint_hover"))},t.onmouseup=function(e){if(s.source){var i=s.source.type+"To"+t.type,n=s.source.event.id(),o=t.event.id(),a={};if(a.from=n,a.to=o,a.type=i,a.id=null,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onLinkCreate&&(u.onLinkCreate(a),a.preventDefault.value))return;var r=function(){u.links.list.push({from:n,to:o,type:i,id:a.id}),p.load()};switch(u.linkCreateHandling){case"Update":r();break;case"CallBack":u.di(a);break;case"PostBack":u.ei(a);break;case"Notify":r(),u.fi(a)}"function"==typeof u.onLinkCreated&&u.onLinkCreated(a)}}},p.hideLinkpoints=function(){u.divLinkpoints.innerHTML="",u.elements.linkpoints=[]},p.hideTimeout=null,p.hideLinkpointsWithDelay=function(){p.hideTimeout=setTimeout(function(){p.hideLinkpoints()},100)},p.clearHideTimeout=function(){p.hideTimeout&&(clearTimeout(p.hideTimeout),p.hideTimeout=null)},p.load=function(){if(p.clear(),DayPilot.isArray(u.links.list))for(var t=0;t<u.links.list.length;t++){var e=u.links.list[t];p.drawLinkId(e.from,e.to,e)}},p.drawLinkId=function(t,e,i){var n=u.events.find(t),o=u.events.find(e);p.drawLink(n,o,i)},p.drawLink=function(t,e,i){var n=u._c(t),o=u._c(e);if(n&&o){var a,r,s=i.type||"FinishToStart",l=u.rowlist[n.event.part.dayIndex].top,c=u.rowlist[o.event.part.dayIndex].top;switch(s){case"FinishToStart":a={x:n.event.part.right,y:l+n.event.part.top},r={x:o.event.part.left,y:c+o.event.part.top},a.y>r.y&&a.x<r.x&&(r.y+=o.event.part.height,r.bottom=!0);break;case"StartToFinish":a={x:n.event.part.left,y:l+n.event.part.top},r={x:o.event.part.right,y:c+o.event.part.top};break;case"StartToStart":a={x:n.event.part.left,y:l+n.event.part.top},r={x:o.event.part.left,y:c+o.event.part.top};break;case"FinishToFinish":a={x:n.event.part.right,y:l+n.event.part.top},r={x:o.event.part.right,y:c+o.event.part.top}}p.drawLinkXy(a,r,i)}},p.clearShadow=function(){u.divLinkShadow.innerHTML="",u.elements.linkshadow=[]},p.drawShadow=function(t,e){if(p.clearShadow(),DayPilot.browser.ielt9)p.drawShadowOldStyle(t,e);else{var i=u.divLinkShadow,n=DayPilot.line(t.x,t.y,e.x,e.y,!0);i.appendChild(n),u.elements.linkshadow.push(n)}},p.drawShadowOldStyle=function(t,e){var i=Math.min(t.x,e.x),n=2,o=u.divLinkShadow,a="black",r=DayPilot.Util.div(o,i,t.y,t.x-i,n);r.style.backgroundColor=a,u.elements.linkshadow.push(r);var s=DayPilot.Util.div(o,i,t.y,n,e.y-t.y);s.style.backgroundColor=a,u.elements.linkshadow.push(s);var l=DayPilot.Util.div(o,i,e.y,e.x-i,n);l.style.backgroundColor=a,u.elements.linkshadow.push(l);var c=DayPilot.Util.div(o,e.x-6,e.y-5,0,0);c.style.borderColor="transparent transparent transparent black",c.style.borderStyle="solid",c.style.borderWidth="6px",u.elements.linkshadow.push(c)},p.drawLinkXy=function(t,e,i){var n=u.eventHeight/2,o=i.width||1,a=i.type||"FinishToStart",r=i.color,s=i.style,l=i.layer||"Above",c="Above"===l,d=u.divLinksAbove,h=u.eventHeight,f=u.linkBottomMargin,p=function(t,e){r&&(t.style["border"+e+"Color"]=r),s&&(t.style["border"+e+"Style"]=s)},v=[],g=function(t,e){u.elements.links.push(t),m(t),y(t),t.divs=v,e||v.push(t)},y=function(t){t.oncontextmenu=function(t){if(t=t||window.event,u.contextMenuLink){var e=new DayPilot.Link(i,u);u.contextMenuLink.show(e)}t.cancelBubble=!0,t.preventDefault&&t.preventDefault()}},m=function(t){t.onmouseenter=function(){DayPilot.Util.addClass(t.divs,u.p("_link_hover"))},t.onmouseleave=function(){DayPilot.Util.removeClass(t.divs,u.p("_link_hover"))}};if("FinishToStart"===a)if(t.y>e.y||t.y==e.y&&e.bottom)if(t.x<e.x){var b=t.x,w=t.y+h-f,D=e.x+n,C=e.y,k=DayPilot.Util.div(d,b,w,D-t.x,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,i.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,D,w,o,C-w);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),p(x,"Right"),g(x);var P;r?(P=DayPilot.Util.div(d,D-5+Math.floor(o/2),C-5,0,0),t.y<e.y?P.style.borderColor=r+" transparent transparent transparent":P.style.borderColor="transparent transparent "+r+" transparent",P.style.borderStyle="solid",P.style.borderWidth="5px"):(P=DayPilot.Util.div(d,D-6+Math.floor(o/2),C-6,6,6),t.y<e.y?P.className=u.p("_link_arrow_down"):P.className=u.p("_link_arrow_up"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else{var _=5,S=e.y+h+_,k=DayPilot.Util.div(d,t.x,t.y+h-f,n+o,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,i.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,t.x+n,t.y+h-f,o,S-(t.y+h-f));x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),p(x,"Right"),g(x);var A=DayPilot.Util.div(d,e.x-n,S,t.x+2*n+o-e.x,o);A.style.boxSizing="border-box",A.style.borderBottomWidth=o+"px",A.className=u.p("_link_horizontal"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Bottom"),g(A);var E=DayPilot.Util.div(d,e.x-n,S,o,e.y-S+h-f);E.style.boxSizing="border-box",E.style.borderRightWidth=o+"px",E.className=u.p("_link_vertical"),DayPilot.Util.addClass(E,i.cssClass),p(E,"Right"),g(E);var T=DayPilot.Util.div(d,e.x-n,e.y+h-f,n,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if(t.y===e.y)if(t.x<e.x){var b=t.x,w=t.y+h-f,D=e.x,k=DayPilot.Util.div(d,b,w,D-t.x,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,i.cssClass),p(k,"Bottom"),g(k);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else{var _=5,S=e.y+h+_,k=DayPilot.Util.div(d,t.x,t.y+h-f,n+o,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,i.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,t.x+n,t.y+h-f,o,S-(t.y+h-f));x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),p(x,"Right"),g(x);var A=DayPilot.Util.div(d,e.x-n,S,t.x+2*n+o-e.x,o);A.style.boxSizing="border-box",A.style.borderBottomWidth=o+"px",A.className=u.p("_link_horizontal"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Bottom"),g(A);var E=DayPilot.Util.div(d,e.x-n,S,o,e.y-S+h-f);E.style.boxSizing="border-box",E.style.borderRightWidth=o+"px",E.className=u.p("_link_vertical"),DayPilot.Util.addClass(E,i.cssClass),p(E,"Right"),g(E);var T=DayPilot.Util.div(d,e.x-n,e.y+h-f,n,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if(t.x>e.x){var c=5,S=e.y-c,k=DayPilot.Util.div(d,t.x,t.y+h-f,n+o,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,i.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,t.x+n,t.y+h-f,o,S-(t.y+h-f));x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),p(x,"Right"),g(x);var A=DayPilot.Util.div(d,e.x-n,S,t.x+2*n+o-e.x,o);A.style.boxSizing="border-box",A.style.borderBottomWidth=o+"px",A.className=u.p("_link_horizontal"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Bottom"),g(A);var E=DayPilot.Util.div(d,e.x-n,S,o,e.y-S+h-f);E.style.boxSizing="border-box",E.style.borderRightWidth=o+"px",E.className=u.p("_link_vertical"),DayPilot.Util.addClass(E,i.cssClass),p(E,"Right"),g(E);var T=DayPilot.Util.div(d,e.x-n,e.y+h-f,n,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else{var b=t.x,w=t.y+h-f,D=e.x+n,C=e.y,k=DayPilot.Util.div(d,b,w,D-t.x,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,i.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,D,w,o,C-w);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),p(x,"Right"),g(x);var P;r?(P=DayPilot.Util.div(d,D-5+Math.floor(o/2),C-5,0,0),t.y<e.y?P.style.borderColor=r+" transparent transparent transparent":P.style.borderColor="transparent transparent "+r+"transparent",P.style.borderStyle="solid",P.style.borderWidth="5px"):(P=DayPilot.Util.div(d,D-6+Math.floor(o/2),C-6,6,6),t.y<e.y?P.className=u.p("_link_arrow_down"):P.className=u.p("_link_arrow_up"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if("StartToFinish"===a){var c=5,S=e.y-c,k=DayPilot.Util.div(d,e.x,e.y+h-f,n+o,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,i.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,e.x+n,e.y+h-f,o,S-(e.y+h-f)+0);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),p(x,"Right"),g(x);var A=DayPilot.Util.div(d,t.x-n,S,e.x+2*n+o-t.x,o);A.style.boxSizing="border-box",A.style.borderBottomWidth=o+"px",A.className=u.p("_link_horizontal"),DayPilot.Util.addClass(A,i.cssClass),p(A,"Bottom"),g(A);var E=DayPilot.Util.div(d,t.x-n,S,o,t.y+h-f-S+0);E.style.boxSizing="border-box",E.style.borderRightWidth=o+"px",E.className=u.p("_link_vertical"),DayPilot.Util.addClass(E,i.cssClass),p(E,"Right"),g(E);var T=DayPilot.Util.div(d,t.x-n,t.y+h-f,n,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderColor="transparent "+r+" transparent transparent",P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_left"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if("StartToStart"===a){var R=Math.min(t.x,e.x)-n,k=DayPilot.Util.div(d,R,t.y+h-f,t.x-R,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,i.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,R,t.y+h-f,o,e.y-t.y);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),p(x,"Right"),g(x);var T=DayPilot.Util.div(d,R,e.y+h-f,e.x-R,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}else if("FinishToFinish"===a){var M=Math.max(e.x,t.x)+n,k=DayPilot.Util.div(d,t.x,t.y+h-f,M-t.x,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,i.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,M,t.y+h-f,o,e.y-t.y);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,i.cssClass),p(x,"Right"),g(x);var T=DayPilot.Util.div(d,e.x,e.y+h-f,M-e.x,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,i.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderColor="transparent "+r+" transparent transparent",P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_left"),DayPilot.Util.addClass(P,i.cssClass)),g(P,!0)}},this.di=function(t,e){var i={};i.from=t.from,i.to=t.to,i.type=t.type,u.F("LinkCreate",i,e)},this.fi=function(t,e){var i={};i.from=t.from,i.to=t.to,i.type=t.type,u.F("LinkCreate",i,e,"Notify")},this.ei=function(t,e){var i={};i.from=t.from,i.to=t.to,i.type=t.type,u.D("LinkCreate",i,e)},this.gi=function(t){var e=0,i=0,n=0;if(t>this.rowlist.length-1)throw"Row index too high (DayPilotScheduler._getRowByIndex)";for(var o=0;o<=t;o++){var a=this.rowlist[o];a.hidden||(i+=a.height,n++)}e=i-a.height;var r={};return r.top=e,r.height=a.height,r.bottom=i,r.i=n-1,r.data=a,r},this.gd=function(){return!(!this.backendUrl||void 0!==u.events.list&&u.events.list)},this.events.find=function(t){if(!u.events.list||void 0===u.events.list.length)return null;for(var e=u.events.list.length,i=0;i<e;i++)if(u.events.list[i].id===t)return new DayPilot.Event(u.events.list[i],u);return null},this.events.all=function(){for(var t=[],e=0;e<u.events.list.length;e++){var i=new DayPilot.Event(u.events.list[e],u);t.push(i)}return DayPilot.list(t)},this.events.filter=function(t){u.events.Xc=t,u.ad({eventsOnly:!0})},this.events.edit=function(t){var e=u._c(t);return e||DayPilot.list(u.events.hi.rows).isEmpty()?void u.Ha(e):void setTimeout(function(){u.Ha(u._c(t))})},this.events.load=function(t,e,i){var n=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof i&&i(e)},o=function(t){var i,o=t.request;try{i=DayPilot.Util.parseJSON(o.responseText)}catch(t){var a={};return a.exception=t,void n(a)}if(DayPilot.isArray(i)){var r={};if(r.preventDefault=function(){this.preventDefault.value=!0},r.data=i,"function"==typeof e&&e(r),r.preventDefault.value)return;u.events.list=i,u.z&&u.update()}};DayPilot.ajax({method:"POST",contentType:"application/json",data:{start:u.visibleStart().toString(),end:u.visibleEnd().toString()},url:t,success:o,error:n})},this.events.findRecurrent=function(t,e){if(!u.events.list||void 0===u.events.list.length)return null;for(var i=u.events.list.length,n=0;n<i;n++)if(u.events.list[n].recurrentMasterId===t&&u.events.list[n].start.getTime()===e.getTime())return new DayPilot.Event(u.events.list[n],u);return null},this.events.Yg=function(t){for(var e=[],i=0;i<u.rowlist.length;i++){var n=u.rowlist[i];if(!n.isNewRow){u.Kg(i);for(var o=0;o<n.events.length;o++)if(n.events[o].data===t||n.events[o].data.id==t.id){e.push(i),n.events.splice(o,1);break}}}return e},this.events.ii=function(t){for(var e=0;e<u.rowlist.length;e++){var i=u.rowlist[e];if(!i.isNewRow){u.Kg(e);for(var n=0;n<i.events.length;n++)if(i.events[n].data===t)return i.events[n]}}return null},this.events.Zg=function(t){var e=[],i=u.ji()||"Days"===u.viewType,n=DayPilot.indexOf(u.events.list,t);u.Qc(n);for(var o=0;o<u.rowlist.length;o++){var a=u.rowlist[o];if(!a.isNewRow){u.Kg(o);var r=u.ki(t,a);if(r&&("function"==typeof u.onBeforeEventRender&&(r.cache=u.s.events[n]),e.push(o),!i))break}}return e},this.events.update=function(t,e,i){var n={};n.oldEvent=new DayPilot.Event(t.copy(),u),n.newEvent=new DayPilot.Event(t.temp(),u);var i=i||{},o=new DayPilot.Action(u,"EventUpdate",n,e);if(DayPilot.list(u.events.list).find(function(e){var i=e instanceof DayPilot.Event?e.data:e;return i===t.data||i.id==t.data.id})){if(u.Jc.scope)u.Jc.notify(function(){t.commit()});else if(u.gg.skip=!0,(u.eventUpdateInplaceOptimization||i.inplace)&&n.oldEvent.resource()===n.newEvent.resource()&&n.oldEvent.start()===n.newEvent.start()&&n.oldEvent.end()===n.newEvent.end()){t.commit();var a=u._c(t);if(a){var r=a.event.part;u.li(a),DayPilot.rfa(u.elements.events,a),t.part=r}u.events.Yg(t.data);var s=u.events.Zg(t.data);u.$g(s);var l=u.events.ii(t.data);l&&u.Nb(l)}else{var s=u.events.Yg(t.data);t.commit(),s=s.concat(u.events.Zg(t.data)),u.events.mi(s)}return o}},this.events.remove=function(t,e){var i={};i.e=new DayPilot.Event(t.data,u);var n=new DayPilot.Action(u,"EventRemove",i,e),o=DayPilot.indexOf(u.events.list,t.data);if(o>=0&&u.events.list.splice(o,1),u.Jc.scope)u.Jc.notify();else{u.gg.skip=!0;var a=u.events.Yg(t.data);u.events.mi(a)}return n},this.events.add=function(t,e){t.calendar=u,u.events.list||(u.events.list=[]),DayPilot.list(u.events.list).find(function(e){var i=e instanceof DayPilot.Event?e.data:e;return i===t.data||i.id==t.data.id})||u.events.list.push(t.data);var i=new DayPilot.Action(u,"EventAdd",n,e);if(!u.z)return i;if(u.Jc.scope)u.Jc.notify();else{u.gg.skip=!0;var n={};n.e=t;var o=u.events.Zg(t.data);u.events.mi(o)}return i},this.events.hi={rows:[]},this.events.ni=null,this.events.hh=function(){clearTimeout(u.events.ni),u.events.hi.rows=[]},this.events.mi=function(t){clearTimeout(u.events.ni);var e=u.events.hi.rows;DayPilot.list(t).each(function(t){e.push(t)}),u.events.hi.rows=DayPilot.ua(e);var i=u.events.immediateRefresh;u.events.ni=setTimeout(i,0)},this.events.immediateRefresh=function(){clearTimeout(u.events.ni);var t=u.events.hi.rows;u.events.hi.rows=[],u.$g(t),u._g(),u.z&&("Gantt"===u.viewType?u.update():(u.ah(t),u.ia(),u.oi()))},this.gg={},this.gg.enabled=!1,this.gg.skip=!1,this.gg.skipUpdate=function(){return u.gg.skip},this.gg.skipped=function(){u.gg.skip=!1},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(t){if(t){if(!t.isAction)throw"DayPilot.Action object required for queue.add()";u.queue.list.push(t)}},this.queue.notify=function(t){var e={};e.actions=u.queue.list,u.F("Notify",e,t,"Notify"),u.queue.list=[]},this.queue.clear=function(){u.queue.list=[]},this.queue.pop=function(){return u.queue.list.pop()},this.cells.find=function(t,e){var i=u.getPixels(new DayPilot.Date(t));if(!i)return g();var n=i.i,o=u.mg(e);if(!o)return g();var a=o.index;return this.findXy(n,a)},this.cells.findByPixels=function(t,e){var i=u.Rg(t);if(!i)return g();var t=i.x,n=u.Xh(e);if(!n)return g();var e=n.i;return this.findXy(t,e)},this.cells.all=function(){for(var t=[],e=u.itline.length,i=u.rowlist.length,n=0;n<e;n++)for(var o=0;o<i;o++){var a=u.cells.findXy(n,o);t.push(a[0])}return g(t)},this.cells.pi=function(t,e){var i=u.Vg(t),n=u.rowlist[e],o=n.start.getTime()-u.Aa().getTime(),a=i.start.addTime(o),r=i.end.addTime(o),s={};s.x=t,s.y=e,s.i=t+"_"+e,n.id,s.resource=n.id,s.start=i.start,s.end=i.end,s.calendar=u,s.isParent=n.children&&n.children.length,s.update=function(){if(!u.rowlist[s.y].hidden){var t=u.s.cells[s.i];u.qi(t);var e=u.og();e.xStart<=s.x&&s.x<=e.xEnd&&e.yStart<=s.y&&s.y<=e.yEnd&&u.Ue(s.x,s.y)}},s.utilization=function(t){return n.sections||n.calculateUtilization(),n.sections.forRange(a,r).maxSum(t)},s.events=function(){return n.events.forRange(a,r)},s.div=u.s.cells[s.i];var l=u.ri(t,e);return s.properties=l,s},this.cells.findXy=function(t,e){if(DayPilot.isArray(t)){for(var i=[],n=0;n<t.length;n++){var o=t[n];i.push(u.cells.pi(o.x,o.y))}return g(i)}return null===t||null===e?g():g(u.cells.pi(t,e))};var v=function(t){var e=DayPilot.list();if(DayPilot.isArray(t))for(var i=0;i<t.length;i++)e.push(t[i]);else"object"==typeof t&&e.push(t);return e};this.si=function(t){var e=DayPilot.list();if(DayPilot.isArray(t))for(var i=0;i<t.length;i++)e.push(t[i]);else"object"==typeof t&&e.push(t);return e.cssClass=function(t){return this.each(function(e){e.properties.cssClass=DayPilot.Util.addClassToString(e.properties.cssClass,t),e.update()}),this},e.removeClass=function(t){return this.each(function(e){e.properties.cssClass=DayPilot.Util.removeClassFromString(e.properties.cssClass,t),e.update()}),this},e.addClass=e.cssClass,e.html=function(t){return this.each(function(e){e.properties.html=t,e.update()}),this},e.invalidate=function(){return this.each(function(t){delete u.gh[t.i]}),this},e};var g=this.si;this.Jc={},this.Jc.scope=null,this.Jc.notify=function(t){u.Jc.scope&&DayPilot.Util.safeApply(u.Jc.scope,t)},this.debug=new DayPilot.Debug(this),this.ui=function(t){if("Days"!==u.viewType)throw"Checking row start when viewType !== 'Days'";for(var e=0;e<u.rowlist.length;e++){var i=u.rowlist[e],n=i.element?i.element.data:i.data,o=n.start;if(t.getTime()>=o.getTime()&&t.getTime()<o.addDays(1).getTime())return o}return null},this.vi=function(t){var e=u.Aa();if(t.ticks===e.ticks)return t;var i=e;if(t.ticks<e.ticks){for(var n=this.itline[0].end.ticks-this.itline[0].start.ticks;i.ticks>t.ticks;)i=i.addTime(-n);return i}if("Days"===u.viewType){var o=this.ui(t),a=o.getTime()-u.Aa().getTime(),r=this.Tg(t.addTime(-a));if(r.current)return r.current.start.addTime(a);if(r.past)return r.previous.end.addTime(a);throw"getBoxStart(): time not found"}var r=this.Tg(t);if(r.current)return r.current.start;if(r.past)return r.previous.end;if(r.hidden){var s=r.next.start.getTime()-t.getTime(),l=r.next.end.getTime()-r.next.start.getTime(),c=Math.ceil(s/l)*l;return r.next.start.addTime(-c)}throw"getBoxStart(): time not found"},this.wi=function(t){var e=this.Xh(u.coords.y),i=t.event;if("function"!=typeof i.end)throw"e.end function is not defined";if(!i.end())throw"e.end() returns null";var o=DayPilot.DateUtil.diff(i.rawend(),i.start());o=Math.max(o,1);var a=M.useBox(o),r=i.data&&"Milestone"===i.data.type,s=u.eventHeight,l=0,c=u.coords.x;if(r&&(c+=s/2),"Manual"===u.scale){var d=function(){var t=u.getDate(u.coords.x,!0,!0),e=t.addTime(-o),i=u.getPixels(e).boxLeft,n=u.getPixels(t).boxRight,t=Math.min(n,u.coords.x);return t-i}(),h=Math.min(n.moveOffsetX?n.moveOffsetX:0,d);c=u.coords.x-h}var f=0,p="Days"===this.viewType||this.xi();if(p&&!i.part.external&&(f=this.rowlist[i.part.dayIndex].start.getTime()-this.Aa().getTime()),a&&!r){var v=u.Tg(i.start()),g=!v.hidden&&!v.past;l=i.start().getTime()-this.vi(i.start().addTime(-f)).addTime(f).getTime(),g&&(l=function(t,e){var i=u.yi(u.Tg(t).current),n=u.yi(u.Rg(c).cell);if(i>1.2*n){for(var o=e>0?1:-1,e=Math.abs(e);e>=n;)e-=n;e*=o}return e}(i.start(),l))}var y=n.moving?n.moving.event.calendar:u;y!==u&&y.zi()!==u.zi()&&(l=0);var m=0;if(n.moveDragStart&&"Manual"!==u.scale&&y===u){if(a){var b=i.start().addTime(-f),w=this.vi(b);if(u.eventMoveSkipNonBusiness){var D=u.Ai(w,e.i);if(!D)throw new DayPilot.Exception("No next cell found");D.start>w&&(w=D.start)}if(m=n.moveDragStart.getTime()-w.getTime(),u.eventMoveSkipNonBusiness){var C=u.Bi(w,n.moveDragStart);m-=C}var k=60*u.zi()*1e3;m=Math.floor(m/k)*k}else if(m=n.moveDragStart.getTime()-i.start().addTime(-f).getTime(),u.eventMoveSkipNonBusiness){var C=u.Bi(i.start().addTime(-f),n.moveDragStart);m-=C}if(u.eventMoveSkipNonBusiness){var x=u.getDate(u.coords.x,!0);m=u.Ci(x,m,e.i)}}else m=0;this.eventMoveToPosition&&(m=0);var P=this.getDate(c,!0).addTime(-m).addTime(f);n.resizing&&(P=i.start()),this.snapToGrid&&(P=this.vi(P.addTime(-f)).addTime(f)),P=P.addTime(l);var _=P.addTime(o),S=P,A=_;if(p){S=P.addTime(-f),A=S.addTime(o);var E=e.element.data.start.getTime()-this.Aa().getTime();P=S.addTime(E),_=P.addTime(o)}!function(){if(u.eventMoveSkipNonBusiness){var t=e.i,n=u.Di(i),o=n,a=u.Ai(S,t);if(!a)throw new DayPilot.Exception("No next cell found");var r=DayPilot.indexOf(u.itline,a);if(a.start>P)P=a.start;else{if((n-=a.end.getTime()-S.getTime())<=0)return _=P.addTime(o),void(A=_.addTime(-f));r+=1}S=P.addTime(-f);for(var s=r;s<u.itline.length;s++)if(u.ri(s,t).business){var l=u.itline[s],c=l.start.addTime(f),d=l.end.addTime(f),h=d.getTime()-c.getTime();if(n<=h)return _=c.addTime(n),void(A=_.addTime(-f));n-=h}_=c.addTime(n),A=_.addTime(-f)}}();var T=this.getPixels(S),R=this.getPixels(A),H=a?T.boxLeft:T.left,B=a?R.boxRight-H:R.left-H;r&&(B=s,H-=B/2);var O={};return O.top=e.top,O.left=H,O.row=e.element,O.rowIndex=e.i,O.width=B,O.start=P,O.end=_,O.relativeY=u.coords.y-e.top,O},this.ai=function(t){var e=this.Xh(u.coords.y),i=t.event;if("function"!=typeof i.end)throw"e.end function is not defined";if(!i.end())throw"e.end() returns null";var o=DayPilot.DateUtil.diff(i.rawend(),i.start());o=Math.max(o,1);var a=M.useBox(o),r=i.data&&"Milestone"===i.data.type,s=u.eventHeight,l=0,c=u.coords.x;if(r&&(c+=s/2),"Manual"===u.scale){var d=function(){var t=u.getDate(u.coords.x,!0,!0),e=t.addTime(-o),i=u.getPixels(e).boxLeft,n=u.getPixels(t).boxRight,t=Math.min(n,u.coords.x);return t-i}(),h=Math.min(n.moveOffsetX?n.moveOffsetX:0,d);c=u.coords.x-h}var f=0,p="Days"===this.viewType||this.xi();if(p&&!i.part.external&&(f=this.rowlist[i.part.dayIndex].start.getTime()-this.Aa().getTime()),a&&!r){var v=u.Tg(i.start()),g=!v.hidden&&!v.past;l=i.start().getTime()-this.vi(i.start().addTime(-f)).addTime(f).getTime(),g&&(l=function(t,e){var i=u.yi(u.Tg(t).current),n=u.yi(u.Rg(c).cell);if(i>1.2*n){for(var o=e>0?1:-1,e=Math.abs(e);e>=n;)e-=n;e*=o}return e}(i.start(),l))}var y=n.moving?n.moving.event.calendar:u;y!==u&&y.zi()!==u.zi()&&(l=0);var m=0;if(n.moveDragStart&&"Manual"!==u.scale&&y===u)if(a){var b=i.start().addTime(-f),w=this.vi(b);m=n.moveDragStart.getTime()-w.getTime();var D=60*u.zi()*1e3;m=Math.floor(m/D)*D}else m=n.moveDragStart.getTime()-i.start().addTime(-f).getTime();else m=0;this.eventMoveToPosition&&(m=0);var C=this.getDate(c,!0).addTime(-m).addTime(f);n.resizing&&(C=i.start()),this.snapToGrid&&(C=this.vi(C.addTime(-f)).addTime(f)),C=C.addTime(l);var k=C.addTime(o),x=C,P=k;if(p){x=C.addTime(-f),P=x.addTime(o);var _=e.element.data.start.getTime()-this.Aa().getTime();C=x.addTime(_),k=C.addTime(o)}if(n.moveDragStart&&u.eventMoveSkipNonBusiness){var S=e.i,A=n.moveDragStart.addTime(f);this.snapToGrid&&(A=this.vi(A.addTime(-f)).addTime(f));var E=u.Ei(i.start(),A,i.part.dayIndex),o=u.Di(i),T=u.getDate(c,!0);u.snapToGrid&&(T=u.getDate(c));var h=u.Fi(T,E,S);C=T.addTime(-h).addTime(f),this.snapToGrid&&(C=this.vi(C.addTime(-f)).addTime(f)),l=u.Ei(this.vi(i.start().addTime(-f)).addTime(f),i.start(),S),C=C.addTime(l),k=u.Gi(C,o,S),x=C.addTime(-f),P=k.addTime(-f)}var R=this.getPixels(x),H=this.getPixels(P),B=a?R.boxLeft:R.left,O=a?H.boxRight-B:H.left-B;r&&(O=s,B-=O/2);var N={};return N.top=e.top,N.left=B,N.row=e.element,N.rowIndex=e.i,N.width=O,N.start=C,N.end=k,N.relativeY=u.coords.y-e.top,N},this.Bi=function(t,e){var i=u.Tg(t),n=u.Tg(e),o=null,a=0;i.hidden&&(o=t);for(var r=i.i;r<=n.i;r++){var s=u.itline[r];o&&o<s.start&&(a+=s.start.getTime()-o.getTime()),o=s.end}return a},this.Gi=function(t,e,i){var n=e,o=u.rowlist[i],a=o.data.start.getTime()-u.Aa().getTime(),r=t.addTime(-a),s=u.Ai(r,i);if(!s)throw new DayPilot.Exception("No next cell found");var l=DayPilot.indexOf(u.itline,s);if(s.start>t);else{if((n-=s.end.getTime()-r.getTime())<=0)return t.addTime(e);l+=1}for(var c=l;c<u.itline.length;c++)if(u.ri(c,i).business){var d=u.itline[c],h=d.start.addTime(a),f=d.end.addTime(a),p=f.getTime()-h.getTime();if(n<=p)return h.addTime(n);n-=p}return h.addTime(n)},this.Ei=function(t,e,i){var n=u.rowlist[i],o=n.data.start.getTime()-u.Aa().getTime(),a=(u.Tg(t),t.addTime(-o)),r=e.addTime(-o),s=u.Ai(a,i);if(!s)throw new DayPilot.Exception("No next cell found");var l=0,c=DayPilot.indexOf(u.itline,s);if(s.start<=r){if(e<s.end.addTime(o))return s.start>a?e.getTime()-s.start.addTime(o).getTime():e.getTime()-t.getTime();l+=a>s.start?s.end.getTime()-a.getTime():s.end.getTime()-s.start.getTime(),c+=1}for(var d=c;d<u.itline.length;d++)if(u.ri(d,i).business){var h=u.itline[d],f=h.start.addTime(o),p=h.end.addTime(o),v=p.getTime()-f.getTime();if(e<f)return l;if(e<p)return l+=e.getTime()-f.getTime();l+=v}var g=e-u.itline.last().end.addTime(o);return l+=Math.min(0,g)},this.Di=function(t){var e=t.part.dayIndex;return u.Ei(t.start(),t.rawend(),e)},this.Ci=function(t,e,i){var n=0,o=e,a=u.Tg(t);if(!a.current)throw new DayPilot.Exception("Current cell not found.");if(t.addTime(-e)>a.current.start)return e;n+=t.getTime()-a.current.start.getTime(),o-=t.getTime()-a.current.start.getTime();var r=DayPilot.indexOf(u.itline,a.current);r-=1;for(var s=a.current.start;r>=0;){var a=u.itline[r];s>a.end&&(n+=s.getTime()-a.end.getTime()),s=a.start;var l=a.end.getTime()-a.start.getTime();if(o<=l)return n+=o;n+=l,o-=l,r-=1}throw new DayPilot.Exception("Unable to backward calculate offset in visible timeline")},this.Fi=function(t,e,i){var n=0,o=e,a=u.Tg(t);if(!a.current)throw new DayPilot.Exception("Current cell not found.");var r=DayPilot.indexOf(u.itline,a.current);if(u.ri(r,i).business){if(t.addTime(-e)>=a.current.start)return e}else if(0===e||t.addTime(-e)>=a.current.start)return t.getTime()-u.Ai(t,i).start.getTime();n+=t.getTime()-a.current.start.getTime(),o-=t.getTime()-a.current.start.getTime(),r-=1;for(var s=a.current.start;r>=0;){var a=u.itline[r];s>a.end&&(n+=s.getTime()-a.end.getTime()),s=a.start;var l=a.end.getTime()-a.start.getTime();if(u.ri(r,i).business){if(o<=l)return n+=o;n+=l,o-=l}else n+=l;r-=1}throw new DayPilot.Exception("Unable to calculate backward offset in visible timeline")},this.Ai=function(t,e){var i=u.Tg(t),n=0;if(i.past)return null;if(i.current)n=i.i;else{if(!i.next)return null;n=DayPilot.indexOf(u.itline,i.next)}for(var o=n;o<u.itline.length;o++)if(u.Hi(o,e))return u.itline[o];return null},this.Hi=function(t,e){return u.ri(t,e).business},this.zi=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600;case"Manual":if(u.itline.length>0){var t=u.itline[0];return(t.end.getTime()-t.start.getTime())/6e4}return u.cellDuration}throw"can't guess cellDuration value"},this.yi=function(t){return t.end.ticks-t.start.ticks},this.bi=function(t){return this.treePreventParentUsage&&this.Ii(t)},this.Ii=function(t){var e=this.rowlist[t];return!!e.isParent||!!(this.treeEnabled&&e.children&&e.children.length>0)},this.Ji={},this.Ki=function(){if(u.treeAutoExpand){var t=this.ai(n.moving),e=t.rowIndex,i=this.Ii(e),o=this.Ji;if(o.timeout&&o.y!==e&&(clearTimeout(o.timeout),o.timeout=null),i){o.y=e;var a=!u.rowlist[o.y].expanded;!o.timeout&&a&&(o.timeout=setTimeout(function(){!u.rowlist[o.y].expanded&&(u.Li(o.y),u.Mi()),o.timeout=null},500))}}},this.Bc=function(){var t=n.resizingShadow.width,e=n.resizingShadow.left,i=n.resizingEvent,o=n.resizing.dpBorder,a=u.rowlist[i.part.dayIndex],r=0;r=a.start.getTime()-u.Aa().getTime();var s=null,l=null,c=!u.snapToGrid;"left"===o?(s=u.getDate(e,c).addTime(r),l=i.rawend()):"right"===o&&(s=i.start(),l=u.getDate(e+t,c,!0).addTime(r)),n.resizingShadow.start=s,n.resizingShadow.end=l,b.update()},this.exportAs=function(t,e){var i=y.generate(t,e);return new DayPilot.Export(i)},this.export=this.exportAs,this.Ni={};var y=this.Ni;y.getWidth=function(){var t=y.Oi;switch(t){case"viewport":return u.nav.top.offsetWidth;case"full":return u.xg()+y.getRowHeaderWidth();case"range":return u.getPixels(y.getRangeEnd()).boxRight-u.getPixels(y.getRangeStart()).boxLeft+y.getRowHeaderWidth();default:throw"Unsupported export mode: "+t}},y.getHeight=function(){var t=y.Oi;switch(t){case"viewport":return u.nav.top.offsetHeight-DayPilot.sh(u.nav.scroll)-1;case"full":return u.Pi()+u.zg()-DayPilot.sh(u.nav.scroll);case"range":var e=y.getRows();if(0===e.length)return u.zg();var i=e.first(),n=e.last();return n.top-i.top+n.height+u.zg();default:throw"Unsupported export mode: "+t}},y.getRangeStart=function(){var t=y.Qi.dateFrom||u.Aa();return new DayPilot.Date(t)},y.getRangeEnd=function(){var t=y.Qi.dateTo||u.Ng();return new DayPilot.Date(t)},y.getRangeResStart=function(){return y.Qi.resourceFrom?u.mg(y.Qi.resourceFrom):u.rowlist.find(function(t){return!t.hidden})},y.getRangeResEnd=function(){return y.Qi.resourceTo?u.mg(y.Qi.resourceTo):u.rowlist.last()},y.getRowHeaderWidth=function(){return u.Ag()},y.getTimeHeaderHeight=function(){return u.zg()},y.getCanvas=function(){return y.canvas()},y.getRectangles=function(){var t=y.getRowHeaderWidth(),e=y.getTimeHeaderHeight(),i={};i.main={x:0,y:0,w:y.getWidth(),h:y.getHeight()},i.corner={x:0,y:0,w:t,h:e},i.grid={x:t,y:e,w:y.getWidth()-t,h:y.getHeight()-e};var n=i.grid.w,o=u.itline.last();o&&o.left+o.width<i.grid.w&&(n=o.left+o.width);var a=i.grid.h,r=u.rowlist.last();return r&&r.top+r.height<i.grid.h&&(a=r.top+r.height),i.gridContent={x:t,y:e,w:n,h:a},i},y.getRows=function(){var t,e,i,n,o=y.Oi,a=DayPilot.list();switch(o){case"viewport":t=u.Ri,e=t+u.nav.scroll.offsetHeight,i=u.Xh(t).i,n=u.Xh(e).i;break;case"full":t=0,i=0,n=u.rowlist.length;break;case"range":var r=y.getRangeResStart(),s=y.getRangeResEnd();if(!r)throw"Resource specified using resourceFrom option not found during export.";if(!s)throw"Resource specified using resourceTo option not found during export.";i=r.index,n=s.index}n<u.rowlist.length&&(n+=1);for(var l=i;l<n;l++){var c=u.rowlist[l];c.hidden||a.push(c)}return a.offset=i,a},y.getEvents=function(){var t=y.Oi;switch(t){case"full":var e=DayPilot.list();return DayPilot.list(u.rowlist).each(function(t){t.hidden||DayPilot.list(t.events).each(function(t){e.push(t)})}),e;case"viewport":return d.events().map(function(t){return t.event});case"range":var e=DayPilot.list(),i=y.getRangeStart(),n=y.getRangeEnd();return y.getRows().each(function(t){DayPilot.list(t.events).filter(function(t){return DayPilot.Util.overlaps(t.start(),t.end(),i,n)}).each(function(t){e.push(t)})}),e;default:throw"Unsupported export mode: "+t}},y.getTimeline=function(){var t=y.Oi;switch(t){case"full":return DayPilot.list(u.itline).addProps({offset:0});case"viewport":return y.getViewportTimeline();case"range":return y.getRangeTimeline();default:throw"Unsupported export mode: "+t}},y.getRangeTimeline=function(){var t=DayPilot.list();if(u.itline&&u.itline.length>0){var e=u.Tg(y.getRangeStart()).i,i=u.Tg(y.getRangeEnd()).i,n=u.Si();i=Math.min(i,n-1),e=Math.max(e,0);for(var o=e;o<=i;o++){var a=u.itline[o];t.push(a)}t.offset=e}return t},y.getViewportTimeline=function(){var t=DayPilot.list();if(u.itline&&u.itline.length>0){var e=u.Ti,i=e+u.Ui,n=u.Rg(e).x,o=u.Rg(i,!0).x,a=u.Si();o=Math.min(o,a),n=Math.max(n,0);for(var r=n;r<=o;r++){var s=u.itline[r];t.push(s)}t.offset=n}return t},y.getTimeHeader=function(t){if("full"===y.Oi)return DayPilot.list(u.timeHeader[t]);var e,i,n=DayPilot.list();e=y.getViewportOffsetStart(),i=e+y.getViewportOffsetWidth();var o=u.Vi(t,e),a=u.Vi(t,i);a||(a={x:u.timeHeader[t].length-1});for(var r=o.x;r<=a.x;r++){var s=u.timeHeader[t][r];n.push(s)}return n},y.fakeDurationBar=function(){var t=document.createElement("div");t.style.display="none",t.className=u.p(E.event);var e=document.createElement("div");e.className=u.p(E.eventBar);var i=document.createElement("div");return i.className=u.p(E.eventBarInner),document.body.appendChild(t),e.appendChild(i),t.appendChild(e),t},y.fakeCell=function(){var t=document.createElement("div");t.style.display="none",t.className=u.p("_cell"),t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px";var e=document.createElement("div");return e.className=u.p("_cell_inner"),t.appendChild(e),u.divCells.appendChild(t),t},y.fakeRowHeader=function(){var t=document.createElement("div");t.style.display="none",t.className=u.p("_rowheader"),t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px";var e=document.createElement("div");return e.className=u.p("_rowheader_inner"),t.appendChild(e),u.divResScroll.appendChild(t),t},y.fakeExpand=function(){var t=document.createElement("div");return t.style.display="none",t.className=u.p("_tree_image_expand"),document.body.appendChild(t),t},y.extractUrl=function(t){var e=/url\((")?([^"].*[^"])\1\)/.exec(t);return e?e[2]:null},y.getImages=function(){var t={},e=y.fakeExpand();return t.expand=y.extractUrl(new DayPilot.StyleReader(e).get("background-image")),e.className=u.p("_tree_image_collapse"),t.collapse=y.extractUrl(new DayPilot.StyleReader(e).get("background-image")),e.className=u.p("_tree_image_no_children"),t.nochildren=y.extractUrl(new DayPilot.StyleReader(e).get("background-image")),DayPilot.de(e),t},y.getFont=function(t){return new DayPilot.StyleReader(t).getFont()},y.getViewportOffsetStart=function(){switch(y.Oi){case"full":return 0;case"viewport":return u.nav.scroll.scrollLeft;case"range":return u.getPixels(y.getRangeStart()).boxLeft}},y.getViewportOffsetTop=function(){switch(y.Oi){case"full":return 0;case"viewport":return u.nav.scroll.scrollTop;case"range":return y.getRangeResStart().top}},y.getViewportOffsetWidth=function(){switch(y.Oi){case"full":return u.xg();case"viewport":return u.nav.scroll.offsetWidth;case"range":return u.getPixels(y.getRangeEnd()).boxRight-y.getViewportOffsetStart()}},y.excelBoard=function(){var t=new DayPilot.Excel,e=t.worksheets.create("Scheduler"),i=new DayPilot.StyleReader(u.nav.corner).get("background-color"),n=new DayPilot.StyleReader(u.nav.top).get("border-top-color"),o=DayPilot.list(u.elements.events).map(function(t){return t.firstChild}).last(),a=new DayPilot.StyleReader(o).get("border-right-color");t.styles.getDefault().setBackColor("#ffaaaa");var r=t.styles.create();r.setHorizontalAlignment("Center"),r.setBackColor(i),r.setBorderColor(n);var s=t.styles.create();s.setVerticalAlignment("Top"),s.setBackColor(i),s.setBorderColor(n);var l=t.styles.create();l.setVerticalAlignment("Top"),l.setBackColor("#ff0000"),l.setBorderColor(a),e.enableGridlines(!1),e.cell(0,0).setRowspan(u.timeHeader.length).setStyle(r),e.cell(10,10).setText("hi there"),DayPilot.list(u.timeHeader).each(function(t,i){var n={x:1,y:0};y.getTimeHeader(i,"full").each(function(t,o){var a=t.colspan;e.cell(o+n.x,i+n.y).setText(t.innerHTML).setColspan(a).setStyle(r)})}),DayPilot.list(u.rowlist).each(function(t,i){for(var n={x:0,y:1},o="",a=0;a<t.level;a++)o+="  ";e.cell(n.x,i+n.y).setText(o+t.html).setRowspan(t.lines.length).setStyle(s)});var c={x:0,y:u.timeHeader.length},d=c.y;return DayPilot.list(u.rowlist).each(function(t,i){DayPilot.list(t.lines).each(function(t,n){var o=c.x;DayPilot.list(t).each(function(t){var n=u.Tg(t.start()).i,a=u.Tg(t.end()).i,r=1+a-n;e.cell(n+o,i+d).setText(t.client.html()).setColspan(r).setStyle(l),o+=r-1})}),d+=t.lines.length-1}),t},y.Qi=null,y.Oi=null,y.generate=function(t,e){"object"==typeof t&&(e=t,t=null);var e=e||{},t=t||e.format||"svg",i=e.scale||1;if("xls"===t)return y.excelBoard();if("config"!==t){"jpg"===t.toLowerCase()&&(t="jpeg");var n=e.area||"viewport";y.Qi=e,y.Oi=n,y.getRows().each(function(t){u.Wi(t)});var o,a=y.getWidth(),r=y.getHeight();switch(t.toLowerCase()){case"svg":o=new DayPilot.Svg(a,r);break;case"png":o=new DayPilot.Canvas(a,r,"image/png",i);break;case"jpeg":o=new DayPilot.Canvas(a,r,"image/jpeg",i,e.quality);break;default:throw"Export format not supported: "+t}var s=y.getRectangles(),l=y.getImages(),c=new DayPilot.StyleReader(u.nav.top).get("background-color"),d=new DayPilot.StyleReader(u.nav.corner).get("background-color"),h=new DayPilot.StyleReader(u.nav.top).get("border-top-color"),f=new DayPilot.StyleReader(u.nav.divider).get("background-color"),p=DayPilot.list(u.elements.events).map(function(t){return t.firstChild}).last(),v=new DayPilot.StyleReader(p).get("border-right-color"),g=y.getFont(p),m=new DayPilot.StyleReader(p).get("color"),b=new DayPilot.StyleReader(p).get("background-color");b=DayPilot.Util.isTransparentColor(b)?"white":b;var w=y.fakeDurationBar(),D=new DayPilot.StyleReader(w.firstChild).get("background-color"),C=new DayPilot.StyleReader(w.firstChild.firstChild).get("background-color");DayPilot.de(w);var k=y.fakeCell(),x=new DayPilot.StyleReader(k).get("background-color");DayPilot.Util.addClass(k,u.p("_cell_business"));var P=new DayPilot.StyleReader(k).get("background-color"),_=y.getFont(k),S=new DayPilot.StyleReader(k).get("color");DayPilot.de(k);var A=DayPilot.Util.firstPropValue(u.s.linesVertical),E=new DayPilot.StyleReader(A).get("background-color"),T=u.s.timeHeader["0_0"],R=y.getFont(T),M=new DayPilot.StyleReader(T).get("color"),B=new DayPilot.StyleReader(T).get("background-color"),O=y.fakeRowHeader(),N=y.getFont(O),j=new DayPilot.StyleReader(O).get("color"),I=new DayPilot.StyleReader(O).get("background-color");if(DayPilot.de(O),u.rowHeaderColumns&&u._h&&u._h.blocks[0])var U=u._h.blocks[0].section.firstChild,L=new DayPilot.StyleReader(U).getFont(),F=new DayPilot.StyleReader(U).get("color");var z=y.getViewportOffsetStart(),W=y.getViewportOffsetTop();o.fillRect(s.main,"white"),o.fillRect(s.main,c),o.fillRect(s.corner,d);var J=s.corner.x;DayPilot.list(u.rowHeaderColumns).each(function(t,e){var i=u.rowHeaderCols[e],n={};n.x=J,n.w=i+1,n.y=s.corner.h-u._h.height,n.h=u._h.height+1;var a=3,r=DayPilot.Util.copyProps(n);r.x+=a,r.w-=a,o.text(r,t.title,L,F),o.rect(n,h),J+=i});var V="function"==typeof u.onBeforeTimeHeaderExport;DayPilot.list(u.timeHeader).each(function(t,e){y.getTimeHeader(e,n).each(function(t){var i=s.grid.x+t.left-z,n=t.width,a=H.timeHeader(e),r=a.top,l=a.height,c=t.innerHTML,d=t.backColor;if(V){var f={};f.header={},f.header.start=t.start,f.header.end=t.end,f.header.level=e,f.header.text=t.text,f.header.html=t.innerHTML,f.text=t.innerHTML,f.backColor=t.backColor,u.onBeforeTimeHeaderExport(f),c=f.text,d=f.backColor}var p=Math.max(0,s.grid.x-i);i+=p,n-=p;var p=Math.max(0,i+n-(s.grid.x+s.grid.w));n-=p;var v={x:i,y:r,w:n+1,h:l+1};d=d||B,o.fillRect(v,d),o.rect(v,h),o.text(v,c,R,M,"center")})}),y.getTimeline().each(function(t){var e=s.grid.x+t.left-z;(e+=Math.max(0,s.grid.x-e))!==s.grid.x&&o.line(e,s.grid.y+1,e,s.grid.y+s.grid.h-2,E)});var q="function"==typeof u.onBeforeCellExport;y.getRows().each(function(t,e,i){var e=t.index;y.getTimeline().each(function(i,n,a){var n=a.offset+n,r=u.ri(n,e),l=r.business,c=u.Xi(n,e),d=r.html,h="left",f=r.backColor||(l?P:x);q&&(c||(c={},c.cell=u.cells.findXy(n,e)[0]),c.text=d,c.horizontalAlignment=h,c.backColor=f,u.onBeforeCellExport(c),d=c.text,h=c.horizontalAlignment,f=c.backColor);var p=s.grid.y+t.top-W;p+=Math.max(0,s.grid.y-p);var v=s.grid.x+i.left-z;v+=Math.max(0,s.grid.x-v);var g={x:v,y:p,w:i.width,h:t.height};o.fillRect(g,f);var y={};y.x=g.x+1,y.y=g.y+1,y.w=g.w-2,y.h=g.h-2,d&&o.text(y,d,_,S,h)})}),y.getRows().each(function(t){var e=s.grid.y+t.top-W;(e+=Math.max(0,s.grid.y-e))!==s.grid.y&&o.line(s.gridContent.x+1,e,s.gridContent.x+s.gridContent.w-1,e,E)});var G="function"==typeof u.onBeforeRowHeaderRender,Y="function"==typeof u.onBeforeRowHeaderExport;return y.getRows().each(function(t){var e=s.grid.y+t.top-W;e+=Math.max(0,s.grid.y-e);var i=10,n=t.level*u.treeIndent+u.treeImageMarginLeft,a={x:0,y:e,w:s.grid.x+1,h:t.height+1},r=t;G&&(r=u.Yi(t).row);var c={};c.text=r.html,c.backColor=r.backColor||I,c.fontSize=N.size,c.fontFamily=N.family,c.fontStyle=N.style,c.fontColor=j,c.borderColor=h,c.horizontalAlignment="left",Y&&(c.row=u.Dh(t),u.onBeforeRowHeaderExport(c));var d={x:n,y:e+u.treeImageMarginTop,w:10,h:10},f=u.treeEnabled?n+i+3:n,p={x:f,y:e,w:a.w-(n+i),h:t.height+1};if(o.fillRect(a,c.backColor),o.text(p,c.text,{size:c.fontSize,family:c.fontFamily,style:c.fontStyle},c.fontColor,c.horizontalAlignment),o.rect(a,c.borderColor),u.treeEnabled){var v=null;v=DayPilot.list(t.children).isEmpty()?l.nochildren:t.expanded?l.collapse:l.expand,o.image(d,v)}if(u.rowHeaderCols){var n=a.x;DayPilot.list(u.rowHeaderCols).each(function(t,e){if(0!==e){var i=r.columns[e-1],s=DayPilot.Util.copyProps(a);s.x=n,s.w=t;var l=3,u=DayPilot.Util.copyProps(s);u.x+=l,u.w-=l;var d=i.html||"",h=i.backColor||c.backColor;o.fillRect(s,h),d&&o.text(u,d,{size:c.fontSize,family:c.fontFamily,style:c.fontStyle},c.fontColor,c.horizontalAlignment),o.rect(s,c.borderColor)}n+=t})}}),y.getEvents().each(function(t){var e=u.rowlist[t.part.dayIndex].top,i=t.part.width,n=t.part.barWidth,a=t.client&&t.client.barVisible&&t.client.barVisible(),r=s.grid.y+e+t.part.top-W;r+=Math.max(0,s.grid.y-r);var l=s.grid.x+t.part.left-z,c=Math.max(0,s.grid.x-l);l+=c,i-=c,n-=c;var d=t.cache||t.data,h=d.barColor||C,f=d.barBackColor||D,p=d.backColor||b,y=d.fontColor||m,w=5,k=2,x={};x.e=t,x.text=t.text?t.text():t.client.html(),x.fontSize=g.size,x.fontFamily=g.family,x.fontStyle=g.style,x.fontColor=y,x.backColor=p,x.borderColor=v,x.horizontalAlignment="left",x.barHeight=w,"function"==typeof u.onBeforeEventExport&&u.onBeforeEventExport(x);var P={x:l,y:r,w:i,h:t.part.height},_={x:l,y:r,w:i,h:x.barHeight},S={x:l+t.part.barLeft,y:r,w:n,h:w};t.part.height,o.fillRect(P,x.backColor),o.text(P,x.text,{size:x.fontSize,family:x.fontFamily,style:x.fontStyle},x.fontColor,x.horizontalAlignment,k),o.rect(P,x.borderColor),a&&(o.fillRect(_,f),n>0&&o.fillRect(S,h)),DayPilot.list(d.areas).each(function(e){var i=e.left;e.start&&(i=u.getPixels(new DayPilot.Date(e.start)).left-t.part.left);var n=e.width||e.w;e.right?n=t.part.width-e.right-i:e.end&&(n=u.getPixels(new DayPilot.Date(e.end)).left-e.left-t.part.left+1);var a=e.top,s=e.height||e.h;"number"==typeof e.bottom&&(s=t.part.height-e.bottom-a);var c={x:l+i,y:r+a,w:n,h:s};o.fillRect(c,e.backColor),o.text(c,e.html,{size:x.fontSize,family:x.fontFamily,style:x.fontStyle},e.fontColor||x.fontColor,null,e.padding)})}),o.rect(s.main,h),o.line(s.grid.x,0,s.grid.x,s.main.h,f),o.line(0,s.grid.y,s.main.w,s.grid.y,f),o}},this.Zi={};var m=this.Zi;m.findJointDivs=function(t){var e=t.data.join;return e?DayPilot.list(u.elements.events).filter(function(i){return i.event.data.join===e&&i.event!==t}):DayPilot.list()},this.$i={};var b=this.$i;b.divs=[],b.list=[],b.forbidden=!1,b.additional=function(){var t=DayPilot.list(),e=u.multiselect.isSelected(n.resizing.event),i=u.allowMultiResize,t=DayPilot.list();if(e&&i&&(t=DayPilot.list(u.multiselect.divs).filter(function(t){return t!==n.resizing})),u.jointEventsResize){var o=m.findJointDivs(n.resizingEvent);t=t.concat(o)}return t},b.update=function(){b.clear(),b.draw()},b.clear=function(){DayPilot.de(b.divs),b.divs=[]},b.draw=function(){if(n.resizing){var t=n.resizingEvent,e=n.resizingShadow,i=e.start.getTime()-t.start().getTime(),o=e.end.getTime()-t.end().getTime(),a=0;if(b.list=[],b.forbidden=!1,b.invalid=!1,b.rowoffset=a,b.additional().each(function(t){if(t.event){var e=t.event,n=u.rowlist[e.part.dayIndex+a];if(!n)return void(b.invalid=!0);var r=e.part.top+n.top,s=e.part.height,l=e.start().addTime(i),c=e.end().addTime(o),d={};d.event=e,d.start=l,d.end=c,d.overlapping=!1,b.list.push(d);var h=u.getPixels(l),f=u.getPixels(c),p=DayPilot.DateUtil.diff(e.rawend(),e.start());p=Math.max(p,1);var v=M.useBox(p),g=v?h.boxLeft:h.left,y=v?f.boxRight-g:f.left-g,m=document.createElement("div");m.style.position="absolute",m.style.left=g+"px",m.style.top=r+"px",m.style.height=s+"px",m.style.width=y+"px",m.style.zIndex=101,m.style.overflow="hidden",m.className=u.p("_shadow"),m.info=d;var w=document.createElement("div");w.className=u.p("_shadow_inner"),m.appendChild(w),u.jg.appendChild(m),b.divs.push(m)}}),b.invalid){var r=u.p("_shadow_overlap");return void DayPilot.list(b.divs).each(function(t){DayPilot.Util.addClass(t,r)})}DayPilot.list(b.divs).each(function(t){if(t.info){var e=t,i=t.info,o=t.info.event,r=u.rowlist[o.part.dayIndex+a],s=u.getPixels(i.start),l=u.getPixels(i.end),c=s.left,d=l.left-c,h=DayPilot.list(b.list).map(function(t){return t.event.data}).add(n.resizing.event.data);u._i(e,r,c,d,h),e.overlapping&&(i.overlapping=!0,b.forbidden=!0)}})}},this.aj={},this.aj.modifiedProps=function(){var t=new DayPilot.Scheduler,e=DayPilot.Util.members(u,2),i=[];return i.push("<div id='dp'></div>"),i.push("<script>"),i.push("var dp = new DayPilot.Scheduler('dp');"),e.properties.each(function(e){var n,o,a=e.name,r=a.split(".");if(r.length>1){var s=r[0],l=r[1];n=DayPilot.JSON.stringify(t[s][l]),o=DayPilot.JSON.stringify(u[s][l])}else n=DayPilot.JSON.stringify(t[a]),o=DayPilot.JSON.stringify(u[a]);n!==o&&i.push("dp."+a+" = "+o+";")}),e.events.each(function(t){var e=t.name;"function"==typeof u[e]&&i.push("dp."+e+" = "+u[e].toString()+";")}),i.push("dp.init();"),i.push("<\/script>"),i.join("\n")},this.bj={};var w=this.bj;w.divs=[],w.list=[],w.forbidden=!1,w.verticalAll=function(){return"All"===u.multiMoveVerticalMode},w.additional=function(){var t=DayPilot.list(),e=u.multiselect.isSelected(n.movingEvent),i=u.allowMultiMove,t=DayPilot.list();if(e&&i&&(t=DayPilot.list(u.multiselect.divs).filter(function(t){return t!==n.moving&&t!==S.moving})),u.jointEventsMove){var o=m.findJointDivs(n.movingEvent);t=t.concat(o)}return t},w.update=function(){w.clear(),w.draw()},w.draw=function(){if(n.moving){var t=n.movingEvent,e=n.movingShadow.start,i=e.getTime()-t.start().getTime(),o=t.part.dayIndex,a=DayPilot.indexOf(u.rowlist,n.movingShadow.row),r=a-o;if(w.verticalAll()||(r=0),w.list=[],w.forbidden=!1,w.invalid=!1,w.rowoffset=r,w.additional().each(function(t){if(t.event){var e=t.event,n=u.rowlist[e.part.dayIndex+r];if(!n)return void(w.invalid=!0);var o=e.part.top+n.top,a=e.part.height;r&&(o=n.top,a=n.height);var s=e.start().addTime(i),l=e.end().addTime(i),c={};c.event=e,c.start=s,c.end=l,c.resource=n.id,c.overlapping=!1,w.list.push(c);var d=u.getPixels(s),h=u.getPixels(l),f=DayPilot.DateUtil.diff(e.rawend(),e.start());f=Math.max(f,1);var p=M.useBox(f),v=p?d.boxLeft:d.left,g=p?h.boxRight-v:h.left-v,y=document.createElement("div");y.style.position="absolute",y.style.left=v+"px",y.style.top=o+"px",y.style.height=a+"px",y.style.width=g+"px",y.style.zIndex=101,y.style.overflow="hidden",y.className=u.p("_shadow"),y.info=c;var m=document.createElement("div");m.className=u.p("_shadow_inner"),y.appendChild(m),u.jg.appendChild(y),w.divs.push(y)}}),w.invalid){var s=u.p("_shadow_overlap");return void DayPilot.list(w.divs).each(function(t){DayPilot.Util.addClass(t,s)})}DayPilot.list(w.divs).each(function(t){if(t.info){var e=t,i=t.info,o=t.info.event,a=u.rowlist[o.part.dayIndex+r],s=u.getPixels(i.start),l=u.getPixels(i.end),c=s.left,d=l.left-c,h=DayPilot.list(w.list).map(function(t){return t.event.data}).add(n.movingEvent.data);u._i(e,a,c,d,h),e.overlapping&&(i.overlapping=!0,w.forbidden=!0)}})}},w.clear=function(){DayPilot.de(w.divs),w.divs=[]},this.cj=function(){var t=u.coords,e=n.resizing.dpBorder,i=n.resizing.event,o=i.part.left;"right"==e&&(o+=i.part.width);var a,r,s=n.resizing.event.calendar.cellWidth,l=n.resizing.event.part.width,c=n.resizing.event.part.left,d=0,h=t.x-o;if("right"===e){if(a=c,u.snapToGrid){var f=u.Rg(l+c+h).cell;(r=f.left+f.width-c)<s&&(r=s)}else r=l+h;var p=u.xg();c+r>p&&(r=p-c),n.resizingShadow.left=c,n.resizingShadow.width=r}else{if("left"!==e)throw"Invalid dpBorder.";u.snapToGrid?(h>=l&&(h=l),(a=Math.floor((c+h+0)/s)*s)<d&&(a=d)):a=c+h,r=l-(a-c);var v=c+l,g=s;u.snapToGrid?"Never"===u.useEventBoxes&&(g=l<s?l:1):g=1,r<g&&(r=g,a=v-r),n.resizingShadow.left=a,n.resizingShadow.width=r}!function(){var t=n.resizing.event,e=u.rowlist[t.part.dayIndex],i=a,o=r;u._i(n.resizingShadow,e,i,o,t.data)}(),u.dj()},this.Mi=function(){if(this.nav.scroll,u.coords&&n.moving){u.Da();var t=n.movingShadow,e=this.ai(n.moving);if(!u.bi(e.rowIndex)){var i=n.movingEvent,o=0,a=0;!function(){if(u.cellStacking){var t=e.relativeY,i=u.Rg(e.left).x,n=e.row,r=n.evColumns[i],s=r.events.find(function(e){return t<e.part.top+e.part.height+u.eventMarginBottom});s||(s=r.events.last()),s&&(a=s.part.top,o=DayPilot.indexOf(r.events,s),t-s.part.top>s.part.height/2&&(a=s.part.top+s.part.height+u.eventMarginBottom/2,o+=1))}else{for(var t=e.relativeY,n=e.row,l=0,c=u.qc.eventHeight(),d=n.lines.length,h=0;h<n.lines.length;h++)if(n.lines[h].isFree(e.left,u.cellWidth)){d=h;break}var f=Math.floor((t-l+c/2)/c),f=Math.min(d,f),f=Math.max(0,f);o=f,a=u.rowMarginTop+o*(u.qc.eventHeight()+u.eventMarginBottom)+u.eventMarginBottom/2}}(),a>0&&(a-=3);var r=i.cache&&void 0!==i.cache.moveVDisabled?!i.cache.moveVDisabled:!i.data.moveVDisabled,s=i.cache&&void 0!==i.cache.moveHDisabled?!i.cache.moveHDisabled:!i.data.moveHDisabled,l=!w.additional().isEmpty();if(l&&"Disabled"===u.multiMoveVerticalMode&&(r=!1),r)if(this.bi(e.rowIndex)){var c=t.row,d=1;if(!c)return;d=e.rowIndex<c.index?1:-1;for(var h=e.rowIndex;h!==c.index;h+=d){var f=this.rowlist[h];if(!this.bi(h)&&!f.hidden){t.style.top=f.top+"px",t.style.height=Math.max(f.height,0)+"px",t.row=f,u.eventMoveToPosition&&(o=d>0?0:f.lines.length-1,t.style.top=e.top+a+"px",t.style.height="3px",t.line=o);break}}}else t.row=e.row,t.style.height=Math.max(e.row.height,0)+"px",t.style.top=e.top+"px",u.eventMoveToPosition&&(t.style.top=e.top+a+"px",t.style.height="3px",t.line=o);else{for(var c=u.rowlist[i.part.dayIndex],p=c.lines.length,h=0;h<c.lines.length;h++)if(c.lines[h].isFree(e.left,u.cellWidth)){p=h;break}if(l||(t.style.height=Math.max(c.height,0)+"px",t.style.top=c.top+"px"),t.row=c,u.eventMoveToPosition&&!l)if(e.row===c)t.style.top=c.top+a+"px",t.style.height="3px",t.line=o;else{var v=e.rowIndex>c.index&&p>0?p*u.qc.eventHeight()-3:0;t.style.top=c.top+v+"px",t.style.height="3px",t.line=0}}s?(t.style.left=e.left+"px",u.eventMoveToPosition?t.style.width=u.cellWidth+"px":t.style.width=e.width+"px",t.start=e.start,t.end=e.end):(t.style.left=i.part.left+"px",t.start=i.start(),t.end=i.rawend(),e.left=i.part.left),function(){var n=t.row,o=i.data,a=e.width,r=e.left,s=DayPilot.list(w.list).map(function(t){return t.event.data}).add(o);u._i(t,n,r,a,s)}(),function(){var e=u.uh;if(!e||e.start.getTime()!==t.start.getTime()||e.end.getTime()!==t.end.getTime()||e.resource!==t.row.id){w.update();var r=!!n.drag&&i.part.external,s={};s.start=t.start,s.end=u.Ze(t.end),s.duration=new DayPilot.Duration(s.start,s.end),s.e=i,s.external=r,s.resource=t.row.id,s.html=null,s.row=u.Dh(t.row),s.position=t.line,s.overlapping=t.overlapping||w.forbidden,s.allowed=!0,s.left={},s.left.html=s.start.toString(u.eventMovingStartEndFormat,M.locale()),s.left.enabled=u.eventMovingStartEndEnabled,s.left.space=5,s.left.width=null,s.right={},s.right.html=s.end.toString(u.eventMovingStartEndFormat,M.locale()),s.right.enabled=u.eventMovingStartEndEnabled,s.right.space=5,s.right.width=null,s.multimove=DayPilot.list(w.list),s.shift=u.coords.shift,s.ctrl=u.coords.ctrl,s.meta=u.coords.meta,s.alt=u.coords.alt;var l={};l.event=i,l.start=s.start,l.end=s.end,l.overlapping=s.overlapping,l.resource=s.resource,s.multimove.splice(0,0,l),u.uh=s;var c={start:s.start,end:s.end,resource:s.resource};if("function"==typeof u.onEventMoving&&u.onEventMoving(s),t.allowed=s.allowed,s.start!==c.start||s.end!==c.end){var d=s.start,h=u.ye(s.end);t.start=d,t.end=h;var f=DayPilot.DateUtil.diff(d,h);f=Math.max(f,1);var p=M.useBox(f),v=p?u.getPixels(d).boxLeft:u.getPixels(d).left,g=p?u.getPixels(h).boxRight:u.getPixels(h).left;t.style.left=v+"px",t.style.width=g-v+"px"}if(s.resource!==c.resource){var y=u.mg(s.resource);y&&(t.row=y,t.style.height=Math.max(y.height,0)+"px",t.style.top=y.top+"px",u.eventMoveToPosition&&(t.style.top=y.top+a+"px",t.style.height="3px",t.line=o))}s.html?t.firstChild.innerHTML=s.html:t.firstChild.innerHTML="",u.ej(t,s),DayPilot.Util.addClass(n.moving,u.p(E.eventMovingSource)),u.fj(n.movingShadow,s)}}()}}},this._i=function(t,e,i,n,o){if(!u.allowEventOverlap){!function(){t.overlapping=!1;for(var a=0;a<e.lines.length;a++)if(!e.lines[a].isFree(i,n,o))return void(t.overlapping=!0);if(u.allowMultiRange){var r=e.index;DayPilot.list(R.list).some(function(e){var o=e.div,a=parseInt(o.style.left),s=parseInt(o.style.width),l=e.start.y;return t!==o&&l===r&&DayPilot.Util.overlaps(i,i+n,a,a+s)})&&(t.overlapping=!0)}}();var a=t.overlapping,r=u.p("_shadow_overlap");a?DayPilot.Util.addClass(t,r):DayPilot.Util.removeClass(t,r)}},this.ej=function(t,e){var i=u.p("_shadow_forbidden");!e.allowed||w.invalid?DayPilot.Util.addClass(t,i):DayPilot.Util.removeClass(t,i)},this.fj=function(t,e){this.gj();var i={};i.left=parseInt(t.style.left),i.top=parseInt(t.style.top),i.right=i.left+parseInt(t.style.width);var n=e.left.width||10,o=document.createElement("div");if(o.style.position="absolute",o.style.left=i.left-n-e.left.space+"px",o.style.top=i.top+"px",o.style.height=u.eventHeight+"px",o.style.overflow="hidden",o.style.boxSizing="border-box",o.innerHTML=e.left.html,o.className=this.p("_event_move_left"),o.onmousemove=u.hj,e.left.enabled)if(u.divHover.appendChild(o),e.left.width)o.style.width=n+"px";else{o.style.whiteSpace="nowrap";var a=o.offsetWidth,r=i.left-a-e.left.space;o.style.width=a+"px",o.style.left=r+"px";var s=u.nav.scroll.scrollLeft;r<s&&u.divHover.removeChild(o);var l=u.ij()+(r-s);l>0&&(o.style.left=l+"px",o.style.top=i.top-u.nav.scroll.scrollTop+u.zg()+"px",u.nav.top.appendChild(o),u.elements.hover.push(o))}var n=e.right.width||10,c=document.createElement("div");if(c.style.position="absolute",c.style.left=i.right+e.right.space+"px",c.style.top=i.top+"px",c.style.height=u.eventHeight+"px",c.style.overflow="hidden",c.style.boxSizing="border-box",e.right.width?c.style.width=e.right.width+"px":c.style.whiteSpace="nowrap",c.innerHTML=e.right.html,c.className=this.p("_event_move_right"),c.onmousemove=u.hj,e.right.enabled){u.divHover.appendChild(c);var d=u.nav.scroll.scrollWidth;i.right+e.right.space+c.offsetWidth>=d&&u.divHover.removeChild(c)}},this.gj=function(){u.divHover.innerHTML="",DayPilot.de(u.elements.hover),u.elements.hover=[]},this.jj=function(){var t=u.rowHeaderColumnDefaultWidth;this.rowHeaderColumns&&(this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width",t))},this.ij=function(){var t=0;if(this.jj(),this.rowHeaderCols)for(var e=0;e<this.rowHeaderCols.length;e++)t+=this.rowHeaderCols[e];else t=this.rowHeaderWidth;return t},this.kj=function(){return this.lj(u.progressiveRowRenderingPreload)},this.lj=function(t){var t=t||0,e=0,i=u.rowlist.length;if(u.progressiveRowRendering){var n=u.og();e=n.yStart,i=n.yEnd+1,e=Math.max(0,e-t),i=Math.min(u.rowlist.length,i+t)}return{start:e,end:i}},this.mj=function(){if(this.Lc()){var t=!1,e=0;if(this.rowHeaderWidthAutoFit){var i=this.divHeader;if(!i)return;if(!i.rows)return;for(var n=[],o=u.kj(),a=o.start;a<o.end;a++){var r=i.rows[a];if(r&&!r.hidden&&!r.autofitDone){r.autofitDone=!0;for(var s=0;s<r.cells.length;s++){var l=r.cells[s].firstChild.firstChild;if(l&&l.style){var c=l.style.width,d=l.style.right;l.style.position="absolute",l.style.width="auto",l.style.right="auto",l.style.whiteSpace="nowrap";var h=l.offsetWidth+2;l.style.position="",l.style.width=c,l.style.right=d,l.style.whiteSpace="",void 0===n[s]&&(n[s]=0),n[s]=Math.max(n[s],h)}}}}if(this.jj(),this.rowHeaderCols)for(var a=0;a<n.length;a++)this.rowHeaderCols[a]&&(n[a]>this.rowHeaderCols[a]&&(this.rowHeaderCols[a]=n[a],t=!0),e+=this.rowHeaderCols[a]);else e=this.rowHeaderWidth,this.rowHeaderWidth<n[0]+u.rowHeaderWidthMarginRight&&(e=n[0]+u.rowHeaderWidthMarginRight,t=!0)}t&&(this._h&&(this._h.widths=this.rowHeaderCols,this._h.updateWidths(),DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols)),this.rowHeaderScrolling||(this.rowHeaderWidth=e),this.eh(),this.nj())}},this.Tf=function(){this.oj=!0,this.jj();var t=this.ij(),e=this.divHeader;if(e?(e.innerHTML="",DayPilot.puc(e)):(e=document.createElement("div"),e.onmousemove=function(){u.R()},this.divHeader=e),e.style.width=t+"px",e.style.height=u.Nf+"px",e.rows=[],u.progressiveRowRendering)o();else for(var i=this.rowlist.length,n=0;n<i;n++)u.pj(n);u.qj(),this.divResScroll.appendChild(e),this.rowHeaderWidthAutoFit&&this.mj()},this.fh=function(){if(u.progressiveRowRendering){for(var t=this.kj(),e=0;e<u.rowlist.length;e++)t.start<=e&&e<t.end?u.pj(e):u.rj(e);if(this.rowHeaderWidthAutoFit){var i=u.Ag();if(this.mj(),u.Ag()!==i){var n=this.cellWidth;this.Qf(),this.cellWidth!==n&&(u.Rf(),u.Uf(),u.ia(),u.aa(),u.sj())}}}},this.qj=function(){var t=u.divHeader,e=document.createElement("div");e.style.position="absolute",t.appendChild(e),u.nav.resScrollSpace=e,e.setAttribute("unselectable","on");var i=document.createElement("div");i.style.position="relative",i.style.height="100%",i.className=this.p("_rowheader"),e.appendChild(i);var n=this.ij(),e=u.nav.resScrollSpace;e.style.width=n+"px",e.style.top=this.Nf+"px",e.style.height=u.divResScroll.clientHeight+20+"px"},this.rj=function(t){var e=u.divHeader.rows[t];e&&(DayPilot.de(e.cells),u.divHeader.rows[t]=null)},this.mh=function(t){this.rj(t),this.pj(t)},this.pj=function(t){var e=u.divHeader,i=this.divHeader;if(!i.rows[t]){var n=this.rowHeaderCols,o=n?this.rowHeaderCols.length:0,r=this.ij(),s=this.rowlist[t];if(s&&!s.hidden){var l=this.Yi(s);i.rows[t]={},i.rows[t].cells=[];var c=document.createElement("div");c.style.position="absolute",c.style.top=s.top+"px",c.row=s,c.index=t;var d=l.row,h=n?n[0]:this.rowHeaderWidth;c.style.width=h+"px",c.style.border="0px none",d.toolTip&&(c.title=d.toolTip),c.setAttribute("unselectable","on"),c.onmousemove=u.tj,c.onmouseout=u.uj,c.onmouseup=u.vj,c.oncontextmenu=u.wj,c.onclick=u.xj,c.ondblclick=u.yj;var f=document.createElement("div");f.style.width=h+"px",f.setAttribute("unselectable","on"),f.className=this.p("_rowheader"),d.cssClass&&DayPilot.Util.addClass(f,d.cssClass),d.backColor&&(f.style.background=d.backColor),f.style.height=s.height+"px",f.style.overflow="hidden",f.style.position="relative";var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.p("_rowheader_inner"),f.appendChild(p);var v="Disabled"!==this.rowMoveHandling,g=10,y=d.areas||[];v&&!d.moveDisabled&&y.push({v:"Hover",w:g,bottom:0,top:0,left:0,css:u.p("_rowmove_handle"),action:"Move"});var m=u.Dh(s);DayPilot.Areas.attach(f,m,{areas:y,allowed:function(){return!a.row}});var b=document.createElement("div");if(b.style.position="absolute",b.style.bottom="0px",b.style.width="100%",b.style.height="1px",b.className=this.p(E.resourcedivider),f.appendChild(b),function(){if(u.treeEnabled&&!s.isNewRow){var e=s.level*u.treeIndent+u.treeImageMarginLeft;v&&(e+=g);var i=10,n=document.createElement("div");n.style.width="10px",n.style.height="10px",n.style.backgroundRepeat="no-repeat",n.style.position="absolute",n.style.left=e+"px",n.style.top=u.treeImageMarginTop+"px",s.loaded||0!==s.children.length?s.children.length>0?(s.expanded?n.className=u.p("_tree_image_collapse"):n.className=u.p("_tree_image_expand"),n.style.cursor="pointer",n.index=t,n.onclick=function(t){u.Li(this.index),t=t||window.event,t.cancelBubble=!0}):n.className=u.p("_tree_image_no_children"):(n.className=u.p("_tree_image_expand"),n.style.cursor="pointer",n.index=t,n.onclick=function(t){u.zj(this.index),t=t||window.event,t.cancelBubble=!0}),p.appendChild(n)}var o=document.createElement("div");u.treeEnabled&&(o.style.marginLeft=e+i+"px"),o.innerHTML=d.html,c.textDiv=o,c.cellDiv=f,p.appendChild(o)}(),c.appendChild(f),e.appendChild(c),i.rows[t].cells.push(c),s.columns&&0!==s.columns.length)for(var w=h,D=1;D<o;D++){var C=d.columns[D-1]||{},c=document.createElement("div");c.style.position="absolute",c.style.top=s.top+"px",c.style.left=w+"px",e.appendChild(c),i.rows[t].cells.push(c),c.row=s,c.index=t,d.toolTip&&(c.title=d.toolTip),c.setAttribute("unselectable","on"),c.onmousemove=u.tj,c.onmouseout=u.uj,c.onmouseup=u.vj,c.oncontextmenu=u.wj,c.onclick=u.xj,c.ondblclick=u.yj;var f=document.createElement("div"),k=n[D];w+=k;var x=C.backColor||d.backColor;x&&(f.style.backgroundColor=x),f.style.width=k+"px",f.style.height=s.height+"px",f.style.overflow="hidden",f.style.position="relative",f.setAttribute("unselectable","on"),DayPilot.Util.addClass(f,this.p("_rowheader")),DayPilot.Util.addClass(f,this.p("_rowheadercol")),DayPilot.Util.addClass(f,this.p("_rowheadercol"+D)),d.cssClass&&DayPilot.Util.addClass(f,d.cssClass),C.cssClass&&DayPilot.Util.addClass(f,C.cssClass);var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.p("_rowheader_inner"),f.appendChild(p);var b=document.createElement("div");b.style.position="absolute",b.style.bottom="0px",b.style.width="100%",b.style.height="1px",b.className=this.p("_resourcedivider"),f.appendChild(b);var P=document.createElement("div"),_=C.html||"";P.innerHTML=_,c.textDiv=P,c.cellDiv=f,p.appendChild(P),DayPilot.Areas.attach(f,m,{areas:C.areas,allowed:function(){return!a.row}}),c.appendChild(f)}else c.colSpan=o>0?o:1,f.style.width=r+"px"}}},this.wj=function(){var t=this.row;return t.contextMenu&&t.contextMenu.show(u.Dh(t)),!1},this.xj=function(t){if(!k.cancelClick){var e=this.row,i=u.Dh(e,this.index);return e.isNewRow?void u.Jh.edit(e):void u.Gh(i,t.ctrlKey,t.shiftKey,t.metaKey)}},this.yj=function(t){if(u.timeouts.resClick){for(var e in u.timeouts.resClick)window.clearTimeout(u.timeouts.resClick[e]);u.timeouts.resClick=null}var i=this.row,n=u.Dh(i,this.index);if(u.ra()){var o={};if(o.resource=n,o.row=n,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowDoubleClick&&(u.onRowDoubleClick(o),o.preventDefault.value))return;switch(u.rowDoubleClickHandling){case"PostBack":u.rowDoubleClickPostBack(n);break;case"CallBack":u.rowDoubleClickCallBack(n);break;case"Select":u.Ih(i,t.ctrlKey,t.shiftKey,t.metaKey);break;case"Edit":u.Jh.edit(i)}"function"==typeof u.onRowDoubleClicked&&u.onRowDoubleClicked(o)}else switch(u.rowDoubleClickHandling){case"PostBack":u.rowDoubleClickPostBack(n);break;case"CallBack":u.rowDoubleClickCallBack(n);break;case"JavaScript":u.onRowDoubleClick(n);break;case"Select":u.Ih(i,t.ctrlKey,t.shiftKey,t.metaKey);break;case"Edit":u.Jh.edit(i)}},this.rowDoubleClickPostBack=function(t,e){var i={};i.resource=t,this.D("RowDoubleClick",i,e)},this.rowDoubleClickCallBack=function(t,e){var i={};i.resource=t,this.F("RowDoubleClick",i,e)},this.Aj=function(t){var e={};e.start=this.cell.start,e.level=this.cell.level,e.end=this.cell.end,e.end||(e.end=new DayPilot.Date(e.start).addMinutes(u.cellDuration)),u.Kh(e)},this.Dh=function(t){return new DayPilot.Row(t,u)},this.Kg=function(t){var e=this.rowlist[t];if(e.events||e.resetEvents(),!e.data){e.data={},e.data.start=new DayPilot.Date(e.start),e.data.startTicks=e.data.start.getTime();var i=this.Ng().getTime()-this.Aa().getTime();e.data.end=M.isResourcesView()?e.data.start.addTime(i):e.data.start.addDays(1),e.data.endTicks=e.data.end.getTime(),e.data.offset=e.start.getTime()-this.Aa().getTime(),e.data.i=t}},this.aa=function(t){if(t?this.events.list=t:this.events.list||(this.events.list=[]),null!=this.events.list&&!DayPilot.isArray(this.events.list))throw"DayPilot.Scheduler.events.list expects an array object";D.prepareRows(!0);for(var e,i=this.events.list,n=i.length,o="function"==typeof this.onBeforeEventRender,a="Resources"===u.viewType,r=0;r<n;r++){var s=i[r];if(s){if(s instanceof DayPilot.Event)throw"DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";o&&this.Qc(r),"*"===s.resource?e=u.rowlist:a?e=DayPilot.list(D.rowcache[s.resource]).concat(D.rowcache["*"]):"Days"===u.viewType?e=u.rowlist:"Gantt"===u.viewType&&(e=D.rowcache[s.id]);for(var l=0;e&&l<e.length;l++){var c=e[l],d=this.ki(s,c);d&&o&&(d.cache=this.s.events[r])}}}DayPilot.list(u.rowlist).each(function(t){u.Bj(t)}),this._g()},this.Cj=function(t){var e=[],i=[],n=null;if(t&&add){for(var o=t,n=[],a=0;a<o.length;a++){for(var r=o[a],s=!1,l=0;l<this.events.list.length;l++){var c=this.events.list[l];if(c.id===r.id&&c.start.toString()===r.start.toString()&&c.resource===r.resource){var d=u.events.Yg(c);i=i.concat(d),this.events.list[l]=r,s=!0;break}}s||n.push(r)}this.events.list=this.events.list.concat(n)}else t?this.events.list=t:this.events.list||(this.events.list=[]);var h=n||this.events.list;t?this.events.list=t:this.events.list||(this.events.list=[]);var h=this.events.list,f=h.length;if("function"==typeof this.onBeforeEventRender)for(var p=n?this.events.list.length-n.length:0,v=this.events.list.length,a=p;a<v;a++)this.Qc(a);var a,g,l,r,y,m=(this.ji(),!n||void 0===g.events);D.prepareRows(m);for(var l=0;h&&l<f;l++)if(!e[l]){var b=h[l];if(b){var d=[];d="*"===b.resource?u.rowlist:"Days"===u.viewType?u.rowlist:"Gantt"===u.viewType?D.rowcache[b.id]:D.rowcache[b.resource];for(var w=0;d&&w<d.length;w++){var g=d[w],y=this.ki(b,g);y&&("function"==typeof this.onBeforeEventRender&&(y.cache=this.s.events[l+p]),i.push(g.index))}}}for(var a=0;a<this.rowlist.length;a++){var g=this.rowlist[a];this.Bj(g)}return this._g(),DayPilot.ua(i)},this.Dj={};var D=this.Dj;D.rowCache={},D.prepareRows=function(t){D.rowcache={};for(var e=0;e<u.rowlist.length;e++){var i=u.rowlist[e];if(t&&i.resetEvents(),u.Kg(e),i.id){var n=i.id.toString();D.rowcache[n]||(D.rowcache[n]=DayPilot.list()),D.rowcache[n].push(i)}}},D.loadEvent=function(t){},this.ji=function(){var t={};if("Resources"!==u.viewType)return!1;for(var e=0;e<u.rowlist.length;e++){var i=u.rowlist[e],n=i.id;if(t[n])return!0;t[n]=!0}return!1},this.Qc=function(t){var e=this.s.events,i=this.events.list[t],n={};i instanceof DayPilot.Event&&(i=i.data);for(var o in i)n[o]=i[o];if("function"==typeof this.onBeforeEventRender){var a={};a.e=n,a.data=n,this.onBeforeEventRender(a)}e[t]=n},this.Bj=function(t){if(t.lines=[],t.sections=null,!t.isNewRow){if(this.sortDirections?t.events.sort(this.Zc):u.cellStacking||t.events.sort(this.Yc),u.cellStacking)return void _.loadRow(t);var e=u.groupConcurrentEvents;if(e)for(var i=0;i<t.blocks.length;i++)t.blocks[i].clear();DayPilot.list(t.events).each(function(e){if(!e.part.height)return t.eventHeight?void(e.part.height=t.eventHeight):void(e.part.height=M.eventHeight())});for(var n=0;n<t.events.length;n++){var o=t.events[n];t.putIntoLine(o),e&&t.putIntoBlock(o)}for(var a=0,i=0;i<t.lines.length;i++){var r=t.lines[i];r.top=a,a+=(r.height||t.eventHeight)*t.eventStackingLineHeight/100}if(e)for(var n=0;n<t.blocks.length;n++){var s=t.blocks[n];s.lines=[],s.events.sort(this.Zc);for(var l=0;l<s.events.length;l++){var o=s.events[l];s.putIntoLine(o)}s.lines.length<=u.groupConcurrentEventsLimit&&(s.expanded=!0);var c=DayPilot.list(s.events).map(function(t){return t.id()}).some(function(t){return DayPilot.contains(u.Ej,t)});c&&(s.expanded=!0);for(var a=0,i=0;i<s.lines.length;i++){var r=s.lines[i];r.top=a,a+=(r.height||t.eventHeight)*t.eventStackingLineHeight/100}}}},this.$g=function(t){t=DayPilot.ua(t);for(var e=0;e<t.length;e++){var i=t[e];u.Bj(u.rowlist[i])}if(u.cellStacking)_.calculateEventPositions();else for(var e=0;e<t.length;e++){var i=t[e],n=u.rowlist[i];u.Wi(n)}},this.xi=function(){var t="Manual"===u.scale?u.itline[0].start:u.startDate;return DayPilot.list(u.rowlist).some(function(e){return!!e.start&&e.start.getTime()!==new DayPilot.Date(t).getTime()})},this.ki=function(t,e){if(!e.hideEvents){var i=new DayPilot.Date(t.start),n=new DayPilot.Date(t.end);n=u.ye(n);var o=i.ticks,a=n.ticks;if(a<o)return null;var r=null;if("function"==typeof u.onBeforeEventRender){var s=DayPilot.indexOf(u.events.list,t);r=u.s.events[s]}if(r){if(r.hidden)return null}else if(t.hidden)return null;var l=!1;switch(this.viewType){case"Days":l=!(a<=e.data.startTicks||o>=e.data.endTicks)||o===a&&o===e.data.startTicks;break;case"Resources":l=(e.id===t.resource||"*"===e.id||"*"===t.resource)&&(!(a<=e.data.startTicks||o>=e.data.endTicks)||o===a&&o===e.data.startTicks);break;case"Gantt":l=e.id===t.id&&!(a<=e.data.startTicks||o>=e.data.endTicks)}if(!l)return null;var c=new DayPilot.Event(t,u);c.part.dayIndex=e.data.i,c.part.start=e.data.startTicks<o?i:e.data.start,c.part.end=e.data.endTicks>a?n:e.data.end;var d=this.getPixels(c.part.start.addTime(-e.data.offset)),h=this.getPixels(c.part.end.addTime(-e.data.offset));c.part.start===c.part.end&&(h=this.getPixels(c.part.end.addTime(-e.data.offset).addSeconds(1))),r&&r.height?c.part.height=r.height:t.height&&(c.part.height=t.height),c.part.Fj=function(){var t=this.height;if(u.eventVersionsEnabled&&!DayPilot.list(c.data.versions).isEmpty()){var e=c.versions.length;t+=e*u.eventVersionHeight,t+=e*u.eventVersionMargin}return t+u.eventMarginBottom};var f=d.left,p=h.left;if(c.part.startPixels=d,c.part.endPixels=h,f===p){if(d.cut||h.cut)return null;var v=(c.part.start.addTime(-e.data.offset).getTime()+c.part.end.addTime(-e.data.offset).getTime())/2;if(u.getPixels(new DayPilot.Date(Math.floor(v))).cut)return null}c.part.box=M.useBox(a-o);var g=u.eventHeight;if("Milestone"===t.type){var y=t.width||g;c.part.end=c.part.start,c.part.left=f-y/2,c.part.width=y,c.part.barLeft=0,c.part.barWidth=y}else if(c.part.box){var m=d.boxLeft,b=h.boxRight;c.part.left=m,c.part.width=b-m,c.part.barLeft=Math.max(f-c.part.left,0),c.part.barWidth=Math.max(p-f,1)}else c.part.left=f,c.part.width=Math.max(p-f,1),c.part.barLeft=0,c.part.barWidth=Math.max(p-f-1,1);if(u.eventVersionsEnabled&&u.Gj(c,e),"function"==typeof u.onEventFilter&&u.events.Xc){var w={};if(w.filter=u.events.Xc,w.visible=!0,w.e=c,u.onEventFilter(w),!w.visible)return null}return e.events.push(c),c}},this.Gj=function(t,e){t.versions=[];var i=t.data,n=DayPilot.list(i.versions);n.isEmpty()||n.each(function(i){var n=new DayPilot.Date(i.start),o=new DayPilot.Date(i.end),a=u.getPixels(n.addTime(-e.data.offset)),r=u.getPixels(o.addTime(-e.data.offset));n.ticks===o.ticks&&(r=u.getPixels(o.addTime(-e.data.offset).addTime(1)));var s=a.left,l=r.left;if(s===l&&(a.cut||r.cut))return null;var c={};c.left=s,c.continueLeft=n<e.data.start,c.right=l,c.continueRight=o>e.data.end,c.width=l-s,t.versions.push(c)})},this.Yc=function(t,e){if(!(t&&e&&t.start&&e.start))return 0;var i=t.start().ticks-e.start().ticks;return 0!==i?i:e.end().ticks-t.end().ticks},this.Zc=function(t,e){if(!t||!e)return 0;if(!(t.data&&e.data&&t.data.sort&&e.data.sort&&0!==t.data.sort.length&&0!==e.data.sort.length))return u.Yc(t,e);for(var i=0,n=0;0===i&&void 0!==t.data.sort[n]&&void 0!==e.data.sort[n];)i=t.data.sort[n]===e.data.sort[n]?0:"number"==typeof t.data.sort[n]&&"number"==typeof e.data.sort[n]?t.data.sort[n]-e.data.sort[n]:u.$c(t.data.sort[n],e.data.sort[n],u.sortDirections[n]),n++;return i},this.$c=function(t,e,i){var n="desc"!==i,o=n?-1:1,a=-o;if(null===t&&null===e)return 0;if(null===e)return a;if(null===t)return o;var r=[];return r[0]=t,r[1]=e,r.sort(),t===r[0]?o:a},this.Ih=function(t,e,i,n){if(u.ra()){var o=DayPilot.indexOf(u.rowlist,t),a=u.Dh(t,o),r=-1!==DayPilot.indexOf(k.selected,t),s=r?"deselected":"selected",l={};if(l.row=a,l.selected=r,l.ctrl=e,l.shift=i,l.meta=n,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowSelect&&(u.onRowSelect(l),l.preventDefault.value))return;var c=i&&!e&&!n;if(i||(k.Hj={row:t,index:o}),c){k.fixRowSelectLast();var d=k.Hj.index,h=o;k.selectRange(d,h)}switch(u.rowSelectHandling){case"PostBack":u.rowSelectPostBack(a,s);break;case"CallBack":u.rowSelectCallBack(a,s);break;case"Notify":!c&&k.select(t,e,i,n),u.rowSelectNotify(a,s);break;case"Update":!c&&k.select(t,e,i,n)}"function"==typeof u.onRowSelected&&(l.selected=-1!==DayPilot.indexOf(k.selected,t),u.onRowSelected(l))}else{k.select(t,e,i);var o=DayPilot.indexOf(u.rowlist,t),a=u.Dh(t,o),r=-1!==DayPilot.indexOf(k.selected,t),s=r?"deselected":"selected";switch(u.rowSelectHandling){case"PostBack":u.rowSelectPostBack(a,s);break;case"CallBack":u.rowSelectCallBack(a,s);break;case"Notify":u.rowSelectNotify(a,s);break;case"JavaScript":u.onRowSelect(a,s)}}},this.rowSelectPostBack=function(t,e,i){var n={};n.resource=t,n.change=e,this.D("RowSelect",n,i)},this.rowSelectCallBack=function(t,e,i){var n={};n.resource=t,n.change=e,this.F("RowSelect",n,i)},this.rowSelectNotify=function(t,e,i){var n={};n.resource=t,n.change=e,this.F("RowSelect",n,i,"Notify")},this.rows={},this.rows.selection={};var C=this.rows.selection;C.get=function(){var t=[];return DayPilot.list(k.selected).each(function(e){t.push(u.Dh(e))}),t},C.clear=function(){k.clearSelection()},C.add=function(t){if(!t||!t.isRow)throw"DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";DayPilot.list(k.selected).some(function(e){return e===t.$.row})||k.selected.push(t.$.row),k.Ij(),C.Jj()},C.remove=function(t){if(!t||!t.isRow)throw"DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected";C.isSelected(t)&&(k.unselect(t.$.row),DayPilot.rfa(k.selected,t.$.row)),C.Jj()},C.isSelected=function(t){if(!t||!t.isRow)throw"DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected";return-1!==DayPilot.indexOf(k.selected,t.$.row)},C.Jj=function(){u.selectedRows=DayPilot.list(k.selected).map(function(t){return t.id})},this.rows.all=function(){for(var t=[],e=0;e<u.rowlist.length;e++){var i=u.Dh(u.rowlist[e]);t.push(i)}return v(t)},this.rows.visible=function(){for(var t=[],e=0;e<u.rowlist.length;e++){var i=u.rowlist[e];if(!i.hidden){var i=u.Dh(u.rowlist[e]);t.push(i)}}return v(t)},this.rows.each=function(t){u.rows.all().each(t)},this.rows.filter=function(t){u.rows.Xc=t,u.z&&u.ad({immediateEvents:!0})},this.rows.find=function(t,e){var i=DayPilot.list(D.rowcache[t]),n=null;return n="string"==typeof e?i.find(function(t){return e===t.start.toString()}):i.first(),n?new DayPilot.Row(n,u):null},this.rows.load=function(t){DayPilot.ajax({method:"POST",url:t,success:function(t){var e=t.request,i=DayPilot.Util.parseJSON(e.responseText);DayPilot.isArray(i)&&(u.resources=i,u.z&&u.update())}})},this.rows.expand=function(t){for(var e=[],i=t||1,n=0;n<u.rowlist.length;n++){var o=u.rowlist[n],a=-1===i;o.level<i&&(a=!0),a&&!o.expanded&&o.children&&o.children.length>0&&e.push(o.index)}if(0!==e.length)if(1===e.length)u.Li(e[0]);else{for(var n=0;n<e.length;n++){var r=e[n],s=u.rowlist[r].resource;s.expanded=!0}u.ad()}},this.rows.expandAll=function(){u.rows.expand(-1)},this.rows.collapseAll=function(){u.rowlist.each(function(t){t.resource.expanded=!1}),u.ad()},this.rows.headerHide=function(){u.Kj=!0,u.Lj(),u.nj(),u.Eg()},this.rows.headerShow=function(){u.Kj=!1,u.Lj(),u.nj(),u.Eg()},this.rows.headerToggle=function(){u.Kj?u.rows.headerShow():u.rows.headerHide()},this.rows.edit=function(t){k.edit(t.$.row)},this.rows.remove=function(t){var e=t.$.row.resource,i=x.findParentArray(e);if(!i)throw"Cannot find source node parent";var n=DayPilot.indexOf(i,e);i.splice(n,1),u.update()},this.rows.update=function(t){if(!(t instanceof DayPilot.Row))throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object.");var e=t.index,i=u.rowlist[e],n=t.data,o=t.parent()?t.parent().$.row:null,a=u.Mj(n),t=u.Nj(a,o);t.hidden=i.hidden,t.level=i.level,t.children=i.children,t.index=e,t.top=i.top,t.height=i.height,u.rowlist[e]=t,t.resetEvents(),u.Kg(e),u.Oj(t),u.Bj(t),u.mh(e),u.Yf(),u._f()},this.Oj=function(t){for(var e=u.events.list,i=e.length,n="function"==typeof u.onBeforeEventRender,o=0;o<i;o++){var a=e[o];if(a){if(a instanceof DayPilot.Event)throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if("Days"===u.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");if("Gantt"===u.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");if("*"===a.resource||"*"===t.id||a.resource===t.id){n&&this.Qc(o);var r=this.ki(a,t);r&&n&&(r.cache=this.s.events[o])}}}},this.Pj=function(){var t=a.source,e=a.target,i=a.position;if(k.resetMoving(),u.ra()){var n={};if(n.source=u.Dh(t),n.target=u.Dh(e),n.position=i,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowMove&&(u.onRowMove(n),n.preventDefault.value))return;switch(u.rowMoveHandling){case"Update":k.move(n);break;case"CallBack":u.rowMoveCallBack(n.source,n.target,n.position);break;case"PostBack":u.rowMovePostBack(n.source,n.target,n.position);break;case"Notify":k.move(n),u.rowMoveNotify(n.source,n.target,n.position)}"function"==typeof u.onRowMoved&&u.onRowMoved(n)}else{var t=u.Dh(t),e=u.Dh(e),i=i;switch(u.rowMoveHandling){case"CallBack":u.rowMoveCallBack(t,e,i);break;case"PostBack":u.rowMovePostBack(t,e,i);break;case"JavaScript":u.onRowMove(t,e,i)}}},this.eg=function(t){var e=DayPilot.list(t);k.selected=[],e.isEmpty()||(u.Ff=!1,u._()),e.each(function(t){var e=u.mg(t);e&&k.selected.push(e)}),k.Ij()},this.Jh={};var k=this.Jh;k.edit=function(t){k.Qj(t)},k.rowSelectLastSetDefault=function(){k.Hj={row:u.rowlist[0],index:0}},k.rowSelectSetLast=function(t){var e=DayPilot.indexOf(u.rowlist,t);if(-1===e)throw"DayPilot.Scheduler: Row not found when selecting a range";k.Hj={row:t,index:e}},k.fixRowSelectLast=function(){k.Hj||k.rowSelectLastSetDefault();var t=DayPilot.indexOf(u.rowlist,k.Hj.row);if(!(t>-1)){var e=u.mg(k.Hj.row.id);e?(t=DayPilot.indexOf(u.rowlist,e),k.Hj={row:e,index:t}):k.rowSelectLastSetDefault()}},k.createOverlay=function(t){var e=u.ij(),i=u.p("_rowmove_source"),n=DayPilot.Util.div(u.divHeader,0,t.top,e,t.height);n.className=i,t.moveOverlay=n},k.deleteOverlay=function(t){DayPilot.de(t.moveOverlay),t.moveOverlay=null},k.Qj=function(t){var e=k.Rj(t),i=e.cells[0];if(i.input)return i.input;DayPilot.Areas.disable(i.firstChild);var n=i.clientWidth;t.isNewRow&&(n=u.Ag());var a=document.createElement("textarea");a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width=n+"px",a.style.height=t.height+"px",a.style.border="0px none",a.style.overflow="hidden",a.style.boxSizing="border-box",a.style.resize="none",a.style.paddingLeft=t.level*u.treeIndent+"px";var r=i.textDiv;a.style.fontFamily=DayPilot.gs(r,"fontFamily")||DayPilot.gs(r,"font-family"),a.style.fontSize=DayPilot.gs(r,"fontSize")||DayPilot.gs(r,"font-size"),a.value=t.name||"",i.firstChild.appendChild(a),i.input=a;var s=function(){try{i.input.parentNode.removeChild(i.input)}catch(t){o()}i.input=null};return a.focus(),a.onblur=function(){a.onblur=null;var e=a.value;s(),DayPilot.Areas.enable(i.firstChild),u.Fh(t,e,a.canceled)},a.onkeydown=function(t){var e=window.event?event.keyCode:t.keyCode;return 27===e&&(a.canceled=!0,s()),13!==e||(a.onblur(),!1)},a.setSelectionRange?a.setSelectionRange(0,9999):a.select(),a},k.selected=[],k.select=function(t,e,i,n){var o=-1!==DayPilot.indexOf(k.selected,t);if(e||n){if(o)return k.unselect(t),void DayPilot.rfa(k.selected,t)}else o=!1,k.clearSelection();k.Sj(t),o||k.selected.push(t),C.Jj()},k.selectRange=function(t,e){k.clearSelection();for(var i=Math.min(t,e),n=Math.max(t,e),o=i;o<=n;o++){var a=u.rowlist[o];k.Sj(a),k.selected.push(a)}C.Jj()},k.Ij=function(){for(var t=0;t<k.selected.length;t++){var e=k.selected[t];k.Sj(e)}},k.Sj=function(t){var e=DayPilot.indexOf(u.rowlist,t);if(-1===e){var i=u.mg(t.id);if(!i)return;e=i.index}for(var n=u.p("_cell_selected"),o=[],a=0;a<u.itline.length;a++){var r={};r.x=a,r.y=e,o.push(r)}u.cells.findXy(o).addClass(n);for(var n=u.p("_rowheader_selected"),s=u.divHeader,e=0;e<s.rows.length;e++){var l=s.rows[e];if(l&&l.cells[0]&&l.cells[0].row===t)for(var c=0;c<l.cells.length;c++){var r=l.cells[c],d=r.firstChild;DayPilot.Util.addClass(d,n)}}},k.Qh=function(){var t=[];if(!k.selected)return t;for(var e=0;e<k.selected.length;e++){var i=k.selected[e],n=DayPilot.indexOf(u.rowlist,i),o=u.Dh(i,n);t.push(o.toJSON())}return t},k.unselect=function(t){for(var e=u.p("_cell_selected"),i=DayPilot.indexOf(u.rowlist,t),n=[],o=0;o<u.itline.length;o++){var a={};a.x=o,a.y=i,n.push(a)}u.cells.findXy(n).removeClass(e);var e=u.p("_rowheader_selected"),r=(u.divHeader,k.Rj(t));if(r)for(var s=0;s<r.cells.length;s++){var a=r.cells[s],l=a.firstChild;DayPilot.Util.removeClass(l,e)}},k.Hj=null,k.clearSelection=function(){for(var t=0;t<k.selected.length;t++){var e=k.selected[t];k.unselect(e)}k.selected=[],u.selectedRows=[]},k.Rj=function(t){for(var e=u.divHeader,i=0;i<e.rows.length;i++){var n=e.rows[i];if(n&&n.cells[0]&&n.cells[0].row===t)return n}return null},k.selectById=function(t){var e=u.mg(t);e&&k.select(e)},k.startMoving=function(t){var e=DayPilot.Global.rowmoving;e.row=t,e.cursor=u.divResScroll.style.cursor,u.divResScroll.style.cursor="move",k.createOverlay(t)},k.resetMoving=function(){u.divResScroll.style.cursor=a.cursor,DayPilot.de(a.div),k.deleteOverlay(a.row),DayPilot.Global.rowmoving=a={}},k.move=function(t){var e=t.source.$.row.resource,i=t.target.$.row.resource,n=t.position;if("forbidden"!==n){var o=x.findParentArray(e);if(!o)throw"Cannot find source node parent";var a=DayPilot.indexOf(o,e);o.splice(a,1);var r=x.findParentArray(i);if(!r)throw"Cannot find target node parent";var s=DayPilot.indexOf(r,i);switch(n){case"before":r.splice(s,0,e);break;case"after":r.splice(s+1,0,e);break;case"child":i.children||(i.children=[],i.expanded=!0),i.children.push(e)}u.update()}};var x={};x.findParentArray=function(t){return x.findInArray(u.resources,t)},x.findInArray=function(t,e){if(-1!==DayPilot.indexOf(t,e))return t;for(var i=0;i<t.length;i++){var n=t[i];if(n.children&&n.children.length>0){var o=x.findInArray(n.children,e);if(o)return o}}return null},this.Sf=function(){this.rowlist=DayPilot.list();var t=this.resources,e=this.q();e||("Gantt"===this.viewType?t=this.Tj():"Days"===this.viewType&&(t=this.Uj())),!e||"Days"!==this.viewType||t&&0!==t.length||(t=this.Uj());var i={};if(i.i=0,null!=t&&!DayPilot.isArray(t))throw"DayPilot.Scheduler.resources expects an array object";this.Vj(t,i,0,null,this.treeEnabled,!1),"Disabled"!==u.rowCreateHandling&&this.Wj()},this.Wj=function(){var t={};t.id="NEW",t.isNewRow=!0,t.html="",t.loaded=!0,t.start=this.startDate,t.children=[],t.height=u.eventHeight,t.marginBottom=0,t.marginTop=0,t.getHeight=function(){return u.rowCreateHeight?u.rowCreateHeight:u.eventHeight+u.rowMarginBottom+u.rowMarginTop},t.putIntoLine=function(){},t.resetEvents=function(){},this.rowlist.push(t)},this.Tj=function(){var t=[];if(this.Hf&&this.resources)for(var e=0;e<this.resources.length;e++)t.push(this.resources[e]);if(this.events.list){for(var e=0;e<this.events.list.length;e++){var i=this.events.list[e],n={};n.id=i.id,n.name=i.text,t.push(n)}return t}},this.Uj=function(){for(var t=[],e=u.Aa(),i=this.qc.locale(),n=0;n<this.days;n++){var o=e.addDays(n),a={};a.name=o.toString(i.datePattern,i),a.start=o,t.push(a)}return t},this.Aa=function(){return this.itline&&this.itline.length>0?this.itline[0].start:this.startDate},this.Ng=function(){if(this.itline&&this.itline.length>0){var t=u.itline[this.itline.length-1].end;return"Days"!==u.viewType?t:t.addDays(u.days-1)}return u.startDate.addDays(u.days)},this.Xj={},this.Xj,this.visibleStart=function(){return this.Aa()},this.visibleEnd=function(){return this.Ng()},this.Nj=function(t,e){var i={};if(i.backColor=t.backColor,i.cssClass=t.cssClass,i.expanded=t.expanded,i.name=t.name,i.html=t.html?t.html:i.name,i.eventHeight=void 0!==t.eventHeight?t.eventHeight:u.qc.eventHeight(),i.minHeight=void 0!==t.minHeight?t.minHeight:u.rowMinHeight,i.marginBottom=void 0!==t.marginBottom?t.marginBottom:u.rowMarginBottom,i.marginTop=void 0!==t.marginTop?t.marginTop:u.rowMarginTop,i.eventStackingLineHeight=void 0!==t.eventStackingLineHeight?t.eventStackingLineHeight:u.eventStackingLineHeight,i.loaded=!t.dynamicChildren,i.id=t.id||t.value,i.toolTip=t.toolTip,i.children=[],i.columns=[],i.start=t.start?new DayPilot.Date(t.start):this.Aa(),i.isParent=t.isParent,i.contextMenu=t.contextMenu?DayPilot.Util.evalVariable(t.contextMenu):this.contextMenuResource,i.areas=t.areas,i.moveDisabled=t.moveDisabled,i.bubbleHtml=t.bubbleHtml,i.tags=t.tags,i.task=t.task,i.swimlane=t.swimlane,i.hideEvents=t.hideEvents,i.height=i.eventHeight,i.resource=t.Yj,i.lines=[],i.blocks=[],i.isRow=!0,i.getHeight=function(){var t=0;if(u.groupConcurrentEvents)for(var e=0;e<this.blocks.length;e++){var i=this.blocks[e];t=Math.max(t,i.getHeight())}else if(this.lines.length>0){var n=this.lines.length-1,o=this.lines[n],a=o.height||this.eventHeight,r=o.top||0;t=r+a}return 0===t&&(t=this.eventHeight),t>this.minHeight?t:this.minHeight},i.resetEvents=function(){var t=this;t.events=[],t.events.forRange=function(e,i){for(var n=DayPilot.list(),o=0;o<t.events.length;o++){var a=t.events[o];DayPilot.Util.overlaps(a.start(),a.end(),e,i)&&n.push(a)}return n}},i.calculateUtilization=function(){function t(){for(var t=[],e=0;e<i.events.length;e++){var n=i.events[e];DayPilot.contains(t,n.start().toString())||t.push(n.start().toString()),DayPilot.contains(t,n.rawend().toString())||t.push(n.rawend().toString())}return t.sort(),t}function e(){for(var e=t(),n=[],o={start:i.data.start},a=0;a<e.length;a++)o.end=new DayPilot.Date(e[a]),n.push(o),o={start:new DayPilot.Date(e[a])};return o.end=i.data.end,n.push(o),n.forRange=function(t,e){for(var i=DayPilot.list(),n=0;n<this.length;n++){var o=this[n];DayPilot.Util.overlaps(t,e,o.start,o.end)&&i.push(o)}return i.maxSum=function(t){for(var e=0,i=0;i<this.length;i++){var n=this[i],o=n.sum(t);o>e&&(e=o)}return e},i},n}for(var i=this,n=i.sections=e(),o=0;o<n.length;o++){var a=n[o];a.events=[];for(var r=0;r<i.events.length;r++){var s=i.events[r];DayPilot.Util.overlaps(a.start,a.end,s.start(),s.rawend())&&a.events.push(s)}a.sum=function(t){for(var e=0,i=0;i<this.events.length;i++){var n=this.events[i],o=0;void 0===t?o=1:n.tag(t)?o=n.tag(t):n.data[t]&&(o=n.data[t]),"number"==typeof o&&(e+=o)}return e}}},i.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var i=this.lines[e];if(i.isFree(t.part.left,t.part.width))return i.add(t),e}var i=[];return i.height=0,i.add=function(t){this.push(t);var e=t.part.Fj();e>i.height&&(i.height=e)},i.isFree=function(t,e,i){for(var n=t+e-1,o=this.length,a=0;a<o;a++){var r=this[a];if(!(n<r.part.left||t>r.part.left+r.part.width-1)){if(DayPilot.contains(i,r.data))continue;return!1}}return!0},i.add(t),this.lines.push(i),this.lines.length-1},i.putIntoBlock=function(t){for(var e=0;e<this.blocks.length;e++){var i=this.blocks[e];if(-1!==DayPilot.indexOf(i.events,t))return;if(i.overlapsWith(t.part.left,t.part.width))return i.events.push(t),t.part.block=i,i.min=Math.min(i.min,t.part.left),i.max=Math.max(i.max,t.part.left+t.part.width),e}var i={};i.expanded=!1,i.row=this,i.events=[],i.lines=[],i.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var i=this.lines[e];if(i.isFree(t.part.left,t.part.width))return i.add(t),e}var i=[];i.height=0,i.add=function(t){this.push(t),t.part.height>i.height&&(i.height=t.part.height)},i.isFree=function(t,e){for(var i=t+e-1,n=this.length,o=0;o<n;o++){var a=this[o];if(!(i<a.part.left||t>a.part.left+a.part.width-1))return!1}return!0},i.add(t),this.lines.push(i)},i.overlapsWith=function(t,e){return!(t+e-1<this.min||t>this.max-1)},i.getHeight=function(){if(!this.expanded)return u.eventHeight;if(this.lines.length>0){var t=this.lines.length-1,e=this.lines[t],i=e.height||u.eventHeight;return(e.top||0)+i}return u.eventHeight},i.clear=function(){i.events=[],i.min=null,i.max=null},i.events.push(t),t.part.block=i,i.min=t.part.left,i.max=t.part.left+t.part.width,this.blocks.push(i)},i.Zj=!1,i.$j=e,i._j=function(){this.hidden=!this.ak(),this.Zj=!1,this.$j&&this.$j._j()},i.ak=function(){return!this.$j||this.$j.ak()&&this.$j.expanded},t.columns)for(var n=0;n<t.columns.length;n++)i.columns.push(t.columns[n]);return i},this.ih=function(){u.rowlist.each(function(t){if("function"==typeof u.onRowFilter&&u.rows.Xc){var e=t.$j,i={};i.visible=!0,i.row=u.Dh(t),i.filter=u.rows.Xc,u.onRowFilter(i),t.Zj=!i.visible,i.visible?e&&e._j():t.hidden=!0}})},this.Vj=function(t,e,i,n,o,a){if(t)for(var r=0;r<t.length;r++)if(t[r]){var s={};if(s.level=i,s.hidden=a,s.index=e.i,!t[r].hidden){var l=this.Mj(t[r],s),c=u.Nj(l,n);if(a&&(c.hidden=!0),c.level=i,c.index=e.i,null!==n&&n.children.push(e.i),this.rowlist.push(c),e.i++,o&&l.children&&l.children.length){var d=a||!c.expanded;this.Vj(l.children,e,i+1,c,!0,d)}}}},this.Yi=function(t){if(t.isNewRow)return{row:{cssClass:u.p("_row_new"),moveDisabled:!0,html:u.rowCreateHtml||""}};var e={};if(e.row=this.Dh(t),DayPilot.Util.copyProps(t,e.row,["html","backColor","cssClass","toolTip","contextMenu","moveDisabled"]),e.row.columns=DayPilot.Util.createArrayCopy(t.columns,["html","backColor","cssClass","areas"]),e.row.areas=DayPilot.Util.createArrayCopy(t.areas),void 0===e.row.columns&&u.rowHeaderColumns&&u.rowHeaderColumns.length>0){r.columns=[];for(var i=0;i<u.rowHeaderColumns.length;i++)r.columns.push({})}return"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(e),e},this.Mj=function(t,e){var i=this.bk(t,e);if("function"==typeof this.onBeforeResHeaderRender){var n={};n.resource=i,this.onBeforeResHeaderRender(n)}return i},this.bk=function(t,e){var i={};for(var n in e)i[n]=e[n];for(var n in t)i[n]=t[n];if(void 0===t.html&&(i.html=t.name),void 0===i.columns&&u.rowHeaderColumns&&u.rowHeaderColumns.length>0){i.columns=[];for(var o=0;o<u.rowHeaderColumns.length;o++)i.columns.push({})}return i.Yj=t,i},this.ck=function(){this.hd(),this.nav.top.dp=this,this.nav.top.innerHTML="",DayPilot.Util.addClass(this.nav.top,this.p("_main")),DayPilot.browser.ie9&&DayPilot.Util.addClass(this.nav.top,this.p("_browser_ie9")),DayPilot.browser.ie8&&DayPilot.Util.addClass(this.nav.top,this.p("_browser_ie8")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.onmousemove=this.zf,this.nav.top.ontouchstart=A.onMainTouchStart,this.nav.top.ontouchmove=A.onMainTouchMove,this.nav.top.ontouchend=A.onMainTouchEnd,this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var t=this.Ag();if("DivBased"===this.qc.layout()){var e=document.createElement("div");e.style.position="absolute",e.style.left="0px",e.style.width=t+"px",e.appendChild(this.sc());var i=document.createElement("div");i.style.height="1px",i.className=this.p("_divider_horizontal"),e.appendChild(i),this.nav.dh1=i,e.appendChild(this.dk()),this.nav.left=e;var n=document.createElement("div");n.style.position="absolute",n.style.left=t+"px",n.style.width=M.splitterWidth()+"px",n.style.height=this.zg()+this.Vb()+"px",n.className=this.p("_divider")+" "+this.p("_splitter"),n.setAttribute("unselectable","on"),this.nav.divider=n,this.rowHeaderScrolling&&this.ek();var o=document.createElement("div");o.style.marginLeft=t+M.splitterWidth()+"px",o.style.marginRight="1px",o.style.position="relative",o.appendChild(this.fk()),this.nav.right=o;var a=document.createElement("div");a.style.height="1px",a.style.position="absolute",a.style.top=this.zg()+"px",a.style.width="100%",a.className=this.p("_divider_horizontal"),o.appendChild(a),this.nav.dh2=a,o.appendChild(this.gk());var r=document.createElement("div");r.style.clear="left",this.nav.top.appendChild(e),this.nav.top.appendChild(n),this.nav.top.appendChild(o),this.nav.top.appendChild(r)}else{var s=document.createElement("table");s.cellPadding=0,s.cellSpacing=0,s.border=0,s.style.position="absolute";var l=s.insertRow(-1);l.insertCell(-1).appendChild(this.sc()),l.insertCell(-1).appendChild(this.fk());var c=s.insertRow(-1);c.insertCell(-1).appendChild(this.dk()),c.insertCell(-1).appendChild(this.gk()),this.nav.top.appendChild(s)}if(this.qe=document.createElement("div"),this.qe.style.display="none",this.nav.top.appendChild(this.qe),this.Ph()){var u=document.createElement("input");u.type="hidden",u.id=this.id+"_state",u.name=this.id+"_state",this.nav.state=u,this.nav.top.appendChild(u)}var d=document.createElement("div");d.style.position="absolute",d.style.left=this.Ag()+M.splitterWidth()+5+"px",d.style.top=this.zg()+5+"px",d.style.display="none",d.innerHTML=this.loadingLabelText,DayPilot.Util.addClass(d,this.p("_loading")),this.nav.loading=d,this.nav.top.appendChild(d),this.hk()},this.zf=function(t){if(a.row){var e=DayPilot.mo3(u.divHeader,t),i=u.Xh(e.y),o=u.rowlist[i.i];if(o.isNewRow)return;var r=e.y-i.top,s=i.bottom-i.top,l=s/3,c=2*l,d=s/2,h="before",f=o.children&&o.children.length>0,p=function(){for(var t=i.i,e=o.level;t>=0;){var n=u.rowlist[t];if(t--,!(e<=n.level)){if(n===a.row)return!0;if(0===n.level)return!1;e=n.level}}return!1}(),v=u.treeEnabled;if(h=p||i.i===a.row.index?"forbidden":v?f?r<d?"before":"child":r<l?"before":r<c?"child":"after":f?"before":r<d?"before":"after",a.row.moveDisabled&&(h="forbidden"),a.calendar=u,a.source=a.row,a.target=u.rowlist[i.i],a.position=h,function(){return!a.last||a.last.target!==a.target||a.last.position!==a.position}()){if("function"==typeof u.onRowMoving){var g={};g.source=u.Dh(a.source),g.target=u.Dh(a.target),g.position=h,u.onRowMoving(g),a.position=g.position}}else a.last&&(a.position=a.last.position);a.last={},a.last.target=a.target,a.last.position=a.position,function(){a.div&&DayPilot.de(a.div);var t=i.top,e=a.position,n=u.rowlist[i.i],o=n.level,r=o*u.treeIndent;switch(e){case"before":t=i.top;break;case"child":t=i.top+d;break;case"after":t=i.bottom;break;case"forbidden":t=i.top+d}var s=u.ij()-r,l=document.createElement("div");l.style.position="absolute",l.style.left=r+"px",l.style.width=s+"px",l.style.top=t+"px",l.className=u.p("_rowmove_position_"+e),a.div=l,u.divResScroll.appendChild(l)}()}else if(n.splitting){var y=DayPilot.mo3(u.nav.top,t).x,m=u.ij(),b=Math.min(m,y-1);u.rowHeaderWidth=b,u.Kj=!1,u.Lj()}},this.ba=function(){var t=this.zg();this.nav.corner.style.height=t+"px",this.divTimeScroll.style.height=t+"px",this.divNorth.style.height=t+"px",this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=t+"px",this.nav.dh2.style.top=t+"px"),this.nav.loading.style.top=t+5+"px",this.nav.scroll.style.top=t+1+"px"},this.Ag=function(){if(this.Kj)return 0;return this.rowHeaderScrolling?this.rowHeaderWidth:this.ij()},this.ek=function(){var t=this.nav.divider;t.style.cursor="col-resize",t.setAttribute("unselectable","on"),t.onmousedown=function(t){var e=n.splitting={};return e.cursor=u.nav.top.style.cursor,e.cleanup=function(){if(u.nav.top.style.cursor=e.cursor,"function"==typeof u.onRowHeaderResized){var t={};u.onRowHeaderResized(t)}},u.nav.top.style.cursor="col-resize",!1}},this.Lj=function(){var t=M.splitterWidth(),e=this.Ag();if(this.nav.corner.style.width=e+"px",this.divCorner.style.width=e+"px",this.divResScroll.style.width=e+"px","DivBased"===M.layout()&&(this.nav.left.style.width=e+"px",this.nav.divider.style.left=e-t+"px",this.nav.right.style.marginLeft=e+"px"),this.nav.message&&(this.nav.message.style.left=e+t+"px"),this.nav.loading&&(this.nav.loading.style.left=e+t+5+"px"),this.nav.hideIcon){var i=this.nav.hideIcon,n=u.p("_header_icon_show"),o=u.p("_header_icon_hide");i.style.left=e-1+"px",u.Kj?(DayPilot.Util.removeClass(i,o),DayPilot.Util.addClass(i,n)):(DayPilot.Util.removeClass(i,n),DayPilot.Util.addClass(i,o))}},this.ik=function(){this.jj();var t=this.ij(),e=function(t,e,i){if(t&&t.style){var n=t.firstChild;u.oj?(t.style.width=e+"px",n.style.width=e+"px","number"==typeof i&&(t.style.left=i+"px")):n.style.width=e+"px"}},i=this.divHeader;i.style.width=t+"px";for(var n=u.kj(),o=n.start;o<n.end;o++){var a=i.rows[o];if(a){var r=a.cells[0];if(r.colSpan>1){var r=a.cells[0];e(r,t)}else if(this.rowHeaderCols)for(var s=0,l=0;l<a.cells.length;l++){var c=this.rowHeaderCols[l],r=a.cells[l];e(r,c,s),s+=c}else{var c=this.rowHeaderWidth,r=a.cells[0];e(r,c)}}}u.nav.resScrollSpace&&(u.nav.resScrollSpace.style.width=t+"px"),this.S()},this.eh=function(){this.Lj(),this.ik()},this.jk=function(){var t=u.nav.corner,e=this.rowHeaderColumns,i=document.createElement("div");i.style.position="absolute",i.style.bottom="0px",i.style.left="0px",i.style.width="100%",i.style.height=M.headerHeight()+"px",i.style.overflow="hidden",u.nav.columnScroll=i;var n=document.createElement("div");n.style.position="absolute",n.style.bottom="0px",n.style.left="0px",n.style.width="5000px",n.style.height=M.headerHeight()+"px",n.style.overflow="hidden",n.className=this.p("_columnheader"),i.appendChild(n);var o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.className=this.p("_columnheader_inner"),n.appendChild(o),u._h&&(u._h.dispose(),u._h=null);var a=new DayPilot.Splitter(o);a.widths=DayPilot.Util.propArray(e,"width",u.rowHeaderColumnDefaultWidth),a.height=M.headerHeight(),a.css.title=this.p("_columnheader_cell"),a.css.titleInner=this.p("_columnheader_cell_inner"),a.css.splitter=this.p("_columnheader_splitter"),a.titles=DayPilot.Util.propArray(e,"title"),a.updating=function(t){DayPilot.Util.updatePropsFromArray(u.rowHeaderColumns,"width",this.widths),u.eh(),u.cellWidthSpec},a.updated=function(t){if(u.nj(),u.ra()){if("function"==typeof u.onRowHeaderColumnResized){var e={};e.column=u.rowHeaderColumns[t.index],u.onRowHeaderColumnResized(e)}}else switch(u.rowHeaderColumnResizedHandling){case"CallBack":case"PostBack":break;case"JavaScript":if("function"==typeof u.onRowHeaderColumnResized){var e={};e.column=u.rowHeaderColumns[t.index],u.onRowHeaderColumnResized(e)}}},a.color="#000000",a.opacity=30,a.init(),t.appendChild(i),this._h=a},this.jh=function(){var t=this.nav.corner;t.innerHTML="",t.className=this.p("_corner");var e=document.createElement("div");if(e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.right="0px",e.style.bottom="0px",e.className=this.p("_corner_inner"),this.divCorner=e,e.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.left="0px",i.style.right="0px",i.style.bottom=M.headerHeight()+1+"px",t.appendChild(i);var n=document.createElement("div");n.style.position="absolute",n.style.left="0px",n.style.right="0px",n.style.height="1px",n.style.bottom=M.headerHeight()+"px",n.className=this.p("_divider"),t.appendChild(n),i.appendChild(e),this.jk()}else t.appendChild(e);var o=document.createElement("div");o.style.position="absolute",o.style.padding="2px",o.style.top="0px",o.style.left="1px",o.style.backgroundColor="#FF6600",o.style.color="white",o.innerHTML="DEMO",DayPilot.Util.isNullOrUndefined(void 0)&&t.appendChild(o)},this.hk=function(){if(this.rowHeaderHideIconEnabled){var t=3,e=this.Ag()+M.splitterWidth()-1,i=10,n=20,o=this.zg()+t,a=DayPilot.Util.div(this.nav.top,e,o,i,n);a.style.cursor="pointer",a.className=u.p("_header_icon"),DayPilot.Util.addClass(a,u.p("_header_icon_hide")),a.onclick=function(){u.rows.headerToggle()},this.nav.hideIcon=a}},this.kh=function(){u.nav.hideIcon&&(u.rowlist.length>0?u.nav.hideIcon.style.display="":u.nav.hideIcon.style.display="none")},this.sc=function(){var t=this.Ag(),e=document.createElement("div");return u.nav.corner=e,e.style.width=t+"px",e.style.height=this.zg()+"px",e.style.overflow="hidden",e.style.position="relative",e.setAttribute("unselectable","on"),e.onmousemove=function(){u.R()},e.oncontextmenu=function(){return!1},this.jh(),e},this.zg=function(){if(u.timeHeaders){var t=H.timeHeader(u.timeHeaders.length-1);return t.top+t.height}return this.timeHeader?u.timeHeader.length*M.headerHeight():0},this.kk=null,this.lk=function(){return u.scrollStep||u.eventHeight},this.dk=function(){var t=document.createElement("div");t.style.width=this.Ag()+"px",t.style.height=this.Vb()+"px",t.style.overflow="hidden",t.style.position="relative",t.className=u.p("_rowheader_scroll");var e=u.lk(),i=-1!==navigator.userAgent.indexOf("Mobile");return i&&(t.style.overflowY="auto"),t.onmousemove=function(){u.R()},t.onscroll=function(){if(u.nav.columnScroll&&u.rowHeaderScrolling&&(u.nav.columnScroll.scrollLeft=t.scrollLeft),u.kk&&clearTimeout(u.kk),i){var e=u.Pi()-u.nav.scroll.offsetHeight;t.scrollTop=Math.min(t.scrollTop,e),u.nav.scroll.scrollTop=t.scrollTop}else u.kk=setTimeout(function(){u.nav.scroll.scrollTop=t.scrollTop},500)},t.addEventListener("wheel",function(i){var n;n=u.overrideWheelScrolling?i.deltaY>0?e:-e:i.deltaY,u.nav.scroll.scrollTop=t.scrollTop+n,i.preventDefault&&i.preventDefault()},!1),t.oncontextmenu=function(){return!1},t.onmouseenter=function(){u.rowHeaderScrolling&&(t.style.overflowX="auto")},t.onmouseleave=function(){u.rowHeaderScrolling&&(t.style.overflowX="hidden")},this.divResScroll=t,this.Dg=t,t},this.mk=function(t){if("TableBased"===M.layout()){var e=parseInt(this.width,10),i=isNaN(e)||-1!==this.width.indexOf("%"),n=(/MSIE/i.test(navigator.userAgent),this.ij());i?this.nav.top&&this.nav.top.offsetWidth>0&&(t.style.width=this.nav.top.offsetWidth-6-n+"px"):t.style.width=e-n+"px"}},this.ee=function(t){u.Wf(),u.fg()},this.Wf=function(){"TableBased"===u.qc.layout()&&(u.mk(u.nav.scroll),u.mk(u.divTimeScroll)),u.ia(),u.nj(),u.nk(),u.s.drawArea=null},this.ok=null,this.$h=null,this.pk=function(){u.watchWidthChanges&&(u.$h||(this.$h=setInterval(function(){return u.nav&&u.nav.top?(u.ok||(u.ok={},u.ok.counter=0,u.ok.changed=!1,u.ok.width=u.nav.top.offsetWidth),u.ok.width!==u.nav.top.offsetWidth&&(u.ok.changed=!0,u.ok.counter=0,u.ok.width=u.nav.top.offsetWidth),u.ok.changed&&(u.ok.counter+=1),void(u.ok.changed&&u.ok.counter>2&&(u.ok.changed=!1,u.Wf(),u.fg()))):void clearInterval(u.$h)},20)))},this.nk=function(){var t=u.rangeHold;u.clearSelection(),u.rangeHold=t,u.zh(t,!0)},this.nj=function(){u.z&&"Auto"===u.cellWidthSpec&&(u.Qf(),u.Rf(),u.Uf(),u.Yf(),u._f(),u.Zf(),u.ag(),u.L(),u.aa(),u.na(),u.ia())},this.Qf=function(){if("Auto"===this.cellWidthSpec){var t=this.nav.top.clientWidth,e=this.Ag(),i=u.qk(),n=t-e-i;if(this.Si()){var o=n/this.Si();this.cellWidth=Math.max(o,u.cellWidthMin),u.Cg=o<u.cellWidthMin}}},this.qk=function(){return"Auto"===u.heightSpec?0:"Max"===u.heightSpec||"Fixed"===u.heightSpec||"Parent100Pct"===u.heightSpec?u.Pi()>u.height?DayPilot.sw(u.nav.scroll):0:DayPilot.sw(u.nav.scroll)},this.Gg=function(){var t=this.nav.top.clientWidth,e=this.Ag(),i=this.Vb(),n=this.Pi(),o="Auto"===u.heightSpec,a=0;return n>i&&!o&&(a=DayPilot.swa()),t-e-2-a},this.fk=function(){var t=document.createElement("div");t.style.overflow="hidden",t.style.position="absolute",t.style.display="block",t.style.top="0px",t.style.width="100%",t.style.height=this.zg()+"px",t.style.overflow="hidden",t.onmousemove=function(){u.R(),u.cellBubble&&u.cellBubble.delayedHide()},this.mk(t),this.divTimeScroll=t;var e=document.createElement("div");return e.style.width=this.Si()*this.cellWidth+5e3+"px",this.divNorth=e,t.appendChild(e),t},this.Vb=function(){var t=0,e=u.heightSpec;return"Fixed"===e||"Parent100Pct"===e?this.height?this.height:0:(t=u.Pi(),("Max"===e||"Max100Pct"===e)&&t>u.height?u.height:t)},this.rk=null,this.sk=0,this.tk=0,this.uk=0,this.Eg=function(){if("function"==typeof u.onHeightChanged||"function"==typeof u.onDimensionsChanged){u.rk&&clearTimeout(u.rk);var t=function(){var t=u.nav.top.offsetHeight,e=u.sk;u.sk=t;var i=u.nav.top.offsetWidth,n=u.tk;u.tk=i;var o=u.Ag(),a=u.uk;if(u.uk=o,"function"==typeof u.onHeightChanged&&t!==e){var r={};r.oldHeight=e,r.newHeight=t,u.onHeightChanged(r)}if("function"==typeof u.onDimensionsChanged&&(t!==e||i!==n||o!==a)){var r={};r.oldHeight=e,r.newHeight=t,r.oldWidth=n,r.newWidth=i,r.oldRowHeaderWidth=a,r.newRowHeaderWidth=o,u.onDimensionsChanged(r)}};u.rk=setTimeout(t,100)}},this.Pi=function(){var t;return-1!==this.Nf?(t=this.Nf,this.Nf>0&&"auto"===u.nav.scroll.style.overflowX&&(t+=DayPilot.sh(u.nav.scroll))):t=this.rowlist.length*this.qc.eventHeight(),t},this.R=function(){this.S(),this.vk(),this.wk()},this.gk=function(){var t=document.createElement("div");if(t.style.overflow="auto",t.style.overflowX="auto",t.style.overflowY="auto",t.style.position="absolute",t.style.height=this.Vb()+"px",t.style.top=this.zg()+1+"px",t.style.width="100%",t.className=this.p("_scrollable"),t.oncontextmenu=function(){return!1},this.mk(t),u.overrideWheelScrolling){var e=u.scrollStep;t.onwheel=function(i){var n=i.deltaY>0?e:-e;u.nav.scroll.scrollTop=t.scrollTop+n,i.preventDefault&&i.preventDefault()},t.onmousewheel=function(i){i=i||window.event;var n=i.wheelDelta<0?e:-e;u.nav.scroll.scrollTop=t.scrollTop+n,i.preventDefault&&i.preventDefault(),i.returnValue=!1}}this.nav.scroll=t,this.jg=document.createElement("div"),this.jg.style.MozUserSelect="none",this.jg.style.KhtmlUserSelect="none",this.jg.style.webkitUserSelect="none",this.jg.daypilotMainD=!0,this.jg.calendar=this,i&&(this.jg.style.webkitTransform="translateZ(0px)"),this.jg.style.position="absolute";var n=this.xg();return n>0&&!isNaN(n)&&(this.jg.style.width=n+"px"),this.jg.setAttribute("unselectable","on"),this.jg.onmousedown=this.xk,this.jg.onmousemove=this.hj,this.jg.onmouseup=this.yk,this.jg.oncontextmenu=this.zk,this.jg.ondblclick=this.Ak,this.jg.className=this.p("_matrix"),this.divStretch=document.createElement("div"),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",this.jg.appendChild(this.divStretch),this.divCells=document.createElement("div"),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.zk,this.jg.appendChild(this.divCells),this.divLines=document.createElement("div"),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.zk,this.jg.appendChild(this.divLines),this.divBreaks=document.createElement("div"),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.zk,this.jg.appendChild(this.divBreaks),this.divSeparators=document.createElement("div"),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.zk,this.jg.appendChild(this.divSeparators),this.divLinksBelow=document.createElement("div"),this.divLinksBelow.style.position="absolute",this.jg.appendChild(this.divLinksBelow),this.divCrosshair=document.createElement("div"),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.Ak,this.jg.appendChild(this.divCrosshair),this.divRange=document.createElement("div"),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.zk,this.jg.appendChild(this.divRange),this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.jg.appendChild(this.divEvents),this.divSeparatorsAbove=document.createElement("div"),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.zk,this.jg.appendChild(this.divSeparatorsAbove),this.divLinksAbove=document.createElement("div"),this.divLinksAbove.style.position="absolute",this.jg.appendChild(this.divLinksAbove),this.divLinkShadow=document.createElement("div"),this.divLinkShadow.style.position="absolute",this.jg.appendChild(this.divLinkShadow),this.divLinkpoints=document.createElement("div"),this.divLinkpoints.style.position="absolute",this.jg.appendChild(this.divLinkpoints),this.divRectangle=document.createElement("div"),this.divRectangle.style.position="absolute",this.jg.appendChild(this.divRectangle),this.divHover=document.createElement("div"),this.divHover.style.position="absolute",this.jg.appendChild(this.divHover),t.appendChild(this.jg),t},this.Bk={};var P=this.Bk;P.create=function(){if(!u.nav.overlay){var t=document.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.right="0px",t.style.top="0px",t.style.bottom="0px",t.className=u.p("_block"),u.nav.top.appendChild(t),u.nav.overlay=t}},P.show=function(){P.create(),u.nav.overlay.style.display=""},P.hide=function(){u.nav.overlay&&(u.nav.overlay.style.display="none")},this.G=function(t){u.loadingTimeout&&window.clearTimeout(u.loadingTimeout);var e=t?0:100;u.loadingTimeout=window.setTimeout(function(){u.loadingLabelVisible&&(u.nav.loading.innerHTML=u.loadingLabelText,u.nav.loading.style.display=""),u.blockOnCallBack&&P.show()},e)},this.W=function(){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),this.nav.loading.style.display="none",this.blockOnCallBack&&P.hide()},this.uiBlock=function(){P.show()},this.uiUnblock=function(){P.hide()},this.bd=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart()},this.fd=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.className=this.p(t),document.body.appendChild(e);var i=e.offsetHeight,n=e.offsetWidth;document.body.removeChild(e);var o={};return o.height=i,o.width=n,o},this.qa=function(t){if(t&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.A>=this.autoRefreshMaxCount)){this.K();var e=this.autoRefreshInterval;if(!e||e<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){u.Oc()},1e3*this.autoRefreshInterval)}},this.K=function(){this.autoRefreshTimeout&&(window.clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)},this.autoRefreshStart=function(t){u.qa(t)},this.autoRefreshPause=function(){u.K()},this.Ck=function(){return!(n.resizing||n.moving||n.drag||n.range)},this.Oc=function(){if(u.Ck()){var t=!1;if("function"==typeof this.onAutoRefresh){var e={};e.i=this.A,e.preventDefault=function(){this.preventDefault.value=!0},u.onAutoRefresh(e),e.preventDefault.value&&(t=!0)}!t&&this.q()&&this.commandCallBack(this.autoRefreshCommand),this.A++}this.A<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){u.Oc()},1e3*this.autoRefreshInterval))},this.Pc=function(){n.globalHandlers||(n.globalHandlers=!0,DayPilot.re(document,"mousemove",n.gMouseMove),DayPilot.re(document,"mouseup",n.gMouseUp),DayPilot.re(document,"mousedown",n.gMouseDown),DayPilot.re(document,"touchmove",n.gTouchMove),DayPilot.re(document,"touchend",n.gTouchEnd),DayPilot.re(window,"keyup",n.gKeyUp)),DayPilot.re(window,"resize",this.ee)},this.Dk=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.fg,u.Ti=this.nav.scroll.scrollLeft,u.Ri=this.nav.scroll.scrollTop,u.Ui=this.divNorth.clientWidth,window.eval("var lh=location.hostname;if(!~lh.indexOf('daypilot.org')&&lh!=='localhost')setTimeout(function(){alert('You are using a trial version of DayPilot Pro.')},100000*(Math.random()*6+6));")},this.pf=function(){if(this.nav.state){var t={};t.scrollX=this.nav.scroll.scrollLeft,t.scrollY=this.nav.scroll.scrollTop;var e=u.Rh(t.scrollX,t.scrollY),i=u.Sh(e),n=u.Th(e);t.rangeStart=i.start,t.rangeEnd=i.end,t.resources=n,this.syncResourceTree&&(t.tree=this.Q()),this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify(t))}},this.ag=function(){if(this.separators)for(var t=0;t<this.separators.length;t++)this.Vc(t)},this.Ek={},this.Ek.step=300,this.Ek.delay=10,this.Ek.mode="display",this.Ek.layers=!1,this.Wi=function(t){if(u.cellStacking)return void _.calculateEventPositionsRow(t);for(var e=this.durationBarDetached?-10:0,i=0,n=0;n<t.lines.length;n++){var o=t.lines[n];o.height=0,o.top=i;for(var a=0;a<o.length;a++){var r=o[a];if(r.part.top,!0){r.part.line=n,r.part.height||(r.part.height=t.eventHeight);var s=r.part.Fj();s>o.height&&(o.height=s),r.part.top=i+t.marginTop;var l="Above"===u.eventVersionPosition;if(u.eventVersionsEnabled&&!DayPilot.list(r.data.versions).isEmpty()){var c=(r.data.versions.length,r.part.top);l||(c+=r.part.height+u.eventVersionMargin),DayPilot.list(r.data.versions).each(function(t,e){if(r.versions[e]){var i=e*(u.eventVersionHeight+u.eventVersionMargin);r.versions[e].top=c+i,l&&(r.part.top+=u.eventVersionHeight,r.part.top+=u.eventVersionMargin)}})}r.part.top+=u.eventMarginBottom,r.part.detachedBarTop=r.part.top-e,r.part.right=r.part.left+r.part.width,r.part.fullTop=this.rowlist[r.part.dayIndex].top+r.part.top,r.part.fullBottom=r.part.fullTop+r.part.height}}i+=(o.height||t.eventHeight)*t.eventStackingLineHeight/100}};var _={};_.loadRow=function(t){t.evColumns=DayPilot.list(u.itline).map(function(t,e){return{events:DayPilot.list()}}),DayPilot.list(t.events).each(function(e){var i=e.start(),n=u.Tg(i);t.evColumns[n.i].events.push(e)})},_.calculateEventPositions=function(){var t=u.cellStackingAutoHeight,e=0;DayPilot.list(u.rowlist).each(function(i){var n=0;i.evColumns.each(function(e,o){var a=u.itline[o],r=u.rowMarginTop;e.events.each(function(e){e.part.left=a.left,e.part.width=a.width,e.part.top=r,e.part.height||(e.part.height=t?_.getEventAutoHeight(e)+u.durationBarHeight:i.eventHeight),r+=e.part.height+u.eventMarginBottom}),e.height=r,e.height>n&&(n=e.height)}),i.maxColumnHeight=n,i.top=e;var o=i.height;i.height=i.getHeight(),n>u.rowMarginTop&&(i.height=n+u.rowMarginBottom),o!==i.height&&(u.nh=!0),e+=i.height}),u.Nf=e},_.getEventAutoHeight=function(t){var e=t.client.html(),i=document.createElement("div");i.style.position="absolute",i.style.top="-2000px",i.style.left="-2000px",i.style.width=t.part.width+"px",i.className=u.p(E.event);var n=document.createElement("div");n.className=u.p(E.eventInner),n.innerHTML=e,n.style.position="static",n.style.overflow="auto",i.appendChild(n);var o=u.divEvents;o.appendChild(i);var a=i.offsetHeight;return o.removeChild(i),a},_.calculateEventPositionsRow=function(t){_.calculateEventPositions()},_.drawEventsWithoutCheckingOverflow=function(){DayPilot.list(u.rowlist).each(function(t){_.drawEventsRow(t)})},_.drawEvents=function(){_.drawEventsWithoutCheckingOverflow(),_.checkOverflow(),u.Xf(),u.ia()},_.checkOverflow=function(){if(u.cellStackingAutoHeight){var t=!1;DayPilot.list(u.elements.events).each(function(e){var i=e.firstChild,n=i.offsetHeight-i.clientHeight+e.offsetHeight-e.clientHeight,o=i.scrollHeight+n,a=e.event.part.height;e.event.part.height=o,a!==o&&(t=!0)}),t&&(u.L(),_.calculateEventPositions(),_.drawEventsWithoutCheckingOverflow(),u.Yf(),u._f())}},_.drawEventsRow=function(t){t.evColumns.each(function(t,e){t.events.each(function(t){u.Nb(t)})})},this.na=function(t){if(!u.xd){if(u.cellStacking)return void _.drawEvents();var e=this.Ek.step;this.Ek.layers&&(u.divEvents=document.createElement("div"),u.divEvents.style.position="absolute",u.jg.insertBefore(this.divEvents,this.divSeparatorsAbove)),"display"===this.Ek.mode?this.divEvents.style.display="none":"visibility"===this.Ek.mode&&(this.divEvents.style.visibility="hidden");for(var i="Progressive"===this.dynamicEventRendering,n=this.og(),o=n.pixels.top,a=n.pixels.bottom,r=0;r<this.rowlist.length;r++){var s=this.rowlist[r],l=s.top-this.dynamicEventRenderingMargin,c=l+s.height+2*this.dynamicEventRenderingMargin;if(!i||!(a<=l||o>=c)){this.Wi(s);for(var d=0;d<s.lines.length;d++)for(var h=s.lines[d],f=0;f<h.length;f++){var v=h[f],g=this.Nb(v);if(t&&g&&--e<=0)return this.divEvents.style.visibility="",this.divEvents.style.display="",void window.setTimeout(function(){u.na(t)},u.Ek.delay)}}}this.divEvents.style.display="",DayPilot.list(u.multiselect.list).isEmpty()||u.multiselect.redraw(),this.rg(),p.load()}},this.ph=function(t){var e=this.rowlist[t];if(u.cellStacking)return void _.drawEventsRow(e);this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.divEvents.style.display="none",this.jg.insertBefore(this.divEvents,this.divSeparatorsAbove),this.durationBarDetached,this.Wi(e);for(var i=0;i<e.lines.length;i++)for(var n=e.lines[i],o=0;o<n.length;o++){var a=n[o];this.Nb(a)}this.divEvents.style.display=""},this.L=function(){if(this.elements.events)for(var t=this.elements.events.length,e=0;e<t;e++){var i=this.elements.events[e];this.li(i)}this.elements.events=[]},this.oh=function(t){if(this.elements.events){for(var e=this.elements.events.length,i=[],n=0;n<e;n++){var o=this.elements.events[n];o.event.part.dayIndex===t&&(this.li(o),i.push(n))}for(var n=i.length-1;n>=0;n--)this.elements.events.splice(i[n],1)}},this.li=function(t){t.onclick=null,t.oncontextmenu=null,t.onmouseover=null,t.onmouseout=null,t.onmousemove=null,t.onmousedown=null,t.ondblclick=null,t.event&&(t.isBar||(t.event.rendered=null),t.event=null),t.related&&DayPilot.de(t.related),t.parentNode&&t.parentNode.removeChild(t)},this.Fk=function(t){t.event&&(t.event.rendered=!1),t.onclick=null,t.onmousedown=null,t.event=null,t.parentNode&&t.parentNode.removeChild(t)},this.Gk=function(t){if(t||(t=0),"Progressive"===this.dynamicEventRendering){this.divEvents.style.display="none";for(var e=[],i=0,n=this.elements.events.length,o=n-1;o>=0;o--){var a=this.elements.events[o];this.Hk(a.event)?t>0?(t--,e.unshift(a)):(this.li(a),i++):e.unshift(a)}this.elements.events=e,this.divEvents.style.display=""}},this.Ik=function(t){for(var e=[],i=0,n=this.og(),o=this.elements.cells.length,a=o-1;a>=0;a--){var r=this.elements.cells[a];n.xStart<r.coords.x&&r.coords.x<=n.xEnd&&n.yStart<r.coords.y&&r.coords.y<=n.yEnd?e.unshift(r):t>0?(t--,e.unshift(r)):(this.qi(r),i++)}},this.qi=function(t){if(t){var e=t.coords.x,i=t.coords.y;DayPilot.rfa(u.elements.cells,t),DayPilot.de(t),u.s.cells[e+"_"+i]=null}},this.Zf=function(){if(this.elements.separators)for(var t=0;t<this.elements.separators.length;t++){var e=this.elements.separators[t];DayPilot.de(e)}this.elements.separators=[]},this.Jk=function(){var t="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var e=this.nav.scroll.scrollTop,i=e+this.nav.scroll.clientHeight,n=0;n<this.rowlist.length;n++){var o=this.rowlist[n],a=o.top,r=o.top+o.height;if(!t||!(i<=a||e>=r))for(var s=0;s<o.lines.length;s++)for(var l=o.lines[s],c=0;c<l.length;c++){var u=l[c];if(this.Kk(u))return!0}}return!1},this.Kk=function(t){if(t.rendered)return!1;var e="Progressive"===this.dynamicEventRendering,i=this.nav.scroll.scrollLeft,n=i+this.nav.scroll.clientWidth,o=t.part.left,a=t.part.left+t.part.width;return!e||!(n<=o||i>=a)},this.Hk=function(t){if(!t.rendered)return!0;var e=this.og(),i=e.pixels.top,n=e.pixels.bottom,o=e.pixels.left-this.dynamicEventRenderingMargin,a=e.pixels.right+this.dynamicEventRenderingMargin,r=t.part.left,s=t.part.right,l=t.part.fullTop,c=t.part.fullBottom;return a<=r||o>=s||n<=l||i>=c},this.Ej=DayPilot.list(),this.Lk=function(t){if(t.rendered)return!1;if(t.row.hidden)return!1;var e=t.min,i=t.max-t.min,n=u.eventHeight,o=t.row.top,a=document.createElement("div");a.style.position="absolute",a.style.left=e+"px",a.style.top=o+"px",a.style.width=i+"px",a.style.height=n+"px",a.className=u.p("_event_group"),a.style.cursor="pointer";var r={};r.group={},r.group.count=t.events.length,r.group.html="[+] "+t.events.length+" events","function"==typeof u.onBeforeGroupRender&&u.onBeforeGroupRender(r);var s=document.createElement("div");return s.innerHTML=r.group.html,a.appendChild(s),a.onmousedown=function(t){var t=t||window.event;t.cancelBubble=!0},a.onclick=function(t){var e=a.event;e.expanded=!0,u.Fk(a);var i=DayPilot.indexOf(u.elements.events,a);-1!==i&&u.elements.events.splice(i,1);var n=u.Ej;DayPilot.list(e.events).each(function(t){n.push(t.id())}),u._g(),u.ah(e.part.dayIndex),u.ia();var t=t||window.event;t.cancelBubble=!0},t.part={},t.part.left=e,t.part.width=i,t.part.height=u.eventHeight,t.part.dayIndex=DayPilot.indexOf(u.rowlist,t.row),t.part.top=0,t.part.isBlock=!0,t.client={},t.client.html=function(){return r.group.html},t.data={},a.event=t,this.elements.events.push(a),this.divEvents.appendChild(a),t.rendered=!0,!0},this.Nb=function(t){if(t.rendered)return!1;if(u.groupConcurrentEvents){var e=t.part.block;if(e.events.length>1&&!e.expanded)return u.Lk(e)}var i="Progressive"===this.dynamicEventRendering,n=this.og(),o=n.pixels.left-this.dynamicEventRenderingMargin,a=n.pixels.right+this.dynamicEventRenderingMargin,r=t.part.left,s=t.part.left+t.part.width;if(i&&(a<=r||o>=s))return!1;var l=t.part.dayIndex,c=t.part.width,d=t.part.height,h=t.cache||t.data;c=Math.max(0,c),d=Math.max(0,d);var f=this.rowlist[l];if(f.hidden)return!1;var p=f.top,v=this.durationBarDetached,g=document.createElement("div");if(g.related=[],v){var y=t.part.barLeft,m=t.part.barWidth;"PercentComplete"===this.durationBarMode&&(y=0,m=(h.complete||0)/100*c);var b=document.createElement("div");b.style.position="absolute",b.style.left=t.part.left+y+"px",b.style.top=p+t.part.detachedBarTop+"px",b.style.width=m+"px",b.style.height="5px",b.style.backgroundColor="black",b.type="detachedBar",g.related.push(b),this.divEvents.appendChild(b)}if(function(e){u.eventVersionsEnabled&&DayPilot.list(t.data.versions).each(function(i,n){if(i){var o=t.versions[n];if(o){var a=document.createElement("div");a.style.position="absolute",a.style.left=o.left+"px",a.style.top=p+o.top+"px",a.style.width=o.width+"px",a.style.height=u.eventVersionHeight+"px",a.className=u.p(E.event)+" "+u.p("_event_previous")+" "+u.p("_event_version"),i.toolTip&&(a.title=i.toolTip),i.cssClass&&DayPilot.Util.addClass(a,i.cssClass);var r=document.createElement("div");r.setAttribute("unselectable","on"),r.className=u.p(E.eventInner),r.innerHTML=i.html||i.text||"",i.backColor&&(r.style.background=i.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(r.style.filter="")),i.fontColor&&(r.style.color=i.fontColor),i.borderColor&&(r.style.borderColor=i.borderColor),i.backImage&&(r.style.backgroundImage="url("+i.backImage+")",i.backRepeat&&(r.style.backgroundRepeat=i.backRepeat)),a.appendChild(r),o.continueLeft&&DayPilot.Util.addClass(a,u.p("_event_continueleft")),o.continueRight&&DayPilot.Util.addClass(a,u.p("_event_continueright"));var s=u.durationBarVisible&&!i.barHidden,l=o.width;if(s&&l>0){var c=100*o.barLeft/l,d=Math.ceil(100*o.barWidth/l);"PercentComplete"===u.durationBarMode&&(c=0,d=i.complete||0);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=u.p(E.eventBar),h.style.position="absolute",i.barBackColor&&(h.style.backgroundColor=i.barBackColor);var f=document.createElement("div");f.setAttribute("unselectable","on"),f.className=u.p(E.eventBarInner),f.style.left=c+"%",f.style.width=0<d&&d<=1?"1px":d+"%",i.barColor&&(f.style.backgroundColor=i.barColor),i.barImageUrl&&(f.style.backgroundImage="url("+i.barImageUrl+")"),h.appendChild(f),a.appendChild(h)}if(i.htmlLeft){var v=5,g=document.createElement("div");g.style.position="absolute",g.style.right=-(o.left-v)+"px",g.style.top=p+o.top+"px",g.style.height=u.eventHeight+"px",g.style.boxSizing="border-box",g.innerHTML=i.htmlLeft,g.className=u.p("_event_left"),g.type="divLeft",g.versionPart=o,e.related.push(g),u.divEvents.appendChild(g)}if(i.htmlRight){var v=5,y=document.createElement("div");y.style.position="absolute",y.style.left=o.left+o.width+v+"px",y.style.top=p+o.top+"px",y.style.height=u.eventHeight+"px",y.style.boxSizing="border-box",y.innerHTML=i.htmlRight,y.className=u.p("_event_right"),y.type="divRight",y.versionPart=o,e.related.push(y),u.divEvents.appendChild(y)}a.versionPart=o,a.type="version",e.related.push(a),u.divEvents.appendChild(a)}}})}(g),t.data.htmlLeft){var w=5,D=document.createElement("div");D.style.position="absolute",D.style.right=-(t.part.left-w)+"px",D.style.top=p+t.part.top+"px",D.style.height=u.eventHeight+"px",D.style.boxSizing="border-box",D.innerHTML=t.data.htmlLeft,D.className=u.p("_event_left"),D.type="divLeft",g.related.push(D),this.divEvents.appendChild(D)}if(t.data.htmlRight){var w=5,C=document.createElement("div");C.style.position="absolute",C.style.left=t.part.left+t.part.width+w+"px",C.style.top=p+t.part.top+"px",C.style.height=u.eventHeight+"px",C.style.boxSizing="border-box",C.innerHTML=t.data.htmlRight,C.className=u.p("_event_right"),C.type="divRight",g.related.push(C),this.divEvents.appendChild(C)}t.part.top,g.style.position="absolute",g.style.left=t.part.left+u.eventMarginLeft+"px",g.style.top=p+t.part.top+"px",g.style.width=c-u.eventMarginLeft-u.eventMarginRight+"px",g.style.height=d+"px",u.eventTextWrappingEnabled||(g.style.whiteSpace="nowrap"),g.style.overflow="hidden",g.className=this.p(E.event),"Milestone"===t.data.type&&DayPilot.Util.addClass(g,u.p("_task_milestone")),"Group"===t.data.type&&(DayPilot.Util.addClass(g,u.p("_task_parent")),DayPilot.Util.addClass(g,u.p("_task_group"))),h.cssClass&&DayPilot.Util.addClass(g,h.cssClass),"number"==typeof t.part.line&&DayPilot.Util.addClass(g,this.p(E.eventLine+t.part.line)),g.setAttribute("unselectable","on"),this.showToolTip&&!this.bubble&&(g.title=t.client.toolTip()||""),g.onmousemove=this.Ob,g.onmouseout=this.Pb,g.onmousedown=this.Qb,g.onmouseup=this.Mk,g.ontouchstart=A.onEventTouchStart,g.ontouchmove=A.onEventTouchMove,g.ontouchend=A.onEventTouchEnd,t.client.clickEnabled()&&(g.onclick=this.Ie),t.client.doubleClickEnabled()&&(g.ondblclick=this.Ja),g.oncontextmenu=this.Ka;var k=document.createElement("div");k.setAttribute("unselectable","on"),k.className=u.p(E.eventInner),k.innerHTML=t.client.innerHTML(),h.backColor&&(k.style.background=h.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(k.style.filter="")),h.fontColor&&(k.style.color=h.fontColor),h.borderColor&&(k.style.borderColor=h.borderColor),h.backImage&&(k.style.backgroundImage="url("+h.backImage+")",h.backRepeat&&(k.style.backgroundRepeat=h.backRepeat)),g.appendChild(k);var x=t.start().getTime()===t.part.start.getTime(),P=t.rawend().getTime()===t.part.end.getTime();if(x||DayPilot.Util.addClass(g,this.p("_event_continueleft")),P||DayPilot.Util.addClass(g,this.p("_event_continueright")),t.client.barVisible()&&c>0){var y=100*t.part.barLeft/c,m=Math.ceil(100*t.part.barWidth/c);"PercentComplete"===this.durationBarMode&&(y=0,m=h.complete||0);var b=document.createElement("div");b.setAttribute("unselectable","on"),b.className=this.p(E.eventBar),b.style.position="absolute",h.barBackColor&&(b.style.backgroundColor=h.barBackColor);var _=document.createElement("div");_.setAttribute("unselectable","on"),_.className=this.p(E.eventBarInner),_.style.left=y+"%",_.style.width=0<m&&m<=1?"1px":m+"%",h.barColor&&(_.style.backgroundColor=h.barColor),h.barImageUrl&&(_.style.backgroundImage="url("+h.barImageUrl+")"),b.appendChild(_),g.appendChild(b)}if(g.row=l,h.areas)for(var S=0;S<h.areas.length;S++){var n=h.areas[S],T=n.v||"Visible";if("Visible"===T){(n.start||n.end)&&(n.left=u.getPixels(new DayPilot.Date(n.start)).left-t.part.left,n.width=u.getPixels(new DayPilot.Date(n.end)).left-n.left-t.part.left);var R=DayPilot.Areas.createArea(g,t,n);g.appendChild(R)}}if(this.elements.events.push(g),this.divEvents.appendChild(g),t.rendered=!0,g.event=t,u.multiselect.wb(g.event)&&(u.multiselect.add(g.event,!0),u.multiselect.ad(g)),u.ra()){if("function"==typeof u.onAfterEventRender){var M={};M.e=g.event,M.div=g,u.onAfterEventRender(M)}}else u.afterEventRender&&u.afterEventRender(g.event,g);return!0},this.ra=function(){return 2===u.api},this.qh=function(){for(var t=0;t<this.elements.events.length;t++){var e=this.elements.events[t],i=e.event,n=i.part.dayIndex,o=this.rowlist[n],a=o.top,r=a+i.part.top;e.style.top=r+"px",DayPilot.list(e.related).filter(function(t){return!!t.versionPart}).each(function(t){var e=t.versionPart;t.style.top=a+e.top+"px"}),DayPilot.list(e.related).filter(function(t){return!t.versionPart&&("divLeft"===t.type||"divRight"===t.type)}).each(function(t){t.style.top=r+"px"})}},this._c=function(t){if(!t)return null;for(var e=0;e<u.elements.events.length;e++){var i=u.elements.events[e];if(i.event===t||i.event.data===t.data)return i}return null},this.Pb=function(t){var e=this;DayPilot.Areas.hideAreas(e,t),DayPilot.Util.removeClass(e,u.p("_event_hover")),u.Nk(e),s.source||p.hideLinkpointsWithDelay(),u.bubble&&"Bubble"===u.eventHoverHandling&&u.bubble.hideOnMouseOut()},this.Ok=function(t){if("function"==typeof this.onEventMouseOver){var e={};e.div=t,e.e=t.event,this.onEventMouseOver(e)}},this.Nk=function(t){if("function"==typeof this.onEventMouseOut){var e={};e.div=t,e.e=t.event,this.onEventMouseOut(e)}},this.Ob=function(t){t=t||window.event,u.cellBubble&&u.cellBubble.delayedHide();for(var e=this;e&&!e.event;)e=e.parentNode;u.Pk(e,t);var i=e.event.cache?e.event.cache.deleteDisabled:e.event.data.deleteDisabled;if(!e.active){var n=[];if("Disabled"!==u.eventDeleteHandling&&!i){var o=u.durationBarVisible?u.durationBarHeight:0;n.push({action:"JavaScript",v:"Hover",w:17,h:17,top:o+2,right:2,css:u.p(E.eventDelete),js:function(t){u.Oa(t)}})}var a=e.event.cache?e.event.cache.areas:e.event.data.areas;a&&a.length>0&&(n=n.concat(a)),DayPilot.Areas.showAreas(e,e.event,null,n),DayPilot.Util.addClass(e,u.p("_event_hover")),u.Ok(e)}"Disabled"===u.linkCreateHandling||s.source||(p.clearHideTimeout(),p.hideLinkpoints(),u.Ck()&&p.showLinkpoint(e)),t.srcElement?t.srcElement.insideEvent=!0:t.insideEvent=!0},this.Qk={};var S=this.Qk;this.Mk=function(t){if(u.ionicEventClickFix){var e=S.originalMouse;if(e){var i=DayPilot.mc(t);e.x===i.x&&e.y===i.y&&(u.Ie.call(this,t),t.preventDefault(),t.stopPropagation())}}},this.Qb=function(t){if(u.R(),void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),t=t||window.event,DayPilot.Util.mouseButton(t).left){var e=t.shiftKey;if("Disabled"!==u.multiSelectRectangle&&e)return T.start(),!1;"w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(n.preventEventClick=!0,n.resizing=this,n.resizingEvent=this.event,n.originalMouse=DayPilot.mc(t),document.body.style.cursor=this.style.cursor,p.hideLinkpoints()):("move"===this.style.cursor||"Full"===u.moveBy&&this.event.client.moveEnabled())&&(S.start=!0,S.moving=this,S.movingEvent=this.event,S.originalMouse=DayPilot.mc(t),S.moveOffsetX=DayPilot.mo3(this,t).x,S.moveDragStart=u.getDate(u.coords.x,!0),p.hideLinkpoints())}return DayPilot.Menu&&DayPilot.Menu.active&&DayPilot.Menu.active.hide(),t.cancelBubble=!0,!1},this.Rb={};var A=u.Rb;A.active=!1,A.start=!1,A.timeouts=[],A.onEventTouchStart=function(t){if(!A.active&&!A.start){t.stopPropagation(),A.clearTimeouts(),A.start=!0,A.active=!1;var i=this,n=u.tapAndHoldTimeout;A.timeouts.push(window.setTimeout(function(){A.active=!0,A.start=!1,u.coords=A.relativeCoords(t),t.preventDefault();var n=i.event;switch(u.eventTapAndHoldHandling){case"Move":if(n.client.moveEnabled()){var o=e(t);A.startMoving(i,o)}break;case"ContextMenu":DayPilot.Menu&&DayPilot.Menu.touchPosition(t);var a=n.client.contextMenu();a?a.show(n):u.contextMenu&&u.contextMenu.show(n)}},n))}},A.onEventTouchMove=function(t){A.clearTimeouts(),A.start=!1},A.onEventTouchEnd=function(t){if(!DayPilot.Util.isMouseEvent(t)){if(A.clearTimeouts(),A.start){A.start=!1,t.preventDefault(),t.stopPropagation();var e=this;window.setTimeout(function(){u.Ga(e,t)})}window.setTimeout(function(){A.start=!1,A.active=!1},500)}},A.onMainTouchStart=function(t){if(!(A.active||A.start||t.touches.length>1||"Disabled"===u.timeRangeSelectedHandling)){A.clearTimeouts(),A.start=!0,A.active=!1;var e=u.tapAndHoldTimeout;A.timeouts.push(window.setTimeout(function(){A.active=!0,A.start=!1,t.preventDefault(),u.coords=A.relativeCoords(t),A.range=u.Rk()},e)),u.coords=A.relativeCoords(t)}},A.onMainTouchMove=function(t){if(A.clearTimeouts(),A.start=!1,n.resizing)return t.preventDefault(),void A.updateResizing();if(A.active){if(t.preventDefault(),u.coords=A.relativeCoords(t),n.moving)return void A.updateMoving();if(A.range){var e=A.range;e.end={x:Math.floor(u.coords.x/u.cellWidth)},u.zh(e)}}},A.onMainTouchEnd=function(t){if(A.clearTimeouts(),A.active){if(n.moving){t.preventDefault();var e=n.movingEvent,i=n.movingShadow.start,o=n.movingShadow.end,a="Days"!==u.viewType?n.movingShadow.row.id:null,r=!!n.drag,s=n.movingShadow.overlapping,l=!n.movingShadow.allowed;if(DayPilot.Util.removeClass(n.moving,u.p(u.Sk.eventMovingSource)),DayPilot.de(n.movingShadow),u.gj(),n.movingShadow.calendar=null,document.body.style.cursor="",n.moving=null,n.movingEvent=null,n.movingShadow=null,u.bj.clear(),s||l||u.bj.forbidden||u.bj.invalid)return;u.Ta(e,i,o,a,r)}if(A.range){var c=A.range;A.range=null;var d=u.elements.range2;d&&d.overlapping?u.clearSelection():u.wh(c)}}else if(A.start){if(u.coords.x<u.getScrollX())return;var c=u.Rk();u.zh(c);var d=u.elements.range2;d&&d.overlapping?u.clearSelection():u.wh(c)}window.setTimeout(function(){A.start=!1,A.active=!1},500)},A.clearTimeouts=function(){for(var t=0;t<A.timeouts.length;t++)clearTimeout(A.timeouts[t]);A.timeouts=[]},A.relativeCoords=function(t){var e=u.jg,i=t.touches[0].pageX,n=t.touches[0].pageY,o=DayPilot.abs(e);return{x:i-o.x,y:n-o.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},A.startMoving=function(t,e){n.moving=t,n.movingEvent=t.event,n.originalMouse=e;var i=DayPilot.abs(t);n.moveOffsetX=e.x-i.x,n.moveDragStart=u.getDate(u.coords.x,!0),n.movingShadow=u.sa(t),u.Mi()},A.startResizing=function(t,e){n.resizing=t,n.resizingEvent=t.event,n.resizing.dpBorder=e,n.resizingShadow||(n.resizingShadow=u.sa(t)),u.cj()},A.updateResizing=function(){if(!n.resizingShadow){var t=n.resizing;n.resizingShadow=u.sa(t)}u.cj()},A.updateMoving=function(){if(n.movingShadow&&n.movingShadow.calendar!==u&&(n.movingShadow.calendar=null,DayPilot.de(n.movingShadow),n.movingShadow=null),!n.movingShadow){var t=n.moving;n.movingShadow=u.sa(t)}n.moving.target=u,u.Mi()},this.Pk=function(t,e){var i=this.eventResizeMargin,o=this.eventMoveMargin,a=t;if(void 0!==n){var r=DayPilot.mo3(t,e);if(r&&(u.eventOffset=r,!n.resizing&&!n.moving)){var s=a.event.part.start.toString()===a.event.start().toString(),l=a.event.part.end.toString()===a.event.rawend().toString();"Top"===u.moveBy&&r.y<=o&&a.event.client.moveEnabled()&&"Disabled"!==u.eventMoveHandling?t.style.cursor="move":("Top"===u.moveBy||"Full"===u.moveBy)&&r.x<=i&&a.event.client.resizeEnabled()&&"Disabled"!==u.eventResizeHandling?s?(t.style.cursor="w-resize",t.dpBorder="left"):t.style.cursor="not-allowed":"Left"===u.moveBy&&r.x<=o&&a.event.client.moveEnabled()&&"Disabled"!==u.eventMoveHandling?t.style.cursor="move":t.offsetWidth-r.x<=i&&a.event.client.resizeEnabled()&&"Disabled"!==u.eventResizeHandling?l?(t.style.cursor="e-resize",t.dpBorder="right"):t.style.cursor="not-allowed":n.resizing||n.moving||(a.event.client.clickEnabled()&&"Disabled"!==u.eventClickHandling?t.style.cursor="pointer":t.style.cursor="default"),void 0===DayPilot.Bubble||!u.bubble||"Bubble"!==u.eventHoverHandling||"default"!==t.style.cursor&&"pointer"!==t.style.cursor||this.Rc&&r.x===this.Rc.x&&r.y===this.Rc.y||(this.Rc=r,u.bubble.showEvent(t.event))}}},this.Si=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.xh=function(t){var t=t||n.range||u.rangeHold;if(!t)return null;var e=u.rowlist[t.start.y];if(!e)return null;var i=t.Tk?t.Tk:t,o=e.id,a=i.end.x>i.start.x?i.start.x:i.end.x,r=i.end.x>i.start.x?i.end.x:i.start.x,s=0;s=e.start.getTime()-this.Aa().getTime();var l=this.itline[a].start.addTime(s),c=this.itline[r].end.addTime(s);return new DayPilot.Selection(l,c,o,u)},this.rb=function(t){var e=t.parentNode,i=u.eventEditMinWidth,n=document.createElement("textarea");return n.style.position="absolute",n.style.width=(t.offsetWidth<i?i:t.offsetWidth-2)+"px",n.style.height=t.offsetHeight-2+"px",n.style.fontFamily=DayPilot.gs(t,"fontFamily")||DayPilot.gs(t,"font-family"),n.style.fontSize=DayPilot.gs(t,"fontSize")||DayPilot.gs(t,"font-size"),n.style.left=t.offsetLeft+"px",n.style.top=t.offsetTop+"px",n.style.border="1px solid black",n.style.padding="0px",n.style.marginTop="0px",n.style.backgroundColor="white",n.value=DayPilot.tr(t.event.text()),n.event=t.event,e.appendChild(n),n},this.Uk=function(t){var e=d.events();e.sort(function(t,e){var i=t.event,n=e.event;return i.part.dayIndex!==n.part.dayIndex?i.part.dayIndex-n.part.dayIndex:i.start()!==n.start()?i.start().getTime()-n.start().getTime():n.end().getTime()-i.end().getTime()});var i=e.indexOf(t);return-1===i?null:i+1<e.length?e[i+1]:e[0]},this.Ha=function(t){if(t&&(n.editing&&n.editing.blur(),t.event)){var e=this.rb(t);n.editing=e,DayPilot.re(e,DayPilot.touch.start,function(t){t.stopPropagation()}),e.onblur=function(){if(e.onblur=null,n.editing===e&&(n.editing=null),e.parentNode&&e.parentNode.removeChild(e),t.event){var i=(t.event.text(),e.value);u.ab(t.event,i,e.canceling)}},e.onmousedown=function(t){t=t||window.event,t.stopPropagation&&t.stopPropagation()},e.onkeypress=function(t){return 13!==(window.event?event.keyCode:t.keyCode)||(this.onblur(),!1)},e.cancel=function(){n.editing&&(n.editing.canceling=!0,n.editing.blur())},e.onkeydown=function(e){var i=window.event?event.keyCode:e.keyCode;if(27===i)n.editing.cancel();else if(9===i){var o=u.Uk(t);return n.editing.cancel(),o&&(DayPilot.browser.ie?setTimeout(function(){u.Ha(o)},0):u.Ha(o)),!1}},e.select(),e.focus()}},this.tj=function(t){var e=this,i=e.row;if(void 0!==DayPilot.Bubble&&(u.cellBubble&&u.cellBubble.hideOnMouseOut(),u.resourceBubble)){var n={};n.calendar=u,n.id=i.id,i.bubbleHtml&&(n.bubbleHtml=function(){return i.bubbleHtml}),n.toJSON=function(){var t={};return t.id=this.id,t},u.resourceBubble.showResource(n)}},this.uj=function(t){var e=this;void 0!==DayPilot.Bubble&&u.resourceBubble&&u.resourceBubble.hideOnMouseOut();var i=e.firstChild;DayPilot.Areas.hideAreas(i,t),i.data=null},this.vj=function(t){a.row&&(k.cancelClick=!0,setTimeout(function(){k.cancelClick=!1},100))},this.Uf=function(){if(this.timeHeader){this.s.timeHeader={};var t=document.createElement("div");t.style.position="relative",this.nav.timeHeader=t;for(var e=0;e<this.timeHeader.length;e++)for(var i=this.timeHeader[e],n=0;n<i.length;n++)this.Vk(n,e);var o=this.divNorth;1===o.childNodes.length?o.replaceChild(t,o.childNodes[0]):(o.innerHTML="",o.appendChild(t));var a=this.xg();o.style.width=a+5e3+"px",u.divCorner.innerHTML=this.cornerHtml||"",a>0&&(this.divStretch.style.width=a+"px")}},this.Pg=function(t,e){var i=null,n=this.qc.locale(),e=e||this.cellGroupBy,o=t.start;switch(t.end,e){case"Hour":i="Clock12Hours"===u.qc.timeFormat()?o.toString("h tt",n):o.toString("H",n);break;case"Day":i=o.toString(n.datePattern);break;case"Week":i=1===M.weekStarts()?o.weekNumberISO():o.weekNumber();break;case"Month":i=o.toString("MMMM yyyy",n);break;case"Quarter":i="Q"+Math.floor(o.getMonth()/3+1);break;case"Year":i=o.toString("yyyy");break;case"None":i="";break;case"Cell":var a=(t.end.ticks-t.start.ticks)/6e4;i=this.Wk(o,a);break;default:throw"Invalid cellGroupBy value"}return i},this.Wk=function(t,e){var i=this.qc.locale(),e=e||this.cellDuration;return e<60?t.toString("mm"):e<1440?"Clock12Hours"===u.qc.timeFormat()?t.toString("h tt",i):t.toString("H",i):e<10080?t.toString("d"):10080===e?1===M.weekStarts()?t.weekNumberISO():t.weekNumber():t.toString("MMMM yyyy",i)},this.Lg=function(t){var e=this.scale;switch(e){case"Cell":throw"Invalid scale: Cell";case"Manual":throw"Internal error (addScaleSize in Manual mode)";case"Minute":return t.addMinutes(1);case"CellDuration":return t.addMinutes(this.cellDuration);default:return this.Og(t,e)}},this.Og=function(t,e){var i,n="Days"!==this.viewType?this.days:1,o=this.startDate.addDays(n);"Manual"===u.scale&&(o=u.Ng());var e=e||this.cellGroupBy,a=60;switch(e){case"Hour":t.getHours()+t.getMinutes()+t.getSeconds()+t.getMilliseconds()>0&&(t=t.getDatePart().addHours(t.getHours())),i=t.addHours(1);break;case"Day":i=t.getDatePart().addDays(1);break;case"Week":for(i=t.getDatePart().addDays(1);i.dayOfWeek()!==M.weekStarts();)i=i.addDays(1);break;case"Month":i=t.addMonths(1),i=i.firstDayOfMonth();for(var r=DayPilot.DateUtil.diff(i,t)/6e4%a==0;!r;)i=i.addHours(1),r=DayPilot.DateUtil.diff(i,t)/6e4%a==0;break;case"Quarter":for(i=t.addMonths(1),i=i.firstDayOfMonth();i.getMonth()%3;)i=i.addMonths(1);for(var r=DayPilot.DateUtil.diff(i,t)/6e4%a==0;!r;)i=i.addHours(1),r=DayPilot.DateUtil.diff(i,t)/6e4%a==0;break;case"Year":i=t.addYears(1),i=i.firstDayOfYear();for(var r=DayPilot.DateUtil.diff(i,t)/6e4%a==0;!r;)i=i.addHours(1),r=DayPilot.DateUtil.diff(i,t)/6e4%a==0;break;case"None":i=o;break;case"Cell":var s=this.Tg(t);i=s.current?s.current.end:s.past?s.previous.end:s.next.start;break;default:throw"Invalid cellGroupBy value"}return i.getTime()>o.getTime()&&(i=o),i},this.Sk={},this.Sk.timeheadercol="_timeheadercol",this.Sk.timeheadercolInner="_timeheadercol_inner",this.Sk.resourcedivider="_resourcedivider",this.Sk.eventFloat="_event_float",this.Sk.eventFloatInner="_event_float_inner",this.Sk.event="_event",this.Sk.eventInner="_event_inner",this.Sk.eventBar="_event_bar",this.Sk.eventBarInner="_event_bar_inner",this.Sk.eventDelete="_event_delete",this.Sk.eventLine="_event_line",this.Sk.eventMovingSource="_event_moving_source";var E=this.Sk;this.Vk=function(t,e){var i=this.nav.timeHeader,n=this.timeHeader[e][t],o=e<this.timeHeader.length-1,a=n.left,r=n.width,s=H.timeHeader(e),l=s.top,c=s.height,d=document.createElement("div");d.style.position="absolute",d.style.top=l+"px",d.style.left=a+"px",d.style.width=r+"px",d.style.height=c+"px",n.toolTip&&(d.title=n.toolTip),n.cssClass&&DayPilot.Util.addClass(d,n.cssClass),d.setAttribute("unselectable","on"),d.style.KhtmlUserSelect="none",d.style.MozUserSelect="none",d.style.webkitUserSelect="none",d.oncontextmenu=function(){return!1},d.cell={},d.cell.start=n.start,d.cell.end=n.end,d.cell.level=e,d.cell.th=n,d.onclick=this.Aj,d.style.overflow="hidden",u.timeHeaderTextWrappingEnabled||(d.style.whiteSpace="nowrap");var h=document.createElement("div");h.setAttribute("unselectable","on"),n.innerHTML&&(h.innerHTML=n.innerHTML),n.backColor&&(h.style.background=n.backColor);var f=this.p(E.timeheadercol),p=this.p(E.timeheadercolInner);o&&(f=this.p("_timeheadergroup"),p=this.p("_timeheadergroup_inner")),DayPilot.Util.addClass(d,f),DayPilot.Util.addClass(h,p),DayPilot.list(n.areas).each(function(t){t.start&&(t.left=u.getPixels(new DayPilot.Date(t.start)).left-a,t.end&&(t.width=u.getPixels(new DayPilot.Date(t.end)).left-t.left-a))}),d.appendChild(h),DayPilot.Areas.attach(d,n,{areas:n.areas}),this.s.timeHeader[t+"_"+e]=d,i.appendChild(d)},this._g=function(){if(u.cellStacking)return void _.calculateEventPositions();for(var t=0;t<this.rowlist.length;t++){var e=this.rowlist[t],i=e.getHeight()+e.marginBottom+e.marginTop;e.height!==i&&(this.nh=!0),e.height=i}},this.Xf=function(){var t=this.divHeader;if(!t)return!1;for(var e=this.rowlist.length,i=(this.rowHeaderCols&&this.rowHeaderCols.length,0),n=0;n<e;n++){var o=this.rowlist[n];if(!o.hidden){var a=this.oj?n:i;if(t.rows[a]){for(var r=0;r<t.rows[a].cells.length;r++){var s=t.rows[a].cells[r];this.oj&&(s.style.top=o.top+"px");var l=o.height;s&&s.firstChild&&parseInt(s.firstChild.style.height,10)!==l&&(s.firstChild.style.height=l+"px")}i++}}}this.oj&&u.nav.resScrollSpace&&(u.nav.resScrollSpace.style.top=u.Nf+"px")},this.Vc=function(t){var e=this.separators[t];e.location=e.location||e.Location,e.color=e.color||e.Color,e.layer=e.layer||e.Layer,e.width=e.width||e.Width,e.opacity=e.opacity||e.Opacity;var i=new DayPilot.Date(e.location),n=e.color,o=e.width?e.width:1,a=!!e.layer&&"AboveEvents"===e.layer,r=e.opacity?e.opacity:100;if(!(i.getTime()<this.Aa().getTime()||i.getTime()>=this.Ng().getTime())){var s=this.getPixels(i);if(!s.cut&&!(s.left<0||s.left>this.Si()*this.cellWidth)){var l=document.createElement("div");l.style.width=o+"px",l.style.height=u.Nf+"px",l.style.position="absolute",l.style.left=s.left-1+"px",l.style.top="0px",l.style.backgroundColor=n,l.style.opacity=r/100,l.style.filter="alpha(opacity="+r+")",a?this.divSeparatorsAbove.appendChild(l):this.divSeparators.appendChild(l),this.elements.separators.push(l)}}},this.Ak=function(t){if("Disabled"===u.timeRangeDoubleClickHandling)return!1;if(n.timeRangeTimeout&&(clearTimeout(n.timeRangeTimeout),n.timeRangeTimeout=null),!u.coords){var e=u.jg;u.coords=DayPilot.mo3(e,t)}if(t=t||window.event,t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,u.Xk(u.coords)){var i=u.xh(u.rangeHold);u._a(i.start,i.end,i.resource)}else if(n.range=u.Rk(),n.range){n.rangeCalendar=u;var i=u.xh(n.range);u._a(i.start,i.end,i.resource),u.rangeHold=n.range}},this.xk=function(t){if(!A.start&&!A.active){if(n.timeRangeTimeout,u.Yk(),u.vk(),!u.coords){var e=u.jg;u.coords=DayPilot.mo3(e,t)}if(n.rectangleSelect)return!1;t=t||window.event;var i=DayPilot.Util.mouseButton(t);if(i.middle||i.right&&u.Xk(u.coords))return!1;if(u.Xk(u.coords))return!1;var o=t.ctrlKey,a=t.metaKey,r=t.shiftKey,s=o||a,l={};if(l.action="None","Disabled"!==u.multiSelectRectangle&&r?l.action="RectangleSelect":"Disabled"!==u.timeRangeSelectedHandling&&(l.action="TimeRangeSelect"),l.shift=r,l.ctrl=r,l.meta=a,l.originalEvent=t,l.preventDefault=function(){l.action="None"},"function"==typeof u.onGridMouseDown&&u.onGridMouseDown(l),"None"===l.action)return t.preventDefault(),t.stopPropagation(),!1;if("RectangleSelect"===l.action){var c={};return c.start=u.coords,c.calendar=u,n.rectangleSelect=c,!1}u.allowMultiRange&&!s&&R.clear();var d=u.Xh(u.coords.y).i;return!u.rowlist[d].isNewRow&&(n.range=u.Rk(),n.range&&(n.range.ctrl=s,n.rangeCalendar=u),!1)}},this.Rk=function(){var t={},e=this.Rg(u.coords.x).x;return t.start={y:u.Xh(u.coords.y).i,x:e},t.end={x:e},this.bi(u.Xh(u.coords.y).i)?null:(t.calendar=u,u.zh(t),t)},this.dj=function(){u.Bc();var t=n.resizingShadow,e=n.resizing;!function(){var i=u.Zk,o={start:t.start,end:u.Ze(t.end)};t.original=o;var a=t.original;if(!a||!i||i.start!==a.start||i.end!==u.Ze(a.end)){var r={};r.start=o.start,r.end=o.end,r.duration=new DayPilot.Duration(r.start,r.end),r.e=e.event,r.allowed=!0,r.resizing="left"===n.resizing.dpBorder?"start":"end",r.left={},r.left.html=r.start.toString(u.eventResizingStartEndFormat,M.locale()),r.left.enabled=u.eventResizingStartEndEnabled,r.left.space=5,r.left.width=null,r.right={},r.right.html=r.end.toString(u.eventResizingStartEndFormat,M.locale()),r.right.enabled=u.eventResizingStartEndEnabled,r.right.space=5,r.right.width=null,r.multiresize=DayPilot.list(b.list);var s={};s.event=e,s.start=r.start,s.end=r.end,r.multiresize.splice(0,0,s),u.Zk=o,"function"==typeof u.onEventResizing&&u.onEventResizing(r),t.allowed=r.allowed;var l=r.start,c=u.ye(r.end);t.finalStart=l,t.finalEnd=c;var d=DayPilot.DateUtil.diff(l,c);d=Math.max(d,1);var h=M.useBox(d),f=h?u.getPixels(l).boxLeft:u.getPixels(l).left,p=h?u.getPixels(c).boxRight:u.getPixels(c).left;t.style.left=f+"px",t.style.width=p-f+"px",t.left=f,t.width=p-f,u.ej(n.resizingShadow,r),u.fj(n.resizingShadow,r)}}()},this.yk=function(t){if(n.rectangleSelect){var t=t||window.event;return t.cancelBubble=!0,t.preventDefault&&t.preventDefault(),n.gMouseUp(t),!1}if(S={},u.rangeHold&&DayPilot.Util.mouseButton(t).left){var e=u.rangeHold;if(u.Xk(u.coords)){var i=function(t){return function(){n.timeRangeTimeout=null;var e=u.xh(t);if(e){var i={};i.start=e.start,i.end=e.end,i.resource=e.resource,i.preventDefault=function(){i.preventDefault.value=!0},"function"==typeof u.onTimeRangeClick&&u.onTimeRangeClick(i),i.preventDefault.value||"function"==typeof u.onTimeRangeClicked&&u.onTimeRangeClicked(i)}}};"Disabled"!=u.timeRangeClickHandling&&("Disabled"===u.timeRangeDoubleClickHandling?i(e)():(clearTimeout(n.timeRangeTimeout),n.timeRangeTimeout=setTimeout(i(e),u.doubleClickTimeout)))}}},this.$k=function(){return n.resizing||n.moving||n.range},this.hj=function(t){if(!A.active){n.activeCalendar=u,t=t||window.event;var e=DayPilot.mc(t);if(u.coords=DayPilot.mo3(u.jg,t),t.insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),S.start&&DayPilot.distance(S.originalMouse,e)>3&&(DayPilot.Util.copyProps(S,n),document.body.style.cursor="move",S={}),n.resizing&&n.resizingEvent.calendar===u)n.resizing.event||(n.resizing.event=n.resizingEvent),u._k();else if(n.moving&&(n.movingEvent.calendar===u||n.movingEvent.calendar.dragOutAllowed))n.moving.event||(n.moving.event=n.movingEvent),u.al();else if(n.range&&n.range.calendar===u)n.range.moved=!0,u.bl();else if(s.source){var i=s.source;p.drawShadow(i.coords,u.coords)}else n.rectangleSelect&&(n.rectangleSelect.moved=!0,T.draw());"Disabled"!==u.crosshairType&&u.cl(),u.dl();var o=t.insideEvent;if(window.event&&window.event.srcElement&&(o=window.event.srcElement.insideEvent),u.cellBubble&&u.coords&&u.rowlist&&u.rowlist.length>0&&!o){var a=u.Rg(u.coords.x).x,r=u.Xh(u.coords.y).i;if(0<=r&&r<u.rowlist.length&&0<=a&&a<u.itline.length){var l={};l.calendar=u,l.start=u.itline[a].start,l.end=u.itline[a].end,l.resource=u.rowlist[r].id,l.toJSON=function(){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t},u.cellBubble.showCell(l)}}if(n.drag){if(u.Yk(),n.gShadow&&document.body.removeChild(n.gShadow),n.gShadow=null,!n.movingShadow&&u.coords&&u.rowlist.length>0){if(!n.moving){n.moving=n.drag.schedulerSourceEvent||{};var d=n.drag.event;if(!d){var f=u.itline[0].start,t={id:n.drag.id,start:f,end:f.addSeconds(n.drag.duration),text:n.drag.text},v=n.drag.data;if(v){var g=["duration","element","id","text"];for(var y in v)DayPilot.contains(g,y)||(t[y]=v[y])}d=new DayPilot.Event(t),d.calendar=u}d.part.external=!0,n.drag.schedulerSourceEvent&&n.drag.schedulerSourceEvent.event.calendar===u&&(d.part.external=!1),n.moving.event=d,n.movingEvent=d}n.movingShadow=u.sa(n.moving)}t.cancelBubble=!0}if("Always"===u.autoScroll||"Drag"===u.autoScroll&&(n.moving||n.resizing||n.range)){var m=u.nav.scroll,b={x:u.coords.x,y:u.coords.y};b.x-=m.scrollLeft,b.x+=h.shiftX,b.y-=m.scrollTop;var w=m.clientWidth,D=m.clientHeight,C=30,k=b.x<C?b.x:0,x=w-b.x<C?w-b.x:0,P=b.y<C?b.y:0,_=D-b.y<C?D-b.y:0,a=0,r=0,E=50;k&&(a=-50*c(k,C)),x&&(a=E*c(x,C)),P&&(r=-50*c(P,C)/2),_&&(r=E*c(P,C)/2),(n.resizing||n.range)&&(r=0),a||r?u.fl(a,r):u.vk()}}},this.bl=function(){var t=n.range;t.end={x:u.Rg(u.coords.x).x},u.zh(t)},this._k=function(){n.resizingShadow||(n.resizingShadow=u.sa(n.resizing)),u.cj()},this.al=function(){if(n.movingShadow&&n.movingShadow.calendar!==u&&(n.movingShadow.calendar=null,DayPilot.de(n.movingShadow),n.movingShadow=null),!n.movingShadow){var t=n.moving;n.movingShadow=u.sa(t)}u.Ki(),n.moving.target=u,u.Mi()},this.gl={};var T=this.gl;T.start=function(){var t={};t.start=u.coords,t.calendar=u,n.rectangleSelect=t},T.draw=function(){var t=n.rectangleSelect,e=n.rectangleSelect.start,i=u.coords;T.clear();var o,a,r,s,l,c,h,f,p={x:t.x,y:t.y,width:t.width,height:t.height};if(function(){l=Math.min(e.x,i.x),h=Math.max(e.x,i.x),"Free"===u.multiSelectRectangle?(c=Math.min(e.y,i.y),f=Math.max(e.y,i.y)):"Row"===u.multiSelectRectangle&&(c=e.y,f=e.y)}(),"Free"===u.multiSelectRectangle)o=l,a=c,r=h-l,s=f-c;else{if("Row"!==u.multiSelectRectangle)throw"Invalid DayPilot.Scheduler.multiSelectRectangle value: "+u.multiSelectRectangle;var v=u.Xh(c).i,g=u.rowlist[v];a=g.top,s=g.height,o=u.Rg(l).cell.left;var y=u.Rg(h).cell;r=y.left+y.width-o}var m=DayPilot.Util.div(u.divRectangle,o,a,r,s);if(m.style.boxSizing="border-box",m.style.backgroundColor="#0000ff",m.style.border="1px solid #000033",m.style.opacity=.4,t.x=o,t.y=a,t.width=r,t.height=s,(t.x!==p.x||t.y!==p.y||t.width!==p.width||t.height!==p.height)&&"function"==typeof u.onRectangleEventSelecting){var b={};b.events=d.eventsInRectangle(t.x,t.y,t.width,t.height).map(function(t){return t.event}),b.start=u.getDate(t.x,!0),b.end=u.getDate(t.x+t.width,!0),u.onRectangleEventSelecting(b)}},T.clear=function(){u.divRectangle.innerHTML="",u.elements.rectangle=[]},this.hl=function(){var t,e;return u.coords&&u.rowlist&&u.rowlist.length>0&&u.itline&&u.itline.length>0?(t=u.Rg(u.coords.x).x,(e=u.Xh(u.coords.y).i)>=u.rowlist.length?void 0:u.cells.findXy(t,e)[0]):null},this.dl=function(){var t=this.hl();if(this.hover.cell){if(this.hover.cell.x===t.x&&this.hover.cell.y===t.y)return;this.wk()}if(this.hover.cell=t,"function"==typeof this.onCellMouseOver){var e={};e.cell=t,this.onCellMouseOver(e)}},this.wk=function(){if(this.hover.cell){if("function"==typeof this.onCellMouseOut){var t={};t.cell=this.hover.cell,this.onCellMouseOut(t)}this.hover.cell=null}},this.hover={},this.cl=function(){var t=this.hl();this.hover.cell&&this.hover.cell.x===t.x&&this.hover.cell.y===t.y||this.Ac()},this.Yk=function(){this.divCrosshair.innerHTML="",this.il=null,this.jl=null},this.S=function(){if(this.Yk(),this.kl&&this.kl.parentNode&&(this.kl.parentNode.removeChild(this.kl),this.kl=null),this.ll){for(var t=0;t<this.ll.length;t++){var e=this.ll[t];e.parentNode&&e.parentNode.removeChild(e)}this.ll=null}this.Mf=-1,this.Lf=-1},this.Ac=function(){var t,e;if(u.coords&&u.rowlist&&u.rowlist.length>0&&(t=u.Rg(u.coords.x).x,!((e=u.Xh(u.coords.y).i)>=u.rowlist.length))){var i=this.crosshairType,n=u.rowlist[e];if("Full"===i){var o=this.itline[t],a=o.left,r=this.il;if(!r){var r=document.createElement("div");r.style.height=u.Nf+"px",r.style.position="absolute",r.style.top="0px",r.className=u.p("_crosshair_vertical"),this.il=r,this.divCrosshair.appendChild(r)}r.style.left=a+"px",r.style.width=o.width+"px";var s=n.top,l=n.height,c=this.xg(),r=this.jl;if(!r){var r=document.createElement("div");r.style.width=c+"px",r.style.height=l+"px",r.style.position="absolute",r.style.top=s+"px",r.style.left="0px",r.className=u.p("_crosshair_horizontal"),this.jl=r,this.divCrosshair.appendChild(r)}r.style.top=s+"px",r.style.height=l+"px"}var d=this.ml(this.coords.x);if(d&&this.Mf!==d.x){this.kl&&this.kl.parentNode&&(this.kl.parentNode.removeChild(this.kl),this.kl=null);var l=H.timeHeader(u.timeHeaders.length-1).height,r=document.createElement("div");r.style.width=d.cell.width+"px",r.style.height=l+"px",r.style.left="0px",r.style.top="0px",r.style.position="absolute",r.className=u.p("_crosshair_top"),this.kl=r;var h=this.divNorth,f=this.timeHeader?this.timeHeader.length-1:1;this.nav.timeHeader?this.s.timeHeader[d.x+"_"+f].appendChild(r):h.firstChild.rows[f].cells[t]&&h.firstChild.rows[f].cells[t].firstChild.appendChild(r)}if(this.Lf!==e){if(this.ll){for(var p=0;p<this.ll.length;p++){var v=this.ll[p];v.parentNode&&v.parentNode.removeChild(v)}this.ll=null}if(this.rowHeaderCols&&this.rowHeaderCols.length,this.ll=[],this.divHeader.rows[e])for(var p=0;p<this.divHeader.rows[e].cells.length;p++){var c=u.Ag(),r=document.createElement("div");r.style.width=c+"px",r.style.height=n.height+"px",r.style.left="0px",r.style.top="0px",r.style.position="absolute",r.className=u.p("_crosshair_left"),this.ll.push(r),this.divHeader.rows[e].cells[p].firstChild.appendChild(r)}}d&&(this.Mf=d.x),this.Lf=e}},this.Vi=function(t,e){var i=u.timeHeader[t];if(!i)return null;for(var n=0;n<i.length;n++){var o=i[n];if(e>=o.left&&e<o.left+o.width){var a={};return a.cell=o,a.x=n,a}}return null},this.ml=function(t){return u.Vi(u.timeHeader.length-1,t)},this.zk=function(t){if(t=t||window.event,"Disabled"===u.timeRangeSelectedHandling)return!1;if("Disabled"===u.timeRangeRightClickHandling)return!1;var e=null;if(e=u.Xk(u.coords)?u.xh(u.rangeHold):u.xh()){e.end=u.Ze(e.end);var i={};return i.start=e.start,i.end=e.end,i.resource=e.resource,i.preventDefault=function(){this.preventDefault.value=!0},("function"!=typeof u.onTimeRangeRightClick||(u.onTimeRangeRightClick(i),!i.preventDefault.value))&&("ContextMenu"===u.timeRangeRightClickHandling&&u.contextMenuSelection&&u.contextMenuSelection.show(e),"function"==typeof u.onTimeRangeRightClicked&&u.onTimeRangeRightClicked(i),t.cancelBubble=!0,!!u.allowDefaultContextMenu&&void 0)}},this.Xk=function(t){var e=u.rangeHold;if(!e||!e.start||!e.end)return!1;var i=this.gi(e.start.y),n=e.start.x<e.end.x,o=(n?e.start.x:e.end.x)*this.cellWidth,a=(n?e.end.x:e.start.x)*this.cellWidth+this.cellWidth,r=i.top,s=i.bottom;return t.x>=o&&t.x<=a&&t.y>=r&&t.y<=s},this.zh=function(t,e){function i(t){var e=t.end.x>t.start.x?t.start.x:t.end.x,i=t.end.x>t.start.x?t.end.x:t.start.x,n=t.start.y,o=(u.rowlist[n],u.itline[e]),a=u.itline[i],r=o.left,s=a.left+a.width,l=s-r,c=u.elements.range2;if(!c){c=document.createElement("div"),c.style.position="absolute",c.setAttribute("unselectable","on"),c.className=u.p("_shadow");var d=document.createElement("div");d.className=u.p("_shadow_inner"),c.appendChild(d),u.divRange.appendChild(c)}return c.style.left=o.left+"px",c.style.top=u.rowlist[n].top+"px",c.style.width=l+"px",c.style.height=u.rowlist[n].height-1+"px",u.elements.range2=c,function(){var t=u.rowlist[n],e=o.left;u._i(c,t,e,l,null)}(),c}var t=t||n.range;t&&t.calendar===u&&function(){var n=t.end.x>t.start.x?t.start.x:t.end.x,o=t.end.x>t.start.x?t.end.x:t.start.x,a=t.start.y,r=u.rowlist[a];if(r){var s=u.itline[n],l=u.itline[o],c=u.nl,d=s.start.addTime(r.data.offset),h=l.end.addTime(r.data.offset);if(e||!c||c.start.getTime()!==d.getTime()||c.end.getTime()!==h.getTime()||c.resource!==u.rowlist[a].id){var f={start:d,end:u.Ze(h)},p={};p.start=f.start,p.end=f.end,p.duration=new DayPilot.Duration(f.start,f.end),p.resource=u.rowlist[a].id,p.allowed=!0,p.left={},p.left.html=p.start.toString(u.timeRangeSelectingStartEndFormat,M.locale()),p.left.enabled=u.timeRangeSelectingStartEndEnabled,p.left.space=5,p.left.width=null,p.right={},p.right.html=p.end.toString(u.timeRangeSelectingStartEndFormat,M.locale()),p.right.enabled=u.timeRangeSelectingStartEndEnabled,p.right.space=5,p.right.width=null,u.nl=p,"function"!=typeof u.onTimeRangeSelecting||e||u.onTimeRangeSelecting(p);var v=u.ol(t);u.yh(v,p.start,p.end);var g=i(v);u.ej(g,p),t.Tk=v,t.disabled=!p.allowed,u.fj(g,p),p.start=f.start,p.end=f.end}}}()},this.ol=function(t){return{start:{x:t.start.x,y:t.start.y},end:{x:t.end.x},disabled:t.disabled,calendar:t.calendar}},this.range={},this.range.all=function(){return R.get()},this.pl={};var R=this.pl;this.pl.list=[],this.pl.clear=function(){DayPilot.de(DayPilot.list(R.list).map(function(t){return t.div})),R.list=[]},this.pl.add=function(t){t.div=u.elements.range2,u.elements.range2=null,u.gj(),R.list.push(t)},this.pl.get=function(){return DayPilot.list(R.list).map(function(t){return u.xh(t)})},this.pl.dispatch=function(){if(u.allowMultiRange&&!n.range){var t=DayPilot.list(R.list).last();u.wh(t)}},this.ql=function(t){if("Disabled"===u.timeRangeSelectedHandling)return!1;if(!A.active&&!A.start){t=t||window.event;var e=DayPilot.Util.mouseButton(t);if(!n.range&&!n.rectangleSelect&&!(u.rangeHold&&u.Xk(u.coords)&&(e.right||e.middle)||u.bi(u.Xh(u.coords.y).i))){var i={},o=u.Rg(u.coords.x).x;i.start={y:u.Xh(u.coords.y).i,x:o},i.end={x:o},i.calendar=u,u.rangeHold=i,u.wh(i)}}},this.timeouts={},this.timeouts.drawEvents=null,this.timeouts.drawCells=null,this.timeouts.click=null,this.timeouts.resClick=[],this.timeouts.updateFloats=null,this.disableOnScroll=!1,this.fg=function(t){if(!u.disableOnScroll){if(u.Pf(),h.isEnabled()&&!h.active&&u.z&&"Auto"!=u.cellWidthSpec&&(u.nav.scroll.scrollLeft<u.If?(h.active=!0,setTimeout(function(){h.shiftStart(-u.Jf)},100)):u.nav.scroll.scrollWidth-(u.nav.scroll.scrollLeft+u.nav.scroll.clientWidth)<u.If&&(h.active=!0,setTimeout(function(){h.shiftStart(u.Jf)},100))),u.navigatorBackSync&&function(){var t=DayPilot.Util.evalVariable(u.navigatorBackSync),e=u.getViewPort().start;t.select(e,{dontNotify:!0,dontFocus:!0})}(),u.dynamicLoading)return u.pf(),void u.rl();var e=u.nav.scroll;u.Ti=e.scrollLeft,u.Ri=e.scrollTop,u.Ui=e.clientWidth,u.divTimeScroll.scrollLeft=u.Ti,u.divResScroll.scrollTop=u.Ri,u.timeouts.drawEvents&&(clearTimeout(u.timeouts.drawEvents),u.timeouts.drawEvents=null),u.scrollDelayEvents>0?u.timeouts.drawEvents=setTimeout(u.sl(),u.scrollDelayEvents):u.na(),u.timeouts.drawCells&&(clearTimeout(u.timeouts.drawCells),u.timeouts.drawCells=null),u.scrollDelayCells>0?u.timeouts.drawCells=setTimeout(u.ul(),u.scrollDelayCells):u.ul()(),u.timeouts.updateFloats&&(clearTimeout(u.timeouts.updateFloats),u.timeouts.updateFloats=null),u.scrollDelayFloats>0?u.timeouts.updateFloats=setTimeout(function(){u.dg()},u.scrollDelayFloats):u.dg(),u.onScrollCalled=!0}},this.ul=function(){return function(){u&&(u.pf(),u._f())}},this.sl=function(){var t=u.dynamicEventRenderingCacheSweeping,e=u.dynamicEventRenderingCacheSize;return function(){u&&(u.Jk()?window.setTimeout(function(){t&&u.Gk(e),window.setTimeout(function(){u.na(!0)},50)},50):u.rg())}},this.Pf=function(){this.s.eventHeight=null,this.s.drawArea=null},this.show=function(){this.visible=!0,this.Kf=!0,u.nav.top.style.display="",this.ma(),this.Wf(),this.oi(),u.fg()},this.hide=function(){this.visible=!1,this.Kf=!1,u.nav.top.style.display="none"},this.vl=function(){},this.rl=function(){var t=u.nav.scroll;u.Ti=t.scrollLeft,u.Ri=t.scrollTop,u.Ui=t.clientWidth,u.divTimeScroll.scrollLeft=u.Ti,u.divResScroll.scrollTop=u.Ri,u.refreshTimeout&&window.clearTimeout(u.refreshTimeout);var e=u.scrollDelayDynamic;u.refreshTimeout=window.setTimeout(u.wl(t.scrollLeft,t.scrollTop),e),u.dg()},this.xl=function(t){for(var e=t.id,i=new DayPilot.Date(t.start).toString(),n=0;n<this.events.list.length;n++){var o=this.events.list[n];if(o.id===e){if(DayPilot.Util.isNullOrUndefined(e)&&!DayPilot.Util.isNullOrUndefined(t.recurrentMasterId)){var a=new DayPilot.Date(o.start).toString();if(o.recurrentMasterId!==t.recurrentMasterId||i!==a)continue}var r={};return r.ex=o,r.index=n,r.modified=!u.yl(t,o),r}}return null},this.yl=function(t,e){for(var i in t)if(("object"!=typeof t[i]||t[i]instanceof DayPilot.Date)&&t[i]!==e[i])return!1;for(var i in e)if("object"!=typeof e[i]&&t[i]!==e[i])return!1;return!0},this.bg=function(t,e){for(var i=[],n=0;n<t.length;n++){var o=t[n],a=u.xl(o),r=a&&a.modified,s=!a;if(r){this.events.list[a.index]=o;var l=u.events.Yg(a.ex);i=i.concat(l)}else s&&this.events.list.push(o);(r||s)&&(i=i.concat(u.events.Zg(o)))}u.$g(i),u._g(),u.Vf(),u.ia(),u.L(),u.Yf(),u.Xf(),u._f(),u.na()},this.wl=function(t,e){return u.q()?function(){u.scrollX=t,u.scrollY=e,u.F("Scroll")}:function(){if("function"==typeof u.onScroll){var t=function(t){var e=function(){if(u.ra()&&"function"==typeof u.onAfterRender){var t={};t.isCallBack=!1,t.isScroll=!0,t.data=null,u.onAfterRender(t)}};u.bg(t,e)},e={};e.viewport=u.getViewPort(),e.async=!1,e.events=[],e.loaded=function(){this.async&&t(this.events)},u.onScroll(e),e.async||t(e.events)}}},this.zl=function(){var t=this.og(),e=t.xStart,i=t.xEnd-t.xStart,n=t.yStart,o=t.yEnd-t.yStart;this.cellProperties||(this.cellProperties={});for(var a=0;a<=i;a++){for(var r=e+a,s=0;s<o;s++){var l=n+s;this.rowlist[l].hidden||this.Ue(r,l)}this.Al(r)}for(var c=this.kj(),l=c.start;l<c.end;l++)this.rowlist[l].hidden||this.Bl(l)},this._f=function(){if(!u.xd){if(u.progressiveRowRendering&&this.fh(),null!==this.rowlist&&this.rowlist.length>0){if(this.cellSweeping){var t=this.cellSweepingCacheSize;this.Ik(t)}this.zl(),this.Cl(),k.Ij()}this.nh=!1}},this.Cl=function(){for(var t=this.og(),e=t.xStart;e<t.xEnd;e++)e<this.itline.length-1&&this.itline[e+1].breakBefore&&this.Dl(e)},this.Dl=function(t){var e="x"+t;if(!this.s.breaks[e]){var i=this.itline[t+1].left-1,n=this.Nf,o=document.createElement("div");o.style.left=i+"px",o.style.top="0px",o.style.width="1px",o.style.height=n+"px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.setAttribute("unselectable","on"),o.className=this.p("_matrix_vertical_break"),this.divBreaks.appendChild(o),this.elements.breaks.push(o),this.s.breaks[e]=o}},this.og=function(){if(u.s.drawArea)return u.s.drawArea;if(!this.nav.scroll)return null;var t=u.Ri,e={},i=this.dynamicEventRenderingMargin,i=null!=this.dynamicEventRenderingMarginX?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,n=null!=this.dynamicEventRenderingMarginY?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,o=u.Ti-i-h.shiftX,a=o+u.Ui+2*i,r=0,s=0;if(u.itline&&u.itline.length>0){r=u.Rg(o).x,s=u.Rg(a,!0).x;var l=this.Si();s=Math.min(s,l),r=Math.max(r,0)}var c=t-n,d=t+this.nav.scroll.offsetHeight+2*n,f=this.Xh(c).i,p=this.Xh(d).i;return p<this.rowlist.length&&p++,e.xStart=r,e.xEnd=s,e.yStart=f,e.yEnd=p,e.pixels={},e.pixels.left=this.nav.scroll.scrollLeft-h.shiftX,e.pixels.right=this.nav.scroll.scrollLeft-h.shiftX+this.nav.scroll.clientWidth,e.pixels.top=this.nav.scroll.scrollTop,e.pixels.bottom=this.nav.scroll.scrollTop+this.nav.scroll.clientHeight,e.pixels.width=this.nav.scroll.scrollWidth,u.s.drawArea=e,e},this.xg=function(){var t=0,e=this.itline[this.itline.length-1];return t=e?e.left+e.width:0,(t<0||isNaN(t))&&(t=0),t},this.Bl=function(t){var e="y"+t;if(!this.s.linesHorizontal[e]){var i=this.rowlist[t].top+this.rowlist[t].height-1,n=this.xg(),o=document.createElement("div");o.style.left="0px",o.style.top=i+"px",o.style.width=n+"px",o.style.height="1px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.setAttribute("unselectable","on"),o.className=this.p("_matrix_horizontal_line"),this.divLines.appendChild(o),this.s.linesHorizontal[e]=o}},this.Al=function(t){var e=this.itline[t];if(e){var i="x"+t;if(!this.s.linesVertical[i]){var n=e.left+e.width-1,o=document.createElement("div");o.style.left=n+"px",o.style.top="0px",o.style.width="1px",o.style.height=u.Nf+"px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.setAttribute("unselectable","on"),o.className=this.p("_matrix_vertical_line"),this.divLines.appendChild(o),this.elements.linesVertical.push(o),this.s.linesVertical[i]=o}}},this.Li=function(t){var e=this.rowlist[t],i=!e.expanded;e.expanded=i,e.resource&&(e.resource.expanded=i);var n=this.El(t,e.expanded);if(!i)for(var o=0;o<n.length;o++){var a=n[o];this.oh(a)}if(this.Vf(),this.Tf(),this.ia(),this.Pf(),i){for(var o=0;o<n.length;o++){var a=n[o];this.ph(a)}this.rg()}this.qh(),p.load(),this.Yf(),this._f(),this.na(),this.pf();var r=this.Dh(e,t);i?this.Mh(r):this.Lh(r),this.Pf()},this.zj=function(t){var e={};if(e.index=t,"function"==typeof this.onLoadNode){var i={},n=this.rowlist[t].resource;i.resource=n,i.async=!1,i.loaded=function(){this.async&&(n.dynamicChildren=!1,n.expanded=!0,u.update())},this.onLoadNode(i),i.async||(n.dynamicChildren=!1,n.expanded=!0,this.update())}else this.F("LoadNode",e)},this.El=function(t,e){var i=this.rowlist[t],n=[];if(null===i.children||0===i.children.length)return n;for(var o=0;o<i.children.length;o++){var a=i.children[o],r=this.rowlist[a],s=e&&i.expanded&&!r.Zj;r.hidden=!s,e===!r.hidden&&n.push(a);var l=this.El(a,e);l.length>0&&(n=n.concat(l))}return n},this.fl=function(t,e){this.vk(),this.Fl(t,e)},this.Gl=function(t){if(!t)return!1;var e=this.nav.scroll.scrollWidth,i=this.nav.scroll.scrollLeft,n=this.nav.scroll.clientWidth,o=i+n;return!(t<0&&i<=0||t>0&&o>=e||(this.nav.scroll.scrollLeft+=t,u.coords.x+=t,u.Hl(),0))},this.Il=function(t){if(!t)return!1;var e=this.nav.scroll.scrollHeight,i=this.nav.scroll.scrollTop,n=this.nav.scroll.clientHeight,o=i+n;return!(t<0&&i<=0||t>0&&o>=e||(this.nav.scroll.scrollTop+=t,u.coords.y+=t,u.Hl(),0))},this.Hl=function(){n.resizing&&n.resizing.event.calendar===u?u._k():n.moving&&(n.movingEvent.calendar===u||n.movingEvent.calendar.dragOutAllowed)?(n.moving.event||(n.moving.event=n.movingEvent),u.al()):n.range&&n.range.calendar===u&&u.bl()},this.Fl=function(t,e){if(this.Gl(t)||this.Il(e)){var i=function(t,e){return function(){u.Fl(t,e)}};this.Jl=window.setTimeout(i(t,e),100)}},this.vk=function(){u.Jl&&(window.clearTimeout(u.Jl),u.Jl=null)},this.Vf=function(){for(var t=0,e=0;e<this.rowlist.length;e++){var i=this.rowlist[e];i.hidden||(i.top=t,t+=i.height)}this.Nf=t},this.Yf=function(){this.elements.cells=[],this.elements.breaks=[],this.s.cells=[],this.s.breaks=[],this.divCells.innerHTML="",this.divBreaks.innerHTML="",u.sj()},this.sj=function(){this.divLines.innerHTML="",this.s.linesVertical={},this.s.linesHorizontal={},this.elements.linesVertical=[]},this.rh=function(t){var e=DayPilot.list();for(var i in u.s.cells)e.push(u.s.cells[i]);e.filter(function(e){return e&&e.coords&&e.coords.y===t}).each(function(t){u.qi(t)})},this.Kl=0,this.Ll=DayPilot.list(["html","cssClass","backColor","backImage","backRepeat","areas"]),this.Ml=u.Ll.add("business"),this.Ue=function(t,e){if(this.z){var i=u.Vg(t);if(i){var n=t+"_"+e;if(!this.s.cells[n]){var o=this.ri(t,e);if(u.Xi(t,e),!this.drawBlankCells){var a=!1;if(this.Ii(e)?a=!1:this.Nl(o,u.Ll)||(a=!0),a)return}var r=document.createElement("div");if(r.style.left=i.left+"px",r.style.top=this.rowlist[e].top+"px",r.style.width=i.width+"px",r.style.height=this.rowlist[e].height+"px",r.style.position="absolute",o&&o.backColor&&(r.style.backgroundColor=o.backColor),r.setAttribute("unselectable","on"),r.className=this.p("_cell"),r.coords={},r.coords.x=t,r.coords.y=e,this.Ii(e)&&DayPilot.Util.addClass(r,this.p("_cellparent")),o){o.cssClass&&DayPilot.Util.addClass(r,o.cssClass),DayPilot.Util.isNullOrUndefined(o.html)||(r.innerHTML=o.html),o.backImage&&(r.style.backgroundImage='url("'+o.backImage+'")'),o.backRepeat&&(r.style.backgroundRepeat=o.backRepeat),o.business&&u.cellsMarkBusiness&&DayPilot.Util.addClass(r,u.p("_cell_business")),DayPilot.list(o.areas).each(function(t){(t.start||t.end)&&(t.left=u.getPixels(new DayPilot.Date(t.start)).left-i.left,t.width=u.getPixels(new DayPilot.Date(t.end)).left-t.left-i.left)});var s=u.cells.findXy(t,e)[0];DayPilot.Areas.attach(r,s,{areas:o.areas})}this.divCells.appendChild(r),this.elements.cells.push(r),this.s.cells[n]=r}}}},this.gh={},this.oi=function(){u.Ol().each(function(t){u.rh(t)}),u._f()},this.Ol=function(){for(var t=DayPilot.list(),e=this.og(),i=e.xStart,n=e.xEnd-e.xStart,o=e.yStart,a=e.yEnd-e.yStart,r=0;r<a;r++)for(var s=o+r,l=0;l<=n;l++){var c=i+l;if(!this.rowlist[s].hidden&&!u.gh[c+"_"+s]){t.push(s);break}}return t},this.Xi=function(t,e){if("function"==typeof this.onBeforeCellRender){if(u.beforeCellRenderCaching&&u.gh[t+"_"+e])return;u.gh[t+"_"+e]=!0;var i=u.Vg(t);if(!i)return;var n=u.cells.findXy(t,e)[0],o={};return o.cell=n,o.getPixels=function(t){var t=new DayPilot.Date(t);return u.getPixels(t).left-i.left},this.onBeforeCellRender(o),DayPilot.Util.copyProps(o.cell,o.cell.properties,u.Ml),o}},this.Nl=function(t,e){if(e){for(var i=0;i<e.length;i++)if(!DayPilot.Util.isNullOrUndefined(t[e[i]]))return!0}else for(var n in t)if(!DayPilot.Util.isNullOrUndefined(t[n]))return!0;return!1},this.clearSelection=function(){this.cg(),R.clear()},this.cleanSelection=this.clearSelection,this.selectTimeRange=function(t,e,i,n){var o=u.mg(i),a=u.Tg(t),r=a.current||a.next;if(!r)throw new DayPilot.Exception("Time range selection 'start' out of timeline");var s=u.Tg(new DayPilot.Date(e).addSeconds(-1)),l=s.current||s.previous;if(!l)throw new DayPilot.Exception("Time range selection 'end' out of timeline");var c={};c.start={y:o.index,x:DayPilot.indexOf(u.itline,r)},c.end={x:DayPilot.indexOf(u.itline,l)},c.calendar=this,u.zh(c),n||setTimeout(function(){u.wh(c)},0)},this.vh=function(){DayPilot.de(n.movingShadow),n.movingShadow=null,u.gj(),u.bj.clear()},this.cg=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>',this.elements.range=[],this.elements.range2=null,this.gj(),u.rangeHold=null},this.qc={};var M=this.qc;M.clearCache=function(){delete u.s.eventHeight,delete u.s.headerHeight},M.locale=function(){return DayPilot.Locale.find(u.locale)},M.timeFormat=function(){return"Auto"!==u.timeFormat?u.timeFormat:M.locale().timeFormat},M.weekStarts=function(){if("Auto"===u.weekStarts){var t=M.locale();return t?t.weekStarts:0}return u.weekStarts||0},M.rounded=function(){return"Rounded"===u.eventCorners},M.layout=function(){var t=/MSIE 6/i.test(navigator.userAgent);return"Auto"===u.layout?t?"TableBased":"DivBased":u.layout},M.notifyType=function(){var t;if("Immediate"===u.notifyCommit)t="Notify";else{if("Queue"!==u.notifyCommit)throw"Invalid notifyCommit value: "+u.notifyCommit;t="Queue"}return t},M.isResourcesView=function(){return"Days"!==u.viewType},M.useBox=function(t){return"Always"===u.useEventBoxes||"Never"!==u.useEventBoxes&&t<60*u.zi()*1e3},M.eventHeight=function(){if(u.s.eventHeight)return u.s.eventHeight;var t=u.fd("_event_height").height;return t||(t=u.eventHeight),u.s.eventHeight=t,t},M.headerHeight=function(){if(u.s.headerHeight)return u.s.headerHeight;var t=u.fd("_header_height").height;return t||(t=u.headerHeight),u.s.headerHeight=t,t},M.splitterWidth=function(){return u.rowHeaderScrolling?u.rowHeaderSplitterWidth:1},this.Pl={};var H=this.Pl;H.timeHeader=function(t){var e={};e.top=0,e.height=0;for(var i=M.headerHeight(),n=0;n<=t;n++){var o=u.timeHeaders[n];e.top+=e.height,e.height=o.height||i}return e},this.zc=function(t,e){var i=t+"_"+e;return this.cellProperties&&this.cellProperties[i]?this.cellProperties[i].backColor:null},this.ri=function(t,e){var i=t+"_"+e;if(u.cellConfig)for(var n=0,o=0;o<u.resources.length;o++)if(!u.resources[o].hidden){if(n===e){e=o;break}n+=1}if(this.cellProperties||(this.cellProperties={}),this.cellProperties[i])return this.cellProperties[i];if(this.Ff&&(this.cellProperties[i]=u.Ql(t,e)),!this.cellProperties[i]){var a=u.rowlist[e],r=a.id,s=a.start.getTime()-u.Aa().getTime(),l=u.Vg(t),c=l.start.addTime(s),d=l.end.addTime(s),h={};h.start=c,h.end=d,h.resource=r;var f={};f.business=u.isBusiness(h),this.cellProperties[i]=f}return this.cellProperties[i]},this.Rl=function(t,e,i){var n=e+"_"+i;return this.cellProperties[n]={},DayPilot.Util.copyProps(t,this.cellProperties[n],u.Ml),this.cellProperties[n]},this.Ql=function(t,e){if(!this.cellConfig)return null;var i=this.cellConfig,n=this.cellProperties[t+"_"+e];!n&&i.vertical&&(n=this.cellProperties[t+"_0"]),!n&&i.horizontal&&(n=this.cellProperties["0_"+e]),!n&&i.default&&(n=i.default);var o={};return DayPilot.Util.copyProps(n,o,u.Ml),o},this._=function(){if(!this.Ff&&!this.Gf&&(this.Gf=!0,this.cellConfig)){var t=this.cellConfig;if(t.vertical)for(var e=0;e<t.x;e++){var i=this.cellProperties[e+"_0"];if(i)for(var n=1;n<t.y;n++)this.Rl(i,e,n)}if(t.horizontal)for(var n=0;n<t.y;n++){var i=this.cellProperties["0_"+n];if(i)for(var e=1;e<t.x;e++)this.Rl(i,e,n)}if(t.default)for(var i=t.default,n=0;n<t.y;n++)for(var e=0;e<t.x;e++)this.cellProperties[e+"_"+n]||this.Rl(i,e,n)}},this.isBusiness=function(t){var e=t.start,i=t.end,n=(i.getTime()-e.getTime())/6e4;if(n<=1440&&"Days"!==u.viewType&&!u.businessWeekends&&(0===t.start.dayOfWeek()||6===t.start.dayOfWeek()))return!1;if(n<720){var o=e.getHours();if(o+=e.getMinutes()/60,o+=e.getSeconds()/3600,(o+=e.getMilliseconds()/36e5)<this.businessBeginsHour)return!1;if(this.businessEndsHour>=24)return!0;if(o>=this.businessEndsHour)return!1}return!0},this.ma=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.Lc=function(){var t=u.nav.top;return!!t&&t.offsetWidth>0&&t.offsetHeight>0},this.Mc=function(){var t=u.Lc;t()||(u.Nc=setInterval(function(){t()&&(clearInterval(u.Nc),u.show(),u.mj())},100))},this.Sl=function(t){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=t-(this.zg()+2),this.ia()},this.setHeight=this.Sl,this.mg=function(t){return DayPilot.list(D.rowcache[t]).first()},this.hd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Scheduler: The placeholder element not found: '"+t+"'."}},this.Tl=function(){this.bd(),this.Sf(),this.Wf(),this.Pc(),this.P(),n.register(this),this.X(this.afterRenderData,!1),this.Dk(),this.Mc(),this.qa(),this.F("Init")},this.init=function(){this.Ul(),this.Mc(),this.pk()},this.Ul=function(){if(this.hd(),!this.nav.top.dp){if(this.ck(),this.gd())return this.Tl(),this.z=!0,void this.Pf();this.Pc(),this.P(),n.register(this),this.Dk(),this.ad(),this.z=!0,u.scrollToDate?u.scrollTo(u.scrollToDate):u.scrollX||u.scrollY?u.setScroll(u.scrollX,u.scrollY):u.fg(),u.scrollToResourceId&&(u.scrollToResource(u.scrollToResourceId),u.scrollToResourceId=null);var t=function(){u.scrollY&&u.setScroll(u.scrollX,u.scrollY)};window.setTimeout(t,200),this.messageHTML&&window.setTimeout(function(){u.message(u.messageHTML)},0),this.qa(),this.Pf(),this.X(this.afterRenderData,!1),u.initEventEnabled&&setTimeout(function(){u.F("Init")}),this.kd(),this.Zh=!0}},this.ld=null,this.md=function(t){if(t){var e={events:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?u.events.list=t.list:u.events.list=t)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&u.scrollTo(this.data,t.scrollToAnimated,t.scrollToPosition)}},scrollX:{postInit:function(){this.data&&u.setScrollX(this.data)}},scrollY:{postInit:function(){this.data&&u.setScrollY(this.data)}}};u.ld=e,u.gg.scrollToRequested&&(e.scrollTo.data=u.gg.scrollToRequested,u.gg.scrollToRequested=null),u.gg.scrollXRequested&&(e.scrollX.data=u.gg.scrollXRequested,u.gg.scrollXRequested=null),u.gg.scrollYRequested&&(e.scrollY.data=u.gg.scrollYRequested,u.gg.scrollYRequested=null);for(var i in t)if(e[i]){var n=e[i];n.data=t[i],n.preInit&&n.preInit()}else u[i]=t[i]}},this.kd=function(){var t=u.ld;for(var e in t){var i=t[e];i.postInit&&i.postInit()}u.ld={}},this.temp={},this.temp.getPosition=function(){var t=Math.floor(u.coords.x/u.cellWidth),e=u.Xh(u.coords.y).i;if(e<u.rowlist.length){var i={};return i.start=u.itline[t].start,i.end=u.itline[t].end,i.resource=u.rowlist[e].id,i}return null},this.internal={},this.internal.initialized=function(){return u.z},this.internal.dragInProgress=this.$k,this.internal.invokeEvent=this.Pa,this.internal.eventMenuClick=this.Ya,this.internal.timeRangeMenuClick=this.Za,this.internal.resourceHeaderMenuClick=this.Bh,this.internal.linkMenuClick=this.Ah,this.internal.bubbleCallBack=this.Wa,this.internal.findEventDiv=this._c,this.internal.rowtools=this.Jh,this.internal.getNodeChildren=this.V,this.internal.callback=function(){u.F.apply(u,arguments)},this.internal.createRowObject=this.Dh,this.internal.adjustEndIn=u.ye,this.internal.adjustEndNormalize=u._e,this.internal.touch=u.Rb,this.internal.cssNames=u.Sk,this.internal.skipUpdate=u.gg.skipUpdate,this.internal.skipped=u.gg.skipped,this.internal.loadOptions=u.md,this.internal.postInit=u.kd,this.internal.enableAngular2=function(){u.gg.enabled=!0},this.Init=this.init,this.md(l)},"2826"===(new DayPilot.Scheduler).v,DayPilot.Row=function(t,e){if(!t)throw"Now row object supplied when creating DayPilot.Row";if(!e)throw"No parent control supplied when creating DayPilot.Row";var i=DayPilot.indexOf(e.rowlist,t);this.Vl={};var n=this.Vl;n.id=t.id,n.name=t.name,n.data=t.resource,n.tags=t.tags;var o=this;o.isRow=!0,o.menuType="resource",o.start=t.start,o.name=t.name,o.value=t.id,o.id=t.id,o.tags=t.tags,o.index=i,o.level=t.level,o.calendar=e,o.data=t.resource,o.Wl=t,o.$={},o.$.row=t,o.toJSON=function(t){var e={};return e.start=this.start,e.name=this.name,e.value=this.value,e.id=this.id,e.index=this.index,e},o.parent=function(){return o.Wl.$j?e.Dh(o.Wl.$j):null},o.children=function(){var t=DayPilot.list(o.$.row.children).map(function(t){return e.Dh(e.rowlist[t])});return t.add=function(t){var e=o.$.row.resource;e.children||(e.children=[]),e.children.push(t)},t},o.loaded=function(){return o.Wl.loaded},o.cells={},o.cells.all=function(){for(var t=[],i=e.itline.length,n=o.index,a=0;a<i;a++){var r=e.cells.findXy(a,n);t.push(r[0])}return e.si(t)},o.cells.totalDuration=function(){return new DayPilot.Duration(o.cells.all().map(function(t){return t.end.getTime()-t.start.getTime()}).reduce(function(t,e){return t+e},0))},o.events={},o.events.all=function(){for(var t=DayPilot.list(),e=0;e<o.Wl.events.length;e++)t.push(o.Wl.events[e]);return t},o.events.isEmpty=function(){return 0===o.Wl.events.length},o.events.forRange=function(t,e){return o.Wl.events.forRange(t,e)},o.events.totalDuration=function(){var t=0;return o.events.all().each(function(e){t+=e.part.end.getTime()-e.part.start.getTime()}),new DayPilot.Duration(t)},o.groups={},o.groups.collapseAll=function(){for(var t=0;t<o.Wl.blocks.length;t++)new a(o.Wl.blocks[t]).Xl();e._g(),e.ah(o.index),e.ia()},o.groups.expandAll=function(){for(var t=0;t<o.Wl.blocks.length;t++)new a(o.Wl.blocks[t]).Yl();e._g(),e.ah(o.index),e.ia()},o.groups.expanded=function(){for(var t=[],i=0;i<o.Wl.blocks.length;i++){var n=o.Wl.blocks[i];n.expanded&&n.lines.length>e.groupConcurrentEventsLimit&&t.push(new a(n))}return DayPilot.list(t)},o.groups.collapsed=function(){for(var t=[],e=0;e<o.Wl.blocks.length;e++){var i=o.Wl.blocks[e];i.expanded||t.push(new a(i))}return DayPilot.list(t)},o.groups.all=function(){for(var t=[],e=0;e<o.Wl.blocks.length;e++){var i=o.Wl.blocks[e];t.push(new a(i))}return DayPilot.list(t)},o.events.collapseGroups=o.groups.collapseAll,o.events.expandGroups=o.groups.expandAll,o.column=function(t){return new r(o,t)},o.toggle=function(){e.Li(o.index)},o.collapse=function(){o.$.row.expanded&&o.toggle()},o.expand=function(){o.$.row.expanded||o.toggle()},o.remove=function(){e.rows.remove(o)},o.edit=function(){e.rows.edit(o)},o.addClass=function(t){var i=o,n=e.divHeader,i=n.rows[i.index];if(i){var a=DayPilot.list(i.cells).map(function(t){return t.cellDiv});DayPilot.Util.addClass(a,t)}o.$.row.cssClass=DayPilot.Util.addClassToString(o.$.row.cssClass,t)},o.removeClass=function(t){var i=o,n=e.divHeader,i=n.rows[i.index];if(i){var a=DayPilot.list(i.cells).map(function(t){return t.cellDiv});DayPilot.Util.removeClass(a,t)}o.$.row.cssClass=DayPilot.Util.removeClassFromString(o.$.row.cssClass,t)};var a=function(t){var i=function(t){for(var i=0;i<e.elements.events.length;i++){var n=e.elements.events[i];if(n.event===t)return n}return null};this.Yl=function(){t.expanded=!0;var n=e.Ej;DayPilot.list(t.events).each(function(t){n.push(t.id())});var o=i(t);if(o){e.Fk(o);var a=DayPilot.indexOf(e.elements.events,o);-1!==a&&e.elements.events.splice(a,1)}},this.expand=function(){this.Yl(),e._g(),e.ah(t.row.index),e.ia()},this.Xl=function(){if(t.lines.length>e.groupConcurrentEventsLimit){t.expanded=!1;var i=DayPilot.list(t.events).map(function(t){return t.id()});e.Ej=e.Ej.filter(function(t){return!DayPilot.contains(i,t)})}},this.collapse=function(){this.Xl(),e._g(),e.ah(t.row.index),e.ia()}},r=function(t,e){this.html=function(i){var n=t.calendar.divHeader,o=n.rows[t.index].cells[e],a=o.textDiv;return void 0===i?a.innerHTML:void(a.innerHTML=i)}}},n.moving=null,n.movingEvent=null,n.originalMouse=null,n.resizing=null,n.resizingEvent=null,n.preventEventClick=!1,n.globalHandlers=!1,n.timeRangeTimeout=null,n.selectedCells=null,n.dragStart=function(t,e,i,o){DayPilot.us(t);var a=n.drag={};return a.element=t,a.duration=e,a.text=o,a.id=i,a.data={id:i,text:o,duration:e,externalHtml:o},!1},DayPilot.Scheduler.startDragging=function(t){var t=t||{},e=t.element,i=t.keepElement?null:e;DayPilot.us(e);var o=n.drag={};return o.element=i,o.id=t.id,o.duration=t.duration||60,o.text=t.text||"",o.data=t,!1},DayPilot.Scheduler.makeDraggable=function(t){function e(){var e=n.drag={};e.element=o,e.id=t.id,e.duration=t.duration||60,e.text=t.text||"",e.data=t}t=t||{};var i=t.element,o=t.keepElement?null:t.remove||i;DayPilot.us(i),DayPilot.re(i,"mousedown",function(t){if(DayPilot.Util.mouseButton(t).left){e();var i=t.target||t.srcElement;if(i.tagName){var n=i.tagName.toLowerCase();if("textarea"===n||"select"===n||"input"===n)return!1}return t.preventDefault&&t.preventDefault(),!1}}),i.ontouchstart=function(t){window.setTimeout(function(){e(),n.gTouchMove(t),t.preventDefault()},0),t.preventDefault()}},DayPilot.Scheduler.stopDragging=function(){if(n.dragStop(),n.resizing&&(DayPilot.de(n.resizingShadow),n.resizing=null,n.resizingEvent=null,n.resizingShadow=null),n.moving){var t=n.movingEvent.calendar;DayPilot.Util.removeClass(n.moving,t.p(t.Sk.eventMovingSource)),DayPilot.de(n.movingShadow),n.moving=null,n.movingEvent=null,n.movingShadow=null}if(n.range){var t=n.range.calendar;t.clearSelection(),n.range=null}document.body.style.cursor="",DayPilot.list(n.registered).each(function(t){t.vk(),t.gj()})},n.dragStop=function(){n.gShadow&&(document.body.removeChild(n.gShadow),n.gShadow=null),n.drag=null},n.register=function(t){n.registered||(n.registered=[]);for(var e=0;e<n.registered.length;e++)if(n.registered[e]===t)return;n.registered.push(t)},n.unregister=function(t){var e=n.registered;if(e){var i=DayPilot.indexOf(e,t);-1!==i&&e.splice(i,1),0===e.length&&(e=null)}e||(DayPilot.ue(document,"mousemove",n.gMouseMove),DayPilot.ue(document,"mouseup",n.gMouseUp),DayPilot.ue(document,"mousedown",n.gMouseDown),DayPilot.ue(document,"touchmove",n.gTouchMove),DayPilot.ue(document,"touchend",n.gTouchEnd),DayPilot.ue(window,"keyup",n.gKeyUp),n.globalHandlers=!1)},n.gTouchMove=function(i){if(n.resizing){var o=n.resizing.event.calendar;o.coords=o.Rb.relativeCoords(i),o.Rb.updateResizing(),i.preventDefault()}if(n.moving){var o=n.movingEvent.calendar;o.coords=o.Rb.relativeCoords(i),o.Rb.updateMoving(),i.preventDefault()}if(n.drag){i.preventDefault();var a=e(i),o=t(i);if(o){if(n.gShadow&&document.body.removeChild(n.gShadow),n.gShadow=null,o.coords=o.Rb.relativeCoords(i),!n.movingShadow&&o.rowlist.length>0){if(!n.moving){n.moving={};var r=n.drag.event;if(!r){var s=o.itline[0].start,i={id:n.drag.id,start:s,end:s.addSeconds(n.drag.duration),text:n.drag.text},l=n.drag.data;if(l){var c=["duration","element","id","text"];for(var u in l)DayPilot.contains(c,u)||(i[u]=l[u])}r=new DayPilot.Event(i),r.calendar=o,r.part.external=!0}n.moving.event=r,n.movingEvent=r}n.movingShadow=o.sa(n.moving)}n.moving&&o.Rb.updateMoving()}else{DayPilot.de(n.movingShadow);var d=n.moving;n.moving=null,n.movingEvent=null,n.movingShadow=null,n.gShadow||(n.gShadow=n.createGShadow(n.drag.data),n.gShadow.source=d);var h=n.gShadow;h.style.left=a.x+"px",h.style.top=a.y+"px"}}},n.gTouchEnd=function(t){n.gMouseUp(t)},n.gMouseMove=function(t){if(void 0!==n&&(t=t||window.event,!(t.insideMainD||t.srcElement&&t.srcElement.inside))){var e=DayPilot.mc(t);if(n.drag){if(!n.drag.startFired){var i=n.drag.data||{},o=i.onDragStart,a=!1;if("function"==typeof o){var r={};r.data=i,r.preventDefault=function(){r.preventDefault.value=!0},o(r),a=r.preventDefault.value}if(n.drag.startFired=!0,a)return void(n.drag=null)}document.body.style.cursor="move",n.gShadow||(n.gShadow=n.createGShadow(n.drag.data));var s=n.gShadow;if(s.style.left=e.x+"px",s.style.top=e.y+"px",n.moving=null,n.movingEvent=null,n.movingShadow){var l=n.movingShadow.calendar;l&&l.gj(),n.movingShadow.calendar=null,DayPilot.de(n.movingShadow),n.movingShadow=null}}else if(n.moving&&n.movingEvent&&n.movingEvent.calendar.dragOutAllowed&&!n.drag){var l=n.movingEvent.calendar,t=n.movingEvent;n.moving.target=null,document.body.style.cursor="move",n.gShadow||(n.gShadow=n.createGShadow(t.data),n.gShadow.source=n.moving);var s=n.gShadow;s.style.left=e.x+"px",s.style.top=e.y+"px",n.drag={};var c=n.drag;c.schedulerSourceEvent=n.moving,c.element=null,c.duration=(t.rawend().getTime()-t.start().getTime())/1e3,c.text=t.text(),c.id=t.value(),c.event=t,l.gj(),DayPilot.de(n.movingShadow),n.movingShadow.calendar=null,n.movingShadow=null}for(var u=0;u<n.registered.length;u++)n.registered[u].R&&n.registered[u].R()}},n.gUnload=function(t){if(n.registered)for(var e=0;e<n.registered.length;e++){var i=n.registered[e];n.unregister(i)}},n.gMouseDown=function(t){n.editing&&n.editing.blur()},n.gKeyUp=function(t){var t=t||window.event;17===t.keyCode&&n.rangeCalendar&&n.rangeCalendar.pl.dispatch()},n.gMouseUp=function(t){if(DayPilot.list(n.registered).each(function(t){t.vk()}),n.resizing){var e=function(){var t=n.resizingEvent,e=t.calendar;document.body.style.cursor="",n.resizing=null,n.resizingEvent=null,DayPilot.de(n.resizingShadow),n.resizingShadow=null,e.vl()};if(setTimeout(function(){n.preventEventClick=!1}),!n.resizingShadow)return void e();var i=n.resizingEvent,r=i.calendar,l=n.resizingShadow.finalStart,c=n.resizingShadow.finalEnd,u=n.resizingShadow.overlapping,d=!n.resizingShadow.allowed;if(r.gj(),r.$i.clear(),e(),u||d)return;r.Ra(i,l,c)}else if(n.moving){var e=function(){var t=n.moving.target;n.movingShadow&&(DayPilot.de(n.movingShadow),n.movingShadow.calendar=null),document.body.style.cursor="",n.moving=null,n.movingEvent=null,n.drag=null,t.vl(),t&&(t.uh=null)};if(!n.movingShadow)return void e();var i=n.movingEvent,r=n.moving.target;if(!r)return void e();if(DayPilot.Util.removeClass(n.moving,r.p(r.Sk.eventMovingSource)),!n.movingShadow.row)return void e();clearTimeout(r.Ji.timeout);var l=n.movingShadow.start,c=n.movingShadow.end,h="Days"!==r.viewType?n.movingShadow.row.id:null,f=!!n.drag&&i.part.external,p=n.movingShadow.line,u=n.movingShadow.overlapping,d=!n.movingShadow.allowed;if(n.drag&&(r.todo||(r.todo={}),r.todo.del=n.drag.element,n.drag=null),n.movingShadow.calendar=null,document.body.style.cursor="",n.moving=null,n.movingEvent=null,u||d||r.bj.forbidden||r.bj.invalid)return void r.vh();var t=t||window.event;r.Ta(i,l,c,h,f,t,p)}else if(n.range){t=t||window.event;var v=DayPilot.Util.mouseButton(t),g=n.range,r=g.calendar,e=function(){r.vl()};r.nl=null;var y=t.ctrlKey||t.metaKey;if(r.allowMultiRange)return r.elements.range2.overlapping?(DayPilot.de(r.elements.range2),r.elements.range2=null,r.gj()):r.pl.add(g),n.range=null,y||r.pl.dispatch(),void e();if(n.timeRangeTimeout)return clearTimeout(n.timeRangeTimeout),n.timeRangeTimeout=null,void e();r.rangeHold=g,n.range=null;var m=function(t){return function(){n.timeRangeTimeout=null;var e=r.elements.range2;return e&&e.overlapping?void r.clearSelection():(r.wh(t),void("Hold"!==r.timeRangeSelectedHandling&&"HoldForever"!==r.timeRangeSelectedHandling?o():r.rangeHold=t))}},b=r.ol(g);if(e(),!v.left)return void(n.timeRangeTimeout=null);if(g.moved||"Disabled"===r.timeRangeDoubleClickHandling){m(b)();var t=t||window.event;return t.cancelBubble=!0,!1}n.timeRangeTimeout=setTimeout(m(b),r.doubleClickTimeout)}else if(a.row){var r=a.calendar;r&&r.Pj()}else if(s.source){var r=s.calendar;r.ci.clearShadow(),r.ci.hideLinkpoints(),s.source=null,s.calendar=null}else if(n.splitting){var w=n.splitting;w.cleanup(),n.splitting=null}else if(n.rectangleSelect){var D=n.rectangleSelect,r=D.calendar;if(!D.moved)return n.rectangleSelect=null,void(r.Xk(r.coords)||r.ql(t));var C=D.x,k=D.y,x=D.width,P=D.height,_=!1,S=r.sg.eventsInRectangle(C,k,x,P).map(function(t){return t.event});if("function"==typeof r.onRectangleEventSelect){var A={};if(A.events=S,A.append=!1,A.start=r.getDate(C,!0),A.end=r.getDate(C+x,!0),A.preventDefault=function(){this.preventDefault.value=!0},r.onRectangleEventSelect(A),A.preventDefault.value)return r.gl.clear(),void(n.rectangleSelect=null);_=A.append}if(_||r.multiselect.clear(!0),S.each(function(t){r.multiselect.add(t,!0)}),r.multiselect.redraw(),setTimeout(function(){r.gl.clear(),n.rectangleSelect=null},0),"function"==typeof r.onRectangleEventSelected){var A={};A.events=S,r.onRectangleEventSelected(A)}}if(n.drag&&(n.drag.event&&n.drag.event.part&&delete n.drag.event.part.external,n.drag=null,document.body.style.cursor=""),n.gShadow){if(n.gShadow.source){var r=n.gShadow.source.event.calendar;DayPilot.Util.removeClass(n.gShadow.source,r.p(r.Sk.eventMovingSource))}document.body.removeChild(n.gShadow),n.gShadow=null}n.moveOffsetX=null,n.moveDragStart=null},n.createGShadow=function(t){var t=t||{},e=document.createElement("div");return e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.width="100px",e.style.height="20px",e.style.zIndex=101,e.style.pointerEvents="none",e.style.backgroundColor="#aaaaaa",e.style.opacity=.5,e.style.filter="alpha(opacity=50)",e.className=t.externalCssClass,t.externalHtml&&(e.innerHTML=t.externalHtml),document.body.appendChild(e),e};var a={};DayPilot.Global.rowmoving=a;var s={};DayPilot.Global.linking=s,"undefined"!=typeof jQuery&&function(t){t.fn.daypilotScheduler=function(t){var e=null,i=this.each(function(){if(!this.daypilot){var i=new DayPilot.Scheduler(this.id||this,t);i.init(),this.daypilot=i,e||(e=i)}});return 1===this.length?e:i}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotScheduler",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,i){return e.replaceWith(this.template.replace("{{id}}",i.id)),function(e,i,n){var o=new DayPilot.Scheduler(i[0]);o.Jc.scope=e,o.init();var a=n.id;a&&(e[a]=o);var r=n.publishAs;r&&(0,t(r).assign)(e,o);for(var s in n)if(0===s.indexOf("on")){var l=DayPilot.Util.shouldApply(s);l?function(i){o[i]=function(o){var a=t(n[i]);DayPilot.Util.safeApply(e,function(){a(e,{args:o})})}}(s):function(i){o[i]=function(o){t(n[i])(e,{args:o})}}(s)}var c=e.$watch,u=n.config||n.daypilotConfig,d=n.events||n.daypilotEvents;c.call(e,u,function(t,e){o.md(t),o.update(),o.kd()},!0),c.call(e,d,function(t){o.events.list=t,o.ad({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.Year&&(DayPilot.Year=function(t,e){this.v="2826",this.startDate=new DayPilot.Date,this.cssOnly=!0,this.cssClassPrefix=null,this.columns=4,this.cellWidth=20,this.showWeekNumbers=!1,this.Zl=[],this.af=function(){this.root.dp=this,this.Td=new DayPilot.Date(this.startDate.toString("yyyy-01-01","en-us"))},this.p=function(t){return this.cssClassPrefix?this.cssClassPrefix+t:""},this.bf=function(){return this.showWeekNumbers?this.cellWidth:0},this.$l=function(){this.Zl=[];var t=this.columns,e=12/t;this.root.className=this.p("_main"),this.root.style.width=t*(7*this.cellWidth+this.bf())+"px";for(var i=0;i<e;i++){for(var n=0;n<t;n++){var o=i*t+n,a=a+"_nav_"+o,r=document.createElement("div");r.id=a,r.style.float="left",this.root.appendChild(r);var s=new DayPilot.Navigator(a);s.startDate=this.Td.addMonths(o),s.cssOnly=this.cssOnly,s.cssClassPrefix=this.cssClassPrefix,s.cellWidth=this.cellWidth,s.showWeekNumbers=this.showWeekNumbers,s.internal.showLinks={},s.selectMode="none",s.timeRangeSelectedHandling="JavaScript",s.onTimeRangeSelected=this._l,s.init(),s.root.className="",this.Zl.push(s)}var l=document.createElement("div");l.style.clear="left",this.root.appendChild(l)}},this._l=function(t){alert("clicked: "+t.day)},this.init=function(){this.root=document.getElementById(t),this.root.dp||(this.af(),this.$l())}})}(),function(){"use strict";DayPilot.Angular={};var t=this&&this.a||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},e=this&&this.b||function(t,e){return function(i,n){e(i,n,t)}},i=__webpack_require__("3j3K"),n=function(){return 65536*(1+Math.random())|0},o=function(){var t={hashes:{},ids:[]};this.diff=function(e){for(var i={},n={},o=[],e=e||[],a=0;a<e.length;a++){var r=e[a],s=r.id;if(!s)throw"The 'id' property must be specified for event data object";if(n.hasOwnProperty(""+s))throw"Duplicate event IDs are not allowed, id: "+s;n[""+s]=JSON.stringify(r),o.push(""+s)}return i.add=e.filter(function(e){return!t.hashes.hasOwnProperty(e.id)}),i.remove=t.ids.filter(function(t){return!n.hasOwnProperty(t)}),i.modify=e.filter(function(e){return t.hashes.hasOwnProperty(e.id)&&t.hashes[e.id]!==n[e.id]}),i.changeCount=i.add.length+i.modify.length+i.remove.length,t.hashes=n,t.ids=o,i}};DayPilot.Angular.Scheduler=function(){function e(){this.c=!1,this.d=!1,this.e=new o,this.id="dp_"+(new Date).getTime()+"_"+n(),this.viewChange=new i.EventEmitter,this.f={start:null,end:null}}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.control=new DayPilot.Scheduler(this.id),this.control.internal.enableAngular2(),this.updateOptions(),this.control.init()},e.prototype.ngDoCheck=function(){if(this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.control.internal.postInit(),this.c=!1),this.d)){this.d=!1;var t={};t.visibleRangeChanged=this.f.start!==this.control.visibleStart()||this.f.end!==this.control.visibleEnd(),this.f.start=this.control.visibleStart(),this.f.end=this.control.visibleEnd(),this.viewChange.emit(t)}},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0,this.d=!0),this.g=t},e.prototype.updateEvents=function(){var t=this.e.diff(this.events);if(this.control.internal.skipUpdate())return void this.control.internal.skipped();var e=this.control;0!==t.changeCount&&(t.changeCount<10?(t.add.forEach(function(t){e.events.add(new DayPilot.Event(t))}),t.modify.forEach(function(t){e.events.update(new DayPilot.Event(t))}),t.remove.forEach(function(t){e.events.remove(new DayPilot.Event({id:t}))}),e.events.immediateRefresh()):(e.events.list=this.events,this.c=!0))},t([i.Input()],e.prototype,"events",void 0),t([i.Input()],e.prototype,"config",void 0),t([i.Output()],e.prototype,"viewChange",void 0),e=t([i.Component({selector:"daypilot-scheduler",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Gantt=function(){function e(){this.c=!1,this.id="dp_"+(new Date).getTime()+"_"+n()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Gantt(this.id);t.init(),this.control=t},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.c&&(this.control.update(),this.c=!1))},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0),this.g=t},t([i.Input()],e.prototype,"config",void 0),e=t([i.Component({selector:"daypilot-gantt",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Calendar=function(){function e(){this.c=!1,this.d=!1,this.viewChange=new i.EventEmitter,this.id="dp_"+(new Date).getTime()+"_"+n()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Calendar(this.id);this.control=t,this.updateOptions(),t.init()},e.prototype.ngDoCheck=function(){if(this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1),this.d)){this.d=!1;var t={};this.viewChange.emit(t)}},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);if(t!==this.g){var e=this.control;for(var i in this.config)e[i]=this.config[i];this.c=!0,this.d=!0}this.g=t},e.prototype.updateEvents=function(){var t=this.optHash(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t([i.Input()],e.prototype,"events",void 0),t([i.Input()],e.prototype,"config",void 0),t([i.Output()],e.prototype,"viewChange",void 0),e=t([i.Component({selector:"daypilot-calendar",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Month=function(){function e(){this.c=!1,this.id="dp_"+(new Date).getTime()+"_"+n()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Month(this.id);t.init(),this.control=t},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1))},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);if(t!==this.g){var e=this.control;for(var i in this.config)e[i]=this.config[i];this.c=!0}this.g=t},e.prototype.updateEvents=function(){var t=this.optHash(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t([i.Input()],e.prototype,"events",void 0),t([i.Input()],e.prototype,"config",void 0),e=t([i.Component({selector:"daypilot-month",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Kanban=function(){function e(){this.c=!1,this.id="dp_"+(new Date).getTime()+"_"+n()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Kanban(this.id);t.init(),this.control=t},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.c&&(this.control.update(),this.c=!1))},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0),this.g=t},t([i.Input()],e.prototype,"config",void 0),e=t([i.Component({selector:"daypilot-kanban",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Navigator=function(){function e(){this.c=!1,this.i=null,this.date=DayPilot.Date.today(),this.dateChange=new i.EventEmitter,this.id="dp_"+(new Date).getTime()+"_"+n()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Navigator(this.id);this.control=t;var e=this;this.updateOptions(),t.onTimeRangeSelected=function(i){var n=e.date||DayPilot.Date.today();i.day!==new DayPilot.Date(n)&&e.dateChange.emit(i.day),e.i&&e.i.call(t,i)},t.init(),t.selectionDay!==DayPilot.Date.today()&&e.dateChange.emit(t.selectionDay)},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1))},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.control,e=this.optHash(this.config),i=this.date||DayPilot.Date.today(),n=this.optHash(new DayPilot.Date(i));if(e!==this.g){for(var o in this.config)"onTimeRangeSelected"===o?this.i=this.config.onTimeRangeSelected:t[o]=this.config[o];this.c=!0}else void 0!==this.date&&n!==this.j&&(t.select(this.date),this.j=n,this.c=!0);this.g=e},e.prototype.updateEvents=function(){var t=this.optHash(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t([i.Input()],e.prototype,"events",void 0),t([i.Input()],e.prototype,"config",void 0),t([i.Input()],e.prototype,"date",void 0),t([i.Output()],e.prototype,"dateChange",void 0),e=t([i.Component({selector:"daypilot-navigator",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Modal=function(){function n(t,e,n){this.componentFactoryResolver=t,this.element=e,this.renderer=n,this.autoFocus=!0,this.visibility="hidden",this.close=new i.EventEmitter}return n.prototype.ngOnInit=function(){},n.prototype.show=function(t,e){if(this.visibility="visible",t){this.component=this.injectAsChild(this.placeholder,t);for(var i in e)this.component.instance[i]=e[i]}var n=this.element.nativeElement,o=this;this.autoFocus&&setTimeout(function(){o.renderer.invokeElementMethod(n.querySelector("input"),"focus",[])})},n.prototype.hide=function(t){this.component&&this.component.destroy(),this.visibility="hidden",this.close.emit({result:t})},n.prototype.injectAsChild=function(t,e){var i=this.componentFactoryResolver.resolveComponentFactory(e);return t.createComponent(i)},t([i.Input()],n.prototype,"autoFocus",void 0),t([i.ViewChild("placeholder",{read:i.ViewContainerRef})],n.prototype,"placeholder",void 0),t([i.Output()],n.prototype,"close",void 0),n=t([i.Component({selector:"daypilot-modal",styles:["\n  .modal {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    max-height: 80%;\n    overflow-y: auto;\n    padding: 20px;\n    background-color: white;\n  }\n  .overlay {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: #000;\n    opacity: 0.3;\n  }\n  "],template:'<div class="overlay" (click)="hide()" [@fade]="visibility"></div><div class="modal" [@slide]="visibility"><template #placeholder></template><ng-content></ng-content></div>',animations:[i.trigger("slide",[i.state("visible",i.style({transform:"translateY(0)",display:"block"})),i.state("hidden",i.style({transform:"translateY(-100%)",display:"none"})),i.transition("hidden => visible",[i.style({display:"block"}),i.animate("200ms")]),i.transition("visible => hidden",i.animate("200ms"))]),i.trigger("fade",[i.state("visible",i.style({opacity:.3,display:"block"})),i.state("hidden",i.style({opacity:0,display:"none"})),i.transition("hidden => visible",[i.style({display:"block"}),i.animate("200ms")]),i.transition("visible => hidden",i.animate("200ms"))])]}),e(0,i.Inject(i.ComponentFactoryResolver)),e(1,i.Inject(i.ElementRef)),e(2,i.Inject(i.Renderer))],n)}()}(),exports.DayPilot=DayPilot,function(){"use strict";var t=this&&this.a||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},e=this&&this.k||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},i=this&&this.b||function(t,e){return function(i,n){e(i,n,t)}};Object.defineProperty(exports,"__esModule",{value:!0});var n=__webpack_require__("3j3K"),o=__webpack_require__("esOA"),a=function(){return 65536*(1+Math.random())|0},r=function(t){return JSON.stringify(t)},s=function(){var t={hashes:{},ids:[]};this.diff=function(e){var i={},n={},o=[];e=e||[];for(var a=0;a<e.length;a++){var r=e[a],s=r.id;if(!s)throw"The 'id' property must be specified for event data object";if(n.hasOwnProperty(""+s))throw"Duplicate event IDs are not allowed, id: "+s;n[""+s]=JSON.stringify(r),o.push(""+s)}return i.add=e.filter(function(e){return!t.hashes.hasOwnProperty(e.id)}),i.remove=t.ids.filter(function(t){return!n.hasOwnProperty(t)}),i.modify=e.filter(function(e){return t.hashes.hasOwnProperty(e.id)&&t.hashes[e.id]!==n[e.id]}),i.changeCount=i.add.length+i.modify.length+i.remove.length,t.hashes=n,t.ids=o,i}},l=function(){function t(){this.c=!1,this.d=!1,this.e=new s,this.f={start:null,end:null},this.l="dp_"+(new Date).getTime()+a(),this.viewChange=new n.EventEmitter}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose(),this.control=new o.DayPilot.Scheduler(this.id),this.control.internal.enableAngular2(),this.updateOptions(),this.control.init()},t.prototype.ngDoCheck=function(){if(this.control){this.updateOptions(),this.updateEvents();var t=this.control;if(this.c&&(this.control.update(),t.internal.postInit(),this.c=!1),this.d){this.d=!1;var e={};e.visibleRangeChanged=this.f.start!==this.control.visibleStart()||this.f.end!==this.control.visibleEnd(),this.f.start=this.control.visibleStart(),this.f.end=this.control.visibleEnd(),this.viewChange.emit(e)}}},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0,this.d=!0),this.g=t},t.prototype.updateEvents=function(){var t=this.e.diff(this.events),e=this.control;return e.internal.skipUpdate()?void e.internal.skipped():void(0!==t.changeCount&&(t.changeCount<10?(t.add.forEach(function(t){e.events.add(new o.DayPilot.Event(t))}),t.modify.forEach(function(t){e.events.update(new o.DayPilot.Event(t))}),t.remove.forEach(function(t){e.events.remove(new o.DayPilot.Event({id:t,start:null,end:null,text:null}))}),e.events.immediateRefresh()):(e.events.list=this.events,this.c=!0)))},t}();t([n.Output(),e("design:type",n.EventEmitter)],l.prototype,"viewChange",void 0),t([n.Input(),e("design:type",Array)],l.prototype,"events",void 0),t([n.Input(),e("design:type",Object)],l.prototype,"config",void 0),l=t([n.Component({selector:"daypilot-scheduler",template:"<div id='{{id}}'></div>",styles:[""]})],l),exports.DayPilotSchedulerComponent=l;var c=function(){function t(){this.c=!1,this.d=!1,this.l="dp_"+(new Date).getTime()+a(),this.viewChange=new n.EventEmitter}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Calendar(this.id);this.control=t,this.updateOptions(),t.init()},t.prototype.ngDoCheck=function(){if(this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1),this.d)){this.d=!1;var t={};this.viewChange.emit(t)}},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);if(t!==this.g){var e=this.control;for(var i in this.config)e[i]=this.config[i];this.c=!0,this.d=!0}this.g=t},t.prototype.updateEvents=function(){var t=r(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t}();t([n.Output(),e("design:type",n.EventEmitter)],c.prototype,"viewChange",void 0),t([n.Input(),e("design:type",Array)],c.prototype,"events",void 0),t([n.Input(),e("design:type",Object)],c.prototype,"config",void 0),c=t([n.Component({selector:"daypilot-calendar",template:"<div id='{{id}}'></div>",styles:[""]})],c),exports.DayPilotCalendarComponent=c;var u=function(){function t(){this.c=!1,this.l="dp_"+(new Date).getTime()+a()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Gantt(this.id);t.init(),this.control=t},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.c&&(this.control.update(),this.c=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0),this.g=t},t}();t([n.Input(),e("design:type",Object)],u.prototype,"config",void 0),u=t([n.Component({selector:"daypilot-gantt",template:"<div id='{{id}}'></div>",styles:[""]})],u),exports.DayPilotGanttComponent=u;var d=function(){function t(){this.c=!1,this.l="dp_"+(new Date).getTime()+a()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Month(this.id);t.init(),this.control=t},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);if(t!==this.g){var e=this.control;for(var i in this.config)e[i]=this.config[i];this.c=!0}this.g=t},t.prototype.updateEvents=function(){var t=r(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t}();t([n.Input(),e("design:type",Array)],d.prototype,"events",void 0),t([n.Input(),e("design:type",Object)],d.prototype,"config",void 0),d=t([n.Component({selector:"daypilot-month",template:"<div id='{{id}}'></div>",styles:[""]})],d),exports.DayPilotMonthComponent=d;var h=function(){function t(){this.c=!1,this.l="dp_"+(new Date).getTime()+a()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Kanban(this.id);t.init(),this.control=t},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.c&&(this.control.update(),this.c=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0),this.g=t},t}();t([n.Input(),e("design:type",Object)],h.prototype,"config",void 0),h=t([n.Component({selector:"daypilot-kanban",template:"<div id='{{id}}'></div>",styles:[""]})],h),exports.DayPilotKanbanComponent=h;var f=function(){function t(){this.c=!1,this.i=null,this.date=o.DayPilot.Date.today(),this.dateChange=new n.EventEmitter,this.l="dp_"+(new Date).getTime()+a()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Navigator(this.id);this.control=t;var e=this;this.updateOptions(),t.onTimeRangeSelected=function(i){var n=e.date||o.DayPilot.Date.today();i.day!==new o.DayPilot.Date(n)&&e.dateChange.emit(i.day),e.i&&e.i.call(t,i)},t.init(),t.selectionDay!==o.DayPilot.Date.today()&&e.dateChange.emit(t.selectionDay)},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=this.control,e=r(this.config),i=this.date||o.DayPilot.Date.today(),n=r(new o.DayPilot.Date(i));if(e!==this.g){for(var a in this.config)"onTimeRangeSelected"===a?this.i=this.config.onTimeRangeSelected:t[a]=this.config[a];this.c=!0}else void 0!==this.date&&n!==this.j&&(t.select(this.date),this.j=n,this.c=!0);this.g=e},t.prototype.updateEvents=function(){var t=r(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t}();t([n.Input(),e("design:type",o.DayPilot.Date)],f.prototype,"date",void 0),t([n.Input(),e("design:type",Array)],f.prototype,"events",void 0),t([n.Input(),e("design:type",Object)],f.prototype,"config",void 0),t([n.Output(),e("design:type",n.EventEmitter)],f.prototype,"dateChange",void 0),f=t([n.Component({selector:"daypilot-navigator",template:"<div id='{{id}}'></div>",styles:[""]})],f),exports.DayPilotNavigatorComponent=f;var p=function(){function t(t){this.element=t,this.autoFocus=!0,this.close=new n.EventEmitter,this.m="hidden"}return Object.defineProperty(t.prototype,"visible",{get:function(){return"visible"===this.m},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.show=function(){this.m="visible";var t=this.element.nativeElement;this.autoFocus&&setTimeout(function(){var e=t.querySelector("input");e&&e.focus()})},t.prototype.hide=function(t){this.m="hidden",this.close.emit({result:t})},t}();t([n.Input(),e("design:type",Boolean)],p.prototype,"autoFocus",void 0),t([n.Output(),e("design:type",n.EventEmitter)],p.prototype,"close",void 0),p=t([n.Component({selector:"daypilot-modal",styles:["\n  .modal {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    max-height: 80%;\n    overflow-y: auto;\n    padding: 20px;\n    background-color: white;\n    \n    transform: translateY(-100%);\n  }\n  .modal.visible {\n    transform: translateY(0);\n  }\n\n  .overlay {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: #000;\n    \n    opacity: 0;\n    margin-left: 100%;\n  }\n  .overlay.visible {\n    margin-left: 0;\n    opacity: 0.3;\n  }\n  .modal {\n    transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);\n  }\n  .overlay {\n    transition: margin-left 0s linear 0.3s, opacity 0.3s;\n  }\n  .overlay.visible {\n    transition: margin-left 0s, opacity 0.3s;\n  }\n  "],template:'\n  <div \n      class="overlay" \n      (click)="hide()" \n      [class.visible]="visible"\n      ></div>\n  <div \n      class="modal" \n      [class.visible]="visible"\n      >    \n    <ng-content></ng-content>    \n  </div>'}),i(0,n.Inject(n.ElementRef)),e("design:paramtypes",[n.ElementRef])],p),exports.DayPilotModalComponent=p;var v=[l,c,d,f,u,h,p],g=function(){function t(){}return t}();g=t([n.NgModule({declarations:[v],exports:[v]})],g),exports.DayPilotModule=g}()},hamG:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("/U6W");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.create=new n.EventEmitter}return t.prototype.onCreate=function(t){t.stopPropagation(),this.grid.create(this.grid.getNewRow(),this.createConfirm)},t.prototype.ngOnChanges=function(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.addInputClass=this.grid.getSetting("add.inputClass")},t}();r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"grid",void 0),r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"row",void 0),r([i.i(n.Input)(),s("design:type",n.EventEmitter)],l.prototype,"createConfirm",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"create",void 0),l=r([i.i(n.Component)({selector:"[ng2-st-thead-form-row]",template:'\n      <td *ngIf=""></td>\n      <td  *ngIf="showActionColumnLeft"  class="ng2-smart-actions">\n        <ng2-st-actions [grid]="grid" (create)="onCreate($event)"></ng2-st-actions>\n      </td>\n      <td *ngFor="let cell of grid.getNewRow().getCells()">\n        <ng2-smart-table-cell [cell]="cell"\n                              [grid]="grid"\n                              [isNew]="true"\n                              [createConfirm]="createConfirm"\n                              [inputClass]="addInputClass"\n                              [isInEditing]="grid.getNewRow().isInEditing"\n                              (edited)="onCreate($event)">\n        </ng2-smart-table-cell>\n      </td>\n      <td  *ngIf="showActionColumnRight"  class="ng2-smart-actions">\n        <ng2-st-actions [grid]="grid" (create)="onCreate($event)"></ng2-st-actions>\n      </td>\n  '})],l)},jAbk:function(t,e,i){"use strict";var n=i("3j3K"),o=i("NVOs"),a=i("Fzro"),r=i("6ENF"),s=i("owf7"),l=i("oVzB"),c=i("S27I"),u=i("vfyQ"),d=i("I+b6"),h=i("wJsi"),f=i("BkNs"),p=i("yu8n"),v=i("2Je8");i.d(e,"a",function(){return g});var g=function(){function t(){}return t}();g.decorators=[{type:n.NgModule,args:[{imports:[v.b,o.d,a.g],declarations:[s.a,u.a,d.b,h.a,f.a,p.a,r.a],exports:[r.a,s.a,u.a,d.b,h.a,f.a,p.a],providers:[l.a,c.c,c.d]}]}],g.ctorParameters=function(){return[]}},jOIz:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("pbU0"),r=i("/U6W");i.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this.inputClass="",this.mode="inline",this.isInEditing=!1,this.edited=new n.EventEmitter}return t.prototype.onEdited=function(t){this.isNew?this.grid.create(this.grid.getNewRow(),this.createConfirm):this.grid.save(this.row,this.editConfirm)},t}();s([i.i(n.Input)(),l("design:type",o.a)],c.prototype,"grid",void 0),s([i.i(n.Input)(),l("design:type",r.a)],c.prototype,"row",void 0),s([i.i(n.Input)(),l("design:type",n.EventEmitter)],c.prototype,"editConfirm",void 0),s([i.i(n.Input)(),l("design:type",n.EventEmitter)],c.prototype,"createConfirm",void 0),s([i.i(n.Input)(),l("design:type",Boolean)],c.prototype,"isNew",void 0),s([i.i(n.Input)(),l("design:type",a.a)],c.prototype,"cell",void 0),s([i.i(n.Input)(),l("design:type",String)],c.prototype,"inputClass",void 0),s([i.i(n.Input)(),l("design:type",String)],c.prototype,"mode",void 0),s([i.i(n.Input)(),l("design:type",Boolean)],c.prototype,"isInEditing",void 0),s([i.i(n.Output)(),l("design:type",Object)],c.prototype,"edited",void 0),c=s([i.i(n.Component)({selector:"ng2-smart-table-cell",template:'\n    <table-cell-view-mode *ngIf="!isInEditing" [cell]="cell"></table-cell-view-mode>\n    <table-cell-edit-mode *ngIf="isInEditing" [cell]="cell"\n                          [inputClass]="inputClass"\n                          (edited)="onEdited($event)">\n    </table-cell-edit-mode>\n  '})],c)},jhB3:function(t,e,i){"use strict";var n=i("3j3K"),o=i("aXxY"),a=i("FLi/");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.currentDirection="",this.sort=new n.EventEmitter}return t.prototype.ngOnChanges=function(t){var e=this;t.source&&(t.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(function(t){var i=e.source.getSort();i.length>0&&i[0].field===e.column.id?e.currentDirection=i[0].direction:e.currentDirection="",i.forEach(function(t){})}))},t.prototype._sort=function(t){t.preventDefault(),this.changeSortDirection(),this.source.setSort([{field:this.column.id,direction:this.currentDirection,compare:this.column.getCompareFunction()}]),this.sort.emit(null)},t.prototype.changeSortDirection=function(){if(this.currentDirection){var t="asc"===this.currentDirection?"desc":"asc";this.currentDirection=t}else this.currentDirection=this.column.sortDirection;return this.currentDirection},t}();r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"column",void 0),r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"source",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"sort",void 0),l=r([i.i(n.Component)({selector:"ng2-smart-table-title",styles:["a.sort.asc,a.sort.desc{font-weight:700}a.sort.asc::after,a.sort.desc::after{content:'';display:inline-block;width:0;height:0;border-bottom:4px solid rgba(0,0,0,.3);border-top:4px solid transparent;border-left:4px solid transparent;border-right:4px solid transparent;margin-bottom:2px}a.sort.desc::after{-webkit-transform:rotate(-180deg);transform:rotate(-180deg);margin-bottom:-2px} /*# sourceMappingURL=title.component.css.map */ "],template:'\n    <a href="#" *ngIf="column.isSortable"\n                (click)="_sort($event, column)"\n                class="ng2-smart-sort-link sort"\n                [ngClass]="currentDirection">\n      {{ column.title }}\n    </a>\n    <span class="ng2-smart-sort" *ngIf="!column.isSortable">{{ column.title }}</span>\n  '})],l)},lnsk:function(t,e,i){"use strict";var n=i("A9BM");i.d(e,"a",function(){return o});var o=(n.a,function(){function t(){}return t}())},mkpQ:function(t,e,i){"use strict";var n=i("Fzro"),o=i("+pb+"),a=(i.n(o),i("6Yye")),r=(i.n(a),i("Dzj1"));i.d(e,"a",function(){return l});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=function(t){function e(e){var i=t.call(this)||this;return i.http=e,i._urlFormater=null,i._dataField=null,i}return s(e,t),e.prototype.remoteUrl=function(t){return this._remoteUrl=t,this},e.prototype.urlFormater=function(t){this._urlFormater=t},e.prototype.dataField=function(t){this._dataField=t},e.prototype.headers=function(t){this._headers=t},e.prototype.requestOptions=function(t){this._requestOptions=t},e.prototype.search=function(t){var e=this;this.cancel();var i="";i=this._urlFormater?this._urlFormater(t):this._remoteUrl+encodeURIComponent(t),this._requestOptions||(this._requestOptions=new n.j,this._requestOptions.headers=this._headers||new n.l),this.remoteSearch=this.http.get(i,this._requestOptions).map(function(t){return t.json()}).map(function(i){var n=e.extractValue(i,e._dataField);return e.extractMatches(n,t)}).map(function(t){var i=e.processResults(t);return e.next(i),i}).catch(function(t){return e.error(t),null}).subscribe()},e.prototype.cancel=function(){this.remoteSearch&&this.remoteSearch.unsubscribe()},e.prototype.convertToItem=function(e){return t.prototype.convertToItem.call(this,e)},e}(r.a)},n1zK:function(t,e,i){"use strict";var n=i("3j3K"),o=i("2Je8"),a=i("NVOs"),r=i("bMjW"),s=i("Xw8A"),l=i("/Trv"),c=i("uDMx"),u=i("poJR"),d=i("GvoF");i.d(e,"a",function(){return f});var h=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},f=function(){function t(){}return t}();f=h([i.i(n.NgModule)({imports:[o.b,a.d,a.e,r.a,s.a,l.a,c.a,u.a],declarations:[d.a],exports:[d.a]})],f)},"nn+T":function(t,e,i){"use strict";var n=i("3j3K"),o=i("3ERO");i.d(e,"a",function(){return l});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(t){function e(){return t.call(this)||this}return a(e,t),e}(o.a);l=r([i.i(n.Component)({selector:"select-editor",template:'\n    <select [ngClass]="inputClass"\n            class="form-control"\n            [(ngModel)]="cell.newValue"\n            [name]="cell.getId()"\n            [disabled]="!cell.isEditable()"\n            (click)="onClick.emit($event)"\n            (keydown.enter)="onEdited.emit($event)"\n            (keydown.esc)="onStopEditing.emit()">\n\n        <option *ngFor="let option of cell.getColumn().getConfig()?.list" [value]="option.value"\n                [selected]="option.value === cell.getValue()">{{ option.title }}\n        </option>\n    </select>\n    '}),s("design:paramtypes",[])],l)},oVzB:function(t,e,i){"use strict";var n=i("3j3K"),o=i("OOcy"),a=i("mkpQ");i.d(e,"a",function(){return r});var r=function(){function t(t,e){this.localDataFactory=t,this.remoteDataFactory=e}return t.prototype.local=function(t,e,i){return void 0===e&&(e=""),void 0===i&&(i=""),this.localDataFactory().data(t).searchFields(e).titleField(i)},t.prototype.remote=function(t,e,i){return void 0===e&&(e=""),void 0===i&&(i=""),this.remoteDataFactory().remoteUrl(t).searchFields(e).titleField(i)},t}();r.decorators=[{type:n.Injectable}],r.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[o.a]}]},{type:void 0,decorators:[{type:n.Inject,args:[a.a]}]}]}},owf7:function(t,e,i){"use strict";var n=i("3j3K");i.d(e,"a",function(){return o});var o=function(){function t(){this.parts=[]}return t.prototype.ngOnInit=function(){if(!this.searchStr)return void this.parts.push({isMatch:!1,text:this.text});for(var t=this.text.toLowerCase(),e=t.indexOf(this.searchStr.toLowerCase()),i=0;e>=0;){var n=this.text.slice(e,e+this.searchStr.length);if(0===e)this.parts.push({isMatch:!0,text:n}),i+=this.searchStr.length;else if(e>0){var o=this.text.slice(i,e);this.parts.push({isMatch:!1,text:o}),this.parts.push({isMatch:!0,text:n}),i+=this.searchStr.length+o.length}e=t.indexOf(this.searchStr.toLowerCase(),i)}i<this.text.length&&this.parts.push({isMatch:!1,text:this.text.slice(i,this.text.length)})},t}();o.decorators=[{type:n.Component,args:[{selector:"completer-list-item",template:'\n    <span class="completer-list-item-holder" [ngClass]="{\'completer-title\': type === \'title\', \'completer-description\': type === \'description\'}" >\n        <span class="completer-list-item" *ngFor="let part of parts" [ngClass]="part.isMatch ? matchClass : null">{{part.text}}</span>\n    </span>\n    '}]}],o.ctorParameters=function(){return[]},o.propDecorators={text:[{type:n.Input}],searchStr:[{type:n.Input}],matchClass:[{type:n.Input}],type:[{type:n.Input}]}},pbU0:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(t,e,i,n){this.value=t,this.row=e,this.column=i,this.dataSet=n,this.newValue="",this.newValue=t}return t.prototype.getColumn=function(){return this.column},t.prototype.getRow=function(){return this.row},t.prototype.getValue=function(){return(this.column.getValuePrepareFunction()instanceof Function?this.column.getValuePrepareFunction():t.PREPARE).call(null,this.value,this.row.getData())},t.prototype.setValue=function(t){this.newValue=t},t.prototype.getId=function(){return this.getColumn().id},t.prototype.getTitle=function(){return this.getColumn().title},t.prototype.isEditable=function(){return-1===this.getRow().index?this.getColumn().isAddable:this.getColumn().isEditable},t}();n.PREPARE=function(t){return t}},poJR:function(t,e,i){"use strict";var n=i("3j3K"),o=i("2Je8"),a=i("NVOs"),r=i("Xw8A"),s=i("bMjW"),l=i("OVKi"),c=i("dfXa"),u=i("MUrH"),d=i("F6un"),h=i("6okf"),f=i("JIYj"),p=i("jhB3"),v=i("X6i5"),g=i("hamG"),y=i("qmLv");i.d(e,"a",function(){return w});var m=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},b=[c.a,u.a,d.a,h.a,f.a,p.a,v.a,g.a,y.a,l.a],w=function(){function t(){}return t}();w=m([i.i(n.NgModule)({imports:[o.b,a.d,r.a,s.a],declarations:b.slice(),exports:b.slice()})],w)},qmLv:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("aXxY");i.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.sort=new n.EventEmitter,this.selectAllRows=new n.EventEmitter}return t.prototype.ngOnChanges=function(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right")},t}();r([i.i(n.Input)(),s("design:type",o.a)],l.prototype,"grid",void 0),r([i.i(n.Input)(),s("design:type",Boolean)],l.prototype,"isAllSelected",void 0),r([i.i(n.Input)(),s("design:type",a.a)],l.prototype,"source",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"sort",void 0),r([i.i(n.Output)(),s("design:type",Object)],l.prototype,"selectAllRows",void 0),l=r([i.i(n.Component)({selector:"[ng2-st-thead-titles-row]",template:'\n    <th ng2-st-checkbox-select-all *ngIf="isMultiSelectVisible"\n                                   [grid]="grid"\n                                   [source]="source"\n                                   [isAllSelected]="isAllSelected"\n                                   (click)="selectAllRows.emit($event)">\n    </th>\n    <th ng2-st-actions-title *ngIf="showActionColumnLeft" [grid]="grid"></th>\n    <th *ngFor="let column of grid.getColumns()" class="ng2-smart-th {{ column.id }}" [ngClass]="column.class"\n      [style.width]="column.width" >\n      <ng2-st-column-title [source]="source" [column]="column" (sort)="sort.emit($event)"></ng2-st-column-title>\n    </th>\n    <th ng2-st-actions-title *ngIf="showActionColumnRight" [grid]="grid"></th>\n  '})],l)},sJoL:function(t,e,i){"use strict";i.d(e,"a",function(){return n});var n=function(){function t(){}return t.filter=function(t,e,i,n){var o=n||this.FILTER;return t.filter(function(t){var n=void 0===t[e]||null===t[e]?"":t[e];return o.call(null,n,i)})},t}();n.FILTER=function(t,e){return t.toString().toLowerCase().includes(e.toString().toLowerCase())}},suyt:function(t,e,i){"use strict";var n=i("3j3K"),o=i("3ERO");i.d(e,"a",function(){return l});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(t){function e(){return t.call(this)||this}return a(e,t),e}(o.a);l=r([i.i(n.Component)({selector:"input-editor",styles:[":host input,:host textarea{width:100%;line-height:normal;padding:.375em .75em} /*# sourceMappingURL=editor.component.css.map */ "],template:'\n    <input [ngClass]="inputClass"\n           class="form-control"\n           [(ngModel)]="cell.newValue"\n           [name]="cell.getId()"\n           [placeholder]="cell.getTitle()"\n           [disabled]="!cell.isEditable()"\n           (click)="onClick.emit($event)"\n           (keydown.enter)="onEdited.emit($event)"\n           (keydown.esc)="onStopEditing.emit()">\n    '}),s("design:paramtypes",[])],l)},"t8+U":function(t,e,i){"use strict";function n(t){return r["vid"](0,[r["qud"](402653184,1,{calendarHomologaciones:0}),r["qud"](402653184,2,{"calendarConsejera":0}),(t()(),r["eld"](0,null,null,4,"div",[["class","row titulo"]],null,null,null,null,null)),(t()(),r["ted"](null,["\n    "])),(t()(),r["eld"](0,null,null,1,"h1",[["class","col-12"]],null,null,null,null,null)),(t()(),r["ted"](null,["Horario 2017-10"])),(t()(),r["ted"](null,["\n"])),(t()(),r["ted"](null,["\n"])),(t()(),r["eld"](0,null,null,27,"div",[["class","row"],["style","margin-bottom: 20px;"]],null,null,null,null,null)),(t()(),r["ted"](null,["\n  "])),(t()(),r["eld"](0,null,null,24,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),r["ted"](null,["\n    "])),(t()(),r["eld"](0,null,null,21,"select",[["name","role"],["style","width:100%"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,i){var n=!0,o=t.component;if("change"===e){n=!1!==r["nov"](t,13).onChange(i.target.value)&&n}if("blur"===e){n=!1!==r["nov"](t,13).onTouched()&&n}if("ngModelChange"===e){n=!1!==(o.administrador_id=i)&&n}return n},null,null)),r["did"](16384,null,0,l.i,[r.Renderer,r.ElementRef],null,null),r["prd"](1024,null,l.g,function(t){return[t]},[l.i]),r["did"](671744,null,0,l.f,[[8,null],[8,null],[8,null],[2,l.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),r["prd"](2048,null,l.j,null,[l.f]),r["did"](16384,null,0,l.k,[l.j],null,null),(t()(),r["ted"](null,["\n      "])),(t()(),r["eld"](0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),r["did"](147456,null,0,l.l,[r.ElementRef,r.Renderer,[2,l.i]],{value:[0,"value"]},null),r["did"](147456,null,0,l.m,[r.ElementRef,r.Renderer,[8,null]],{value:[0,"value"]},null),(t()(),r["ted"](null,["Camila"])),(t()(),r["ted"](null,["\n      "])),(t()(),r["eld"](0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),r["did"](147456,null,0,l.l,[r.ElementRef,r.Renderer,[2,l.i]],{value:[0,"value"]},null),r["did"](147456,null,0,l.m,[r.ElementRef,r.Renderer,[8,null]],{value:[0,"value"]},null),(t()(),r["ted"](null,["Natalia"])),(t()(),r["ted"](null,["\n      "])),(t()(),r["eld"](0,null,null,3,"option",[["value","4"]],null,null,null,null,null)),r["did"](147456,null,0,l.l,[r.ElementRef,r.Renderer,[2,l.i]],{value:[0,"value"]},null),r["did"](147456,null,0,l.m,[r.ElementRef,r.Renderer,[8,null]],{value:[0,"value"]},null),(t()(),r["ted"](null,["Diana"])),(t()(),r["ted"](null,["\n    "])),(t()(),r["ted"](null,["\n  "])),(t()(),r["ted"](null,["\n"])),(t()(),r["ted"](null,["\n"])),(t()(),r["eld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["ted"](null,["Homologaciones"])),(t()(),r["ted"](null,["\n"])),(t()(),r["eld"](0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r["ted"](null,["\n  "])),(t()(),r["eld"](0,null,null,1,"daypilot-calendar",[],null,null,null,c.a,c.b)),r["did"](4702208,[["calendarHomologaciones",4]],0,u.DayPilotCalendarComponent,[],{events:[0,"events"],config:[1,"config"]},null),(t()(),r["ted"](null,["\n  "])),(t()(),r["eld"](0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["ted"](null,["\n    "])),(t()(),r["eld"](0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),r["ted"](null,["\n      "])),(t()(),r["eld"](0,null,null,1,"button",[["class","btn btn-danger"],["style","width: 100%"],["type","button"]],null,[[null,"click"]],function(t,e,i){var n=!0,o=t.component;if("click"===e){n=!1!==o.onBorrarUltimo("Homologaciones")&&n}return n},null,null)),(t()(),r["ted"](null,["Borrar ltimo"])),(t()(),r["ted"](null,["\n    "])),(t()(),r["ted"](null,["\n    "])),(t()(),r["eld"](0,null,null,4,"div",[["class","col-8"]],null,null,null,null,null)),(t()(),r["ted"](null,["\n      "])),(t()(),r["eld"](0,null,null,1,"button",[["class","btn btn-primary"],["style","width: 100%"],["type","button"]],null,[[null,"click"]],function(t,e,i){var n=!0,o=t.component;if("click"===e){n=!1!==o.onGuardarCalendario("Homologaciones")&&n}return n},null,null)),(t()(),r["ted"](null,["Guardar"])),(t()(),r["ted"](null,["\n    "])),(t()(),r["ted"](null,["\n  "])),(t()(),r["ted"](null,["\n"])),(t()(),r["eld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),r["ted"](null,["\n"])),(t()(),r["eld"](0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r["ted"](null,["\n\n"])),(t()(),r["eld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),r["ted"](null,["Consejera"])),(t()(),r["ted"](null,["\n"])),(t()(),r["eld"](0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),r["ted"](null,["\n  "])),(t()(),r["eld"](0,null,null,1,"daypilot-calendar",[],null,null,null,c.a,c.b)),r["did"](4702208,[["calendarConsejera",4]],0,u.DayPilotCalendarComponent,[],{events:[0,"events"],config:[1,"config"]},null),(t()(),r["ted"](null,["\n  "])),(t()(),r["eld"](0,null,null,13,"div",[["class","row"]],null,null,null,null,null)),(t()(),r["ted"](null,["\n    "])),(t()(),r["eld"](0,null,null,4,"div",[["class","col-4"]],null,null,null,null,null)),(t()(),r["ted"](null,["\n      "])),(t()(),r["eld"](0,null,null,1,"button",[["class","btn btn-danger"],["style","width: 100%"],["type","button"]],null,[[null,"click"]],function(t,e,i){var n=!0,o=t.component;if("click"===e){n=!1!==o.onBorrarUltimo("Consejeria")&&n}return n},null,null)),(t()(),r["ted"](null,["Borrar ltimo"])),(t()(),r["ted"](null,["\n    "])),(t()(),r["ted"](null,["\n    "])),(t()(),r["eld"](0,null,null,4,"div",[["class","col-8"]],null,null,null,null,null)),(t()(),r["ted"](null,["\n      "])),(t()(),r["eld"](0,null,null,1,"button",[["class","btn btn-primary"],["style","width: 100%"],["type","button"]],null,[[null,"click"]],function(t,e,i){var n=!0,o=t.component;if("click"===e){n=!1!==o.onGuardarCalendario("Consejeria")&&n}return n},null,null)),(t()(),r["ted"](null,["Guardar"])),(t()(),r["ted"](null,["\n    "])),(t()(),r["ted"](null,["\n  "]))],function(t,e){var i=e.component;t(e,15,0,"role",i.administrador_id),t(e,20,0,"2"),t(e,21,0,"2"),t(e,25,0,"3"),t(e,26,0,"3"),t(e,30,0,"4"),t(e,31,0,"4"),t(e,43,0,i.events_homologaciones,i.calendarConfigHomologaciones),t(e,70,0,i.events_consejeria,i.calendarConfigConsejeria)},function(t,e){t(e,12,0,r["nov"](e,17).ngClassUntouched,r["nov"](e,17).ngClassTouched,r["nov"](e,17).ngClassPristine,r["nov"](e,17).ngClassDirty,r["nov"](e,17).ngClassValid,r["nov"](e,17).ngClassInvalid,r["nov"](e,17).ngClassPending)})}function o(t){return r["vid"](0,[(t()(),r["eld"](0,null,null,1,"app-citas",[],null,null,null,n,f)),r["did"](4308992,null,0,s.a,[d.k],null,null)],function(t,e){t(e,1,0)},null)}var a=i("X/eP"),r=i("3j3K"),s=i("A9BM"),l=i("NVOs"),c=i("uJ9b"),u=i("esOA"),d=(i.n(u),i("Fzro"));i.d(e,"a",function(){return p});var h=[a.a],f=r["crt"]({encapsulation:0,styles:h,data:{}}),p=r["ccf"]("app-citas",s.a,o,{},{},[])},tfux:function(t,e,i){"use strict";var n=i("3j3K"),o=i("pbU0");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.inputClass="",this.edited=new n.EventEmitter}return t.prototype.onEdited=function(t){return this.edited.next(t),!1},t.prototype.onStopEditing=function(){return this.cell.getRow().isInEditing=!1,!1},t.prototype.onClick=function(t){t.stopPropagation()},t}();a([i.i(n.Input)(),r("design:type",o.a)],s.prototype,"cell",void 0),a([i.i(n.Input)(),r("design:type",String)],s.prototype,"inputClass",void 0),a([i.i(n.Output)(),r("design:type",Object)],s.prototype,"edited",void 0)},tukb:function(t,e,i){"use strict";var n=i("3j3K"),o=i("NVOs"),a=i("Layv"),r=i("aV5h");i.n(r);i.d(e,"a",function(){return u});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),l=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(){var e=t.call(this)||this;return e.filterActive=!1,e.inputControl=new o.h,e}return s(e,t),e.prototype.ngOnInit=function(){var t=this;this.changesSubscription=this.inputControl.valueChanges.debounceTime(this.delay).subscribe(function(e){t.filterActive=!0;var i=t.column.getFilterConfig()&&t.column.getFilterConfig().true||!0,n=t.column.getFilterConfig()&&t.column.getFilterConfig().false||!1;t.query=e?i:n,t.setFilter()})},e.prototype.resetFilter=function(t){t.preventDefault(),this.query="",this.inputControl.setValue(!1,{emitEvent:!1}),this.filterActive=!1,this.setFilter()},e}(a.a);u=l([i.i(n.Component)({selector:"checkbox-filter",template:'\n    <input type="checkbox" [formControl]="inputControl" [ngClass]="inputClass" class="form-control">\n    <a href="#" *ngIf="filterActive"\n                (click)="resetFilter($event)">{{column.getFilterConfig()?.resetText || \'reset\'}}</a>\n  '}),c("design:paramtypes",[])],u)},u8XI:function(t,e,i){"use strict";var n=i("jAbk");i.d(e,"a",function(){return n.a});var o=(i("6ENF"),i("owf7"),i("oVzB"));i.d(e,"b",function(){return o.a});i("S27I"),i("OOcy"),i("mkpQ"),i("Dzj1"),i("vfyQ"),i("I+b6"),i("wJsi"),i("BkNs"),i("yu8n")},uDMx:function(t,e,i){"use strict";var n=i("3j3K"),o=i("2Je8"),a=i("NVOs"),r=i("bMjW"),s=i("REgC"),l=i("8lCG"),c=i("wkag"),u=i("4bAY");i.d(e,"a",function(){return f});var d=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},h=[l.a,c.a,u.a,s.a],f=function(){function t(){}return t}();f=d([i.i(n.NgModule)({imports:[o.b,a.d,r.a],declarations:h.slice(),exports:h.slice()})],f)},uJ9b:function(t,e,i){"use strict";function n(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,0,"div",[],[[8,"id",0]],null,null,null,null))],null,function(t,e){var i=e.component;t(e,0,0,y["inlineInterpolate"](1,"",i.id,""))})}function o(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,1,"daypilot-scheduler",[],null,null,null,n,C)),y["did"](4702208,null,0,m.DayPilotSchedulerComponent,[],null,null)],function(t,e){t(e,1,0)},null)}function a(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,0,"div",[],[[8,"id",0]],null,null,null,null))],null,function(t,e){var i=e.component;t(e,0,0,y["inlineInterpolate"](1,"",i.id,""))})}function r(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,1,"daypilot-calendar",[],null,null,null,a,x)),y["did"](4702208,null,0,m.DayPilotCalendarComponent,[],null,null)],function(t,e){t(e,1,0)},null)}function s(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,0,"div",[],[[8,"id",0]],null,null,null,null))],null,function(t,e){var i=e.component;t(e,0,0,y["inlineInterpolate"](1,"",i.id,""))})}function l(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,1,"daypilot-month",[],null,null,null,s,_)),y["did"](4702208,null,0,m.DayPilotMonthComponent,[],null,null)],function(t,e){t(e,1,0)},null)}function c(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,0,"div",[],[[8,"id",0]],null,null,null,null))],null,function(t,e){var i=e.component;t(e,0,0,y["inlineInterpolate"](1,"",i.id,""))})}function u(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,1,"daypilot-navigator",[],null,null,null,c,A)),y["did"](4702208,null,0,m.DayPilotNavigatorComponent,[],null,null)],function(t,e){t(e,1,0)},null)}function d(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,0,"div",[],[[8,"id",0]],null,null,null,null))],null,function(t,e){var i=e.component;t(e,0,0,y["inlineInterpolate"](1,"",i.id,""))})}function h(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,1,"daypilot-gantt",[],null,null,null,d,T)),y["did"](4702208,null,0,m.DayPilotGanttComponent,[],null,null)],function(t,e){t(e,1,0)},null)}function f(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,0,"div",[],[[8,"id",0]],null,null,null,null))],null,function(t,e){var i=e.component;t(e,0,0,y["inlineInterpolate"](1,"",i.id,""))})}function p(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,1,"daypilot-kanban",[],null,null,null,f,M)),y["did"](4702208,null,0,m.DayPilotKanbanComponent,[],null,null)],function(t,e){t(e,1,0)},null)}function v(t){return y["vid"](0,[(t()(),y["ted"](null,["\n  "])),(t()(),y["eld"](0,null,null,0,"div",[["class","overlay"]],[[2,"visible",null]],[[null,"click"]],function(t,e,i){var n=!0,o=t.component;if("click"===e){n=!1!==o.hide()&&n}return n},null,null)),(t()(),y["ted"](null,["\n  "])),(t()(),y["eld"](0,null,null,3,"div",[["class","modal"]],[[2,"visible",null]],null,null,null,null)),(t()(),y["ted"](null,["    \n    "])),y["ncd"](null,0),(t()(),y["ted"](null,["    \n  "]))],null,function(t,e){var i=e.component;t(e,1,0,i.visible),t(e,3,0,i.visible)})}function g(t){return y["vid"](0,[(t()(),y["eld"](0,null,null,1,"daypilot-modal",[],null,null,null,v,B)),y["did"](114688,null,0,m.DayPilotModalComponent,[y.ElementRef],null,null)],function(t,e){t(e,1,0)},null)}var y=i("3j3K"),m=i("esOA");i.n(m);i.d(e,"b",function(){return x}),e.a=a;var b=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),w=function(t){function e(e){return t.call(this,e,[],[])||this}return b(e,t),e.prototype.createInternal=function(){return this._DayPilotModule_0=new m.DayPilotModule,this._DayPilotModule_0},e.prototype.getInternal=function(t,e){return t===m.DayPilotModule?this._DayPilotModule_0:e},e.prototype.destroyInternal=function(){},e}(y["NgModuleInjector"]),D=(new y.NgModuleFactory(w,m.DayPilotModule),[""]),C=y["crt"]({encapsulation:0,styles:D,data:{}}),k=(y["ccf"]("daypilot-scheduler",m.DayPilotSchedulerComponent,o,{events:"events",config:"config"},{viewChange:"viewChange"},[]),[""]),x=y["crt"]({encapsulation:0,styles:k,data:{}}),P=(y["ccf"]("daypilot-calendar",m.DayPilotCalendarComponent,r,{events:"events",config:"config"},{viewChange:"viewChange"},[]),[""]),_=y["crt"]({encapsulation:0,styles:P,data:{}}),S=(y["ccf"]("daypilot-month",m.DayPilotMonthComponent,l,{events:"events",config:"config"},{},[]),[""]),A=y["crt"]({encapsulation:0,styles:S,data:{}}),E=(y["ccf"]("daypilot-navigator",m.DayPilotNavigatorComponent,u,{date:"date",events:"events",config:"config"},{dateChange:"dateChange"},[]),[""]),T=y["crt"]({encapsulation:0,styles:E,data:{}}),R=(y["ccf"]("daypilot-gantt",m.DayPilotGanttComponent,h,{config:"config"},{},[]),[""]),M=y["crt"]({encapsulation:0,styles:R,data:{}}),H=(y["ccf"]("daypilot-kanban",m.DayPilotKanbanComponent,p,{config:"config"},{},[]),[".modal[_ngcontent-%COMP%] {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    max-height: 80%;\n    overflow-y: auto;\n    padding: 20px;\n    background-color: white;\n    \n    transform: translateY(-100%);\n  }\n  .modal.visible[_ngcontent-%COMP%] {\n    transform: translateY(0);\n  }\n\n  .overlay[_ngcontent-%COMP%] {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: #000;\n    \n    opacity: 0;\n    margin-left: 100%;\n  }\n  .overlay.visible[_ngcontent-%COMP%] {\n    margin-left: 0;\n    opacity: 0.3;\n  }\n  .modal[_ngcontent-%COMP%] {\n    transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);\n  }\n  .overlay[_ngcontent-%COMP%] {\n    transition: margin-left 0s linear 0.3s, opacity 0.3s;\n  }\n  .overlay.visible[_ngcontent-%COMP%] {\n    transition: margin-left 0s, opacity 0.3s;\n  }"]),B=y["crt"]({encapsulation:0,styles:H,data:{}});y["ccf"]("daypilot-modal",m.DayPilotModalComponent,g,{autoFocus:"autoFocus"},{close:"close"},["*"])},ukuU:function(t,e,i){"use strict";var n=i("3j3K"),o=i("aXxY");i.d(e,"a",function(){return s});var a=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.changePage=new n.EventEmitter,this.count=0}return t.prototype.ngOnChanges=function(t){var e=this;t.source&&(t.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(function(t){e.page=e.source.getPaging().page,e.perPage=e.source.getPaging().perPage,e.count=e.source.count(),e.isPageOutOfBounce()&&e.source.setPage(--e.page),e.processPageChange(t),e.initPages()}))},t.prototype.processPageChange=function(t){"prepend"===t.action&&this.source.setPage(1),"append"===t.action&&this.source.setPage(this.getLast())},t.prototype.shouldShow=function(){return this.source.count()>this.perPage},t.prototype.paginate=function(t){return this.source.setPage(t),this.page=t,this.changePage.emit({page:t}),!1},t.prototype.getPage=function(){return this.page},t.prototype.getPages=function(){return this.pages},t.prototype.getLast=function(){return Math.ceil(this.count/this.perPage)},t.prototype.isPageOutOfBounce=function(){return this.page*this.perPage>=this.count+this.perPage&&this.page>1},t.prototype.initPages=function(){var t=this.getLast(),e=4;if(e=t<e?t:e,this.pages=[],this.shouldShow()){var i=Math.ceil(e/2);i=this.page>=i?this.page:i;var n=i+Math.floor(e/2);n=n>=t?t:n;for(var o=n-e+1,a=o;a<=n;a++)this.pages.push(a)}},t}();a([i.i(n.Input)(),r("design:type",o.a)],s.prototype,"source",void 0),a([i.i(n.Output)(),r("design:type",Object)],s.prototype,"changePage",void 0),s=a([i.i(n.Component)({selector:"ng2-smart-table-pager",styles:[".ng2-smart-pagination{display:inline-flex;font-size:.875em;padding:0}.ng2-smart-pagination .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.ng2-smart-pagination .ng2-smart-page-item{display:inline} /*# sourceMappingURL=pager.component.css.map */ "],template:'\n    <nav *ngIf="shouldShow()" class="ng2-smart-pagination-nav">\n      <ul class="ng2-smart-pagination pagination">\n        <li class="ng2-smart-page-item page-item" [ngClass]="{disabled: getPage() == 1}">\n          <a class="ng2-smart-page-link page-link" href="#"\n          (click)="getPage() == 1 ? false : paginate(1)" aria-label="First">\n            <span aria-hidden="true">&laquo;</span>\n            <span class="sr-only">First</span>\n          </a>\n        </li>\n        <li class="ng2-smart-page-item page-item"\n        [ngClass]="{active: getPage() == page}" *ngFor="let page of getPages()">\n          <span class="ng2-smart-page-link page-link"\n          *ngIf="getPage() == page">{{ page }} <span class="sr-only">(current)</span></span>\n          <a class="ng2-smart-page-link page-link" href="#"\n          (click)="paginate(page)" *ngIf="getPage() != page">{{ page }}</a>\n        </li>\n\n        <li class="ng2-smart-page-item page-item"\n        [ngClass]="{disabled: getPage() == getLast()}">\n          <a class="ng2-smart-page-link page-link" href="#"\n          (click)="getPage() == getLast() ? false : paginate(getLast())" aria-label="Last">\n            <span aria-hidden="true">&raquo;</span>\n            <span class="sr-only">Last</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  '})],s)},vfyQ:function(t,e,i){"use strict";var n=i("3j3K");i.d(e,"a",function(){return o});var o=function(){function t(){this.selected=new n.EventEmitter,this.highlighted=new n.EventEmitter,this.opened=new n.EventEmitter,this._hasHighlighted=!1,this._hasSelected=!1,this._cancelBlur=!1,this._isOpen=!1}return t.prototype.registerList=function(t){this.list=t},t.prototype.registerDropdown=function(t){this.dropdown=t},t.prototype.onHighlighted=function(t){this.highlighted.emit(t),this._hasHighlighted=!!t},t.prototype.onSelected=function(t,e){void 0===e&&(e=!0),this.selected.emit(t),t&&(this._hasSelected=!0),e&&this.clear()},t.prototype.search=function(t){this._hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.list&&this.list.search(t)},t.prototype.clear=function(){this.dropdown&&this.dropdown.clear(),this.list&&this.list.clear(),this._hasHighlighted=!1,this.isOpen=!1},t.prototype.selectCurrent=function(){this.dropdown&&this.dropdown.selectCurrent()},t.prototype.nextRow=function(){this.dropdown&&this.dropdown.nextRow()},t.prototype.prevRow=function(){this.dropdown&&this.dropdown.prevRow()},t.prototype.hasHighlighted=function(){return this._hasHighlighted},t.prototype.cancelBlur=function(t){this._cancelBlur=t},t.prototype.isCancelBlur=function(){return this._cancelBlur},t.prototype.open=function(){this._isOpen||(this.isOpen=!0,this.list.open())},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},set:function(t){this._isOpen=t,this.opened.emit(this._isOpen),this.list&&this.list.isOpen(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHighlightIndex",{get:function(){return this._autoHighlightIndex},set:function(t){this._autoHighlightIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSelected",{get:function(){return this._hasSelected},enumerable:!0,configurable:!0}),t}();o.decorators=[{type:n.Directive,args:[{selector:"[ctrCompleter]"}]}],o.ctorParameters=function(){return[]},o.propDecorators={selected:[{type:n.Output}],highlighted:[{type:n.Output}],opened:[{type:n.Output}]}},wC4l:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i("3j3K"),o=i("R1v2"),a=i("5oXY"),r=i("lnsk"),s=i("GRaa"),l=(i.n(s),i("NVOs")),c=i("2Je8"),u=i("Fzro"),d=i("jAbk"),h=i("bMjW"),f=i("Xw8A"),p=i("/Trv"),v=i("uDMx"),g=i("poJR"),y=i("n1zK"),m=i("esOA"),b=(i.n(m),i("oVzB")),w=i("t8+U"),D=i("S27I"),C=i("A9BM"),k=i("OOcy"),x=i("mkpQ");i.d(e,"CitasModuleNgFactory",function(){return S});var P=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),_=function(t){function e(e){return t.call(this,e,[w.a],[])||this}return P(e,t),Object.defineProperty(e.prototype,"_i_18",{get:function(){return null==this.__i_18&&(this.__i_18=new l.a),this.__i_18},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_FormBuilder_19",{get:function(){return null==this.__FormBuilder_19&&(this.__FormBuilder_19=new l.b),this.__FormBuilder_19},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgLocalization_20",{get:function(){return null==this.__NgLocalization_20&&(this.__NgLocalization_20=new c.a(this.parent.get(n.LOCALE_ID))),this.__NgLocalization_20},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_BrowserXhr_21",{get:function(){return null==this.__BrowserXhr_21&&(this.__BrowserXhr_21=new u.a),this.__BrowserXhr_21},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ResponseOptions_22",{get:function(){return null==this.__ResponseOptions_22&&(this.__ResponseOptions_22=new u.b),this.__ResponseOptions_22},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XSRFStrategy_23",{get:function(){return null==this.__XSRFStrategy_23&&(this.__XSRFStrategy_23=u.c()),this.__XSRFStrategy_23},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XHRBackend_24",{get:function(){return null==this.__XHRBackend_24&&(this.__XHRBackend_24=new u.d(this._BrowserXhr_21,this._ResponseOptions_22,this._XSRFStrategy_23)),this.__XHRBackend_24},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RequestOptions_25",{get:function(){return null==this.__RequestOptions_25&&(this.__RequestOptions_25=new u.e),this.__RequestOptions_25},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Http_26",{get:function(){return null==this.__Http_26&&(this.__Http_26=u.f(this._XHRBackend_24,this._RequestOptions_25)),this.__Http_26},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_LocalData_27",{get:function(){return null==this.__LocalData_27&&(this.__LocalData_27=D.a()),this.__LocalData_27},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RemoteData_28",{get:function(){return null==this.__RemoteData_28&&(this.__RemoteData_28=D.b(this._Http_26)),this.__RemoteData_28},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_CompleterService_29",{get:function(){return null==this.__CompleterService_29&&(this.__CompleterService_29=new b.a(this._LocalData_27,this._RemoteData_28)),this.__CompleterService_29},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._RouterModule_0=new a.p(this.parent.get(a.q,null),this.parent.get(a.j,null)),this._CitasRoutingModule_1=new r.a,this._ChartsModule_2=new s.ChartsModule,this._ba_3=new l.c,this._FormsModule_4=new l.d,this._ReactiveFormsModule_5=new l.e,this._CommonModule_6=new c.b,this._HttpModule_7=new u.g,this._Ng2CompleterModule_8=new d.a,this._CellModule_9=new h.a,this._FilterModule_10=new f.a,this._PagerModule_11=new p.a,this._TBodyModule_12=new v.a,this._THeadModule_13=new g.a,this._Ng2SmartTableModule_14=new y.a,this._DayPilotModule_15=new m.DayPilotModule,this._CitasModule_16=new o.a,this._ROUTES_17=[[{path:"",component:C.a,data:{title:"Citas"}}]],this._CitasModule_16},e.prototype.getInternal=function(t,e){return t===a.p?this._RouterModule_0:t===r.a?this._CitasRoutingModule_1:t===s.ChartsModule?this._ChartsModule_2:t===l.c?this._ba_3:t===l.d?this._FormsModule_4:t===l.e?this._ReactiveFormsModule_5:t===c.b?this._CommonModule_6:t===u.g?this._HttpModule_7:t===d.a?this._Ng2CompleterModule_8:t===h.a?this._CellModule_9:t===f.a?this._FilterModule_10:t===p.a?this._PagerModule_11:t===v.a?this._TBodyModule_12:t===g.a?this._THeadModule_13:t===y.a?this._Ng2SmartTableModule_14:t===m.DayPilotModule?this._DayPilotModule_15:t===o.a?this._CitasModule_16:t===a.s?this._ROUTES_17:t===l.a?this._i_18:t===l.b?this._FormBuilder_19:t===c.h?this._NgLocalization_20:t===u.a?this._BrowserXhr_21:t===u.h?this._ResponseOptions_22:t===u.i?this._XSRFStrategy_23:t===u.d?this._XHRBackend_24:t===u.j?this._RequestOptions_25:t===u.k?this._Http_26:t===k.a?this._LocalData_27:t===x.a?this._RemoteData_28:t===b.a?this._CompleterService_29:e},e.prototype.destroyInternal=function(){},e}(n["NgModuleInjector"]),S=new n.NgModuleFactory(_,o.a)},wJsi:function(t,e,i){"use strict";var n=i("3j3K"),o=i("NVOs"),a=i("rCTf"),r=(i.n(a),i("vfyQ")),s=i("Dgu4");i.d(e,"a",function(){return v});var l=40,c=39,u=38,d=37,h=27,f=13,p=9,v=function(){function t(t,e,o){var a=this;this.completer=t,this.ngModel=e,this.el=o,this.clearSelected=!1,this.clearUnselected=!1,this.overrideSuggested=!1,this.fillHighlighted=!0,this.openOnFocus=!1,this.ngModelChange=new n.EventEmitter,this._searchStr="",this._displayStr="",this.blurTimer=null,this.completer.selected.subscribe(function(t){t&&(a.clearSelected?a.searchStr="":a.searchStr=t.title,a.ngModelChange.emit(a.searchStr))}),this.completer.highlighted.subscribe(function(t){a.fillHighlighted&&(t?(a._displayStr=t.title,a.ngModelChange.emit(t.title)):(a._displayStr=a.searchStr,a.ngModelChange.emit(a.searchStr)))}),this.ngModel.valueChanges.subscribe(function(t){i.i(s.a)(t)||a._displayStr===t||(a.searchStr!==t&&a.completer.search(t),a.searchStr=t)})}return t.prototype.keyupHandler=function(t){t.keyCode!==d&&t.keyCode!==c&&t.keyCode!==p&&(t.keyCode===u||t.keyCode===f?t.preventDefault():t.keyCode===l?(t.preventDefault(),this.completer.search(this.searchStr)):t.keyCode===h?(this.restoreSearchValue(),this.completer.clear()):this.searchStr&&this.completer.open())},t.prototype.keydownHandler=function(t){t.keyCode===f?(this.completer.hasHighlighted()&&t.preventDefault(),this.handleSelection()):t.keyCode===l?(t.preventDefault(),this.completer.open(),this.completer.nextRow()):t.keyCode===u?(t.preventDefault(),this.completer.prevRow()):t.keyCode===p?this.handleSelection():t.keyCode===h&&t.preventDefault()},t.prototype.onBlur=function(t){var e=this;if(this.completer.isCancelBlur())return void setTimeout(function(){e.el.nativeElement.focus()},0);this.blurTimer=a.Observable.timer(200).subscribe(function(){e.blurTimer.unsubscribe(),e.blurTimer=null,e.overrideSuggested?e.completer.onSelected({title:e.searchStr,originalObject:null}):e.clearUnselected&&!e.completer.hasSelected?(e.searchStr="",e.ngModelChange.emit(e.searchStr)):e.restoreSearchValue(),e.completer.clear()})},t.prototype.onfocus=function(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.openOnFocus&&this.completer.open()},Object.defineProperty(t.prototype,"searchStr",{get:function(){return this._searchStr},set:function(t){this._searchStr=t,this._displayStr=t},enumerable:!0,configurable:!0}),t.prototype.handleSelection=function(){this.completer.hasHighlighted()?(this._searchStr="",this.completer.selectCurrent()):this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):this.completer.clear()},t.prototype.restoreSearchValue=function(){this.fillHighlighted&&this._displayStr!=this.searchStr&&(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr))},t}();v.decorators=[{type:n.Directive,args:[{selector:"[ctrInput]"}]}],v.ctorParameters=function(){return[{type:r.a,decorators:[{type:n.Host}]},{type:o.f},{type:n.ElementRef}]},v.propDecorators={clearSelected:[{type:n.Input,args:["clearSelected"]}],clearUnselected:[{type:n.Input,args:["clearUnselected"]}],overrideSuggested:[{type:n.Input,args:["overrideSuggested"]}],fillHighlighted:[{type:n.Input,args:["fillHighlighted"]}],openOnFocus:[{type:n.Input,args:["openOnFocus"]}],ngModelChange:[{type:n.Output}],keyupHandler:[{type:n.HostListener,args:["keyup",["$event"]]}],keydownHandler:[{type:n.HostListener,args:["keydown",["$event"]]}],onBlur:[{type:n.HostListener,args:["blur",["$event"]]}],onfocus:[{type:n.HostListener,args:["focus",["$event"]]}]}},wkag:function(t,e,i){"use strict";var n=i("3j3K"),o=i("bICd"),a=i("/U6W"),r=i("aXxY");i.d(e,"a",function(){return c});var s=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this.edit=new n.EventEmitter,this.delete=new n.EventEmitter,this.editRowSelect=new n.EventEmitter}return t.prototype.onEdit=function(t){t.preventDefault(),t.stopPropagation(),this.editRowSelect.emit(this.row),"external"===this.grid.getSetting("mode")?this.edit.emit({data:this.row.getData(),source:this.source}):this.grid.edit(this.row)},t.prototype.onDelete=function(t){t.preventDefault(),t.stopPropagation(),"external"===this.grid.getSetting("mode")?this.delete.emit({data:this.row.getData(),source:this.source}):this.grid.delete(this.row,this.deleteConfirm)},t.prototype.ngOnChanges=function(){this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.editRowButtonContent=this.grid.getSetting("edit.editButtonContent"),this.deleteRowButtonContent=this.grid.getSetting("delete.deleteButtonContent")},t}();s([i.i(n.Input)(),l("design:type",o.a)],c.prototype,"grid",void 0),s([i.i(n.Input)(),l("design:type",a.a)],c.prototype,"row",void 0),s([i.i(n.Input)(),l("design:type",r.a)],c.prototype,"source",void 0),s([i.i(n.Input)(),l("design:type",n.EventEmitter)],c.prototype,"deleteConfirm",void 0),s([i.i(n.Input)(),l("design:type",n.EventEmitter)],c.prototype,"editConfirm",void 0),s([i.i(n.Output)(),l("design:type",Object)],c.prototype,"edit",void 0),s([i.i(n.Output)(),l("design:type",Object)],c.prototype,"delete",void 0),s([i.i(n.Output)(),l("design:type",Object)],c.prototype,"editRowSelect",void 0),c=s([i.i(n.Component)({selector:"ng2-st-tbody-edit-delete",changeDetection:n.ChangeDetectionStrategy.OnPush,template:'\n    <a href="#" *ngIf="isActionEdit" class="ng2-smart-action ng2-smart-action-edit-edit"\n        [innerHTML]="editRowButtonContent" (click)="onEdit($event)"></a>\n    <a href="#" *ngIf="isActionDelete" class="ng2-smart-action ng2-smart-action-delete-delete"\n        [innerHTML]="deleteRowButtonContent" (click)="onDelete($event)"></a>\n  '})],c)},xRlJ:function(t,e,i){"use strict";var n=i("3j3K"),o=i("3ERO");i.d(e,"a",function(){return l});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}(),r=this&&this.__decorate||function(t,e,i,n){var o,a=arguments.length,r=a<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,i):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,i,n);else for(var s=t.length-1;s>=0;s--)(o=t[s])&&(r=(a<3?o(r):a>3?o(e,i,r):o(e,i))||r);return a>3&&r&&Object.defineProperty(e,i,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(t){function e(){return t.call(this)||this}return a(e,t),e}(o.a);l=r([i.i(n.Component)({selector:"textarea-editor",styles:[":host input,:host textarea{width:100%;line-height:normal;padding:.375em .75em} /*# sourceMappingURL=editor.component.css.map */ "],template:'\n    <textarea [ngClass]="inputClass"\n              class="form-control"\n              [(ngModel)]="cell.newValue"\n              [name]="cell.getId()"\n              [disabled]="!cell.isEditable()"\n              [placeholder]="cell.getTitle()"\n              (click)="onClick.emit($event)"\n              (keydown.enter)="onEdited.emit($event)"\n              (keydown.esc)="onStopEditing.emit()">\n    </textarea>\n    '}),s("design:paramtypes",[])],l)},yu8n:function(t,e,i){"use strict";var n=i("3j3K"),o=i("I+b6");i.d(e,"a",function(){return a});var a=function(){function t(t,e,i){this.el=t,this.renderer=e,this.dropdown=i,this.selected=!1}return t.prototype.ngOnInit=function(){this.dropdown.registerRow(new o.a(this,this._rowIndex))},Object.defineProperty(t.prototype,"ctrRow",{set:function(t){this._rowIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataItem",{set:function(t){this._item=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){this.dropdown.onSelected(this._item)},t.prototype.onMouseEnter=function(t){this.dropdown.highlightRow(this._rowIndex)},t.prototype.setHighlighted=function(t){this.selected=t,this.renderer.setElementClass(this.el.nativeElement,"completer-selected-row",this.selected)},t.prototype.getNativeElement=function(){return this.el.nativeElement},t.prototype.getDataItem=function(){return this._item},t}();a.decorators=[{type:n.Directive,args:[{selector:"[ctrRow]"}]}],a.ctorParameters=function(){return[{type:n.ElementRef},{type:n.Renderer},{type:o.b,decorators:[{type:n.Host}]}]},a.propDecorators={ctrRow:[{type:n.Input}],dataItem:[{type:n.Input}],onClick:[{type:n.HostListener,args:["click",["$event"]]}],onMouseEnter:[{type:n.HostListener,args:["mouseenter",["$event"]]}]}}});