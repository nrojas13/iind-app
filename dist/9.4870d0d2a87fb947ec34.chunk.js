webpackJsonp([9,22],{"/Trv":function(t,e,n){"use strict";var i=n("3j3K"),o=n("2Je8"),a=n("ukuU");n.d(e,"a",function(){return l});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=function(){function t(){}return t}();l=r([n.i(i.NgModule)({imports:[o.b],declarations:[a.a],exports:[a.a]})],l)},"/U6W":function(t,e,n){"use strict";var i=n("pbU0");n.d(e,"a",function(){return o});var o=function(){function t(t,e,n){this.index=t,this.data=e,this._dataSet=n,this.isSelected=!1,this.isInEditing=!1,this.cells=[],this.process()}return t.prototype.getCell=function(t){return this.cells.find(function(e){return e.getColumn()===t})},t.prototype.getCells=function(){return this.cells},t.prototype.getData=function(){return this.data},t.prototype.getIsSelected=function(){return this.isSelected},t.prototype.getNewData=function(){var t=Object.assign({},this.data);return this.getCells().forEach(function(e){return t[e.getColumn().id]=e.newValue}),t},t.prototype.setData=function(t){this.data=t,this.process()},t.prototype.process=function(){var t=this;this.cells=[],this._dataSet.getColumns().forEach(function(e){var n=t.createCell(e);t.cells.push(n)})},t.prototype.createCell=function(t){var e=t.settings.defaultValue?t.settings.defaultValue:"",n=void 0===this.data[t.id]?e:this.data[t.id];return new i.a(n,this,t,this._dataSet)},t}()},"3BAp":function(t,e,n){"use strict";var i=n("3j3K"),o=n("tfux");n.d(e,"a",function(){return s});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(t){function e(e){var n=t.call(this)||this;return n.resolver=e,n}return a(e,t),e.prototype.ngOnChanges=function(t){var e=this;if(this.cell&&!this.customComponent){var n=this.resolver.resolveComponentFactory(this.cell.getColumn().editor.component);this.customComponent=this.dynamicTarget.createComponent(n),this.customComponent.instance.cell=this.cell,this.customComponent.instance.inputClass=this.inputClass,this.customComponent.instance.onStopEditing.subscribe(function(){return e.onStopEditing()}),this.customComponent.instance.onEdited.subscribe(function(t){return e.onEdited(t)}),this.customComponent.instance.onClick.subscribe(function(t){return e.onClick(t)})}},e.prototype.ngOnDestroy=function(){this.customComponent&&this.customComponent.destroy()},e}(o.a);r([n.i(i.ViewChild)("dynamicTarget",{read:i.ViewContainerRef}),l("design:type",Object)],s.prototype,"dynamicTarget",void 0),s=r([n.i(i.Component)({selector:"table-cell-custom-editor",template:"\n    <ng-template #dynamicTarget></ng-template>\n  "}),l("design:paramtypes",[i.ComponentFactoryResolver])],s)},"3ERO":function(t,e,n){"use strict";var i=n("3j3K"),o=n("pbU0");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.onStopEditing=new i.EventEmitter,this.onEdited=new i.EventEmitter,this.onClick=new i.EventEmitter}return t}();a([n.i(i.Input)(),r("design:type",o.a)],l.prototype,"cell",void 0),a([n.i(i.Input)(),r("design:type",String)],l.prototype,"inputClass",void 0),a([n.i(i.Output)(),r("design:type",Object)],l.prototype,"onStopEditing",void 0),a([n.i(i.Output)(),r("design:type",Object)],l.prototype,"onEdited",void 0),a([n.i(i.Output)(),r("design:type",Object)],l.prototype,"onClick",void 0)},"3IRH":function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},"4bAY":function(t,e,n){"use strict";var i=n("3j3K"),o=n("/U6W"),a=n("bICd");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.custom=new i.EventEmitter}return t.prototype.onCustom=function(t,e){e.preventDefault(),e.stopPropagation(),this.custom.emit({action:t.name,data:this.row.getData(),source:this.source})},t}();r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"grid",void 0),r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"row",void 0),r([n.i(i.Input)(),l("design:type",Object)],s.prototype,"source",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"custom",void 0),s=r([n.i(i.Component)({selector:"ng2-st-tbody-custom",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n      <a *ngFor="let action of grid.getSetting(\'actions.custom\')" href="#"\n         class="ng2-smart-action ng2-smart-action-custom-custom" \n         [innerHTML]="action.title"\n         (click)="onCustom(action, $event)"></a>\n        '})],s)},"5FQu":function(t,e,n){"use strict";function i(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-secondary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function o(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,i)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Lunes"===e.context.$implicit.diaSemanaInicio)},null)}function a(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-secondary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function r(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,a)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Martes"===e.context.$implicit.diaSemanaInicio)},null)}function l(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function s(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,l)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Miercoles"===e.context.$implicit.diaSemanaInicio)},null)}function c(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-secondary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function u(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,c)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Jueves"===e.context.$implicit.diaSemanaInicio)},null)}function d(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-secondary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function h(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,d)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Viernes"===e.context.$implicit.diaSemanaInicio)},null)}function f(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-secondary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function p(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,f)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Lunes"===e.context.$implicit.diaSemanaInicio)},null)}function v(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-secondary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function g(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,v)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Martes"===e.context.$implicit.diaSemanaInicio)},null)}function m(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-secondary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function y(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,m)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Miercoles"===e.context.$implicit.diaSemanaInicio)},null)}function b(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-secondary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function w(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,b)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Jueves"===e.context.$implicit.diaSemanaInicio)},null)}function D(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,12,"div",[["class","cita"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        Estado: "," "])),(t()(),_["ɵeld"](0,null,null,0,"br",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n        ",":"," - ",":","\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-secondary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onConfirmarAsistencia(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Asisitió\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-primary btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onVerDetalles(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Ver Detalles\n        "])),(t()(),_["ɵted"](null,["\n        "])),(t()(),_["ɵeld"](0,null,null,1,"button",[["class","btn btn-danger btn-ver-detalles"],["type","button"]],null,[[null,"click"]],function(t,e,n){var i=!0,o=t.component;if("click"===e){i=!1!==o.onCancelar(t.parent.context.$implicit)&&i}return i},null,null)),(t()(),_["ɵted"](null,["\n          Cancelar\n        "])),(t()(),_["ɵted"](null,["\n      "]))],null,function(t,e){t(e,1,0,e.parent.context.$implicit.estado),t(e,3,0,e.parent.context.$implicit.horaInicio,e.parent.context.$implicit.minutosInicio,e.parent.context.$implicit.horaFin,e.parent.context.$implicit.minutosFin)})}function C(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,null,null,null,null,null,null,null)),(t()(),_["ɵted"](null,["\n      "])),(t()(),_["ɵand"](16777216,null,null,1,null,D)),_["ɵdid"](16384,null,0,S.j,[_.ViewContainerRef,_.TemplateRef],{ngIf:[0,"ngIf"]},null),(t()(),_["ɵted"](null,["\n    "]))],function(t,e){t(e,3,0,"Viernes"===e.context.$implicit.diaSemanaInicio)},null)}function k(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,4,"div",[["class","row"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,1,"h1",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Citas"])),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵted"](null,["\n\n"])),(t()(),_["ɵeld"](0,null,null,24,"div",[["class","row"],["style","margin-bottom: 20px;"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,21,"select",[["name","role"],["style","width:100%"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"change"],[null,"blur"]],function(t,e,n){var i=!0,o=t.component;if("change"===e){i=!1!==_["ɵnov"](t,9).onChange(n.target.value)&&i}if("blur"===e){i=!1!==_["ɵnov"](t,9).onTouched()&&i}if("ngModelChange"===e){i=!1!==(o.administrador=n)&&i}return i},null,null)),_["ɵdid"](16384,null,0,E.i,[_.Renderer,_.ElementRef],null,null),_["ɵprd"](1024,null,E.g,function(t){return[t]},[E.i]),_["ɵdid"](671744,null,0,E.f,[[8,null],[8,null],[8,null],[2,E.g]],{name:[0,"name"],model:[1,"model"]},{update:"ngModelChange"}),_["ɵprd"](2048,null,E.j,null,[E.f]),_["ɵdid"](16384,null,0,E.k,[E.j],null,null),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,3,"option",[["value","2"]],null,null,null,null,null)),_["ɵdid"](147456,null,0,E.l,[_.ElementRef,_.Renderer,[2,E.i]],{value:[0,"value"]},null),_["ɵdid"](147456,null,0,E.m,[_.ElementRef,_.Renderer,[8,null]],{value:[0,"value"]},null),(t()(),_["ɵted"](null,["mc.chacon"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,3,"option",[["value","3"]],null,null,null,null,null)),_["ɵdid"](147456,null,0,E.l,[_.ElementRef,_.Renderer,[2,E.i]],{value:[0,"value"]},null),_["ɵdid"](147456,null,0,E.m,[_.ElementRef,_.Renderer,[8,null]],{value:[0,"value"]},null),(t()(),_["ɵted"](null,["n.rodriguez"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,3,"option",[["value","4"]],null,null,null,null,null)),_["ɵdid"](147456,null,0,E.l,[_.ElementRef,_.Renderer,[2,E.i]],{value:[0,"value"]},null),_["ɵdid"](147456,null,0,E.m,[_.ElementRef,_.Renderer,[8,null]],{value:[0,"value"]},null),(t()(),_["ɵted"](null,["d-munoz"])),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵeld"](0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,6,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Homologaciones"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵeld"](0,null,null,51,"div",[["class","row calendario"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Lunes"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,o)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Martes"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,r)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Miércoles"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,s)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Jueves"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,u)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Viernes"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,h)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵeld"](0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵeld"](0,null,null,9,"div",[["class","row"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,6,"div",[["class","col-12"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Consejeria"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,0,"hr",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵted"](null,["\n"])),(t()(),_["ɵeld"](0,null,null,51,"div",[["class","row calendario"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Lunes"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,p)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Martes"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,g)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Miércoles"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,y)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Jueves"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,w)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵeld"](0,null,null,8,"div",[["class","col-2 bloque-dia"]],null,null,null,null,null)),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵeld"](0,null,null,2,"div",[["class","header-dia"]],null,null,null,null,null)),(t()(),_["ɵeld"](0,null,null,1,"h3",[],null,null,null,null,null)),(t()(),_["ɵted"](null,["Viernes"])),(t()(),_["ɵted"](null,["\n    "])),(t()(),_["ɵand"](16777216,null,null,1,null,C)),_["ɵdid"](802816,null,0,S.k,[_.ViewContainerRef,_.TemplateRef,_.IterableDiffers],{ngForOf:[0,"ngForOf"]},null),(t()(),_["ɵted"](null,["\n  "])),(t()(),_["ɵted"](null,["\n"]))],function(t,e){var n=e.component;t(e,11,0,"role",n.administrador),t(e,16,0,"2"),t(e,17,0,"2"),t(e,21,0,"3"),t(e,22,0,"3"),t(e,26,0,"4"),t(e,27,0,"4"),t(e,52,0,n.citasHomologaciones),t(e,62,0,n.citasHomologaciones),t(e,72,0,n.citasHomologaciones),t(e,82,0,n.citasHomologaciones),t(e,92,0,n.citasHomologaciones),t(e,118,0,n.citasConsejeria),t(e,128,0,n.citasConsejeria),t(e,138,0,n.citasConsejeria),t(e,148,0,n.citasConsejeria),t(e,158,0,n.citasConsejeria)},function(t,e){t(e,8,0,_["ɵnov"](e,13).ngClassUntouched,_["ɵnov"](e,13).ngClassTouched,_["ɵnov"](e,13).ngClassPristine,_["ɵnov"](e,13).ngClassDirty,_["ɵnov"](e,13).ngClassValid,_["ɵnov"](e,13).ngClassInvalid,_["ɵnov"](e,13).ngClassPending)})}function x(t){return _["ɵvid"](0,[(t()(),_["ɵeld"](0,null,null,1,"app-ver-citas",[],null,null,null,k,M)),_["ɵdid"](114688,null,0,A.a,[T.k],null,null)],function(t,e){t(e,1,0)},null)}var P=n("n1e7"),_=n("3j3K"),S=n("2Je8"),A=n("JbtN"),E=n("NVOs"),T=n("Fzro");n.d(e,"a",function(){return H});var R=[P.a],M=_["ɵcrt"]({encapsulation:0,styles:R,data:{}}),H=_["ɵccf"]("app-ver-citas",A.a,x,{},{},[])},"6ENF":function(t,e,n){"use strict";var i=n("3j3K"),o=n("NVOs"),a=n("vfyQ"),r=n("oVzB"),l=n("Dgu4"),s=n("6Yye");n.n(s);n.d(e,"a",function(){return d});var c=function(){},u={provide:o.g,useExisting:n.i(i.forwardRef)(function(){return d}),multi:!0},d=function(){function t(t){this.completerService=t,this.inputName="",this.inputId="",this.pause=l.c,this.minSearchLength=l.b,this.maxChars=l.e,this.overrideSuggested=!1,this.clearSelected=!1,this.clearUnselected=!1,this.fillHighlighted=!0,this.placeholder="",this.autoMatch=!1,this.disableInput=!1,this.autofocus=!1,this.openOnFocus=!1,this.autoHighlight=!1,this.selected=new i.EventEmitter,this.highlighted=new i.EventEmitter,this.blur=new i.EventEmitter,this.focusEvent=new i.EventEmitter,this.opened=new i.EventEmitter,this.keyup=new i.EventEmitter,this.keydown=new i.EventEmitter,this.searchStr="",this.control=new o.h(""),this.displaySearching=!0,this.displayNoResults=!0,this._onTouchedCallback=c,this._onChangeCallback=c,this._focus=!1,this._open=!1,this._textNoResults=l.f,this._textSearching=l.g}return Object.defineProperty(t.prototype,"value",{get:function(){return this.searchStr},set:function(t){t!==this.searchStr&&(this.searchStr=t),this._onChangeCallback(t)},enumerable:!0,configurable:!0}),t.prototype.ngAfterViewInit=function(){this.autofocus&&(this._focus=!0)},t.prototype.ngAfterViewChecked=function(){this._focus&&(this.ctrInput.nativeElement.focus(),this._focus=!1)},t.prototype.onTouched=function(){this._onTouchedCallback()},t.prototype.writeValue=function(t){this.searchStr=t},t.prototype.registerOnChange=function(t){this._onChangeCallback=t},t.prototype.registerOnTouched=function(t){this._onTouchedCallback=t},Object.defineProperty(t.prototype,"datasource",{set:function(t){t&&(t instanceof Array?this.dataService=this.completerService.local(t):this.dataService="string"==typeof t?this.completerService.remote(t):t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textNoResults",{set:function(t){this._textNoResults!=t&&(this._textNoResults=t,this.displayNoResults=this._textNoResults&&"false"!==this._textNoResults)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"textSearching",{set:function(t){this._textSearching!=t&&(this._textSearching=t,this.displaySearching=this._textSearching&&"false"!==this._textSearching)},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this;this.completer.selected.subscribe(function(e){t.selected.emit(e)}),this.completer.highlighted.subscribe(function(e){t.highlighted.emit(e)}),this.completer.opened.subscribe(function(e){t._open=e,t.opened.emit(e)})},t.prototype.onBlur=function(){this.blur.emit(),this.onTouched()},t.prototype.onFocus=function(){this.focusEvent.emit(),this.onTouched()},t.prototype.onKeyup=function(t){this.keyup.emit(t)},t.prototype.onKeydown=function(t){this.keydown.emit(t)},t.prototype.onChange=function(t){this.value=t},t.prototype.open=function(){this.completer.open()},t.prototype.close=function(){this.completer.clear()},t.prototype.focus=function(){this.ctrInput?this.ctrInput.nativeElement.focus():this._focus=!0},t.prototype.isOpen=function(){return this._open},t}();d.decorators=[{type:i.Component,args:[{selector:"ng2-completer",template:'\n        <div class="completer-holder" ctrCompleter>\n            <input #ctrInput [attr.id]="inputId.length > 0 ? inputId : null" type="search" class="completer-input" ctrInput [ngClass]="inputClass" \n                [(ngModel)]="searchStr" (ngModelChange)="onChange($event)" [attr.name]="inputName" [placeholder]="placeholder"\n                [attr.maxlength]="maxChars" [tabindex]="fieldTabindex" [disabled]="disableInput" \n                [clearSelected]="clearSelected" [clearUnselected]="clearUnselected"\n                [overrideSuggested]="overrideSuggested" [openOnFocus]="openOnFocus" [fillHighlighted]="fillHighlighted" \n                (blur)="onBlur()" (focus)="onFocus()" (keyup)="onKeyup($event)" (keydown)="onKeydown($event)"\n                autocomplete="off" autocorrect="off" autocapitalize="off" />\n\n            <div class="completer-dropdown-holder"\n                *ctrList="dataService;\n                    minSearchLength: minSearchLength;\n                    pause: pause;\n                    autoMatch: autoMatch;\n                    initialValue: initialValue;\n                    autoHighlight: autoHighlight;\n                    let items = results;\n                    let searchActive = searching;\n                    let isInitialized = searchInitialized;\n                    let isOpen = isOpen;">\n                <div class="completer-dropdown" ctrDropdown *ngIf="isInitialized && isOpen && ((items.length > 0 || displayNoResults) || (searchActive && displaySearching))">\n                    <div *ngIf="searchActive && displaySearching" class="completer-searching">{{_textSearching}}</div>\n                    <div *ngIf="!searchActive && (!items || items.length === 0)" class="completer-no-results">{{_textNoResults}}</div>\n                    <div class="completer-row-wrapper" *ngFor="let item of items; let rowIndex=index">\n                        <div class="completer-row" [ctrRow]="rowIndex" [dataItem]="item">\n                            <div *ngIf="item.image || item.image === \'\'" class="completer-image-holder">\n                                <img *ngIf="item.image != \'\'" src="{{item.image}}" class="completer-image" />\n                                <div *ngIf="item.image === \'\'" class="completer-image-default"></div>\n                            </div>\n                            <div class="completer-item-text" [ngClass]="{\'completer-item-text-image\': item.image || item.image === \'\' }">\n                                <completer-list-item class="completer-title" [text]="item.title" [matchClass]="matchClass" [searchStr]="searchStr" [type]="\'title\'"></completer-list-item>\n                                <completer-list-item *ngIf="item.description && item.description != \'\'" class="completer-description" [text]="item.description"\n                                    [matchClass]="matchClass" [searchStr]="searchStr" [type]="\'description\'">\n                                </completer-list-item>\n                            </div>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    ',styles:['\n    .completer-dropdown {\n        border-color: #ececec;\n        border-width: 1px;\n        border-style: solid;\n        border-radius: 2px;\n        width: 250px;\n        padding: 6px;\n        cursor: pointer;\n        z-index: 9999;\n        position: absolute;\n        margin-top: -6px;\n        background-color: #ffffff;\n    }\n\n    .completer-row {\n        padding: 5px;\n        color: #000000;\n        margin-bottom: 4px;\n        clear: both;\n        display: inline-block;\n        width: 103%;\n    }\n\n    .completer-selected-row {\n        background-color: lightblue;\n        color: #ffffff;\n    }\n\n    .completer-description {\n        font-size: 14px;\n    }\n\n    .completer-image-default {\n        width: 16px; \n        height: 16px;\n        background-image: url("demo/res/img/default.png");\n    }\n\n    .completer-image-holder {\n        float: left;\n        width: 10%;\n    }\n    .completer-item-text-image {\n        float: right;\n        width: 90%;\n    }\n    '],providers:[u]}]}],d.ctorParameters=function(){return[{type:r.a}]},d.propDecorators={dataService:[{type:i.Input}],inputName:[{type:i.Input}],inputId:[{type:i.Input}],pause:[{type:i.Input}],minSearchLength:[{type:i.Input}],maxChars:[{type:i.Input}],overrideSuggested:[{type:i.Input}],clearSelected:[{type:i.Input}],clearUnselected:[{type:i.Input}],fillHighlighted:[{type:i.Input}],placeholder:[{type:i.Input}],matchClass:[{type:i.Input}],fieldTabindex:[{type:i.Input}],autoMatch:[{type:i.Input}],disableInput:[{type:i.Input}],inputClass:[{type:i.Input}],autofocus:[{type:i.Input}],openOnFocus:[{type:i.Input}],initialValue:[{type:i.Input}],autoHighlight:[{type:i.Input}],selected:[{type:i.Output}],highlighted:[{type:i.Output}],blur:[{type:i.Output}],focusEvent:[{type:i.Output,args:["focus"]}],opened:[{type:i.Output}],keyup:[{type:i.Output}],keydown:[{type:i.Output}],completer:[{type:i.ViewChild,args:[a.a]}],ctrInput:[{type:i.ViewChild,args:["ctrInput"]}],datasource:[{type:i.Input}],textNoResults:[{type:i.Input}],textSearching:[{type:i.Input}]}},"6okf":function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("aXxY");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t}();r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"grid",void 0),r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"source",void 0),r([n.i(i.Input)(),l("design:type",Boolean)],s.prototype,"isAllSelected",void 0),s=r([n.i(i.Component)({selector:"[ng2-st-checkbox-select-all]",template:'\n    <input type="checkbox" [ngModel]="isAllSelected">\n  '})],s)},"8lCG":function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("/U6W");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){}return t.prototype.onSave=function(t){t.preventDefault(),t.stopPropagation(),this.grid.save(this.row,this.editConfirm)},t.prototype.onCancelEdit=function(t){t.preventDefault(),t.stopPropagation(),this.row.isInEditing=!1},t.prototype.ngOnChanges=function(){this.saveButtonContent=this.grid.getSetting("edit.saveButtonContent"),this.cancelButtonContent=this.grid.getSetting("edit.cancelButtonContent")},t}();r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"grid",void 0),r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"row",void 0),r([n.i(i.Input)(),l("design:type",i.EventEmitter)],s.prototype,"editConfirm",void 0),s=r([n.i(i.Component)({selector:"ng2-st-tbody-create-cancel",template:'\n    <a href="#" class="ng2-smart-action ng2-smart-action-edit-save"\n        [innerHTML]="saveButtonContent" (click)="onSave($event)"></a>\n    <a href="#" class="ng2-smart-action ng2-smart-action-edit-cancel"\n        [innerHTML]="cancelButtonContent" (click)="onCancelEdit($event)"></a>\n  '})],s)},"9LEY":function(t,e,n){"use strict";var i=n("3j3K"),o=n("tfux");n.d(e,"a",function(){return s});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(t){function e(){return t.call(this)||this}return a(e,t),e.prototype.getEditorType=function(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type},e}(o.a);s=r([n.i(i.Component)({selector:"table-cell-default-editor",template:'<div [ngSwitch]="getEditorType()"><select-editor *ngSwitchCase="\'list\'" [cell]="cell" [inputClass]="inputClass" (onClick)="onClick($event)" (onEdited)="onEdited($event)" (onStopEditing)="onStopEditing()"></select-editor><textarea-editor *ngSwitchCase="\'textarea\'" [cell]="cell" [inputClass]="inputClass" (onClick)="onClick($event)" (onEdited)="onEdited($event)" (onStopEditing)="onStopEditing()"></textarea-editor><checkbox-editor *ngSwitchCase="\'checkbox\'" [cell]="cell" [inputClass]="inputClass" (onClick)="onClick($event)"></checkbox-editor><completer-editor *ngSwitchCase="\'completer\'" [cell]="cell"></completer-editor><input-editor *ngSwitchDefault [cell]="cell" [inputClass]="inputClass" (onClick)="onClick($event)" (onEdited)="onEdited($event)" (onStopEditing)="onStopEditing()"></input-editor></div>'}),l("design:paramtypes",[])],s)},BIbo:function(t,e,n){"use strict";var i=n("3j3K"),o=n("pbU0");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){}return t}();a([n.i(i.Input)(),r("design:type",o.a)],l.prototype,"cell",void 0),l=a([n.i(i.Component)({selector:"table-cell-view-mode",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n    <div [ngSwitch]="cell.getColumn().type">\n        <custom-view-component *ngSwitchCase="\'custom\'" [cell]="cell"></custom-view-component>\n        <div *ngSwitchCase="\'html\'" [innerHTML]="cell.getValue()"></div>\n        <div *ngSwitchDefault>{{ cell.getValue() }}</div>\n    </div>\n    '})],l)},BXdK:function(t,e,n){"use strict";var i=n("/U6W"),o=n("FLi/");n.d(e,"a",function(){return a});var a=function(){function t(t,e){void 0===t&&(t=[]),this.columnSettings=e,this.data=[],this.columns=[],this.rows=[],this.willSelect="first",this.createColumns(e),this.setData(t),this.createNewRow()}return t.prototype.setData=function(t){this.data=t,this.createRows()},t.prototype.getColumns=function(){return this.columns},t.prototype.getRows=function(){return this.rows},t.prototype.getFirstRow=function(){return this.rows[0]},t.prototype.getLastRow=function(){return this.rows[this.rows.length-1]},t.prototype.findRowByData=function(t){return this.rows.find(function(e){return e.getData()===t})},t.prototype.deselectAll=function(){this.rows.forEach(function(t){t.isSelected=!1})},t.prototype.selectRow=function(t){var e=t.isSelected;return this.deselectAll(),t.isSelected=!e,this.selectedRow=t,this.selectedRow},t.prototype.multipleSelectRow=function(t){return t.isSelected=!t.isSelected,this.selectedRow=t,this.selectedRow},t.prototype.selectPreviousRow=function(){if(this.rows.length>0){var t=this.selectedRow?this.selectedRow.index:0;return t>this.rows.length-1&&(t=this.rows.length-1),this.selectRow(this.rows[t]),this.selectedRow}},t.prototype.selectFirstRow=function(){if(this.rows.length>0)return this.selectRow(this.rows[0]),this.selectedRow},t.prototype.selectLastRow=function(){if(this.rows.length>0)return this.selectRow(this.rows[this.rows.length-1]),this.selectedRow},t.prototype.willSelectFirstRow=function(){this.willSelect="first"},t.prototype.willSelectLastRow=function(){this.willSelect="last"},t.prototype.select=function(){if(0!==this.getRows().length)return this.willSelect?("first"===this.willSelect&&this.selectFirstRow(),"last"===this.willSelect&&this.selectLastRow(),this.willSelect=""):this.selectFirstRow(),this.selectedRow},t.prototype.createNewRow=function(){this.newRow=new i.a(-1,{},this),this.newRow.isInEditing=!0},t.prototype.createColumns=function(t){for(var e in t)t.hasOwnProperty(e)&&this.columns.push(new o.a(e,t[e],this))},t.prototype.createRows=function(){var t=this;this.rows=[],this.data.forEach(function(e,n){t.rows.push(new i.a(n,e,t))})},t}()},BkNs:function(t,e,n){"use strict";var i=n("jdeX"),o=(n.n(i),n("3j3K")),a=n("rCTf"),r=(n.n(a),n("vfyQ")),l=n("Dgu4");n.d(e,"a",function(){return c});var s=function(){function t(t,e,n,i){this.results=t,this.searching=e,this.searchInitialized=n,this.isOpen=i}return t}(),c=function(){function t(t,e,n,i){this.completer=t,this.templateRef=e,this.viewContainer=n,this.cd=i,this.ctrListMinSearchLength=l.b,this.ctrListPause=l.c,this.ctrListAutoMatch=!1,this.ctrListAutoHighlight=!1,this.term=null,this.searchTimer=null,this.clearTimer=null,this.ctx=new s([],!1,!1,!1),this._initialValue=null}return t.prototype.ngOnInit=function(){this.completer.registerList(this),this.viewContainer.createEmbeddedView(this.templateRef,new s([],!1,!1,!1))},Object.defineProperty(t.prototype,"dataService",{set:function(t){var e=this;this._dataService=t,this._dataService&&this._dataService.catch(function(t){return e.handleError(t)}).subscribe(function(t){e.ctx.searchInitialized=!0,e.ctx.searching=!1,e.ctx.results=t,e.ctrListAutoMatch&&1===t.length&&t[0].title&&!n.i(l.a)(e.term)&&t[0].title.toLocaleLowerCase()===e.term.toLocaleLowerCase()&&e.completer.onSelected(t[0]),e._initialValue&&(e.initialValue=e._initialValue,e._initialValue=null),e.ctrListAutoHighlight&&(e.completer.autoHighlightIndex=e.getBestMatchIndex()),e.refreshTemplate()})},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"initialValue",{set:function(t){var e=this;this._dataService&&"function"==typeof this._dataService.convertToItem?setTimeout(function(){var n=e._dataService.convertToItem(t);n&&e.completer.onSelected(n,!1)}):this._dataService||(this._initialValue=t)},enumerable:!0,configurable:!0}),t.prototype.search=function(t){var e=this;!n.i(l.a)(t)&&t.length>=this.ctrListMinSearchLength&&this.term!==t?(this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.ctx.searching||(this.ctx.results=[],this.ctx.searching=!0,this.ctx.searchInitialized=!0,this.refreshTemplate()),this.clearTimer&&this.clearTimer.unsubscribe(),this.searchTimer=a.Observable.timer(this.ctrListPause).subscribe(function(){e.searchTimerComplete(t)})):!n.i(l.a)(t)&&t.length<this.ctrListMinSearchLength&&this.clear()},t.prototype.clear=function(){var t=this;this.searchTimer&&this.searchTimer.unsubscribe(),this.clearTimer=a.Observable.timer(l.d).subscribe(function(){t._clear()})},t.prototype.open=function(){this.ctx.searchInitialized||this.search(""),this.refreshTemplate()},t.prototype.isOpen=function(t){this.ctx.isOpen=t},t.prototype._clear=function(){this.searchTimer&&(this.searchTimer.unsubscribe(),this.searchTimer=null),this.dataService&&this.dataService.cancel(),this.viewContainer.clear()},t.prototype.searchTimerComplete=function(t){if(n.i(l.a)(t)||t.length<this.ctrListMinSearchLength)return void(this.ctx.searching=!1);this.term=t,this._dataService.search(t)},t.prototype.handleError=function(t){this.ctx.searching=!1;var e="search error";return t&&(e=t.message?t.message:t.status?t.status+" - "+t.statusText:"Server error"),console&&console.error&&console.error(e),this.refreshTemplate(),a.Observable.throw(e)},t.prototype.refreshTemplate=function(){this.viewContainer.clear(),this.ctx.results&&this.ctx.isOpen&&this.viewContainer.createEmbeddedView(this.templateRef,this.ctx),this.cd.markForCheck()},t.prototype.getBestMatchIndex=function(){var t=this;if(!this.ctx.results)return null;var e=this.ctx.results.findIndex(function(e){return e.title.toLowerCase()===t.term.toLocaleLowerCase()});return e<0&&(e=this.ctx.results.findIndex(function(e){return e.title.toLowerCase().startsWith(t.term.toLocaleLowerCase())})),e<0&&(e=this.ctx.results.findIndex(function(e){return e.title.toLowerCase().includes(t.term.toLocaleLowerCase())})),e<0?null:e},t}();c.decorators=[{type:o.Directive,args:[{selector:"[ctrList]"}]}],c.ctorParameters=function(){return[{type:r.a,decorators:[{type:o.Host}]},{type:o.TemplateRef},{type:o.ViewContainerRef},{type:o.ChangeDetectorRef}]},c.propDecorators={ctrListMinSearchLength:[{type:o.Input}],ctrListPause:[{type:o.Input}],ctrListAutoMatch:[{type:o.Input}],ctrListAutoHighlight:[{type:o.Input}],dataService:[{type:o.Input,args:["ctrList"]}],initialValue:[{type:o.Input,args:["ctrListInitialValue"]}]}},DfI3:function(t,e,n){"use strict";function i(t,e,n){void 0===t&&(t={});var i=e.split("."),o=a({},t);return i.forEach(function(t){o&&void 0!==o[t]&&(o=o[t])}),void 0===o?n:o}var o=n("M4fF");n.n(o);n.d(e,"a",function(){return a}),n.d(e,"c",function(){return r}),e.b=i;var a=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length<1||"object"!=typeof arguments[0])return!1;if(arguments.length<2)return arguments[0];var i,r,l=arguments[0],s=Array.prototype.slice.call(arguments,1);return s.forEach(function(t){"object"!=typeof t||Array.isArray(t)||Object.keys(t).forEach(function(e){return r=l[e],i=t[e],i===l?void 0:"object"!=typeof i||null===i?void(l[e]=i):Array.isArray(i)?void(l[e]=n.i(o.cloneDeep)(i)):"object"!=typeof r||null===r||Array.isArray(r)?void(l[e]=a({},i)):void(l[e]=a(r,i))})}),l},r=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}()},Dgu4:function(t,e,n){"use strict";function i(t){return void 0===t||null===t}n.d(e,"e",function(){return o}),n.d(e,"b",function(){return a}),n.d(e,"c",function(){return r}),n.d(e,"g",function(){return l}),n.d(e,"f",function(){return s}),n.d(e,"d",function(){return c}),e.a=i;var o=524288,a=3,r=100,l="Searching...",s="No results found",c=50},DjRm:function(t,e,n){"use strict";var i=n("3j3K"),o=n("3ERO");n.d(e,"a",function(){return s});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(t){function e(){return t.call(this)||this}return a(e,t),e.prototype.onChange=function(t){var e=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().true||!0,n=this.cell.getColumn().getConfig()&&this.cell.getColumn().getConfig().false||!1;this.cell.newValue=t.target.checked?e:n},e}(o.a);s=r([n.i(i.Component)({selector:"checkbox-editor",styles:[":host input,:host textarea{width:100%;line-height:normal;padding:.375em .75em} /*# sourceMappingURL=editor.component.css.map */ "],template:'\n    <input [ngClass]="inputClass"\n           type="checkbox"\n           class="form-control"\n           [name]="cell.getId()"\n           [disabled]="!cell.isEditable()"\n           [checked]="cell.getValue() == (cell.getColumn().getConfig()?.true || true)"\n           (click)="onClick.emit($event)"\n           (change)="onChange($event)">\n    '}),l("design:paramtypes",[])],s)},Dzj1:function(t,e,n){"use strict";var i=n("EEr4"),o=(n.n(i),n("Dgu4"));n.d(e,"a",function(){return r});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=function(t){function e(){return t.call(this)||this}return a(e,t),e.prototype.cancel=function(){},e.prototype.searchFields=function(t){return this._searchFields=t,this},e.prototype.titleField=function(t){return this._titleField=t,this},e.prototype.descriptionField=function(t){return this._descriptionField=t,this},e.prototype.imageField=function(t){return this._imageField=t,this},e.prototype.convertToItem=function(t){var e,i,a=null;return e=this._titleField?this.extractTitle(t):t,this._descriptionField&&(i=this.extractValue(t,this._descriptionField)),this._imageField&&(a=this.extractValue(t,this._imageField)),n.i(o.a)(e)?null:{title:e,description:i,image:a,originalObject:t}},e.prototype.extractMatches=function(t,e){var n=this,i=this._searchFields?this._searchFields.split(","):null;return null!==this._searchFields&&void 0!==this._searchFields&&""!=e?t.filter(function(t){return(i?i.map(function(e){return n.extractValue(t,e)}).filter(function(t){return!!t}):[t]).some(function(t){return t.toString().toLowerCase().indexOf(e.toString().toLowerCase())>=0})}):t},e.prototype.extractTitle=function(t){var e=this;return this._titleField.split(",").map(function(n){return e.extractValue(t,n)}).reduce(function(t,e){return t?t+" "+e:e})},e.prototype.extractValue=function(t,e){var n,i;if(e){n=e.split("."),i=t;for(var o=0;o<n.length;o++)i&&(i=i[n[o]])}else i=t;return i},e.prototype.processResults=function(t){var e,n=[];if(t&&t.length>0)for(e=0;e<t.length;e++){var i=this.convertToItem(t[e]);i&&n.push(i)}return n},e}(i.Subject)},EdWH:function(t,e,n){"use strict";var i=n("3j3K"),o=n("pbU0");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.inputClass="",this.edited=new i.EventEmitter}return t.prototype.onEdited=function(t){return this.edited.next(t),!1},t.prototype.getEditorType=function(){return this.cell.getColumn().editor&&this.cell.getColumn().editor.type},t}();a([n.i(i.Input)(),r("design:type",o.a)],l.prototype,"cell",void 0),a([n.i(i.Input)(),r("design:type",String)],l.prototype,"inputClass",void 0),a([n.i(i.Output)(),r("design:type",Object)],l.prototype,"edited",void 0),l=a([n.i(i.Component)({selector:"table-cell-edit-mode",template:'\n      <div [ngSwitch]="getEditorType()">\n        <table-cell-custom-editor *ngSwitchCase="\'custom\'"\n                                  [cell]="cell"\n                                  [inputClass]="inputClass"\n                                  (edited)="onEdited($event)">\n        </table-cell-custom-editor>\n        <table-cell-default-editor *ngSwitchDefault\n                                  [cell]="cell"\n                                  [inputClass]="inputClass"\n                                  (edited)="onEdited($event)">\n        </table-cell-default-editor>\n      </div>\n    '})],l)},F6un:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("aXxY");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(t){this.ref=t,this.create=new i.EventEmitter}return t.prototype.ngAfterViewInit=function(){this.ref.nativeElement.classList.add("ng2-smart-actions-title","ng2-smart-actions-title-add")},t.prototype.ngOnChanges=function(){this.isActionAdd=this.grid.getSetting("actions.add"),this.addNewButtonContent=this.grid.getSetting("add.addButtonContent")},t.prototype.onAdd=function(t){t.preventDefault(),t.stopPropagation(),"external"===this.grid.getSetting("mode")?this.create.emit({source:this.source}):this.grid.createFormShown=!0},t}();r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"grid",void 0),r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"source",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"create",void 0),s=r([n.i(i.Component)({selector:"[ng2-st-add-button]",template:'\n    <a *ngIf="isActionAdd" href="#" class="ng2-smart-action ng2-smart-action-add-add"\n        [innerHTML]="addNewButtonContent" (click)="onAdd($event)"></a>\n  '}),l("design:paramtypes",[i.ElementRef])],s)},"FLi/":function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n){this.id=t,this.settings=e,this.dataSet=n,this.title="",this.type="",this.class="",this.width="",this.isSortable=!1,this.isEditable=!0,this.isAddable=!0,this.isFilterable=!1,this.sortDirection="",this.defaultSortDirection="",this.editor={type:"",config:{},component:null},this.filter={type:"",config:{}},this.renderComponent=null,this.process()}return t.prototype.getOnComponentInitFunction=function(){return this.onComponentInitFunction},t.prototype.getCompareFunction=function(){return this.compareFunction},t.prototype.getValuePrepareFunction=function(){return this.valuePrepareFunction},t.prototype.getFilterFunction=function(){return this.filterFunction},t.prototype.getConfig=function(){return this.editor&&this.editor.config},t.prototype.getFilterType=function(){return this.filter&&this.filter.type},t.prototype.getFilterConfig=function(){return this.filter&&this.filter.config},t.prototype.process=function(){this.title=this.settings.title,this.class=this.settings.class,this.width=this.settings.width,this.type=this.prepareType(),this.editor=this.settings.editor,this.filter=this.settings.filter,this.renderComponent=this.settings.renderComponent,this.isFilterable=void 0===this.settings.filter||!!this.settings.filter,this.defaultSortDirection=-1!==["asc","desc"].indexOf(this.settings.sortDirection)?this.settings.sortDirection:"",this.isSortable=void 0===this.settings.sort||!!this.settings.sort,this.isEditable=void 0===this.settings.editable||!!this.settings.editable,this.isAddable=void 0===this.settings.addable||!!this.settings.addable,this.sortDirection=this.prepareSortDirection(),this.compareFunction=this.settings.compareFunction,this.valuePrepareFunction=this.settings.valuePrepareFunction,this.filterFunction=this.settings.filterFunction,this.onComponentInitFunction=this.settings.onComponentInitFunction},t.prototype.prepareType=function(){return this.settings.type||this.determineType()},t.prototype.prepareSortDirection=function(){return"desc"===this.settings.sort?"desc":"asc"},t.prototype.determineType=function(){return"text"},t}()},Fzro:function(t,e,n){"use strict";/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function i(t){if("string"!=typeof t)return t;switch(t.toUpperCase()){case"GET":return w.Get;case"POST":return w.Post;case"PUT":return w.Put;case"DELETE":return w.Delete;case"OPTIONS":return w.Options;case"HEAD":return w.Head;case"PATCH":return w.Patch}throw new Error('Invalid request method. The method "'+t+'" is not supported.')}function o(t){return"responseURL"in t?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}function a(t){for(var e=new Uint16Array(t.length),n=0,i=t.length;n<i;n++)e[n]=t.charCodeAt(n);return e.buffer}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 * @param {?=} rawParams
 * @return {?}
 */
function r(t){void 0===t&&(t="");var e=new Map;if(t.length>0){t.split("&").forEach(function(t){var n=t.indexOf("="),i=-1==n?[t,""]:[t.slice(0,n),t.slice(n+1)],o=i[0],a=i[1],r=e.get(o)||[];r.push(a),e.set(o,r)})}return e}function l(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}function s(){var t="object"==typeof window?window:{};return null===I&&(I=t[N]={}),I}function c(t){var e=new M;return Object.keys(t).forEach(function(n){var i=t[n];i&&Array.isArray(i)?i.forEach(function(t){return e.append(n,t.toString())}):e.append(n,i.toString())}),e}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function u(t,e){return t.createConnection(e).response}function d(t,e,n,i){var o=t;return e?o.merge(new X({method:e.method||n,url:e.url||i,search:e.search,params:e.params,headers:e.headers,body:e.body,withCredentials:e.withCredentials,responseType:e.responseType})):o.merge(new X({method:n,url:i}))}/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
function h(){return new G}function f(t,e){return new it(t,e)}function p(t,e){return new ot(t,e)}var v=n("3j3K"),g=n("rCTf"),m=(n.n(g),n("Qbdm"));n.d(e,"a",function(){return b}),n.d(e,"d",function(){return Y}),n.d(e,"e",function(){return $}),n.d(e,"j",function(){return X}),n.d(e,"b",function(){return S}),n.d(e,"h",function(){return _}),n.d(e,"l",function(){return P}),n.d(e,"k",function(){return it}),n.d(e,"g",function(){return at}),n.d(e,"i",function(){return E}),n.d(e,"m",function(){return M}),n.d(e,"c",function(){return h}),n.d(e,"f",function(){return f});var y=this&&this.__extends||function(t,e){function n(){this.constructor=t}for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)},b=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t}();b.decorators=[{type:v.Injectable}],b.ctorParameters=function(){return[]};var w={};w.Get=0,w.Post=1,w.Put=2,w.Delete=3,w.Options=4,w.Head=5,w.Patch=6,w[w.Get]="Get",w[w.Post]="Post",w[w.Put]="Put",w[w.Delete]="Delete",w[w.Options]="Options",w[w.Head]="Head",w[w.Patch]="Patch";var D={};D.Unsent=0,D.Open=1,D.HeadersReceived=2,D.Loading=3,D.Done=4,D.Cancelled=5,D[D.Unsent]="Unsent",D[D.Open]="Open",D[D.HeadersReceived]="HeadersReceived",D[D.Loading]="Loading",D[D.Done]="Done",D[D.Cancelled]="Cancelled";var C={};C.Basic=0,C.Cors=1,C.Default=2,C.Error=3,C.Opaque=4,C[C.Basic]="Basic",C[C.Cors]="Cors",C[C.Default]="Default",C[C.Error]="Error",C[C.Opaque]="Opaque";var k={};k.NONE=0,k.JSON=1,k.FORM=2,k.FORM_DATA=3,k.TEXT=4,k.BLOB=5,k.ARRAY_BUFFER=6,k[k.NONE]="NONE",k[k.JSON]="JSON",k[k.FORM]="FORM",k[k.FORM_DATA]="FORM_DATA",k[k.TEXT]="TEXT",k[k.BLOB]="BLOB",k[k.ARRAY_BUFFER]="ARRAY_BUFFER";var x={};x.Text=0,x.Json=1,x.ArrayBuffer=2,x.Blob=3,x[x.Text]="Text",x[x.Json]="Json",x[x.ArrayBuffer]="ArrayBuffer",x[x.Blob]="Blob";var P=function(){function t(e){var n=this;if(this._headers=new Map,this._normalizedNames=new Map,e)return e instanceof t?void e.forEach(function(t,e){t.forEach(function(t){return n.append(e,t)})}):void Object.keys(e).forEach(function(t){var i=Array.isArray(e[t])?e[t]:[e[t]];n.delete(t),i.forEach(function(e){return n.append(t,e)})})}return t.fromResponseHeaderString=function(e){var n=new t;return e.split("\n").forEach(function(t){var e=t.indexOf(":");if(e>0){var i=t.slice(0,e),o=t.slice(e+1).trim();n.set(i,o)}}),n},t.prototype.append=function(t,e){var n=this.getAll(t);null===n?this.set(t,e):n.push(e)},t.prototype.delete=function(t){var e=t.toLowerCase();this._normalizedNames.delete(e),this._headers.delete(e)},t.prototype.forEach=function(t){var e=this;this._headers.forEach(function(n,i){return t(n,e._normalizedNames.get(i),e._headers)})},t.prototype.get=function(t){var e=this.getAll(t);return null===e?null:e.length>0?e[0]:null},t.prototype.has=function(t){return this._headers.has(t.toLowerCase())},t.prototype.keys=function(){return Array.from(this._normalizedNames.values())},t.prototype.set=function(t,e){Array.isArray(e)?e.length&&this._headers.set(t.toLowerCase(),[e.join(",")]):this._headers.set(t.toLowerCase(),[e]),this.mayBeSetNormalizedName(t)},t.prototype.values=function(){return Array.from(this._headers.values())},t.prototype.toJSON=function(){var t=this,e={};return this._headers.forEach(function(n,i){var o=[];n.forEach(function(t){return o.push.apply(o,t.split(","))}),e[t._normalizedNames.get(i)]=o}),e},t.prototype.getAll=function(t){return this.has(t)?this._headers.get(t.toLowerCase())||null:null},t.prototype.entries=function(){throw new Error('"entries" method is not implemented on Headers class')},t.prototype.mayBeSetNormalizedName=function(t){var e=t.toLowerCase();this._normalizedNames.has(e)||this._normalizedNames.set(e,t)},t}(),_=function(){function t(t){var e=void 0===t?{}:t,n=e.body,i=e.status,o=e.headers,a=e.statusText,r=e.type,l=e.url;this.body=null!=n?n:null,this.status=null!=i?i:null,this.headers=null!=o?o:null,this.statusText=null!=a?a:null,this.type=null!=r?r:null,this.url=null!=l?l:null}return t.prototype.merge=function(e){return new t({body:e&&null!=e.body?e.body:this.body,status:e&&null!=e.status?e.status:this.status,headers:e&&null!=e.headers?e.headers:this.headers,statusText:e&&null!=e.statusText?e.statusText:this.statusText,type:e&&null!=e.type?e.type:this.type,url:e&&null!=e.url?e.url:this.url})},t}(),S=function(t){function e(){return t.call(this,{status:200,statusText:"Ok",type:C.Default,headers:new P})||this}return y(e,t),e}(_);S.decorators=[{type:v.Injectable}],S.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var A=function(){function t(){}return t.prototype.createConnection=function(t){},t}(),E=(function(){function t(){}}(),function(){function t(){}return t.prototype.configureRequest=function(t){},t}()),T=function(t){return t>=200&&t<300},R=function(){function t(){}return t.prototype.encodeKey=function(t){return l(t)},t.prototype.encodeValue=function(t){return l(t)},t}(),M=function(){function t(t,e){void 0===t&&(t=""),void 0===e&&(e=new R),this.rawParams=t,this.queryEncoder=e,this.paramsMap=r(t)}return t.prototype.clone=function(){var e=new t("",this.queryEncoder);return e.appendAll(this),e},t.prototype.has=function(t){return this.paramsMap.has(t)},t.prototype.get=function(t){var e=this.paramsMap.get(t);return Array.isArray(e)?e[0]:null},t.prototype.getAll=function(t){return this.paramsMap.get(t)||[]},t.prototype.set=function(t,e){if(void 0===e||null===e)return void this.delete(t);var n=this.paramsMap.get(t)||[];n.length=0,n.push(e),this.paramsMap.set(t,n)},t.prototype.setAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var i=e.paramsMap.get(n)||[];i.length=0,i.push(t[0]),e.paramsMap.set(n,i)})},t.prototype.append=function(t,e){if(void 0!==e&&null!==e){var n=this.paramsMap.get(t)||[];n.push(e),this.paramsMap.set(t,n)}},t.prototype.appendAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){for(var i=e.paramsMap.get(n)||[],o=0;o<t.length;++o)i.push(t[o]);e.paramsMap.set(n,i)})},t.prototype.replaceAll=function(t){var e=this;t.paramsMap.forEach(function(t,n){var i=e.paramsMap.get(n)||[];i.length=0;for(var o=0;o<t.length;++o)i.push(t[o]);e.paramsMap.set(n,i)})},t.prototype.toString=function(){var t=this,e=[];return this.paramsMap.forEach(function(n,i){n.forEach(function(n){return e.push(t.queryEncoder.encodeKey(i)+"="+t.queryEncoder.encodeValue(n))})}),e.join("&")},t.prototype.delete=function(t){this.paramsMap.delete(t)},t}(),H=function(){function t(){}return t.prototype.json=function(){return"string"==typeof this._body?JSON.parse(this._body):this._body instanceof ArrayBuffer?JSON.parse(this.text()):this._body},t.prototype.text=function(t){if(void 0===t&&(t="legacy"),this._body instanceof M)return this._body.toString();if(this._body instanceof ArrayBuffer)switch(t){case"legacy":return String.fromCharCode.apply(null,new Uint16Array(this._body));case"iso-8859":return String.fromCharCode.apply(null,new Uint8Array(this._body));default:throw new Error("Invalid value for encodingHint: "+t)}return null==this._body?"":"object"==typeof this._body?JSON.stringify(this._body,null,2):this._body.toString()},t.prototype.arrayBuffer=function(){return this._body instanceof ArrayBuffer?this._body:a(this.text())},t.prototype.blob=function(){if(this._body instanceof Blob)return this._body;if(this._body instanceof ArrayBuffer)return new Blob([this._body]);throw new Error("The request body isn't either a blob or an array buffer")},t}(),B=function(t){function e(e){var n=t.call(this)||this;return n._body=e.body,n.status=e.status,n.ok=n.status>=200&&n.status<=299,n.statusText=e.statusText,n.headers=e.headers,n.type=e.type,n.url=e.url,n}return y(e,t),e.prototype.toString=function(){return"Response with status: "+this.status+" "+this.statusText+" for URL: "+this.url},e}(H),O=0,N="__ng_jsonp__",I=null,j=function(){function t(){}return t.prototype.build=function(t){var e=document.createElement("script");return e.src=t,e},t.prototype.nextRequestID=function(){return"__req"+O++},t.prototype.requestCallback=function(t){return N+"."+t+".finished"},t.prototype.exposeConnection=function(t,e){s()[t]=e},t.prototype.removeConnection=function(t){s()[t]=null},t.prototype.send=function(t){document.body.appendChild(t)},t.prototype.cleanup=function(t){t.parentNode&&t.parentNode.removeChild(t)},t}();j.decorators=[{type:v.Injectable}],j.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var U="JSONP injected script did not invoke callback.",F="JSONP requests must use GET request method.",L=function(){function t(){}return t.prototype.finished=function(t){},t}(),z=function(t){function e(e,n,i){var o=t.call(this)||this;if(o._dom=n,o.baseResponseOptions=i,o._finished=!1,e.method!==w.Get)throw new TypeError(F);return o.request=e,o.response=new g.Observable(function(t){o.readyState=D.Loading;var a=o._id=n.nextRequestID();n.exposeConnection(a,o);var r=n.requestCallback(o._id),l=e.url;l.indexOf("=JSONP_CALLBACK&")>-1?l=l.replace("=JSONP_CALLBACK&","="+r+"&"):l.lastIndexOf("=JSONP_CALLBACK")===l.length-"=JSONP_CALLBACK".length&&(l=l.substring(0,l.length-"=JSONP_CALLBACK".length)+"="+r);var s=o._script=n.build(l),c=function(e){if(o.readyState!==D.Cancelled){if(o.readyState=D.Done,n.cleanup(s),!o._finished){var a=new _({body:U,type:C.Error,url:l});return i&&(a=i.merge(a)),void t.error(new B(a))}var r=new _({body:o._responseData,url:l});o.baseResponseOptions&&(r=o.baseResponseOptions.merge(r)),t.next(new B(r)),t.complete()}},u=function(e){if(o.readyState!==D.Cancelled){o.readyState=D.Done,n.cleanup(s);var a=new _({body:e.message,type:C.Error});i&&(a=i.merge(a)),t.error(new B(a))}};return s.addEventListener("load",c),s.addEventListener("error",u),n.send(s),function(){o.readyState=D.Cancelled,s.removeEventListener("load",c),s.removeEventListener("error",u),o._dom.cleanup(s)}}),o}return y(e,t),e.prototype.finished=function(t){this._finished=!0,this._dom.removeConnection(this._id),this.readyState!==D.Cancelled&&(this._responseData=t)},e}(L),W=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return y(e,t),e}(A),V=function(t){function e(e,n){var i=t.call(this)||this;return i._browserJSONP=e,i._baseResponseOptions=n,i}return y(e,t),e.prototype.createConnection=function(t){return new z(t,this._browserJSONP,this._baseResponseOptions)},e}(W);V.decorators=[{type:v.Injectable}],V.ctorParameters=function(){return[{type:j},{type:_}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var J=/^\)\]\}',?\n/,q=function(){function t(t,e,n){var i=this;this.request=t,this.response=new g.Observable(function(a){var r=e.build();r.open(w[t.method].toUpperCase(),t.url),null!=t.withCredentials&&(r.withCredentials=t.withCredentials);var l=function(){var e=1223===r.status?204:r.status,i=null;204!==e&&"string"==typeof(i=void 0===r.response?r.responseText:r.response)&&(i=i.replace(J,"")),0===e&&(e=i?200:0);var l=P.fromResponseHeaderString(r.getAllResponseHeaders()),s=o(r)||t.url,c=r.statusText||"OK",u=new _({body:i,status:e,headers:l,statusText:c,url:s});null!=n&&(u=n.merge(u));var d=new B(u);if(d.ok=T(e),d.ok)return a.next(d),void a.complete();a.error(d)},s=function(t){var e=new _({body:t,type:C.Error,status:r.status,statusText:r.statusText});null!=n&&(e=n.merge(e)),a.error(new B(e))};if(i.setDetectedContentType(t,r),null==t.headers&&(t.headers=new P),t.headers.has("Accept")||t.headers.append("Accept","application/json, text/plain, */*"),t.headers.forEach(function(t,e){return r.setRequestHeader(e,t.join(","))}),null!=t.responseType&&null!=r.responseType)switch(t.responseType){case x.ArrayBuffer:r.responseType="arraybuffer";break;case x.Json:r.responseType="json";break;case x.Text:r.responseType="text";break;case x.Blob:r.responseType="blob";break;default:throw new Error("The selected responseType is not supported")}return r.addEventListener("load",l),r.addEventListener("error",s),r.send(i.request.getBody()),function(){r.removeEventListener("load",l),r.removeEventListener("error",s),r.abort()}})}return t.prototype.setDetectedContentType=function(t,e){if(null==t.headers||null==t.headers.get("Content-Type"))switch(t.contentType){case k.NONE:break;case k.JSON:e.setRequestHeader("content-type","application/json");break;case k.FORM:e.setRequestHeader("content-type","application/x-www-form-urlencoded;charset=UTF-8");break;case k.TEXT:e.setRequestHeader("content-type","text/plain");break;case k.BLOB:var n=t.blob();n.type&&e.setRequestHeader("content-type",n.type)}},t}(),G=function(){function t(t,e){void 0===t&&(t="XSRF-TOKEN"),void 0===e&&(e="X-XSRF-TOKEN"),this._cookieName=t,this._headerName=e}return t.prototype.configureRequest=function(t){var e=n.i(m.u)().getCookie(this._cookieName);e&&t.headers.set(this._headerName,e)},t}(),Y=function(){function t(t,e,n){this._browserXHR=t,this._baseResponseOptions=e,this._xsrfStrategy=n}return t.prototype.createConnection=function(t){return this._xsrfStrategy.configureRequest(t),new q(t,this._browserXHR,this._baseResponseOptions)},t}();Y.decorators=[{type:v.Injectable}],Y.ctorParameters=function(){return[{type:b},{type:_},{type:E}]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var X=function(){function t(t){var e=void 0===t?{}:t,n=e.method,o=e.headers,a=e.body,r=e.url,l=e.search,s=e.params,c=e.withCredentials,u=e.responseType;this.method=null!=n?i(n):null,this.headers=null!=o?o:null,this.body=null!=a?a:null,this.url=null!=r?r:null,this.params=this._mergeSearchParams(s||l),this.withCredentials=null!=c?c:null,this.responseType=null!=u?u:null}return Object.defineProperty(t.prototype,"search",{get:function(){return this.params},set:function(t){this.params=t},enumerable:!0,configurable:!0}),t.prototype.merge=function(e){return new t({method:e&&null!=e.method?e.method:this.method,headers:e&&null!=e.headers?e.headers:new P(this.headers),body:e&&null!=e.body?e.body:this.body,url:e&&null!=e.url?e.url:this.url,params:e&&this._mergeSearchParams(e.params||e.search),withCredentials:e&&null!=e.withCredentials?e.withCredentials:this.withCredentials,responseType:e&&null!=e.responseType?e.responseType:this.responseType})},t.prototype._mergeSearchParams=function(t){return t?t instanceof M?t.clone():"string"==typeof t?new M(t):this._parseParams(t):this.params},t.prototype._parseParams=function(t){var e=this;void 0===t&&(t={});var n=new M;return Object.keys(t).forEach(function(i){var o=t[i];Array.isArray(o)?o.forEach(function(t){return e._appendParam(i,t,n)}):e._appendParam(i,o,n)}),n},t.prototype._appendParam=function(t,e,n){"string"!=typeof e&&(e=JSON.stringify(e)),n.append(t,e)},t}(),$=function(t){function e(){return t.call(this,{method:w.Get,headers:new P})||this}return y(e,t),e}(X);$.decorators=[{type:v.Injectable}],$.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
var K=function(t){function e(e){var n=t.call(this)||this,o=e.url;n.url=e.url;var a=e.params||e.search;if(a){var r=void 0;if(r="object"!=typeof a||a instanceof M?a.toString():c(a).toString(),r.length>0){var l="?";-1!=n.url.indexOf("?")&&(l="&"==n.url[n.url.length-1]?"":"&"),n.url=o+l+r}}return n._body=e.body,n.method=i(e.method),n.headers=new P(e.headers),n.contentType=n.detectContentType(),n.withCredentials=e.withCredentials,n.responseType=e.responseType,n}return y(e,t),e.prototype.detectContentType=function(){switch(this.headers.get("content-type")){case"application/json":return k.JSON;case"application/x-www-form-urlencoded":return k.FORM;case"multipart/form-data":return k.FORM_DATA;case"text/plain":case"text/html":return k.TEXT;case"application/octet-stream":return this._body instanceof nt?k.ARRAY_BUFFER:k.BLOB;default:return this.detectContentTypeFromBody()}},e.prototype.detectContentTypeFromBody=function(){return null==this._body?k.NONE:this._body instanceof M?k.FORM:this._body instanceof tt?k.FORM_DATA:this._body instanceof et?k.BLOB:this._body instanceof nt?k.ARRAY_BUFFER:this._body&&"object"==typeof this._body?k.JSON:k.TEXT},e.prototype.getBody=function(){switch(this.contentType){case k.JSON:case k.FORM:return this.text();case k.FORM_DATA:return this._body;case k.TEXT:return this.text();case k.BLOB:return this.blob();case k.ARRAY_BUFFER:return this.arrayBuffer();default:return null}},e}(H),Q=function(){},Z="object"==typeof window?window:Q,tt=Z.FormData||Q,et=Z.Blob||Q,nt=Z.ArrayBuffer||Q,it=function(){function t(t,e){this._backend=t,this._defaultOptions=e}return t.prototype.request=function(t,e){var n;if("string"==typeof t)n=u(this._backend,new K(d(this._defaultOptions,e,w.Get,t)));else{if(!(t instanceof K))throw new Error("First argument must be a url string or Request instance.");n=u(this._backend,t)}return n},t.prototype.get=function(t,e){return this.request(new K(d(this._defaultOptions,e,w.Get,t)))},t.prototype.post=function(t,e,n){return this.request(new K(d(this._defaultOptions.merge(new X({body:e})),n,w.Post,t)))},t.prototype.put=function(t,e,n){return this.request(new K(d(this._defaultOptions.merge(new X({body:e})),n,w.Put,t)))},t.prototype.delete=function(t,e){return this.request(new K(d(this._defaultOptions,e,w.Delete,t)))},t.prototype.patch=function(t,e,n){return this.request(new K(d(this._defaultOptions.merge(new X({body:e})),n,w.Patch,t)))},t.prototype.head=function(t,e){return this.request(new K(d(this._defaultOptions,e,w.Head,t)))},t.prototype.options=function(t,e){return this.request(new K(d(this._defaultOptions,e,w.Options,t)))},t}();it.decorators=[{type:v.Injectable}],it.ctorParameters=function(){return[{type:A},{type:X}]};var ot=function(t){function e(e,n){return t.call(this,e,n)||this}return y(e,t),e.prototype.request=function(t,e){if("string"==typeof t&&(t=new K(d(this._defaultOptions,e,w.Get,t))),!(t instanceof K))throw new Error("First argument must be a url string or Request instance.");if(t.method!==w.Get)throw new Error("JSONP requests must use GET request method.");return u(this._backend,t)},e}(it);ot.decorators=[{type:v.Injectable}],ot.ctorParameters=function(){return[{type:A},{type:X}]};var at=function(){function t(){}return t}();at.decorators=[{type:v.NgModule,args:[{providers:[{provide:it,useFactory:f,deps:[Y,X]},b,{provide:X,useClass:$},{provide:_,useClass:S},Y,{provide:E,useFactory:h}]}]}],at.ctorParameters=function(){return[]};var rt=function(){function t(){}return t}();rt.decorators=[{type:v.NgModule,args:[{providers:[{provide:ot,useFactory:p,deps:[W,X]},j,{provide:X,useClass:$},{provide:_,useClass:S},{provide:W,useClass:V}]}]}],rt.ctorParameters=function(){return[]};/**
 * @license
 * Copyright Google Inc. All Rights Reserved.
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://angular.io/license
 */
new v.Version("4.1.3")},GvoF:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("aXxY"),r=n("DfI3"),l=n("UOqW");n.d(e,"a",function(){return u});var s=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(){function t(){this.settings={},this.rowSelect=new i.EventEmitter,this.userRowSelect=new i.EventEmitter,this.delete=new i.EventEmitter,this.edit=new i.EventEmitter,this.create=new i.EventEmitter,this.custom=new i.EventEmitter,this.deleteConfirm=new i.EventEmitter,this.editConfirm=new i.EventEmitter,this.createConfirm=new i.EventEmitter,this.rowHover=new i.EventEmitter,this.defaultSettings={mode:"inline",selectMode:"single",hideHeader:!1,hideSubHeader:!1,actions:{columnTitle:"Actions",add:!0,edit:!0,delete:!0,custom:[],position:"left"},filter:{inputClass:""},edit:{inputClass:"",editButtonContent:"Edit",saveButtonContent:"Update",cancelButtonContent:"Cancel",confirmSave:!1},add:{inputClass:"",addButtonContent:"Add New",createButtonContent:"Create",cancelButtonContent:"Cancel",confirmCreate:!1},delete:{deleteButtonContent:"Delete",confirmDelete:!1},attr:{id:"",class:""},noDataMessage:"No data found",columns:{},pager:{display:!0,perPage:10},rowClassFunction:function(){return""}},this.isAllSelected=!1}return t.prototype.ngOnChanges=function(t){this.grid?(t.settings&&this.grid.setSettings(this.prepareSettings()),t.source&&(this.source=this.prepareSource(),this.grid.setSource(this.source))):this.initGrid(),this.tableId=this.grid.getSetting("attr.id"),this.tableClass=this.grid.getSetting("attr.class"),this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader"),this.isPagerDisplay=this.grid.getSetting("pager.display"),this.rowClassFunction=this.grid.getSetting("rowClassFunction")},t.prototype.editRowSelect=function(t){"multi"===this.grid.getSetting("selectMode")?this.onMultipleSelectRow(t):this.onSelectRow(t)},t.prototype.onUserSelectRow=function(t){"multi"!==this.grid.getSetting("selectMode")&&(this.grid.selectRow(t),this.emitUserSelectRow(t),this.emitSelectRow(t))},t.prototype.onRowHover=function(t){this.rowHover.emit(t)},t.prototype.multipleSelectRow=function(t){this.grid.multipleSelectRow(t),this.emitUserSelectRow(t),this.emitSelectRow(t)},t.prototype.onSelectAllRows=function(t){this.isAllSelected=!this.isAllSelected,this.grid.selectAllRows(this.isAllSelected),this.emitUserSelectRow(null),this.emitSelectRow(null)},t.prototype.onSelectRow=function(t){this.grid.selectRow(t),this.emitSelectRow(t)},t.prototype.onMultipleSelectRow=function(t){this.emitSelectRow(t)},t.prototype.initGrid=function(){var t=this;this.source=this.prepareSource(),this.grid=new o.a(this.source,this.prepareSettings()),this.grid.onSelectRow().subscribe(function(e){return t.emitSelectRow(e)})},t.prototype.prepareSource=function(){return this.source instanceof a.a?this.source:this.source instanceof Array?new l.a(this.source):new l.a},t.prototype.prepareSettings=function(){return n.i(r.a)({},this.defaultSettings,this.settings)},t.prototype.changePage=function(t){this.resetAllSelector()},t.prototype.sort=function(t){this.resetAllSelector()},t.prototype.filter=function(t){this.resetAllSelector()},t.prototype.resetAllSelector=function(){this.isAllSelected=!1},t.prototype.emitUserSelectRow=function(t){var e=this.grid.getSelectedRows();this.userRowSelect.emit({data:t?t.getData():null,isSelected:t?t.getIsSelected():null,source:this.source,selected:e&&e.length?e.map(function(t){return t.getData()}):[]})},t.prototype.emitSelectRow=function(t){this.rowSelect.emit({data:t?t.getData():null,isSelected:t?t.getIsSelected():null,source:this.source})},t}();s([n.i(i.Input)(),c("design:type",Object)],u.prototype,"source",void 0),s([n.i(i.Input)(),c("design:type",Object)],u.prototype,"settings",void 0),s([n.i(i.Output)(),c("design:type",Object)],u.prototype,"rowSelect",void 0),s([n.i(i.Output)(),c("design:type",Object)],u.prototype,"userRowSelect",void 0),s([n.i(i.Output)(),c("design:type",Object)],u.prototype,"delete",void 0),s([n.i(i.Output)(),c("design:type",Object)],u.prototype,"edit",void 0),s([n.i(i.Output)(),c("design:type",Object)],u.prototype,"create",void 0),s([n.i(i.Output)(),c("design:type",Object)],u.prototype,"custom",void 0),s([n.i(i.Output)(),c("design:type",Object)],u.prototype,"deleteConfirm",void 0),s([n.i(i.Output)(),c("design:type",Object)],u.prototype,"editConfirm",void 0),s([n.i(i.Output)(),c("design:type",Object)],u.prototype,"createConfirm",void 0),s([n.i(i.Output)(),c("design:type",i.EventEmitter)],u.prototype,"rowHover",void 0),u=s([n.i(i.Component)({selector:"ng2-smart-table",styles:[":host{font-size:1rem}:host /deep/ *{box-sizing:border-box}:host /deep/ button,:host /deep/ input,:host /deep/ optgroup,:host /deep/ select,:host /deep/ textarea{color:inherit;font:inherit;margin:0}:host /deep/ table{line-height:1.5em;border-collapse:collapse;border-spacing:0;display:table;width:100%;max-width:100%;overflow:auto;word-break:normal;word-break:keep-all}:host /deep/ table tr th{font-weight:700}:host /deep/ table tr section{font-size:.75em;font-weight:700}:host /deep/ table tr td,:host /deep/ table tr th{font-size:.875em;margin:0;padding:.5em 1em}:host /deep/ a{color:#1e6bb8;text-decoration:none}:host /deep/ a:hover{text-decoration:underline} /*# sourceMappingURL=ng2-smart-table.component.css.map */ "],template:'<table [id]="tableId" [ngClass]="tableClass"><thead ng2-st-thead *ngIf="!isHideHeader || !isHideSubHeader" [grid]="grid" [isAllSelected]="isAllSelected" [source]="source" [createConfirm]="createConfirm" (create)="create.emit($event)" (selectAllRows)="onSelectAllRows($event)" (sort)="sort($event)" (filter)="filter($event)"></thead><tbody ng2-st-tbody [grid]="grid" [source]="source" [deleteConfirm]="deleteConfirm" [editConfirm]="editConfirm" [rowClassFunction]="rowClassFunction" (edit)="edit.emit($event)" (delete)="delete.emit($event)" (custom)="custom.emit($event)" (userSelectRow)="onUserSelectRow($event)" (editRowSelect)="editRowSelect($event)" (multipleSelectRow)="multipleSelectRow($event)" (rowHover)="onRowHover($event)"></tbody></table><ng2-smart-table-pager *ngIf="isPagerDisplay" [source]="source" (changePage)="changePage($event)"></ng2-smart-table-pager>'})],u)},Hxte:function(t,e,n){"use strict";var i=n("3j3K"),o=n("EEr4"),a=(n.n(o),n("u8XI")),r=n("Layv"),l=n("q3ik"),s=(n.n(l),n("aV5h"));n.n(s);n.d(e,"a",function(){return h});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t){function e(e){var n=t.call(this)||this;return n.completerService=e,n.completerContent=new o.Subject,n}return c(e,t),e.prototype.ngOnInit=function(){var t=this,e=this.column.getFilterConfig().completer;e.dataService=this.completerService.local(e.data,e.searchFields,e.titleField),e.dataService.descriptionField(e.descriptionField),this.changesSubscription=this.completerContent.map(function(t){return t&&t.title||t||""}).distinctUntilChanged().debounceTime(this.delay).subscribe(function(e){t.query=e,t.setFilter()})},e.prototype.inputTextChanged=function(t){""===t&&this.completerContent.next(t)},e}(r.a);h=u([n.i(i.Component)({selector:"completer-filter",template:'\n    <ng2-completer [(ngModel)]="query"\n                   (ngModelChange)="inputTextChanged($event)"\n                   [dataService]="column.getFilterConfig().completer.dataService"\n                   [minSearchLength]="column.getFilterConfig().completer.minSearchLength || 0"\n                   [pause]="column.getFilterConfig().completer.pause || 0"\n                   [placeholder]="column.getFilterConfig().completer.placeholder || \'Start typing...\'"\n                   (selected)="completerContent.next($event)">\n    </ng2-completer>\n  '}),d("design:paramtypes",[a.b])],h)},"I+b6":function(t,e,n){"use strict";var i=n("3j3K"),o=n("vfyQ");n.d(e,"a",function(){return a}),n.d(e,"b",function(){return r});var a=function(){function t(t,e){this.row=t,this.index=e}return t}(),r=function(){function t(t,e){this.completer=t,this.el=e,this.rows=[],this.completer.registerDropdown(this)}return t.prototype.ngOnInit=function(){var t=getComputedStyle(this.el.nativeElement);this.isScrollOn=t.maxHeight&&"auto"===t.overflowY},t.prototype.ngOnDestroy=function(){this.completer.registerDropdown(null)},t.prototype.ngAfterViewInit=function(){var t=this,e=this.completer.autoHighlightIndex;e&&setTimeout(function(){t.highlightRow(e)},0)},t.prototype.onMouseDown=function(t){var e=this;this.completer.cancelBlur(!0),setTimeout(function(){e.completer.cancelBlur(!1)},0)},t.prototype.registerRow=function(t){this.rows.push(t)},t.prototype.highlightRow=function(t){var e=this.rows.find(function(e){return e.index===t});if(t<0)return this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=void 0,void this.completer.onHighlighted(null);if(e&&(this.currHighlighted&&this.currHighlighted.row.setHighlighted(!1),this.currHighlighted=e,this.currHighlighted.row.setHighlighted(!0),this.completer.onHighlighted(this.currHighlighted.row.getDataItem()),this.isScrollOn&&this.currHighlighted)){var n=this.dropdownRowTop();if(n<0)this.dropdownScrollTopTo(n-1);else{var i=this.currHighlighted.row.getNativeElement();this.dropdownHeight()<i.getBoundingClientRect().bottom&&(this.dropdownScrollTopTo(this.dropdownRowOffsetHeight(i)),this.el.nativeElement.getBoundingClientRect().bottom-this.dropdownRowOffsetHeight(i)<i.getBoundingClientRect().top&&this.dropdownScrollTopTo(i.getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))))}}},t.prototype.clear=function(){this.rows=[]},t.prototype.onSelected=function(t){this.completer.onSelected(t)},t.prototype.selectCurrent=function(){this.currHighlighted?this.onSelected(this.currHighlighted.row.getDataItem()):this.rows.length>0&&this.onSelected(this.rows[0].row.getDataItem())},t.prototype.nextRow=function(){var t=0;this.currHighlighted&&(t=this.currHighlighted.index+1),this.highlightRow(t)},t.prototype.prevRow=function(){var t=-1;this.currHighlighted&&(t=this.currHighlighted.index-1),this.highlightRow(t)},t.prototype.dropdownScrollTopTo=function(t){this.el.nativeElement.scrollTop=this.el.nativeElement.scrollTop+t},t.prototype.dropdownRowTop=function(){return this.currHighlighted.row.getNativeElement().getBoundingClientRect().top-(this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).paddingTop,10))},t.prototype.dropdownHeight=function(){return this.el.nativeElement.getBoundingClientRect().top+parseInt(getComputedStyle(this.el.nativeElement).maxHeight,10)},t.prototype.dropdownRowOffsetHeight=function(t){var e=getComputedStyle(t);return t.offsetHeight+parseInt(e.marginTop,10)+parseInt(e.marginBottom,10)},t}();r.decorators=[{type:i.Directive,args:[{selector:"[ctrDropdown]"}]}],r.ctorParameters=function(){return[{type:o.a,decorators:[{type:i.Host}]},{type:i.ElementRef}]},r.propDecorators={onMouseDown:[{type:i.HostListener,args:["mousedown",["$event"]]}]}},JIYj:function(t,e,n){"use strict";var i=n("3j3K"),o=n("FLi/"),a=n("aXxY");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.sort=new i.EventEmitter}return t}();r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"column",void 0),r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"source",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"sort",void 0),s=r([n.i(i.Component)({selector:"ng2-st-column-title",template:'\n    <div class="ng2-smart-title">\n      <ng2-smart-table-title [source]="source" [column]="column" (sort)="sort.emit($event)"></ng2-smart-table-title>\n    </div>\n  '})],s)},JbtN:function(t,e,n){"use strict";var i=n("Fzro");n.d(e,"a",function(){return o});var o=function(){function t(t){this.http=t,this.dias=["Domingo","Lunes","Martes","Miercoles","Jueves","Viernes","Sabado"],this.administrador="2",this.lunesSemana=this.getWeek(new Date)[0],this.domingoSemana=this.getWeek(new Date)[1]}return t.prototype.ngOnInit=function(){var t=this;console.log(this.getWeek(new Date)),this.http.get("http://51.143.100.161/citas/").map(function(t){return t.json()}).subscribe(function(e){t.citasHomologaciones=[],t.citasConsejeria=[],t.eventsHomologaciones=[],t.eventsConsejeria=[],e.forEach(function(e){var n={text:e.tipo_cita,start:e.fecha_inicio,end:e.fecha_fin},i=new Date(e.fecha_inicio);if(i>t.lunesSemana&&i<t.domingoSemana){var o=t.dias[i.getDay()],a=i.getHours(),r=i.getMinutes(),l=new Date(e.fecha_fin),s=l.getHours(),c=l.getMinutes();e.diaSemanaInicio=o,e.horaInicio=a,e.horaFin=s;var u=0===r?"00":r,d=0===c?"00":c;e.minutosInicio=u,e.minutosFin=d;var h=null===e.cancelada?"Agendada":"Cancelada";e.estado=h,"Homologaciones"===e.tipo_cita||"homologaciones"===e.tipo_cita?(t.eventsHomologaciones.push(n),t.citasHomologaciones.push(e)):(t.eventsConsejeria.push(n),t.citasConsejeria.push(e))}})})},t.prototype.onVerDetalles=function(t){var e=t.estudiante_id;this.http.get("http://51.143.100.161/estudiantes/"+e).map(function(t){return t.json()}).subscribe(function(e){var n=new Date(t.fecha_inicio),i=(new Date(t.fecha_fin),n.getUTCDate()+"/"+n.getUTCMonth()+"/"+n.getUTCFullYear());swal({title:"Cita "+i+"\n"+(n.getUTCHours()-5)+":"+n.getUTCMinutes(),confirmButtonText:"Ok",text:"Estudiante: "+e.nombres+" "+e.apellidos+"\nCorreo: "+e.email+"\nInformación: "+t.informacion_para_cita+"\nSSC: "+e.ssc+"\nPGA: "+e.prom_acum})})},t.prototype.onCancelar=function(t){if(t.cancelada)return swal({title:"Alerta",text:"La cita ya está cancelada",type:"warning"}),!1;var e=new i.l;e.append("Content-Type","application/json");var n={cancelada:!0,cancelada_por_id:this.administrador,cancelada_por:"admin"};this.http.put("http://51.143.100.161/citas/"+t.id,JSON.stringify(n),{headers:e}).map(function(t){return t.json()}).subscribe(function(t){swal({title:"Alerta",text:"La cita se ha cancelado",type:"success"})})},t.prototype.onConfirmarAsistencia=function(t){if(new Date(t.fecha_inicio)>new Date)return swal({title:"Alerta",text:"La fecha aún no llega",type:"warning"}),!1;var e={asistio:!0},n=new i.l;n.append("Content-Type","application/json"),this.http.put("http://51.143.100.161/citas/"+t.id,JSON.stringify(e),{headers:n}).map(function(t){return t.json()}).subscribe(function(t){swal({title:"Alerta",text:"Se actualizó el estado de la cita",type:"success"})})},t.prototype.getWeek=function(t){var e=t?new Date(t):new Date;e.setHours(0,0,0,0);var n=new Date(e);n.setDate(n.getDate()-n.getDay()+1);var i=new Date(e);return i.setDate(i.getDate()-i.getDay()+7),[n,i]},t.ctorParameters=function(){return[{type:i.k}]},t}()},K8AB:function(t,e,n){"use strict";var i=n("3j3K"),o=n("u8XI"),a=n("3ERO");n.d(e,"a",function(){return c});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(t){function e(e){var n=t.call(this)||this;return n.completerService=e,n.completerStr="",n}return r(e,t),e.prototype.ngOnInit=function(){if(this.cell.getColumn().editor&&"completer"===this.cell.getColumn().editor.type){var t=this.cell.getColumn().getConfig().completer;t.dataService=this.completerService.local(t.data,t.searchFields,t.titleField),t.dataService.descriptionField(t.descriptionField)}},e.prototype.onEditedCompleter=function(t){return this.cell.newValue=t.title,!1},e}(a.a);c=l([n.i(i.Component)({selector:"completer-editor",template:'\n    <ng2-completer [(ngModel)]="completerStr"\n                   [dataService]="cell.getColumn().getConfig().completer.dataService"\n                   [minSearchLength]="cell.getColumn().getConfig().completer.minSearchLength || 0"\n                   [pause]="cell.getColumn().getConfig().completer.pause || 0"\n                   [placeholder]="cell.getColumn().getConfig().completer.placeholder || \'Start typing...\'"\n                   (selected)="onEditedCompleter($event)">\n    </ng2-completer>\n    '}),s("design:paramtypes",[o.b])],c)},Layv:function(t,e,n){"use strict";var i=n("3j3K"),o=n("FLi/");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.delay=300,this.filter=new i.EventEmitter}return t.prototype.ngOnDestroy=function(){this.changesSubscription&&this.changesSubscription.unsubscribe()},t.prototype.setFilter=function(){this.filter.emit(this.query)},t}();a([n.i(i.Input)(),r("design:type",String)],l.prototype,"query",void 0),a([n.i(i.Input)(),r("design:type",String)],l.prototype,"inputClass",void 0),a([n.i(i.Input)(),r("design:type",o.a)],l.prototype,"column",void 0),a([n.i(i.Output)(),r("design:type",Object)],l.prototype,"filter",void 0)},M4fF:function(t,e,n){(function(t,i){var o;(function(){function a(t,e){return t.set(e[0],e[1]),t}function r(t,e){return t.add(e),t}function l(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function s(t,e,n,i){for(var o=-1,a=null==t?0:t.length;++o<a;){var r=t[o];e(i,r,n(r),t)}return i}function c(t,e){for(var n=-1,i=null==t?0:t.length;++n<i&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function d(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(!e(t[n],n,t))return!1;return!0}function h(t,e){for(var n=-1,i=null==t?0:t.length,o=0,a=[];++n<i;){var r=t[n];e(r,n,t)&&(a[o++]=r)}return a}function f(t,e){return!!(null==t?0:t.length)&&x(t,e,0)>-1}function p(t,e,n){for(var i=-1,o=null==t?0:t.length;++i<o;)if(n(e,t[i]))return!0;return!1}function v(t,e){for(var n=-1,i=null==t?0:t.length,o=Array(i);++n<i;)o[n]=e(t[n],n,t);return o}function g(t,e){for(var n=-1,i=e.length,o=t.length;++n<i;)t[o+n]=e[n];return t}function m(t,e,n,i){var o=-1,a=null==t?0:t.length;for(i&&a&&(n=t[++o]);++o<a;)n=e(n,t[o],o,t);return n}function y(t,e,n,i){var o=null==t?0:t.length;for(i&&o&&(n=t[--o]);o--;)n=e(n,t[o],o,t);return n}function b(t,e){for(var n=-1,i=null==t?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function w(t){return t.split("")}function D(t){return t.match(We)||[]}function C(t,e,n){var i;return n(t,function(t,n,o){if(e(t,n,o))return i=n,!1}),i}function k(t,e,n,i){for(var o=t.length,a=n+(i?1:-1);i?a--:++a<o;)if(e(t[a],a,t))return a;return-1}function x(t,e,n){return e===e?K(t,e,n):k(t,_,n)}function P(t,e,n,i){for(var o=n-1,a=t.length;++o<a;)if(i(t[o],e))return o;return-1}function _(t){return t!==t}function S(t,e){var n=null==t?0:t.length;return n?M(t,e)/n:It}function A(t){return function(e){return null==e?ot:e[t]}}function E(t){return function(e){return null==t?ot:t[e]}}function T(t,e,n,i,o){return o(t,function(t,o,a){n=i?(i=!1,t):e(n,t,o,a)}),n}function R(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function M(t,e){for(var n,i=-1,o=t.length;++i<o;){var a=e(t[i]);a!==ot&&(n=n===ot?a:n+a)}return n}function H(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}function B(t,e){return v(e,function(e){return[e,t[e]]})}function O(t){return function(e){return t(e)}}function N(t,e){return v(e,function(e){return t[e]})}function I(t,e){return t.has(e)}function j(t,e){for(var n=-1,i=t.length;++n<i&&x(e,t[n],0)>-1;);return n}function U(t,e){for(var n=t.length;n--&&x(e,t[n],0)>-1;);return n}function F(t,e){for(var n=t.length,i=0;n--;)t[n]===e&&++i;return i}function L(t){return"\\"+ni[t]}function z(t,e){return null==t?ot:t[e]}function W(t){return Gn.test(t)}function V(t){return Yn.test(t)}function J(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function q(t){var e=-1,n=Array(t.size);return t.forEach(function(t,i){n[++e]=[i,t]}),n}function G(t,e){return function(n){return t(e(n))}}function Y(t,e){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var r=t[n];r!==e&&r!==dt||(t[n]=dt,a[o++]=n)}return a}function X(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function $(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function K(t,e,n){for(var i=n-1,o=t.length;++i<o;)if(t[i]===e)return i;return-1}function Q(t,e,n){for(var i=n+1;i--;)if(t[i]===e)return i;return i}function Z(t){return W(t)?et(t):bi(t)}function tt(t){return W(t)?nt(t):w(t)}function et(t){for(var e=Jn.lastIndex=0;Jn.test(t);)++e;return e}function nt(t){return t.match(Jn)||[]}function it(t){return t.match(qn)||[]}var ot,at="4.17.4",rt=200,lt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",st="Expected a function",ct="__lodash_hash_undefined__",ut=500,dt="__lodash_placeholder__",ht=1,ft=2,pt=4,vt=1,gt=2,mt=1,yt=2,bt=4,wt=8,Dt=16,Ct=32,kt=64,xt=128,Pt=256,_t=512,St=30,At="...",Et=800,Tt=16,Rt=1,Mt=2,Ht=3,Bt=1/0,Ot=9007199254740991,Nt=1.7976931348623157e308,It=NaN,jt=4294967295,Ut=jt-1,Ft=jt>>>1,Lt=[["ary",xt],["bind",mt],["bindKey",yt],["curry",wt],["curryRight",Dt],["flip",_t],["partial",Ct],["partialRight",kt],["rearg",Pt]],zt="[object Arguments]",Wt="[object Array]",Vt="[object AsyncFunction]",Jt="[object Boolean]",qt="[object Date]",Gt="[object DOMException]",Yt="[object Error]",Xt="[object Function]",$t="[object GeneratorFunction]",Kt="[object Map]",Qt="[object Number]",Zt="[object Null]",te="[object Object]",ee="[object Promise]",ne="[object Proxy]",ie="[object RegExp]",oe="[object Set]",ae="[object String]",re="[object Symbol]",le="[object Undefined]",se="[object WeakMap]",ce="[object WeakSet]",ue="[object ArrayBuffer]",de="[object DataView]",he="[object Float32Array]",fe="[object Float64Array]",pe="[object Int8Array]",ve="[object Int16Array]",ge="[object Int32Array]",me="[object Uint8Array]",ye="[object Uint8ClampedArray]",be="[object Uint16Array]",we="[object Uint32Array]",De=/\b__p \+= '';/g,Ce=/\b(__p \+=) '' \+/g,ke=/(__e\(.*?\)|\b__t\)) \+\n'';/g,xe=/&(?:amp|lt|gt|quot|#39);/g,Pe=/[&<>"']/g,_e=RegExp(xe.source),Se=RegExp(Pe.source),Ae=/<%-([\s\S]+?)%>/g,Ee=/<%([\s\S]+?)%>/g,Te=/<%=([\s\S]+?)%>/g,Re=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Me=/^\w*$/,He=/^\./,Be=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Oe=/[\\^$.*+?()[\]{}|]/g,Ne=RegExp(Oe.source),Ie=/^\s+|\s+$/g,je=/^\s+/,Ue=/\s+$/,Fe=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Le=/\{\n\/\* \[wrapped with (.+)\] \*/,ze=/,? & /,We=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ve=/\\(\\)?/g,Je=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qe=/\w*$/,Ge=/^[-+]0x[0-9a-f]+$/i,Ye=/^0b[01]+$/i,Xe=/^\[object .+?Constructor\]$/,$e=/^0o[0-7]+$/i,Ke=/^(?:0|[1-9]\d*)$/,Qe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ze=/($^)/,tn=/['\n\r\u2028\u2029\\]/g,en="\\ud800-\\udfff",nn="\\u0300-\\u036f",on="\\ufe20-\\ufe2f",an="\\u20d0-\\u20ff",rn=nn+on+an,ln="\\u2700-\\u27bf",sn="a-z\\xdf-\\xf6\\xf8-\\xff",cn="\\xac\\xb1\\xd7\\xf7",un="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",dn="\\u2000-\\u206f",hn=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",fn="A-Z\\xc0-\\xd6\\xd8-\\xde",pn="\\ufe0e\\ufe0f",vn=cn+un+dn+hn,gn="['’]",mn="["+en+"]",yn="["+vn+"]",bn="["+rn+"]",wn="\\d+",Dn="["+ln+"]",Cn="["+sn+"]",kn="[^"+en+vn+wn+ln+sn+fn+"]",xn="\\ud83c[\\udffb-\\udfff]",Pn="(?:"+bn+"|"+xn+")",_n="[^"+en+"]",Sn="(?:\\ud83c[\\udde6-\\uddff]){2}",An="[\\ud800-\\udbff][\\udc00-\\udfff]",En="["+fn+"]",Tn="\\u200d",Rn="(?:"+Cn+"|"+kn+")",Mn="(?:"+En+"|"+kn+")",Hn="(?:"+gn+"(?:d|ll|m|re|s|t|ve))?",Bn="(?:"+gn+"(?:D|LL|M|RE|S|T|VE))?",On=Pn+"?",Nn="["+pn+"]?",In="(?:"+Tn+"(?:"+[_n,Sn,An].join("|")+")"+Nn+On+")*",jn="\\d*(?:(?:1st|2nd|3rd|(?![123])\\dth)\\b)",Un="\\d*(?:(?:1ST|2ND|3RD|(?![123])\\dTH)\\b)",Fn=Nn+On+In,Ln="(?:"+[Dn,Sn,An].join("|")+")"+Fn,zn="(?:"+[_n+bn+"?",bn,Sn,An,mn].join("|")+")",Wn=RegExp(gn,"g"),Vn=RegExp(bn,"g"),Jn=RegExp(xn+"(?="+xn+")|"+zn+Fn,"g"),qn=RegExp([En+"?"+Cn+"+"+Hn+"(?="+[yn,En,"$"].join("|")+")",Mn+"+"+Bn+"(?="+[yn,En+Rn,"$"].join("|")+")",En+"?"+Rn+"+"+Hn,En+"+"+Bn,Un,jn,wn,Ln].join("|"),"g"),Gn=RegExp("["+Tn+en+rn+pn+"]"),Yn=/[a-z][A-Z]|[A-Z]{2,}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Xn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],$n=-1,Kn={};Kn[he]=Kn[fe]=Kn[pe]=Kn[ve]=Kn[ge]=Kn[me]=Kn[ye]=Kn[be]=Kn[we]=!0,Kn[zt]=Kn[Wt]=Kn[ue]=Kn[Jt]=Kn[de]=Kn[qt]=Kn[Yt]=Kn[Xt]=Kn[Kt]=Kn[Qt]=Kn[te]=Kn[ie]=Kn[oe]=Kn[ae]=Kn[se]=!1;var Qn={};Qn[zt]=Qn[Wt]=Qn[ue]=Qn[de]=Qn[Jt]=Qn[qt]=Qn[he]=Qn[fe]=Qn[pe]=Qn[ve]=Qn[ge]=Qn[Kt]=Qn[Qt]=Qn[te]=Qn[ie]=Qn[oe]=Qn[ae]=Qn[re]=Qn[me]=Qn[ye]=Qn[be]=Qn[we]=!0,Qn[Yt]=Qn[Xt]=Qn[se]=!1;var Zn={"À":"A","Á":"A","Â":"A","Ã":"A","Ä":"A","Å":"A","à":"a","á":"a","â":"a","ã":"a","ä":"a","å":"a","Ç":"C","ç":"c","Ð":"D","ð":"d","È":"E","É":"E","Ê":"E","Ë":"E","è":"e","é":"e","ê":"e","ë":"e","Ì":"I","Í":"I","Î":"I","Ï":"I","ì":"i","í":"i","î":"i","ï":"i","Ñ":"N","ñ":"n","Ò":"O","Ó":"O","Ô":"O","Õ":"O","Ö":"O","Ø":"O","ò":"o","ó":"o","ô":"o","õ":"o","ö":"o","ø":"o","Ù":"U","Ú":"U","Û":"U","Ü":"U","ù":"u","ú":"u","û":"u","ü":"u","Ý":"Y","ý":"y","ÿ":"y","Æ":"Ae","æ":"ae","Þ":"Th","þ":"th","ß":"ss","Ā":"A","Ă":"A","Ą":"A","ā":"a","ă":"a","ą":"a","Ć":"C","Ĉ":"C","Ċ":"C","Č":"C","ć":"c","ĉ":"c","ċ":"c","č":"c","Ď":"D","Đ":"D","ď":"d","đ":"d","Ē":"E","Ĕ":"E","Ė":"E","Ę":"E","Ě":"E","ē":"e","ĕ":"e","ė":"e","ę":"e","ě":"e","Ĝ":"G","Ğ":"G","Ġ":"G","Ģ":"G","ĝ":"g","ğ":"g","ġ":"g","ģ":"g","Ĥ":"H","Ħ":"H","ĥ":"h","ħ":"h","Ĩ":"I","Ī":"I","Ĭ":"I","Į":"I","İ":"I","ĩ":"i","ī":"i","ĭ":"i","į":"i","ı":"i","Ĵ":"J","ĵ":"j","Ķ":"K","ķ":"k","ĸ":"k","Ĺ":"L","Ļ":"L","Ľ":"L","Ŀ":"L","Ł":"L","ĺ":"l","ļ":"l","ľ":"l","ŀ":"l","ł":"l","Ń":"N","Ņ":"N","Ň":"N","Ŋ":"N","ń":"n","ņ":"n","ň":"n","ŋ":"n","Ō":"O","Ŏ":"O","Ő":"O","ō":"o","ŏ":"o","ő":"o","Ŕ":"R","Ŗ":"R","Ř":"R","ŕ":"r","ŗ":"r","ř":"r","Ś":"S","Ŝ":"S","Ş":"S","Š":"S","ś":"s","ŝ":"s","ş":"s","š":"s","Ţ":"T","Ť":"T","Ŧ":"T","ţ":"t","ť":"t","ŧ":"t","Ũ":"U","Ū":"U","Ŭ":"U","Ů":"U","Ű":"U","Ų":"U","ũ":"u","ū":"u","ŭ":"u","ů":"u","ű":"u","ų":"u","Ŵ":"W","ŵ":"w","Ŷ":"Y","ŷ":"y","Ÿ":"Y","Ź":"Z","Ż":"Z","Ž":"Z","ź":"z","ż":"z","ž":"z","Ĳ":"IJ","ĳ":"ij","Œ":"Oe","œ":"oe","ŉ":"'n","ſ":"s"},ti={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ei={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},ni={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ii=parseFloat,oi=parseInt,ai="object"==typeof t&&t&&t.Object===Object&&t,ri="object"==typeof self&&self&&self.Object===Object&&self,li=ai||ri||Function("return this")(),si="object"==typeof e&&e&&!e.nodeType&&e,ci=si&&"object"==typeof i&&i&&!i.nodeType&&i,ui=ci&&ci.exports===si,di=ui&&ai.process,hi=function(){try{return di&&di.binding&&di.binding("util")}catch(t){}}(),fi=hi&&hi.isArrayBuffer,pi=hi&&hi.isDate,vi=hi&&hi.isMap,gi=hi&&hi.isRegExp,mi=hi&&hi.isSet,yi=hi&&hi.isTypedArray,bi=A("length"),wi=E(Zn),Di=E(ti),Ci=E(ei),ki=function t(e){function n(t){if(cs(t)&&!wh(t)&&!(t instanceof w)){if(t instanceof o)return t;if(wu.call(t,"__wrapped__"))return rr(t)}return new o(t)}function i(){}function o(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=ot}function w(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=jt,this.__views__=[]}function E(){var t=new w(this.__wrapped__);return t.__actions__=Lo(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Lo(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Lo(this.__views__),t}function K(){if(this.__filtered__){var t=new w(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function et(){var t=this.__wrapped__.value(),e=this.__dir__,n=wh(t),i=e<0,o=n?t.length:0,a=Ta(0,o,this.__views__),r=a.start,l=a.end,s=l-r,c=i?l:r-1,u=this.__iteratees__,d=u.length,h=0,f=$u(s,this.__takeCount__);if(!n||!i&&o==s&&f==s)return Co(t,this.__actions__);var p=[];t:for(;s--&&h<f;){c+=e;for(var v=-1,g=t[c];++v<d;){var m=u[v],y=m.iteratee,b=m.type,w=y(g);if(b==Mt)g=w;else if(!w){if(b==Rt)continue t;break t}}p[h++]=g}return p}function nt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function We(){this.__data__=rd?rd(null):{},this.size=0}function en(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function nn(t){var e=this.__data__;if(rd){var n=e[t];return n===ct?ot:n}return wu.call(e,t)?e[t]:ot}function on(t){var e=this.__data__;return rd?e[t]!==ot:wu.call(e,t)}function an(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=rd&&e===ot?ct:e,this}function rn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function ln(){this.__data__=[],this.size=0}function sn(t){var e=this.__data__,n=Hn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Bu.call(e,n,1),--this.size,!0)}function cn(t){var e=this.__data__,n=Hn(e,t);return n<0?ot:e[n][1]}function un(t){return Hn(this.__data__,t)>-1}function dn(t,e){var n=this.__data__,i=Hn(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function hn(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}function fn(){this.size=0,this.__data__={hash:new nt,map:new(nd||rn),string:new nt}}function pn(t){var e=_a(this,t).delete(t);return this.size-=e?1:0,e}function vn(t){return _a(this,t).get(t)}function gn(t){return _a(this,t).has(t)}function mn(t,e){var n=_a(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function yn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new hn;++e<n;)this.add(t[e])}function bn(t){return this.__data__.set(t,ct),this}function wn(t){return this.__data__.has(t)}function Dn(t){var e=this.__data__=new rn(t);this.size=e.size}function Cn(){this.__data__=new rn,this.size=0}function kn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function xn(t){return this.__data__.get(t)}function Pn(t){return this.__data__.has(t)}function _n(t,e){var n=this.__data__;if(n instanceof rn){var i=n.__data__;if(!nd||i.length<rt-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new hn(i)}return n.set(t,e),this.size=n.size,this}function Sn(t,e){var n=wh(t),i=!n&&bh(t),o=!n&&!i&&Ch(t),a=!n&&!i&&!o&&Sh(t),r=n||i||o||a,l=r?H(t.length,fu):[],s=l.length;for(var c in t)!e&&!wu.call(t,c)||r&&("length"==c||o&&("offset"==c||"parent"==c)||a&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||ja(c,s))||l.push(c);return l}function An(t){var e=t.length;return e?t[no(0,e-1)]:ot}function En(t,e){return nr(Lo(t),Un(e,0,t.length))}function Tn(t){return nr(Lo(t))}function Rn(t,e,n){(n===ot||Xl(t[e],n))&&(n!==ot||e in t)||In(t,e,n)}function Mn(t,e,n){var i=t[e];wu.call(t,e)&&Xl(i,n)&&(n!==ot||e in t)||In(t,e,n)}function Hn(t,e){for(var n=t.length;n--;)if(Xl(t[n][0],e))return n;return-1}function Bn(t,e,n,i){return yd(t,function(t,o,a){e(i,t,n(t),a)}),i}function On(t,e){return t&&zo(e,Vs(e),t)}function Nn(t,e){return t&&zo(e,Js(e),t)}function In(t,e,n){"__proto__"==e&&ju?ju(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function jn(t,e){for(var n=-1,i=e.length,o=ru(i),a=null==t;++n<i;)o[n]=a?ot:Ls(t,e[n]);return o}function Un(t,e,n){return t===t&&(n!==ot&&(t=t<=n?t:n),e!==ot&&(t=t>=e?t:e)),t}function Fn(t,e,n,i,o,a){var r,l=e&ht,s=e&ft,u=e&pt;if(n&&(r=o?n(t,i,o,a):n(t)),r!==ot)return r;if(!ss(t))return t;var d=wh(t);if(d){if(r=Ha(t),!l)return Lo(t,r)}else{var h=Td(t),f=h==Xt||h==$t;if(Ch(t))return Eo(t,l);if(h==te||h==zt||f&&!o){if(r=s||f?{}:Ba(t),!l)return s?Vo(t,Nn(r,t)):Wo(t,On(r,t))}else{if(!Qn[h])return o?t:{};r=Oa(t,h,Fn,l)}}a||(a=new Dn);var p=a.get(t);if(p)return p;a.set(t,r);var v=u?s?Ca:Da:s?Js:Vs,g=d?ot:v(t);return c(g||t,function(i,o){g&&(o=i,i=t[o]),Mn(r,o,Fn(i,e,n,o,t,a))}),r}function Ln(t){var e=Vs(t);return function(n){return zn(n,t,e)}}function zn(t,e,n){var i=n.length;if(null==t)return!i;for(t=du(t);i--;){var o=n[i],a=e[o],r=t[o];if(r===ot&&!(o in t)||!a(r))return!1}return!0}function Jn(t,e,n){if("function"!=typeof t)throw new pu(st);return Hd(function(){t.apply(ot,n)},e)}function qn(t,e,n,i){var o=-1,a=f,r=!0,l=t.length,s=[],c=e.length;if(!l)return s;n&&(e=v(e,O(n))),i?(a=p,r=!1):e.length>=rt&&(a=I,r=!1,e=new yn(e));t:for(;++o<l;){var u=t[o],d=null==n?u:n(u);if(u=i||0!==u?u:0,r&&d===d){for(var h=c;h--;)if(e[h]===d)continue t;s.push(u)}else a(e,d,i)||s.push(u)}return s}function Gn(t,e){var n=!0;return yd(t,function(t,i,o){return n=!!e(t,i,o)}),n}function Yn(t,e,n){for(var i=-1,o=t.length;++i<o;){var a=t[i],r=e(a);if(null!=r&&(l===ot?r===r&&!ws(r):n(r,l)))var l=r,s=a}return s}function Zn(t,e,n,i){var o=t.length;for(n=_s(n),n<0&&(n=-n>o?0:o+n),i=i===ot||i>o?o:_s(i),i<0&&(i+=o),i=n>i?0:Ss(i);n<i;)t[n++]=e;return t}function ti(t,e){var n=[];return yd(t,function(t,i,o){e(t,i,o)&&n.push(t)}),n}function ei(t,e,n,i,o){var a=-1,r=t.length;for(n||(n=Ia),o||(o=[]);++a<r;){var l=t[a];e>0&&n(l)?e>1?ei(l,e-1,n,i,o):g(o,l):i||(o[o.length]=l)}return o}function ni(t,e){return t&&wd(t,e,Vs)}function ai(t,e){return t&&Dd(t,e,Vs)}function ri(t,e){return h(e,function(e){return as(t[e])})}function si(t,e){e=So(e,t);for(var n=0,i=e.length;null!=t&&n<i;)t=t[ir(e[n++])];return n&&n==i?t:ot}function ci(t,e,n){var i=e(t);return wh(t)?i:g(i,n(t))}function di(t){return null==t?t===ot?le:Zt:Iu&&Iu in du(t)?Ea(t):$a(t)}function hi(t,e){return t>e}function bi(t,e){return null!=t&&wu.call(t,e)}function ki(t,e){return null!=t&&e in du(t)}function Pi(t,e,n){return t>=$u(e,n)&&t<Xu(e,n)}function _i(t,e,n){for(var i=n?p:f,o=t[0].length,a=t.length,r=a,l=ru(a),s=1/0,c=[];r--;){var u=t[r];r&&e&&(u=v(u,O(e))),s=$u(u.length,s),l[r]=!n&&(e||o>=120&&u.length>=120)?new yn(r&&u):ot}u=t[0];var d=-1,h=l[0];t:for(;++d<o&&c.length<s;){var g=u[d],m=e?e(g):g;if(g=n||0!==g?g:0,!(h?I(h,m):i(c,m,n))){for(r=a;--r;){var y=l[r];if(!(y?I(y,m):i(t[r],m,n)))continue t}h&&h.push(m),c.push(g)}}return c}function Si(t,e,n,i){return ni(t,function(t,o,a){e(i,n(t),o,a)}),i}function Ai(t,e,n){e=So(e,t),t=Qa(t,e);var i=null==t?t:t[ir(Pr(e))];return null==i?ot:l(i,t,n)}function Ei(t){return cs(t)&&di(t)==zt}function Ti(t){return cs(t)&&di(t)==ue}function Ri(t){return cs(t)&&di(t)==qt}function Mi(t,e,n,i,o){return t===e||(null==t||null==e||!cs(t)&&!cs(e)?t!==t&&e!==e:Hi(t,e,n,i,Mi,o))}function Hi(t,e,n,i,o,a){var r=wh(t),l=wh(e),s=r?Wt:Td(t),c=l?Wt:Td(e);s=s==zt?te:s,c=c==zt?te:c;var u=s==te,d=c==te,h=s==c;if(h&&Ch(t)){if(!Ch(e))return!1;r=!0,u=!1}if(h&&!u)return a||(a=new Dn),r||Sh(t)?ma(t,e,n,i,o,a):ya(t,e,s,n,i,o,a);if(!(n&vt)){var f=u&&wu.call(t,"__wrapped__"),p=d&&wu.call(e,"__wrapped__");if(f||p){var v=f?t.value():t,g=p?e.value():e;return a||(a=new Dn),o(v,g,n,i,a)}}return!!h&&(a||(a=new Dn),ba(t,e,n,i,o,a))}function Bi(t){return cs(t)&&Td(t)==Kt}function Oi(t,e,n,i){var o=n.length,a=o,r=!i;if(null==t)return!a;for(t=du(t);o--;){var l=n[o];if(r&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++o<a;){l=n[o];var s=l[0],c=t[s],u=l[1];if(r&&l[2]){if(c===ot&&!(s in t))return!1}else{var d=new Dn;if(i)var h=i(c,u,s,t,e,d);if(!(h===ot?Mi(u,c,vt|gt,i,d):h))return!1}}return!0}function Ni(t){return!(!ss(t)||Wa(t))&&(as(t)?_u:Xe).test(or(t))}function Ii(t){return cs(t)&&di(t)==ie}function ji(t){return cs(t)&&Td(t)==oe}function Ui(t){return cs(t)&&ls(t.length)&&!!Kn[di(t)]}function Fi(t){return"function"==typeof t?t:null==t?Bc:"object"==typeof t?wh(t)?qi(t[0],t[1]):Ji(t):zc(t)}function Li(t){if(!Va(t))return Yu(t);var e=[];for(var n in du(t))wu.call(t,n)&&"constructor"!=n&&e.push(n);return e}function zi(t){if(!ss(t))return Xa(t);var e=Va(t),n=[];for(var i in t)("constructor"!=i||!e&&wu.call(t,i))&&n.push(i);return n}function Wi(t,e){return t<e}function Vi(t,e){var n=-1,i=$l(t)?ru(t.length):[];return yd(t,function(t,o,a){i[++n]=e(t,o,a)}),i}function Ji(t){var e=Sa(t);return 1==e.length&&e[0][2]?qa(e[0][0],e[0][1]):function(n){return n===t||Oi(n,t,e)}}function qi(t,e){return Fa(t)&&Ja(e)?qa(ir(t),e):function(n){var i=Ls(n,t);return i===ot&&i===e?Ws(n,t):Mi(e,i,vt|gt)}}function Gi(t,e,n,i,o){t!==e&&wd(e,function(a,r){if(ss(a))o||(o=new Dn),Yi(t,e,r,n,Gi,i,o);else{var l=i?i(t[r],a,r+"",t,e,o):ot;l===ot&&(l=a),Rn(t,r,l)}},Js)}function Yi(t,e,n,i,o,a,r){var l=t[n],s=e[n],c=r.get(s);if(c)return void Rn(t,n,c);var u=a?a(l,s,n+"",t,e,r):ot,d=u===ot;if(d){var h=wh(s),f=!h&&Ch(s),p=!h&&!f&&Sh(s);u=s,h||f||p?wh(l)?u=l:Kl(l)?u=Lo(l):f?(d=!1,u=Eo(s,!0)):p?(d=!1,u=No(s,!0)):u=[]:ms(s)||bh(s)?(u=l,bh(l)?u=Es(l):(!ss(l)||i&&as(l))&&(u=Ba(s))):d=!1}d&&(r.set(s,u),o(u,s,i,a,r),r.delete(s)),Rn(t,n,u)}function Xi(t,e){var n=t.length;if(n)return e+=e<0?n:0,ja(e,n)?t[e]:ot}function $i(t,e,n){var i=-1;return e=v(e.length?e:[Bc],O(Pa())),R(Vi(t,function(t,n,o){return{criteria:v(e,function(e){return e(t)}),index:++i,value:t}}),function(t,e){return jo(t,e,n)})}function Ki(t,e){return Qi(t,e,function(e,n){return Ws(t,n)})}function Qi(t,e,n){for(var i=-1,o=e.length,a={};++i<o;){var r=e[i],l=si(t,r);n(l,r)&&so(a,So(r,t),l)}return a}function Zi(t){return function(e){return si(e,t)}}function to(t,e,n,i){var o=i?P:x,a=-1,r=e.length,l=t;for(t===e&&(e=Lo(e)),n&&(l=v(t,O(n)));++a<r;)for(var s=0,c=e[a],u=n?n(c):c;(s=o(l,u,s,i))>-1;)l!==t&&Bu.call(l,s,1),Bu.call(t,s,1);return t}function eo(t,e){for(var n=t?e.length:0,i=n-1;n--;){var o=e[n];if(n==i||o!==a){var a=o;ja(o)?Bu.call(t,o,1):bo(t,o)}}return t}function no(t,e){return t+Wu(Zu()*(e-t+1))}function io(t,e,n,i){for(var o=-1,a=Xu(zu((e-t)/(n||1)),0),r=ru(a);a--;)r[i?a:++o]=t,t+=n;return r}function oo(t,e){var n="";if(!t||e<1||e>Ot)return n;do{e%2&&(n+=t),(e=Wu(e/2))&&(t+=t)}while(e);return n}function ao(t,e){return Bd(Ka(t,e,Bc),t+"")}function ro(t){return An(ic(t))}function lo(t,e){var n=ic(t);return nr(n,Un(e,0,n.length))}function so(t,e,n,i){if(!ss(t))return t;e=So(e,t);for(var o=-1,a=e.length,r=a-1,l=t;null!=l&&++o<a;){var s=ir(e[o]),c=n;if(o!=r){var u=l[s];c=i?i(u,s,l):ot,c===ot&&(c=ss(u)?u:ja(e[o+1])?[]:{})}Mn(l,s,c),l=l[s]}return t}function co(t){return nr(ic(t))}function uo(t,e,n){var i=-1,o=t.length;e<0&&(e=-e>o?0:o+e),n=n>o?o:n,n<0&&(n+=o),o=e>n?0:n-e>>>0,e>>>=0;for(var a=ru(o);++i<o;)a[i]=t[i+e];return a}function ho(t,e){var n;return yd(t,function(t,i,o){return!(n=e(t,i,o))}),!!n}function fo(t,e,n){var i=0,o=null==t?i:t.length;if("number"==typeof e&&e===e&&o<=Ft){for(;i<o;){var a=i+o>>>1,r=t[a];null!==r&&!ws(r)&&(n?r<=e:r<e)?i=a+1:o=a}return o}return po(t,e,Bc,n)}function po(t,e,n,i){e=n(e);for(var o=0,a=null==t?0:t.length,r=e!==e,l=null===e,s=ws(e),c=e===ot;o<a;){var u=Wu((o+a)/2),d=n(t[u]),h=d!==ot,f=null===d,p=d===d,v=ws(d);if(r)var g=i||p;else g=c?p&&(i||h):l?p&&h&&(i||!f):s?p&&h&&!f&&(i||!v):!f&&!v&&(i?d<=e:d<e);g?o=u+1:a=u}return $u(a,Ut)}function vo(t,e){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var r=t[n],l=e?e(r):r;if(!n||!Xl(l,s)){var s=l;a[o++]=0===r?0:r}}return a}function go(t){return"number"==typeof t?t:ws(t)?It:+t}function mo(t){if("string"==typeof t)return t;if(wh(t))return v(t,mo)+"";if(ws(t))return gd?gd.call(t):"";var e=t+"";return"0"==e&&1/t==-Bt?"-0":e}function yo(t,e,n){var i=-1,o=f,a=t.length,r=!0,l=[],s=l;if(n)r=!1,o=p;else if(a>=rt){var c=e?null:_d(t);if(c)return X(c);r=!1,o=I,s=new yn}else s=e?[]:l;t:for(;++i<a;){var u=t[i],d=e?e(u):u;if(u=n||0!==u?u:0,r&&d===d){for(var h=s.length;h--;)if(s[h]===d)continue t;e&&s.push(d),l.push(u)}else o(s,d,n)||(s!==l&&s.push(d),l.push(u))}return l}function bo(t,e){return e=So(e,t),null==(t=Qa(t,e))||delete t[ir(Pr(e))]}function wo(t,e,n,i){return so(t,e,n(si(t,e)),i)}function Do(t,e,n,i){for(var o=t.length,a=i?o:-1;(i?a--:++a<o)&&e(t[a],a,t););return n?uo(t,i?0:a,i?a+1:o):uo(t,i?a+1:0,i?o:a)}function Co(t,e){var n=t;return n instanceof w&&(n=n.value()),m(e,function(t,e){return e.func.apply(e.thisArg,g([t],e.args))},n)}function ko(t,e,n){var i=t.length;if(i<2)return i?yo(t[0]):[];for(var o=-1,a=ru(i);++o<i;)for(var r=t[o],l=-1;++l<i;)l!=o&&(a[o]=qn(a[o]||r,t[l],e,n));return yo(ei(a,1),e,n)}function xo(t,e,n){for(var i=-1,o=t.length,a=e.length,r={};++i<o;){var l=i<a?e[i]:ot;n(r,t[i],l)}return r}function Po(t){return Kl(t)?t:[]}function _o(t){return"function"==typeof t?t:Bc}function So(t,e){return wh(t)?t:Fa(t,e)?[t]:Od(Rs(t))}function Ao(t,e,n){var i=t.length;return n=n===ot?i:n,!e&&n>=i?t:uo(t,e,n)}function Eo(t,e){if(e)return t.slice();var n=t.length,i=Tu?Tu(n):new t.constructor(n);return t.copy(i),i}function To(t){var e=new t.constructor(t.byteLength);return new Eu(e).set(new Eu(t)),e}function Ro(t,e){var n=e?To(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Mo(t,e,n){return m(e?n(q(t),ht):q(t),a,new t.constructor)}function Ho(t){var e=new t.constructor(t.source,qe.exec(t));return e.lastIndex=t.lastIndex,e}function Bo(t,e,n){return m(e?n(X(t),ht):X(t),r,new t.constructor)}function Oo(t){return vd?du(vd.call(t)):{}}function No(t,e){var n=e?To(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Io(t,e){if(t!==e){var n=t!==ot,i=null===t,o=t===t,a=ws(t),r=e!==ot,l=null===e,s=e===e,c=ws(e);if(!l&&!c&&!a&&t>e||a&&r&&s&&!l&&!c||i&&r&&s||!n&&s||!o)return 1;if(!i&&!a&&!c&&t<e||c&&n&&o&&!i&&!a||l&&n&&o||!r&&o||!s)return-1}return 0}function jo(t,e,n){for(var i=-1,o=t.criteria,a=e.criteria,r=o.length,l=n.length;++i<r;){var s=Io(o[i],a[i]);if(s){if(i>=l)return s;return s*("desc"==n[i]?-1:1)}}return t.index-e.index}function Uo(t,e,n,i){for(var o=-1,a=t.length,r=n.length,l=-1,s=e.length,c=Xu(a-r,0),u=ru(s+c),d=!i;++l<s;)u[l]=e[l];for(;++o<r;)(d||o<a)&&(u[n[o]]=t[o]);for(;c--;)u[l++]=t[o++];return u}function Fo(t,e,n,i){for(var o=-1,a=t.length,r=-1,l=n.length,s=-1,c=e.length,u=Xu(a-l,0),d=ru(u+c),h=!i;++o<u;)d[o]=t[o];for(var f=o;++s<c;)d[f+s]=e[s];for(;++r<l;)(h||o<a)&&(d[f+n[r]]=t[o++]);return d}function Lo(t,e){var n=-1,i=t.length;for(e||(e=ru(i));++n<i;)e[n]=t[n];return e}function zo(t,e,n,i){var o=!n;n||(n={});for(var a=-1,r=e.length;++a<r;){var l=e[a],s=i?i(n[l],t[l],l,n,t):ot;s===ot&&(s=t[l]),o?In(n,l,s):Mn(n,l,s)}return n}function Wo(t,e){return zo(t,Ad(t),e)}function Vo(t,e){return zo(t,Ed(t),e)}function Jo(t,e){return function(n,i){var o=wh(n)?s:Bn,a=e?e():{};return o(n,t,Pa(i,2),a)}}function qo(t){return ao(function(e,n){var i=-1,o=n.length,a=o>1?n[o-1]:ot,r=o>2?n[2]:ot;for(a=t.length>3&&"function"==typeof a?(o--,a):ot,r&&Ua(n[0],n[1],r)&&(a=o<3?ot:a,o=1),e=du(e);++i<o;){var l=n[i];l&&t(e,l,i,a)}return e})}function Go(t,e){return function(n,i){if(null==n)return n;if(!$l(n))return t(n,i);for(var o=n.length,a=e?o:-1,r=du(n);(e?a--:++a<o)&&!1!==i(r[a],a,r););return n}}function Yo(t){return function(e,n,i){for(var o=-1,a=du(e),r=i(e),l=r.length;l--;){var s=r[t?l:++o];if(!1===n(a[s],s,a))break}return e}}function Xo(t,e,n){function i(){return(this&&this!==li&&this instanceof i?a:t).apply(o?n:this,arguments)}var o=e&mt,a=Qo(t);return i}function $o(t){return function(e){e=Rs(e);var n=W(e)?tt(e):ot,i=n?n[0]:e.charAt(0),o=n?Ao(n,1).join(""):e.slice(1);return i[t]()+o}}function Ko(t){return function(e){return m(Ec(cc(e).replace(Wn,"")),t,"")}}function Qo(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=md(t.prototype),i=t.apply(n,e);return ss(i)?i:n}}function Zo(t,e,n){function i(){for(var a=arguments.length,r=ru(a),s=a,c=xa(i);s--;)r[s]=arguments[s];var u=a<3&&r[0]!==c&&r[a-1]!==c?[]:Y(r,c);return(a-=u.length)<n?ua(t,e,na,i.placeholder,ot,r,u,ot,ot,n-a):l(this&&this!==li&&this instanceof i?o:t,this,r)}var o=Qo(t);return i}function ta(t){return function(e,n,i){var o=du(e);if(!$l(e)){var a=Pa(n,3);e=Vs(e),n=function(t){return a(o[t],t,o)}}var r=t(e,n,i);return r>-1?o[a?e[r]:r]:ot}}function ea(t){return wa(function(e){var n=e.length,i=n,a=o.prototype.thru;for(t&&e.reverse();i--;){var r=e[i];if("function"!=typeof r)throw new pu(st);if(a&&!l&&"wrapper"==ka(r))var l=new o([],!0)}for(i=l?i:n;++i<n;){r=e[i];var s=ka(r),c="wrapper"==s?Sd(r):ot;l=c&&za(c[0])&&c[1]==(xt|wt|Ct|Pt)&&!c[4].length&&1==c[9]?l[ka(c[0])].apply(l,c[3]):1==r.length&&za(r)?l[s]():l.thru(r)}return function(){var t=arguments,i=t[0];if(l&&1==t.length&&wh(i))return l.plant(i).value();for(var o=0,a=n?e[o].apply(this,t):i;++o<n;)a=e[o].call(this,a);return a}})}function na(t,e,n,i,o,a,r,l,s,c){function u(){for(var m=arguments.length,y=ru(m),b=m;b--;)y[b]=arguments[b];if(p)var w=xa(u),D=F(y,w);if(i&&(y=Uo(y,i,o,p)),a&&(y=Fo(y,a,r,p)),m-=D,p&&m<c){var C=Y(y,w);return ua(t,e,na,u.placeholder,n,y,C,l,s,c-m)}var k=h?n:this,x=f?k[t]:t;return m=y.length,l?y=Za(y,l):v&&m>1&&y.reverse(),d&&s<m&&(y.length=s),this&&this!==li&&this instanceof u&&(x=g||Qo(x)),x.apply(k,y)}var d=e&xt,h=e&mt,f=e&yt,p=e&(wt|Dt),v=e&_t,g=f?ot:Qo(t);return u}function ia(t,e){return function(n,i){return Si(n,t,e(i),{})}}function oa(t,e){return function(n,i){var o;if(n===ot&&i===ot)return e;if(n!==ot&&(o=n),i!==ot){if(o===ot)return i;"string"==typeof n||"string"==typeof i?(n=mo(n),i=mo(i)):(n=go(n),i=go(i)),o=t(n,i)}return o}}function aa(t){return wa(function(e){return e=v(e,O(Pa())),ao(function(n){var i=this;return t(e,function(t){return l(t,i,n)})})})}function ra(t,e){e=e===ot?" ":mo(e);var n=e.length;if(n<2)return n?oo(e,t):e;var i=oo(e,zu(t/Z(e)));return W(e)?Ao(tt(i),0,t).join(""):i.slice(0,t)}function la(t,e,n,i){function o(){for(var e=-1,s=arguments.length,c=-1,u=i.length,d=ru(u+s),h=this&&this!==li&&this instanceof o?r:t;++c<u;)d[c]=i[c];for(;s--;)d[c++]=arguments[++e];return l(h,a?n:this,d)}var a=e&mt,r=Qo(t);return o}function sa(t){return function(e,n,i){return i&&"number"!=typeof i&&Ua(e,n,i)&&(n=i=ot),e=Ps(e),n===ot?(n=e,e=0):n=Ps(n),i=i===ot?e<n?1:-1:Ps(i),io(e,n,i,t)}}function ca(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=As(e),n=As(n)),t(e,n)}}function ua(t,e,n,i,o,a,r,l,s,c){var u=e&wt,d=u?r:ot,h=u?ot:r,f=u?a:ot,p=u?ot:a;e|=u?Ct:kt,(e&=~(u?kt:Ct))&bt||(e&=~(mt|yt));var v=[t,e,o,f,d,p,h,l,s,c],g=n.apply(ot,v);return za(t)&&Md(g,v),g.placeholder=i,tr(g,t,e)}function da(t){var e=uu[t];return function(t,n){if(t=As(t),n=null==n?0:$u(_s(n),292)){var i=(Rs(t)+"e").split("e");return i=(Rs(e(i[0]+"e"+(+i[1]+n)))+"e").split("e"),+(i[0]+"e"+(+i[1]-n))}return e(t)}}function ha(t){return function(e){var n=Td(e);return n==Kt?q(e):n==oe?$(e):B(e,t(e))}}function fa(t,e,n,i,o,a,r,l){var s=e&yt;if(!s&&"function"!=typeof t)throw new pu(st);var c=i?i.length:0;if(c||(e&=~(Ct|kt),i=o=ot),r=r===ot?r:Xu(_s(r),0),l=l===ot?l:_s(l),c-=o?o.length:0,e&kt){var u=i,d=o;i=o=ot}var h=s?ot:Sd(t),f=[t,e,n,i,o,u,d,a,r,l];if(h&&Ya(f,h),t=f[0],e=f[1],n=f[2],i=f[3],o=f[4],l=f[9]=f[9]===ot?s?0:t.length:Xu(f[9]-c,0),!l&&e&(wt|Dt)&&(e&=~(wt|Dt)),e&&e!=mt)p=e==wt||e==Dt?Zo(t,e,l):e!=Ct&&e!=(mt|Ct)||o.length?na.apply(ot,f):la(t,e,n,i);else var p=Xo(t,e,n);return tr((h?Cd:Md)(p,f),t,e)}function pa(t,e,n,i){return t===ot||Xl(t,mu[n])&&!wu.call(i,n)?e:t}function va(t,e,n,i,o,a){return ss(t)&&ss(e)&&(a.set(e,t),Gi(t,e,ot,va,a),a.delete(e)),t}function ga(t){return ms(t)?ot:t}function ma(t,e,n,i,o,a){var r=n&vt,l=t.length,s=e.length;if(l!=s&&!(r&&s>l))return!1;var c=a.get(t);if(c&&a.get(e))return c==e;var u=-1,d=!0,h=n&gt?new yn:ot;for(a.set(t,e),a.set(e,t);++u<l;){var f=t[u],p=e[u];if(i)var v=r?i(p,f,u,e,t,a):i(f,p,u,t,e,a);if(v!==ot){if(v)continue;d=!1;break}if(h){if(!b(e,function(t,e){if(!I(h,e)&&(f===t||o(f,t,n,i,a)))return h.push(e)})){d=!1;break}}else if(f!==p&&!o(f,p,n,i,a)){d=!1;break}}return a.delete(t),a.delete(e),d}function ya(t,e,n,i,o,a,r){switch(n){case de:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case ue:return!(t.byteLength!=e.byteLength||!a(new Eu(t),new Eu(e)));case Jt:case qt:case Qt:return Xl(+t,+e);case Yt:return t.name==e.name&&t.message==e.message;case ie:case ae:return t==e+"";case Kt:var l=q;case oe:var s=i&vt;if(l||(l=X),t.size!=e.size&&!s)return!1;var c=r.get(t);if(c)return c==e;i|=gt,r.set(t,e);var u=ma(l(t),l(e),i,o,a,r);return r.delete(t),u;case re:if(vd)return vd.call(t)==vd.call(e)}return!1}function ba(t,e,n,i,o,a){var r=n&vt,l=Da(t),s=l.length;if(s!=Da(e).length&&!r)return!1;for(var c=s;c--;){var u=l[c];if(!(r?u in e:wu.call(e,u)))return!1}var d=a.get(t);if(d&&a.get(e))return d==e;var h=!0;a.set(t,e),a.set(e,t);for(var f=r;++c<s;){u=l[c];var p=t[u],v=e[u];if(i)var g=r?i(v,p,u,e,t,a):i(p,v,u,t,e,a);if(!(g===ot?p===v||o(p,v,n,i,a):g)){h=!1;break}f||(f="constructor"==u)}if(h&&!f){var m=t.constructor,y=e.constructor;m!=y&&"constructor"in t&&"constructor"in e&&!("function"==typeof m&&m instanceof m&&"function"==typeof y&&y instanceof y)&&(h=!1)}return a.delete(t),a.delete(e),h}function wa(t){return Bd(Ka(t,ot,mr),t+"")}function Da(t){return ci(t,Vs,Ad)}function Ca(t){return ci(t,Js,Ed)}function ka(t){for(var e=t.name+"",n=sd[e],i=wu.call(sd,e)?n.length:0;i--;){var o=n[i],a=o.func;if(null==a||a==t)return o.name}return e}function xa(t){return(wu.call(n,"placeholder")?n:t).placeholder}function Pa(){var t=n.iteratee||Oc;return t=t===Oc?Fi:t,arguments.length?t(arguments[0],arguments[1]):t}function _a(t,e){var n=t.__data__;return La(e)?n["string"==typeof e?"string":"hash"]:n.map}function Sa(t){for(var e=Vs(t),n=e.length;n--;){var i=e[n],o=t[i];e[n]=[i,o,Ja(o)]}return e}function Aa(t,e){var n=z(t,e);return Ni(n)?n:ot}function Ea(t){var e=wu.call(t,Iu),n=t[Iu];try{t[Iu]=ot;var i=!0}catch(t){}var o=ku.call(t);return i&&(e?t[Iu]=n:delete t[Iu]),o}function Ta(t,e,n){for(var i=-1,o=n.length;++i<o;){var a=n[i],r=a.size;switch(a.type){case"drop":t+=r;break;case"dropRight":e-=r;break;case"take":e=$u(e,t+r);break;case"takeRight":t=Xu(t,e-r)}}return{start:t,end:e}}function Ra(t){var e=t.match(Le);return e?e[1].split(ze):[]}function Ma(t,e,n){e=So(e,t);for(var i=-1,o=e.length,a=!1;++i<o;){var r=ir(e[i]);if(!(a=null!=t&&n(t,r)))break;t=t[r]}return a||++i!=o?a:!!(o=null==t?0:t.length)&&ls(o)&&ja(r,o)&&(wh(t)||bh(t))}function Ha(t){var e=t.length,n=t.constructor(e);return e&&"string"==typeof t[0]&&wu.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Ba(t){return"function"!=typeof t.constructor||Va(t)?{}:md(Ru(t))}function Oa(t,e,n,i){var o=t.constructor;switch(e){case ue:return To(t);case Jt:case qt:return new o(+t);case de:return Ro(t,i);case he:case fe:case pe:case ve:case ge:case me:case ye:case be:case we:return No(t,i);case Kt:return Mo(t,i,n);case Qt:case ae:return new o(t);case ie:return Ho(t);case oe:return Bo(t,i,n);case re:return Oo(t)}}function Na(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(Fe,"{\n/* [wrapped with "+e+"] */\n")}function Ia(t){return wh(t)||bh(t)||!!(Ou&&t&&t[Ou])}function ja(t,e){return!!(e=null==e?Ot:e)&&("number"==typeof t||Ke.test(t))&&t>-1&&t%1==0&&t<e}function Ua(t,e,n){if(!ss(n))return!1;var i=typeof e;return!!("number"==i?$l(n)&&ja(e,n.length):"string"==i&&e in n)&&Xl(n[e],t)}function Fa(t,e){if(wh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!ws(t))||(Me.test(t)||!Re.test(t)||null!=e&&t in du(e))}function La(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function za(t){var e=ka(t),i=n[e];if("function"!=typeof i||!(e in w.prototype))return!1;if(t===i)return!0;var o=Sd(i);return!!o&&t===o[0]}function Wa(t){return!!Cu&&Cu in t}function Va(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||mu)}function Ja(t){return t===t&&!ss(t)}function qa(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==ot||t in du(n)))}}function Ga(t){var e=Ol(t,function(t){return n.size===ut&&n.clear(),t}),n=e.cache;return e}function Ya(t,e){var n=t[1],i=e[1],o=n|i,a=o<(mt|yt|xt),r=i==xt&&n==wt||i==xt&&n==Pt&&t[7].length<=e[8]||i==(xt|Pt)&&e[7].length<=e[8]&&n==wt;if(!a&&!r)return t;i&mt&&(t[2]=e[2],o|=n&mt?0:bt);var l=e[3];if(l){var s=t[3];t[3]=s?Uo(s,l,e[4]):l,t[4]=s?Y(t[3],dt):e[4]}return l=e[5],l&&(s=t[5],t[5]=s?Fo(s,l,e[6]):l,t[6]=s?Y(t[5],dt):e[6]),l=e[7],l&&(t[7]=l),i&xt&&(t[8]=null==t[8]?e[8]:$u(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=o,t}function Xa(t){var e=[];if(null!=t)for(var n in du(t))e.push(n);return e}function $a(t){return ku.call(t)}function Ka(t,e,n){return e=Xu(e===ot?t.length-1:e,0),function(){for(var i=arguments,o=-1,a=Xu(i.length-e,0),r=ru(a);++o<a;)r[o]=i[e+o];o=-1;for(var s=ru(e+1);++o<e;)s[o]=i[o];return s[e]=n(r),l(t,this,s)}}function Qa(t,e){return e.length<2?t:si(t,uo(e,0,-1))}function Za(t,e){for(var n=t.length,i=$u(e.length,n),o=Lo(t);i--;){var a=e[i];t[i]=ja(a,n)?o[a]:ot}return t}function tr(t,e,n){var i=e+"";return Bd(t,Na(i,ar(Ra(i),n)))}function er(t){var e=0,n=0;return function(){var i=Ku(),o=Tt-(i-n);if(n=i,o>0){if(++e>=Et)return arguments[0]}else e=0;return t.apply(ot,arguments)}}function nr(t,e){var n=-1,i=t.length,o=i-1;for(e=e===ot?i:e;++n<e;){var a=no(n,o),r=t[a];t[a]=t[n],t[n]=r}return t.length=e,t}function ir(t){if("string"==typeof t||ws(t))return t;var e=t+"";return"0"==e&&1/t==-Bt?"-0":e}function or(t){if(null!=t){try{return bu.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function ar(t,e){return c(Lt,function(n){var i="_."+n[0];e&n[1]&&!f(t,i)&&t.push(i)}),t.sort()}function rr(t){if(t instanceof w)return t.clone();var e=new o(t.__wrapped__,t.__chain__);return e.__actions__=Lo(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function lr(t,e,n){e=(n?Ua(t,e,n):e===ot)?1:Xu(_s(e),0);var i=null==t?0:t.length;if(!i||e<1)return[];for(var o=0,a=0,r=ru(zu(i/e));o<i;)r[a++]=uo(t,o,o+=e);return r}function sr(t){for(var e=-1,n=null==t?0:t.length,i=0,o=[];++e<n;){var a=t[e];a&&(o[i++]=a)}return o}function cr(){var t=arguments.length;if(!t)return[];for(var e=ru(t-1),n=arguments[0],i=t;i--;)e[i-1]=arguments[i];return g(wh(n)?Lo(n):[n],ei(e,1))}function ur(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===ot?1:_s(e),uo(t,e<0?0:e,i)):[]}function dr(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===ot?1:_s(e),e=i-e,uo(t,0,e<0?0:e)):[]}function hr(t,e){return t&&t.length?Do(t,Pa(e,3),!0,!0):[]}function fr(t,e){return t&&t.length?Do(t,Pa(e,3),!0):[]}function pr(t,e,n,i){var o=null==t?0:t.length;return o?(n&&"number"!=typeof n&&Ua(t,e,n)&&(n=0,i=o),Zn(t,e,n,i)):[]}function vr(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:_s(n);return o<0&&(o=Xu(i+o,0)),k(t,Pa(e,3),o)}function gr(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i-1;return n!==ot&&(o=_s(n),o=n<0?Xu(i+o,0):$u(o,i-1)),k(t,Pa(e,3),o,!0)}function mr(t){return(null==t?0:t.length)?ei(t,1):[]}function yr(t){return(null==t?0:t.length)?ei(t,Bt):[]}function br(t,e){return(null==t?0:t.length)?(e=e===ot?1:_s(e),ei(t,e)):[]}function wr(t){for(var e=-1,n=null==t?0:t.length,i={};++e<n;){var o=t[e];i[o[0]]=o[1]}return i}function Dr(t){return t&&t.length?t[0]:ot}function Cr(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=null==n?0:_s(n);return o<0&&(o=Xu(i+o,0)),x(t,e,o)}function kr(t){return(null==t?0:t.length)?uo(t,0,-1):[]}function xr(t,e){return null==t?"":Gu.call(t,e)}function Pr(t){var e=null==t?0:t.length;return e?t[e-1]:ot}function _r(t,e,n){var i=null==t?0:t.length;if(!i)return-1;var o=i;return n!==ot&&(o=_s(n),o=o<0?Xu(i+o,0):$u(o,i-1)),e===e?Q(t,e,o):k(t,_,o,!0)}function Sr(t,e){return t&&t.length?Xi(t,_s(e)):ot}function Ar(t,e){return t&&t.length&&e&&e.length?to(t,e):t}function Er(t,e,n){return t&&t.length&&e&&e.length?to(t,e,Pa(n,2)):t}function Tr(t,e,n){return t&&t.length&&e&&e.length?to(t,e,ot,n):t}function Rr(t,e){var n=[];if(!t||!t.length)return n;var i=-1,o=[],a=t.length;for(e=Pa(e,3);++i<a;){var r=t[i];e(r,i,t)&&(n.push(r),o.push(i))}return eo(t,o),n}function Mr(t){return null==t?t:td.call(t)}function Hr(t,e,n){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Ua(t,e,n)?(e=0,n=i):(e=null==e?0:_s(e),n=n===ot?i:_s(n)),uo(t,e,n)):[]}function Br(t,e){return fo(t,e)}function Or(t,e,n){return po(t,e,Pa(n,2))}function Nr(t,e){var n=null==t?0:t.length;if(n){var i=fo(t,e);if(i<n&&Xl(t[i],e))return i}return-1}function Ir(t,e){return fo(t,e,!0)}function jr(t,e,n){return po(t,e,Pa(n,2),!0)}function Ur(t,e){if(null==t?0:t.length){var n=fo(t,e,!0)-1;if(Xl(t[n],e))return n}return-1}function Fr(t){return t&&t.length?vo(t):[]}function Lr(t,e){return t&&t.length?vo(t,Pa(e,2)):[]}function zr(t){var e=null==t?0:t.length;return e?uo(t,1,e):[]}function Wr(t,e,n){return t&&t.length?(e=n||e===ot?1:_s(e),uo(t,0,e<0?0:e)):[]}function Vr(t,e,n){var i=null==t?0:t.length;return i?(e=n||e===ot?1:_s(e),e=i-e,uo(t,e<0?0:e,i)):[]}function Jr(t,e){return t&&t.length?Do(t,Pa(e,3),!1,!0):[]}function qr(t,e){return t&&t.length?Do(t,Pa(e,3)):[]}function Gr(t){return t&&t.length?yo(t):[]}function Yr(t,e){return t&&t.length?yo(t,Pa(e,2)):[]}function Xr(t,e){return e="function"==typeof e?e:ot,t&&t.length?yo(t,ot,e):[]}function $r(t){if(!t||!t.length)return[];var e=0;return t=h(t,function(t){if(Kl(t))return e=Xu(t.length,e),!0}),H(e,function(e){return v(t,A(e))})}function Kr(t,e){if(!t||!t.length)return[];var n=$r(t);return null==e?n:v(n,function(t){return l(e,ot,t)})}function Qr(t,e){return xo(t||[],e||[],Mn)}function Zr(t,e){return xo(t||[],e||[],so)}function tl(t){var e=n(t);return e.__chain__=!0,e}function el(t,e){return e(t),t}function nl(t,e){return e(t)}function il(){return tl(this)}function ol(){return new o(this.value(),this.__chain__)}function al(){this.__values__===ot&&(this.__values__=xs(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?ot:this.__values__[this.__index__++]}}function rl(){return this}function ll(t){for(var e,n=this;n instanceof i;){var o=rr(n);o.__index__=0,o.__values__=ot,e?a.__wrapped__=o:e=o;var a=o;n=n.__wrapped__}return a.__wrapped__=t,e}function sl(){var t=this.__wrapped__;if(t instanceof w){var e=t;return this.__actions__.length&&(e=new w(this)),e=e.reverse(),e.__actions__.push({func:nl,args:[Mr],thisArg:ot}),new o(e,this.__chain__)}return this.thru(Mr)}function cl(){return Co(this.__wrapped__,this.__actions__)}function ul(t,e,n){var i=wh(t)?d:Gn;return n&&Ua(t,e,n)&&(e=ot),i(t,Pa(e,3))}function dl(t,e){return(wh(t)?h:ti)(t,Pa(e,3))}function hl(t,e){return ei(yl(t,e),1)}function fl(t,e){return ei(yl(t,e),Bt)}function pl(t,e,n){return n=n===ot?1:_s(n),ei(yl(t,e),n)}function vl(t,e){return(wh(t)?c:yd)(t,Pa(e,3))}function gl(t,e){return(wh(t)?u:bd)(t,Pa(e,3))}function ml(t,e,n,i){t=$l(t)?t:ic(t),n=n&&!i?_s(n):0;var o=t.length;return n<0&&(n=Xu(o+n,0)),bs(t)?n<=o&&t.indexOf(e,n)>-1:!!o&&x(t,e,n)>-1}function yl(t,e){return(wh(t)?v:Vi)(t,Pa(e,3))}function bl(t,e,n,i){return null==t?[]:(wh(e)||(e=null==e?[]:[e]),n=i?ot:n,wh(n)||(n=null==n?[]:[n]),$i(t,e,n))}function wl(t,e,n){var i=wh(t)?m:T,o=arguments.length<3;return i(t,Pa(e,4),n,o,yd)}function Dl(t,e,n){var i=wh(t)?y:T,o=arguments.length<3;return i(t,Pa(e,4),n,o,bd)}function Cl(t,e){return(wh(t)?h:ti)(t,Nl(Pa(e,3)))}function kl(t){return(wh(t)?An:ro)(t)}function xl(t,e,n){return e=(n?Ua(t,e,n):e===ot)?1:_s(e),(wh(t)?En:lo)(t,e)}function Pl(t){return(wh(t)?Tn:co)(t)}function _l(t){if(null==t)return 0;if($l(t))return bs(t)?Z(t):t.length;var e=Td(t);return e==Kt||e==oe?t.size:Li(t).length}function Sl(t,e,n){var i=wh(t)?b:ho;return n&&Ua(t,e,n)&&(e=ot),i(t,Pa(e,3))}function Al(t,e){if("function"!=typeof e)throw new pu(st);return t=_s(t),function(){if(--t<1)return e.apply(this,arguments)}}function El(t,e,n){return e=n?ot:e,e=t&&null==e?t.length:e,fa(t,xt,ot,ot,ot,ot,e)}function Tl(t,e){var n;if("function"!=typeof e)throw new pu(st);return t=_s(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=ot),n}}function Rl(t,e,n){e=n?ot:e;var i=fa(t,wt,ot,ot,ot,ot,ot,e);return i.placeholder=Rl.placeholder,i}function Ml(t,e,n){e=n?ot:e;var i=fa(t,Dt,ot,ot,ot,ot,ot,e);return i.placeholder=Ml.placeholder,i}function Hl(t,e,n){function i(e){var n=h,i=f;return h=f=ot,y=e,v=t.apply(i,n)}function o(t){return y=t,g=Hd(l,e),b?i(t):v}function a(t){var n=t-m,i=t-y,o=e-n;return w?$u(o,p-i):o}function r(t){var n=t-m,i=t-y;return m===ot||n>=e||n<0||w&&i>=p}function l(){var t=sh();if(r(t))return s(t);g=Hd(l,a(t))}function s(t){return g=ot,D&&h?i(t):(h=f=ot,v)}function c(){g!==ot&&Pd(g),y=0,h=m=f=g=ot}function u(){return g===ot?v:s(sh())}function d(){var t=sh(),n=r(t);if(h=arguments,f=this,m=t,n){if(g===ot)return o(m);if(w)return g=Hd(l,e),i(m)}return g===ot&&(g=Hd(l,e)),v}var h,f,p,v,g,m,y=0,b=!1,w=!1,D=!0;if("function"!=typeof t)throw new pu(st);return e=As(e)||0,ss(n)&&(b=!!n.leading,w="maxWait"in n,p=w?Xu(As(n.maxWait)||0,e):p,D="trailing"in n?!!n.trailing:D),d.cancel=c,d.flush=u,d}function Bl(t){return fa(t,_t)}function Ol(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new pu(st);var n=function(){var i=arguments,o=e?e.apply(this,i):i[0],a=n.cache;if(a.has(o))return a.get(o);var r=t.apply(this,i);return n.cache=a.set(o,r)||a,r};return n.cache=new(Ol.Cache||hn),n}function Nl(t){if("function"!=typeof t)throw new pu(st);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function Il(t){return Tl(2,t)}function jl(t,e){if("function"!=typeof t)throw new pu(st);return e=e===ot?e:_s(e),ao(t,e)}function Ul(t,e){if("function"!=typeof t)throw new pu(st);return e=null==e?0:Xu(_s(e),0),ao(function(n){var i=n[e],o=Ao(n,0,e);return i&&g(o,i),l(t,this,o)})}function Fl(t,e,n){var i=!0,o=!0;if("function"!=typeof t)throw new pu(st);return ss(n)&&(i="leading"in n?!!n.leading:i,o="trailing"in n?!!n.trailing:o),Hl(t,e,{leading:i,maxWait:e,trailing:o})}function Ll(t){return El(t,1)}function zl(t,e){return ph(_o(e),t)}function Wl(){if(!arguments.length)return[];var t=arguments[0];return wh(t)?t:[t]}function Vl(t){return Fn(t,pt)}function Jl(t,e){return e="function"==typeof e?e:ot,Fn(t,pt,e)}function ql(t){return Fn(t,ht|pt)}function Gl(t,e){return e="function"==typeof e?e:ot,Fn(t,ht|pt,e)}function Yl(t,e){return null==e||zn(t,e,Vs(e))}function Xl(t,e){return t===e||t!==t&&e!==e}function $l(t){return null!=t&&ls(t.length)&&!as(t)}function Kl(t){return cs(t)&&$l(t)}function Ql(t){return!0===t||!1===t||cs(t)&&di(t)==Jt}function Zl(t){return cs(t)&&1===t.nodeType&&!ms(t)}function ts(t){if(null==t)return!0;if($l(t)&&(wh(t)||"string"==typeof t||"function"==typeof t.splice||Ch(t)||Sh(t)||bh(t)))return!t.length;var e=Td(t);if(e==Kt||e==oe)return!t.size;if(Va(t))return!Li(t).length;for(var n in t)if(wu.call(t,n))return!1;return!0}function es(t,e){return Mi(t,e)}function ns(t,e,n){n="function"==typeof n?n:ot;var i=n?n(t,e):ot;return i===ot?Mi(t,e,ot,n):!!i}function is(t){if(!cs(t))return!1;var e=di(t);return e==Yt||e==Gt||"string"==typeof t.message&&"string"==typeof t.name&&!ms(t)}function os(t){return"number"==typeof t&&qu(t)}function as(t){if(!ss(t))return!1;var e=di(t);return e==Xt||e==$t||e==Vt||e==ne}function rs(t){return"number"==typeof t&&t==_s(t)}function ls(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Ot}function ss(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function cs(t){return null!=t&&"object"==typeof t}function us(t,e){return t===e||Oi(t,e,Sa(e))}function ds(t,e,n){return n="function"==typeof n?n:ot,Oi(t,e,Sa(e),n)}function hs(t){return gs(t)&&t!=+t}function fs(t){if(Rd(t))throw new su(lt);return Ni(t)}function ps(t){return null===t}function vs(t){return null==t}function gs(t){return"number"==typeof t||cs(t)&&di(t)==Qt}function ms(t){if(!cs(t)||di(t)!=te)return!1;var e=Ru(t);if(null===e)return!0;var n=wu.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&bu.call(n)==xu}function ys(t){return rs(t)&&t>=-Ot&&t<=Ot}function bs(t){return"string"==typeof t||!wh(t)&&cs(t)&&di(t)==ae}function ws(t){return"symbol"==typeof t||cs(t)&&di(t)==re}function Ds(t){return t===ot}function Cs(t){return cs(t)&&Td(t)==se}function ks(t){return cs(t)&&di(t)==ce}function xs(t){if(!t)return[];if($l(t))return bs(t)?tt(t):Lo(t);if(Nu&&t[Nu])return J(t[Nu]());var e=Td(t);return(e==Kt?q:e==oe?X:ic)(t)}function Ps(t){if(!t)return 0===t?t:0;if((t=As(t))===Bt||t===-Bt){return(t<0?-1:1)*Nt}return t===t?t:0}function _s(t){var e=Ps(t),n=e%1;return e===e?n?e-n:e:0}function Ss(t){return t?Un(_s(t),0,jt):0}function As(t){if("number"==typeof t)return t;if(ws(t))return It;if(ss(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=ss(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Ie,"");var n=Ye.test(t);return n||$e.test(t)?oi(t.slice(2),n?2:8):Ge.test(t)?It:+t}function Es(t){return zo(t,Js(t))}function Ts(t){return t?Un(_s(t),-Ot,Ot):0===t?t:0}function Rs(t){return null==t?"":mo(t)}function Ms(t,e){var n=md(t);return null==e?n:On(n,e)}function Hs(t,e){return C(t,Pa(e,3),ni)}function Bs(t,e){return C(t,Pa(e,3),ai)}function Os(t,e){return null==t?t:wd(t,Pa(e,3),Js)}function Ns(t,e){return null==t?t:Dd(t,Pa(e,3),Js)}function Is(t,e){return t&&ni(t,Pa(e,3))}function js(t,e){return t&&ai(t,Pa(e,3))}function Us(t){return null==t?[]:ri(t,Vs(t))}function Fs(t){return null==t?[]:ri(t,Js(t))}function Ls(t,e,n){var i=null==t?ot:si(t,e);return i===ot?n:i}function zs(t,e){return null!=t&&Ma(t,e,bi)}function Ws(t,e){return null!=t&&Ma(t,e,ki)}function Vs(t){return $l(t)?Sn(t):Li(t)}function Js(t){return $l(t)?Sn(t,!0):zi(t)}function qs(t,e){var n={};return e=Pa(e,3),ni(t,function(t,i,o){In(n,e(t,i,o),t)}),n}function Gs(t,e){var n={};return e=Pa(e,3),ni(t,function(t,i,o){In(n,i,e(t,i,o))}),n}function Ys(t,e){return Xs(t,Nl(Pa(e)))}function Xs(t,e){if(null==t)return{};var n=v(Ca(t),function(t){return[t]});return e=Pa(e),Qi(t,n,function(t,n){return e(t,n[0])})}function $s(t,e,n){e=So(e,t);var i=-1,o=e.length;for(o||(o=1,t=ot);++i<o;){var a=null==t?ot:t[ir(e[i])];a===ot&&(i=o,a=n),t=as(a)?a.call(t):a}return t}function Ks(t,e,n){return null==t?t:so(t,e,n)}function Qs(t,e,n,i){return i="function"==typeof i?i:ot,null==t?t:so(t,e,n,i)}function Zs(t,e,n){var i=wh(t),o=i||Ch(t)||Sh(t);if(e=Pa(e,4),null==n){var a=t&&t.constructor;n=o?i?new a:[]:ss(t)&&as(a)?md(Ru(t)):{}}return(o?c:ni)(t,function(t,i,o){return e(n,t,i,o)}),n}function tc(t,e){return null==t||bo(t,e)}function ec(t,e,n){return null==t?t:wo(t,e,_o(n))}function nc(t,e,n,i){return i="function"==typeof i?i:ot,null==t?t:wo(t,e,_o(n),i)}function ic(t){return null==t?[]:N(t,Vs(t))}function oc(t){return null==t?[]:N(t,Js(t))}function ac(t,e,n){return n===ot&&(n=e,e=ot),n!==ot&&(n=As(n),n=n===n?n:0),e!==ot&&(e=As(e),e=e===e?e:0),Un(As(t),e,n)}function rc(t,e,n){return e=Ps(e),n===ot?(n=e,e=0):n=Ps(n),t=As(t),Pi(t,e,n)}function lc(t,e,n){if(n&&"boolean"!=typeof n&&Ua(t,e,n)&&(e=n=ot),n===ot&&("boolean"==typeof e?(n=e,e=ot):"boolean"==typeof t&&(n=t,t=ot)),t===ot&&e===ot?(t=0,e=1):(t=Ps(t),e===ot?(e=t,t=0):e=Ps(e)),t>e){var i=t;t=e,e=i}if(n||t%1||e%1){var o=Zu();return $u(t+o*(e-t+ii("1e-"+((o+"").length-1))),e)}return no(t,e)}function sc(t){return Zh(Rs(t).toLowerCase())}function cc(t){return(t=Rs(t))&&t.replace(Qe,wi).replace(Vn,"")}function uc(t,e,n){t=Rs(t),e=mo(e);var i=t.length;n=n===ot?i:Un(_s(n),0,i);var o=n;return(n-=e.length)>=0&&t.slice(n,o)==e}function dc(t){return t=Rs(t),t&&Se.test(t)?t.replace(Pe,Di):t}function hc(t){return t=Rs(t),t&&Ne.test(t)?t.replace(Oe,"\\$&"):t}function fc(t,e,n){t=Rs(t),e=_s(e);var i=e?Z(t):0;if(!e||i>=e)return t;var o=(e-i)/2;return ra(Wu(o),n)+t+ra(zu(o),n)}function pc(t,e,n){t=Rs(t),e=_s(e);var i=e?Z(t):0;return e&&i<e?t+ra(e-i,n):t}function vc(t,e,n){t=Rs(t),e=_s(e);var i=e?Z(t):0;return e&&i<e?ra(e-i,n)+t:t}function gc(t,e,n){return n||null==e?e=0:e&&(e=+e),Qu(Rs(t).replace(je,""),e||0)}function mc(t,e,n){return e=(n?Ua(t,e,n):e===ot)?1:_s(e),oo(Rs(t),e)}function yc(){var t=arguments,e=Rs(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function bc(t,e,n){return n&&"number"!=typeof n&&Ua(t,e,n)&&(e=n=ot),(n=n===ot?jt:n>>>0)?(t=Rs(t),t&&("string"==typeof e||null!=e&&!Ph(e))&&!(e=mo(e))&&W(t)?Ao(tt(t),0,n):t.split(e,n)):[]}function wc(t,e,n){return t=Rs(t),n=null==n?0:Un(_s(n),0,t.length),e=mo(e),t.slice(n,n+e.length)==e}function Dc(t,e,i){var o=n.templateSettings;i&&Ua(t,e,i)&&(e=ot),t=Rs(t),e=Mh({},e,o,pa);var a,r,l=Mh({},e.imports,o.imports,pa),s=Vs(l),c=N(l,s),u=0,d=e.interpolate||Ze,h="__p += '",f=hu((e.escape||Ze).source+"|"+d.source+"|"+(d===Te?Je:Ze).source+"|"+(e.evaluate||Ze).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++$n+"]")+"\n";t.replace(f,function(e,n,i,o,l,s){return i||(i=o),h+=t.slice(u,s).replace(tn,L),n&&(a=!0,h+="' +\n__e("+n+") +\n'"),l&&(r=!0,h+="';\n"+l+";\n__p += '"),i&&(h+="' +\n((__t = ("+i+")) == null ? '' : __t) +\n'"),u=s+e.length,e}),h+="';\n";var v=e.variable;v||(h="with (obj) {\n"+h+"\n}\n"),h=(r?h.replace(De,""):h).replace(Ce,"$1").replace(ke,"$1;"),h="function("+(v||"obj")+") {\n"+(v?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(r?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var g=tf(function(){return cu(s,p+"return "+h).apply(ot,c)});if(g.source=h,is(g))throw g;return g}function Cc(t){return Rs(t).toLowerCase()}function kc(t){return Rs(t).toUpperCase()}function xc(t,e,n){if((t=Rs(t))&&(n||e===ot))return t.replace(Ie,"");if(!t||!(e=mo(e)))return t;var i=tt(t),o=tt(e);return Ao(i,j(i,o),U(i,o)+1).join("")}function Pc(t,e,n){if((t=Rs(t))&&(n||e===ot))return t.replace(Ue,"");if(!t||!(e=mo(e)))return t;var i=tt(t);return Ao(i,0,U(i,tt(e))+1).join("")}function _c(t,e,n){if((t=Rs(t))&&(n||e===ot))return t.replace(je,"");if(!t||!(e=mo(e)))return t;var i=tt(t);return Ao(i,j(i,tt(e))).join("")}function Sc(t,e){var n=St,i=At;if(ss(e)){var o="separator"in e?e.separator:o;n="length"in e?_s(e.length):n,i="omission"in e?mo(e.omission):i}t=Rs(t);var a=t.length;if(W(t)){var r=tt(t);a=r.length}if(n>=a)return t;var l=n-Z(i);if(l<1)return i;var s=r?Ao(r,0,l).join(""):t.slice(0,l);if(o===ot)return s+i;if(r&&(l+=s.length-l),Ph(o)){if(t.slice(l).search(o)){var c,u=s;for(o.global||(o=hu(o.source,Rs(qe.exec(o))+"g")),o.lastIndex=0;c=o.exec(u);)var d=c.index;s=s.slice(0,d===ot?l:d)}}else if(t.indexOf(mo(o),l)!=l){var h=s.lastIndexOf(o);h>-1&&(s=s.slice(0,h))}return s+i}function Ac(t){return t=Rs(t),t&&_e.test(t)?t.replace(xe,Ci):t}function Ec(t,e,n){return t=Rs(t),e=n?ot:e,e===ot?V(t)?it(t):D(t):t.match(e)||[]}function Tc(t){var e=null==t?0:t.length,n=Pa();return t=e?v(t,function(t){if("function"!=typeof t[1])throw new pu(st);return[n(t[0]),t[1]]}):[],ao(function(n){for(var i=-1;++i<e;){var o=t[i];if(l(o[0],this,n))return l(o[1],this,n)}})}function Rc(t){return Ln(Fn(t,ht))}function Mc(t){return function(){return t}}function Hc(t,e){return null==t||t!==t?e:t}function Bc(t){return t}function Oc(t){return Fi("function"==typeof t?t:Fn(t,ht))}function Nc(t){return Ji(Fn(t,ht))}function Ic(t,e){return qi(t,Fn(e,ht))}function jc(t,e,n){var i=Vs(e),o=ri(e,i);null!=n||ss(e)&&(o.length||!i.length)||(n=e,e=t,t=this,o=ri(e,Vs(e)));var a=!(ss(n)&&"chain"in n&&!n.chain),r=as(t);return c(o,function(n){var i=e[n];t[n]=i,r&&(t.prototype[n]=function(){var e=this.__chain__;if(a||e){var n=t(this.__wrapped__);return(n.__actions__=Lo(this.__actions__)).push({func:i,args:arguments,thisArg:t}),n.__chain__=e,n}return i.apply(t,g([this.value()],arguments))})}),t}function Uc(){return li._===this&&(li._=Pu),this}function Fc(){}function Lc(t){return t=_s(t),ao(function(e){return Xi(e,t)})}function zc(t){return Fa(t)?A(ir(t)):Zi(t)}function Wc(t){return function(e){return null==t?ot:si(t,e)}}function Vc(){return[]}function Jc(){return!1}function qc(){return{}}function Gc(){return""}function Yc(){return!0}function Xc(t,e){if((t=_s(t))<1||t>Ot)return[];var n=jt,i=$u(t,jt);e=Pa(e),t-=jt;for(var o=H(i,e);++n<t;)e(n);return o}function $c(t){return wh(t)?v(t,ir):ws(t)?[t]:Lo(Od(Rs(t)))}function Kc(t){var e=++Du;return Rs(t)+e}function Qc(t){return t&&t.length?Yn(t,Bc,hi):ot}function Zc(t,e){return t&&t.length?Yn(t,Pa(e,2),hi):ot}function tu(t){return S(t,Bc)}function eu(t,e){return S(t,Pa(e,2))}function nu(t){return t&&t.length?Yn(t,Bc,Wi):ot}function iu(t,e){return t&&t.length?Yn(t,Pa(e,2),Wi):ot}function ou(t){return t&&t.length?M(t,Bc):0}function au(t,e){return t&&t.length?M(t,Pa(e,2)):0}e=null==e?li:xi.defaults(li.Object(),e,xi.pick(li,Xn));var ru=e.Array,lu=e.Date,su=e.Error,cu=e.Function,uu=e.Math,du=e.Object,hu=e.RegExp,fu=e.String,pu=e.TypeError,vu=ru.prototype,gu=cu.prototype,mu=du.prototype,yu=e["__core-js_shared__"],bu=gu.toString,wu=mu.hasOwnProperty,Du=0,Cu=function(){var t=/[^.]+$/.exec(yu&&yu.keys&&yu.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),ku=mu.toString,xu=bu.call(du),Pu=li._,_u=hu("^"+bu.call(wu).replace(Oe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Su=ui?e.Buffer:ot,Au=e.Symbol,Eu=e.Uint8Array,Tu=Su?Su.allocUnsafe:ot,Ru=G(du.getPrototypeOf,du),Mu=du.create,Hu=mu.propertyIsEnumerable,Bu=vu.splice,Ou=Au?Au.isConcatSpreadable:ot,Nu=Au?Au.iterator:ot,Iu=Au?Au.toStringTag:ot,ju=function(){try{var t=Aa(du,"defineProperty");return t({},"",{}),t}catch(t){}}(),Uu=e.clearTimeout!==li.clearTimeout&&e.clearTimeout,Fu=lu&&lu.now!==li.Date.now&&lu.now,Lu=e.setTimeout!==li.setTimeout&&e.setTimeout,zu=uu.ceil,Wu=uu.floor,Vu=du.getOwnPropertySymbols,Ju=Su?Su.isBuffer:ot,qu=e.isFinite,Gu=vu.join,Yu=G(du.keys,du),Xu=uu.max,$u=uu.min,Ku=lu.now,Qu=e.parseInt,Zu=uu.random,td=vu.reverse,ed=Aa(e,"DataView"),nd=Aa(e,"Map"),id=Aa(e,"Promise"),od=Aa(e,"Set"),ad=Aa(e,"WeakMap"),rd=Aa(du,"create"),ld=ad&&new ad,sd={},cd=or(ed),ud=or(nd),dd=or(id),hd=or(od),fd=or(ad),pd=Au?Au.prototype:ot,vd=pd?pd.valueOf:ot,gd=pd?pd.toString:ot,md=function(){function t(){}return function(e){if(!ss(e))return{};if(Mu)return Mu(e);t.prototype=e;var n=new t;return t.prototype=ot,n}}();n.templateSettings={escape:Ae,evaluate:Ee,interpolate:Te,variable:"",imports:{_:n}},n.prototype=i.prototype,n.prototype.constructor=n,o.prototype=md(i.prototype),o.prototype.constructor=o,w.prototype=md(i.prototype),w.prototype.constructor=w,nt.prototype.clear=We,nt.prototype.delete=en,nt.prototype.get=nn,nt.prototype.has=on,nt.prototype.set=an,rn.prototype.clear=ln,rn.prototype.delete=sn,rn.prototype.get=cn,rn.prototype.has=un,rn.prototype.set=dn,hn.prototype.clear=fn,hn.prototype.delete=pn,hn.prototype.get=vn,hn.prototype.has=gn,hn.prototype.set=mn,yn.prototype.add=yn.prototype.push=bn,yn.prototype.has=wn,Dn.prototype.clear=Cn,Dn.prototype.delete=kn,Dn.prototype.get=xn,Dn.prototype.has=Pn,Dn.prototype.set=_n;var yd=Go(ni),bd=Go(ai,!0),wd=Yo(),Dd=Yo(!0),Cd=ld?function(t,e){return ld.set(t,e),t}:Bc,kd=ju?function(t,e){return ju(t,"toString",{configurable:!0,enumerable:!1,value:Mc(e),writable:!0})}:Bc,xd=ao,Pd=Uu||function(t){return li.clearTimeout(t)},_d=od&&1/X(new od([,-0]))[1]==Bt?function(t){return new od(t)}:Fc,Sd=ld?function(t){return ld.get(t)}:Fc,Ad=Vu?function(t){return null==t?[]:(t=du(t),h(Vu(t),function(e){return Hu.call(t,e)}))}:Vc,Ed=Vu?function(t){for(var e=[];t;)g(e,Ad(t)),t=Ru(t);return e}:Vc,Td=di;(ed&&Td(new ed(new ArrayBuffer(1)))!=de||nd&&Td(new nd)!=Kt||id&&Td(id.resolve())!=ee||od&&Td(new od)!=oe||ad&&Td(new ad)!=se)&&(Td=function(t){var e=di(t),n=e==te?t.constructor:ot,i=n?or(n):"";if(i)switch(i){case cd:return de;case ud:return Kt;case dd:return ee;case hd:return oe;case fd:return se}return e});var Rd=yu?as:Jc,Md=er(Cd),Hd=Lu||function(t,e){return li.setTimeout(t,e)},Bd=er(kd),Od=Ga(function(t){var e=[];return He.test(t)&&e.push(""),t.replace(Be,function(t,n,i,o){e.push(i?o.replace(Ve,"$1"):n||t)}),e}),Nd=ao(function(t,e){return Kl(t)?qn(t,ei(e,1,Kl,!0)):[]}),Id=ao(function(t,e){var n=Pr(e);return Kl(n)&&(n=ot),Kl(t)?qn(t,ei(e,1,Kl,!0),Pa(n,2)):[]}),jd=ao(function(t,e){var n=Pr(e);return Kl(n)&&(n=ot),Kl(t)?qn(t,ei(e,1,Kl,!0),ot,n):[]}),Ud=ao(function(t){var e=v(t,Po);return e.length&&e[0]===t[0]?_i(e):[]}),Fd=ao(function(t){var e=Pr(t),n=v(t,Po);return e===Pr(n)?e=ot:n.pop(),n.length&&n[0]===t[0]?_i(n,Pa(e,2)):[]}),Ld=ao(function(t){var e=Pr(t),n=v(t,Po);return e="function"==typeof e?e:ot,e&&n.pop(),n.length&&n[0]===t[0]?_i(n,ot,e):[]}),zd=ao(Ar),Wd=wa(function(t,e){var n=null==t?0:t.length,i=jn(t,e);return eo(t,v(e,function(t){return ja(t,n)?+t:t}).sort(Io)),i}),Vd=ao(function(t){return yo(ei(t,1,Kl,!0))}),Jd=ao(function(t){var e=Pr(t);return Kl(e)&&(e=ot),yo(ei(t,1,Kl,!0),Pa(e,2))}),qd=ao(function(t){var e=Pr(t);return e="function"==typeof e?e:ot,yo(ei(t,1,Kl,!0),ot,e)}),Gd=ao(function(t,e){return Kl(t)?qn(t,e):[]}),Yd=ao(function(t){return ko(h(t,Kl))}),Xd=ao(function(t){var e=Pr(t);return Kl(e)&&(e=ot),ko(h(t,Kl),Pa(e,2))}),$d=ao(function(t){var e=Pr(t);return e="function"==typeof e?e:ot,ko(h(t,Kl),ot,e)}),Kd=ao($r),Qd=ao(function(t){var e=t.length,n=e>1?t[e-1]:ot;return n="function"==typeof n?(t.pop(),n):ot,Kr(t,n)}),Zd=wa(function(t){var e=t.length,n=e?t[0]:0,i=this.__wrapped__,a=function(e){return jn(e,t)};return!(e>1||this.__actions__.length)&&i instanceof w&&ja(n)?(i=i.slice(n,+n+(e?1:0)),i.__actions__.push({func:nl,args:[a],thisArg:ot}),new o(i,this.__chain__).thru(function(t){return e&&!t.length&&t.push(ot),t})):this.thru(a)}),th=Jo(function(t,e,n){wu.call(t,n)?++t[n]:In(t,n,1)}),eh=ta(vr),nh=ta(gr),ih=Jo(function(t,e,n){wu.call(t,n)?t[n].push(e):In(t,n,[e])}),oh=ao(function(t,e,n){var i=-1,o="function"==typeof e,a=$l(t)?ru(t.length):[];return yd(t,function(t){a[++i]=o?l(e,t,n):Ai(t,e,n)}),a}),ah=Jo(function(t,e,n){In(t,n,e)}),rh=Jo(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),lh=ao(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Ua(t,e[0],e[1])?e=[]:n>2&&Ua(e[0],e[1],e[2])&&(e=[e[0]]),$i(t,ei(e,1),[])}),sh=Fu||function(){return li.Date.now()},ch=ao(function(t,e,n){var i=mt;if(n.length){var o=Y(n,xa(ch));i|=Ct}return fa(t,i,e,n,o)}),uh=ao(function(t,e,n){var i=mt|yt;if(n.length){var o=Y(n,xa(uh));i|=Ct}return fa(e,i,t,n,o)}),dh=ao(function(t,e){return Jn(t,1,e)}),hh=ao(function(t,e,n){return Jn(t,As(e)||0,n)});Ol.Cache=hn;var fh=xd(function(t,e){e=1==e.length&&wh(e[0])?v(e[0],O(Pa())):v(ei(e,1),O(Pa()));var n=e.length;return ao(function(i){for(var o=-1,a=$u(i.length,n);++o<a;)i[o]=e[o].call(this,i[o]);return l(t,this,i)})}),ph=ao(function(t,e){var n=Y(e,xa(ph));return fa(t,Ct,ot,e,n)}),vh=ao(function(t,e){var n=Y(e,xa(vh));return fa(t,kt,ot,e,n)}),gh=wa(function(t,e){return fa(t,Pt,ot,ot,ot,e)}),mh=ca(hi),yh=ca(function(t,e){return t>=e}),bh=Ei(function(){return arguments}())?Ei:function(t){return cs(t)&&wu.call(t,"callee")&&!Hu.call(t,"callee")},wh=ru.isArray,Dh=fi?O(fi):Ti,Ch=Ju||Jc,kh=pi?O(pi):Ri,xh=vi?O(vi):Bi,Ph=gi?O(gi):Ii,_h=mi?O(mi):ji,Sh=yi?O(yi):Ui,Ah=ca(Wi),Eh=ca(function(t,e){return t<=e}),Th=qo(function(t,e){if(Va(e)||$l(e))return void zo(e,Vs(e),t);for(var n in e)wu.call(e,n)&&Mn(t,n,e[n])}),Rh=qo(function(t,e){zo(e,Js(e),t)}),Mh=qo(function(t,e,n,i){zo(e,Js(e),t,i)}),Hh=qo(function(t,e,n,i){zo(e,Vs(e),t,i)}),Bh=wa(jn),Oh=ao(function(t){return t.push(ot,pa),l(Mh,ot,t)}),Nh=ao(function(t){return t.push(ot,va),l(Lh,ot,t)}),Ih=ia(function(t,e,n){t[e]=n},Mc(Bc)),jh=ia(function(t,e,n){wu.call(t,e)?t[e].push(n):t[e]=[n]},Pa),Uh=ao(Ai),Fh=qo(function(t,e,n){Gi(t,e,n)}),Lh=qo(function(t,e,n,i){Gi(t,e,n,i)}),zh=wa(function(t,e){var n={};if(null==t)return n;var i=!1;e=v(e,function(e){return e=So(e,t),i||(i=e.length>1),e}),zo(t,Ca(t),n),i&&(n=Fn(n,ht|ft|pt,ga));for(var o=e.length;o--;)bo(n,e[o]);return n}),Wh=wa(function(t,e){return null==t?{}:Ki(t,e)}),Vh=ha(Vs),Jh=ha(Js),qh=Ko(function(t,e,n){return e=e.toLowerCase(),t+(n?sc(e):e)}),Gh=Ko(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),Yh=Ko(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Xh=$o("toLowerCase"),$h=Ko(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Kh=Ko(function(t,e,n){return t+(n?" ":"")+Zh(e)}),Qh=Ko(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Zh=$o("toUpperCase"),tf=ao(function(t,e){try{return l(t,ot,e)}catch(t){return is(t)?t:new su(t)}}),ef=wa(function(t,e){return c(e,function(e){e=ir(e),In(t,e,ch(t[e],t))}),t}),nf=ea(),of=ea(!0),af=ao(function(t,e){return function(n){return Ai(n,t,e)}}),rf=ao(function(t,e){return function(n){return Ai(t,n,e)}}),lf=aa(v),sf=aa(d),cf=aa(b),uf=sa(),df=sa(!0),hf=oa(function(t,e){return t+e},0),ff=da("ceil"),pf=oa(function(t,e){return t/e},1),vf=da("floor"),gf=oa(function(t,e){return t*e},1),mf=da("round"),yf=oa(function(t,e){return t-e},0);return n.after=Al,n.ary=El,n.assign=Th,n.assignIn=Rh,n.assignInWith=Mh,n.assignWith=Hh,n.at=Bh,n.before=Tl,n.bind=ch,n.bindAll=ef,n.bindKey=uh,n.castArray=Wl,n.chain=tl,n.chunk=lr,n.compact=sr,n.concat=cr,n.cond=Tc,n.conforms=Rc,n.constant=Mc,n.countBy=th,n.create=Ms,n.curry=Rl,n.curryRight=Ml,n.debounce=Hl,n.defaults=Oh,n.defaultsDeep=Nh,n.defer=dh,n.delay=hh,n.difference=Nd,n.differenceBy=Id,n.differenceWith=jd,n.drop=ur,n.dropRight=dr,n.dropRightWhile=hr,n.dropWhile=fr,n.fill=pr,n.filter=dl,n.flatMap=hl,n.flatMapDeep=fl,n.flatMapDepth=pl,n.flatten=mr,n.flattenDeep=yr,n.flattenDepth=br,n.flip=Bl,n.flow=nf,n.flowRight=of,n.fromPairs=wr,n.functions=Us,n.functionsIn=Fs,n.groupBy=ih,n.initial=kr,n.intersection=Ud,n.intersectionBy=Fd,n.intersectionWith=Ld,n.invert=Ih,n.invertBy=jh,n.invokeMap=oh,n.iteratee=Oc,n.keyBy=ah,n.keys=Vs,n.keysIn=Js,n.map=yl,n.mapKeys=qs,n.mapValues=Gs,n.matches=Nc,n.matchesProperty=Ic,n.memoize=Ol,n.merge=Fh,n.mergeWith=Lh,n.method=af,n.methodOf=rf,n.mixin=jc,n.negate=Nl,n.nthArg=Lc,n.omit=zh,n.omitBy=Ys,n.once=Il,n.orderBy=bl,n.over=lf,n.overArgs=fh,n.overEvery=sf,n.overSome=cf,n.partial=ph,n.partialRight=vh,n.partition=rh,n.pick=Wh,n.pickBy=Xs,n.property=zc,n.propertyOf=Wc,n.pull=zd,n.pullAll=Ar,n.pullAllBy=Er,n.pullAllWith=Tr,n.pullAt=Wd,n.range=uf,n.rangeRight=df,n.rearg=gh,n.reject=Cl,n.remove=Rr,n.rest=jl,n.reverse=Mr,n.sampleSize=xl,n.set=Ks,n.setWith=Qs,n.shuffle=Pl,n.slice=Hr,n.sortBy=lh,n.sortedUniq=Fr,n.sortedUniqBy=Lr,n.split=bc,n.spread=Ul,n.tail=zr,n.take=Wr,n.takeRight=Vr,n.takeRightWhile=Jr,n.takeWhile=qr,n.tap=el,n.throttle=Fl,n.thru=nl,n.toArray=xs,n.toPairs=Vh,n.toPairsIn=Jh,n.toPath=$c,n.toPlainObject=Es,n.transform=Zs,n.unary=Ll,n.union=Vd,n.unionBy=Jd,n.unionWith=qd,n.uniq=Gr,n.uniqBy=Yr,n.uniqWith=Xr,n.unset=tc,n.unzip=$r,n.unzipWith=Kr,n.update=ec,n.updateWith=nc,n.values=ic,n.valuesIn=oc,n.without=Gd,n.words=Ec,n.wrap=zl,n.xor=Yd,n.xorBy=Xd,n.xorWith=$d,n.zip=Kd,n.zipObject=Qr,n.zipObjectDeep=Zr,n.zipWith=Qd,n.entries=Vh,n.entriesIn=Jh,n.extend=Rh,n.extendWith=Mh,jc(n,n),n.add=hf,n.attempt=tf,n.camelCase=qh,n.capitalize=sc,n.ceil=ff,n.clamp=ac,n.clone=Vl,n.cloneDeep=ql,n.cloneDeepWith=Gl,n.cloneWith=Jl,n.conformsTo=Yl,n.deburr=cc,n.defaultTo=Hc,n.divide=pf,n.endsWith=uc,n.eq=Xl,n.escape=dc,n.escapeRegExp=hc,n.every=ul,n.find=eh,n.findIndex=vr,n.findKey=Hs,n.findLast=nh,n.findLastIndex=gr,n.findLastKey=Bs,n.floor=vf,n.forEach=vl,n.forEachRight=gl,n.forIn=Os,n.forInRight=Ns,n.forOwn=Is,n.forOwnRight=js,n.get=Ls,n.gt=mh,n.gte=yh,n.has=zs,n.hasIn=Ws,n.head=Dr,n.identity=Bc,n.includes=ml,n.indexOf=Cr,n.inRange=rc,n.invoke=Uh,n.isArguments=bh,n.isArray=wh,n.isArrayBuffer=Dh,n.isArrayLike=$l,n.isArrayLikeObject=Kl,n.isBoolean=Ql,n.isBuffer=Ch,n.isDate=kh,n.isElement=Zl,n.isEmpty=ts,n.isEqual=es,n.isEqualWith=ns,n.isError=is,n.isFinite=os,n.isFunction=as,n.isInteger=rs,n.isLength=ls,n.isMap=xh,n.isMatch=us,n.isMatchWith=ds,n.isNaN=hs,n.isNative=fs,n.isNil=vs,n.isNull=ps,n.isNumber=gs,n.isObject=ss,n.isObjectLike=cs,n.isPlainObject=ms,n.isRegExp=Ph,n.isSafeInteger=ys,n.isSet=_h,n.isString=bs,n.isSymbol=ws,n.isTypedArray=Sh,n.isUndefined=Ds,n.isWeakMap=Cs,n.isWeakSet=ks,n.join=xr,n.kebabCase=Gh,n.last=Pr,n.lastIndexOf=_r,n.lowerCase=Yh,n.lowerFirst=Xh,n.lt=Ah,n.lte=Eh,n.max=Qc,n.maxBy=Zc,n.mean=tu,n.meanBy=eu,n.min=nu,n.minBy=iu,n.stubArray=Vc,n.stubFalse=Jc,n.stubObject=qc,n.stubString=Gc,n.stubTrue=Yc,n.multiply=gf,n.nth=Sr,n.noConflict=Uc,n.noop=Fc,n.now=sh,n.pad=fc,n.padEnd=pc,n.padStart=vc,n.parseInt=gc,n.random=lc,n.reduce=wl,n.reduceRight=Dl,n.repeat=mc,n.replace=yc,n.result=$s,n.round=mf,n.runInContext=t,n.sample=kl,n.size=_l,n.snakeCase=$h,n.some=Sl,n.sortedIndex=Br,n.sortedIndexBy=Or,n.sortedIndexOf=Nr,n.sortedLastIndex=Ir,n.sortedLastIndexBy=jr,n.sortedLastIndexOf=Ur,n.startCase=Kh,n.startsWith=wc,n.subtract=yf,n.sum=ou,n.sumBy=au,n.template=Dc,n.times=Xc,n.toFinite=Ps,n.toInteger=_s,n.toLength=Ss,n.toLower=Cc,n.toNumber=As,n.toSafeInteger=Ts,n.toString=Rs,n.toUpper=kc,n.trim=xc,n.trimEnd=Pc,n.trimStart=_c,n.truncate=Sc,n.unescape=Ac,n.uniqueId=Kc,n.upperCase=Qh,n.upperFirst=Zh,n.each=vl,n.eachRight=gl,n.first=Dr,jc(n,function(){var t={};return ni(n,function(e,i){wu.call(n.prototype,i)||(t[i]=e)}),t}(),{chain:!1}),n.VERSION=at,c(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),c(["drop","take"],function(t,e){w.prototype[t]=function(n){n=n===ot?1:Xu(_s(n),0);var i=this.__filtered__&&!e?new w(this):this.clone();return i.__filtered__?i.__takeCount__=$u(n,i.__takeCount__):i.__views__.push({size:$u(n,jt),type:t+(i.__dir__<0?"Right":"")}),i},w.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),c(["filter","map","takeWhile"],function(t,e){var n=e+1,i=n==Rt||n==Ht;w.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:Pa(t,3),type:n}),e.__filtered__=e.__filtered__||i,e}}),c(["head","last"],function(t,e){var n="take"+(e?"Right":"");w.prototype[t]=function(){return this[n](1).value()[0]}}),c(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");w.prototype[t]=function(){return this.__filtered__?new w(this):this[n](1)}}),w.prototype.compact=function(){return this.filter(Bc)},w.prototype.find=function(t){return this.filter(t).head()},w.prototype.findLast=function(t){return this.reverse().find(t)},w.prototype.invokeMap=ao(function(t,e){return"function"==typeof t?new w(this):this.map(function(n){return Ai(n,t,e)})}),w.prototype.reject=function(t){return this.filter(Nl(Pa(t)))},w.prototype.slice=function(t,e){t=_s(t);var n=this;return n.__filtered__&&(t>0||e<0)?new w(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==ot&&(e=_s(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},w.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},w.prototype.toArray=function(){return this.take(jt)},ni(w.prototype,function(t,e){var i=/^(?:filter|find|map|reject)|While$/.test(e),a=/^(?:head|last)$/.test(e),r=n[a?"take"+("last"==e?"Right":""):e],l=a||/^find/.test(e);r&&(n.prototype[e]=function(){var e=this.__wrapped__,s=a?[1]:arguments,c=e instanceof w,u=s[0],d=c||wh(e),h=function(t){var e=r.apply(n,g([t],s));return a&&f?e[0]:e};d&&i&&"function"==typeof u&&1!=u.length&&(c=d=!1);var f=this.__chain__,p=!!this.__actions__.length,v=l&&!f,m=c&&!p;if(!l&&d){e=m?e:new w(this);var y=t.apply(e,s);return y.__actions__.push({func:nl,args:[h],thisArg:ot}),new o(y,f)}return v&&m?t.apply(this,s):(y=this.thru(h),v?a?y.value()[0]:y.value():y)})}),c(["pop","push","shift","sort","splice","unshift"],function(t){var e=vu[t],i=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",o=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(o&&!this.__chain__){var n=this.value();return e.apply(wh(n)?n:[],t)}return this[i](function(n){return e.apply(wh(n)?n:[],t)})}}),ni(w.prototype,function(t,e){var i=n[e];if(i){var o=i.name+"";(sd[o]||(sd[o]=[])).push({name:e,func:i})}}),sd[na(ot,yt).name]=[{name:"wrapper",func:ot}],w.prototype.clone=E,w.prototype.reverse=K,w.prototype.value=et,n.prototype.at=Zd,n.prototype.chain=il,n.prototype.commit=ol,n.prototype.next=al,n.prototype.plant=ll,n.prototype.reverse=sl,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=cl,n.prototype.first=n.prototype.head,Nu&&(n.prototype[Nu]=rl),n},xi=ki();li._=xi,(o=function(){return xi}.call(e,n,e,i))!==ot&&(i.exports=o)}).call(this)}).call(e,n("DuR2"),n("3IRH")(t))},MUrH:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.ref=t}return t.prototype.ngAfterViewInit=function(){this.ref.nativeElement.classList.add("ng2-smart-actions")},t.prototype.ngOnChanges=function(){this.actionsColumnTitle=this.grid.getSetting("actions.columnTitle")},t}();a([n.i(i.Input)(),r("design:type",o.a)],l.prototype,"grid",void 0),l=a([n.i(i.Component)({selector:"[ng2-st-actions-title]",template:'\n    <div class="ng2-smart-title">{{ actionsColumnTitle }}</div>\n  '}),r("design:paramtypes",[i.ElementRef])],l)},Ng82:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.sort=function(t,e,n,i){var o="asc"===n?1:-1,a=i||this.COMPARE;return t.sort(function(t,n){return a.call(null,o,t[e],n[e])})},t}();i.COMPARE=function(t,e,n){return e<n?-1*t:e>n?t:0}},OOcy:function(t,e,n){"use strict";var i=n("3j3K"),o=n("rCTf"),a=(n.n(o),n("Dzj1"));n.d(e,"a",function(){return l});var r=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),l=function(t){function e(){return t.call(this)||this}return r(e,t),e.prototype.data=function(t){var e=this;return t instanceof o.Observable?t.subscribe(function(t){e._data=t,e.savedTerm&&e.search(e.savedTerm)}):this._data=t,this},e.prototype.search=function(t){if(this._data){this.savedTerm=null;var e=this.extractMatches(this._data,t);this.next(this.processResults(e))}else this.savedTerm=t},e.prototype.convertToItem=function(e){return t.prototype.convertToItem.call(this,e)},e}(a.a);l.decorators=[{type:i.Injectable}],l.ctorParameters=function(){return[]}},OVKi:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("aXxY");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.sort=new i.EventEmitter,this.selectAllRows=new i.EventEmitter,this.create=new i.EventEmitter,this.filter=new i.EventEmitter}return t.prototype.ngOnChanges=function(){this.isHideHeader=this.grid.getSetting("hideHeader"),this.isHideSubHeader=this.grid.getSetting("hideSubHeader")},t}();r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"grid",void 0),r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"source",void 0),r([n.i(i.Input)(),l("design:type",Boolean)],s.prototype,"isAllSelected",void 0),r([n.i(i.Input)(),l("design:type",i.EventEmitter)],s.prototype,"createConfirm",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"sort",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"selectAllRows",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"create",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"filter",void 0),s=r([n.i(i.Component)({selector:"[ng2-st-thead]",template:'<tr ng2-st-thead-titles-row *ngIf="!isHideHeader" class="ng2-smart-titles" [grid]="grid" [isAllSelected]="isAllSelected" [source]="source" (sort)="sort.emit($event)" (selectAllRows)="selectAllRows.emit($event)"></tr><tr ng2-st-thead-filters-row *ngIf="!isHideSubHeader" class="ng2-smart-filters" [grid]="grid" [source]="source" (create)="create.emit($event)" (filter)="filter.emit($event)"></tr><tr ng2-st-thead-form-row *ngIf="grid.createFormShown" [grid]="grid" [createConfirm]="createConfirm"></tr>'})],s)},"R+Ta":function(t,e,n){"use strict";var i=n("3j3K"),o=n("pbU0");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(t){this.resolver=t}return t.prototype.ngOnInit=function(){this.cell&&!this.customComponent&&(this.createCustomComponent(),this.callOnComponentInit(),this.patchInstance())},t.prototype.ngOnDestroy=function(){this.customComponent&&this.customComponent.destroy()},t.prototype.createCustomComponent=function(){var t=this.resolver.resolveComponentFactory(this.cell.getColumn().renderComponent);this.customComponent=this.dynamicTarget.createComponent(t)},t.prototype.callOnComponentInit=function(){var t=this.cell.getColumn().getOnComponentInitFunction();t&&t(this.customComponent.instance)},t.prototype.patchInstance=function(){Object.assign(this.customComponent.instance,this.getPatch())},t.prototype.getPatch=function(){return{value:this.cell.getValue(),rowData:this.cell.getRow().getData()}},t}();a([n.i(i.Input)(),r("design:type",o.a)],l.prototype,"cell",void 0),a([n.i(i.ViewChild)("dynamicTarget",{read:i.ViewContainerRef}),r("design:type",Object)],l.prototype,"dynamicTarget",void 0),l=a([n.i(i.Component)({selector:"custom-view-component",template:"\n    <ng-template #dynamicTarget></ng-template>\n  "}),r("design:paramtypes",[i.ComponentFactoryResolver])],l)},REgC:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("aXxY");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.save=new i.EventEmitter,this.cancel=new i.EventEmitter,this.edit=new i.EventEmitter,this.delete=new i.EventEmitter,this.custom=new i.EventEmitter,this.edited=new i.EventEmitter,this.userSelectRow=new i.EventEmitter,this.editRowSelect=new i.EventEmitter,this.multipleSelectRow=new i.EventEmitter,this.rowHover=new i.EventEmitter}return t.prototype.ngOnChanges=function(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.mode=this.grid.getSetting("mode"),this.editInputClass=this.grid.getSetting("edit.inputClass"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.isActionAdd=this.grid.getSetting("actions.add"),this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.noDataMessage=this.grid.getSetting("noDataMessage")},t}();r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"grid",void 0),r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"source",void 0),r([n.i(i.Input)(),l("design:type",i.EventEmitter)],s.prototype,"deleteConfirm",void 0),r([n.i(i.Input)(),l("design:type",i.EventEmitter)],s.prototype,"editConfirm",void 0),r([n.i(i.Input)(),l("design:type",Function)],s.prototype,"rowClassFunction",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"save",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"cancel",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"edit",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"delete",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"custom",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"edited",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"userSelectRow",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"editRowSelect",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"multipleSelectRow",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"rowHover",void 0),s=r([n.i(i.Component)({selector:"[ng2-st-tbody]",styles:[":host .ng2-smart-row.selected{background:rgba(0,0,0,.05)}:host .ng2-smart-row .ng2-smart-actions.ng2-smart-action-multiple-select{text-align:center} /*# sourceMappingURL=tbody.component.css.map */ "],template:'<tr *ngFor="let row of grid.getRows()" (click)="userSelectRow.emit(row)" (mouseover)="rowHover.emit(row)" class="ng2-smart-row" [className]="rowClassFunction(row)" [ngClass]="{selected: row.isSelected}"><td *ngIf="isMultiSelectVisible" class="ng2-smart-actions ng2-smart-action-multiple-select" (click)="multipleSelectRow.emit(row)"><input type="checkbox" class="form-control" [ngModel]="row.isSelected"></td><td *ngIf="!row.isInEditing && showActionColumnLeft" class="ng2-smart-actions"><ng2-st-tbody-custom [grid]="grid" (custom)="custom.emit($event)" [row]="row" [source]="source"></ng2-st-tbody-custom><ng2-st-tbody-edit-delete [grid]="grid" [deleteConfirm]="deleteConfirm" [editConfirm]="editConfirm" (edit)="edit.emit(row)" (delete)="delete.emit(row)" (editRowSelect)="editRowSelect.emit($event)" [row]="row" [source]="source"></ng2-st-tbody-edit-delete></td><td *ngIf="row.isInEditing && showActionColumnLeft" class="ng2-smart-actions"><ng2-st-tbody-create-cancel [grid]="grid" [row]="row" [editConfirm]="editConfirm"></ng2-st-tbody-create-cancel></td><td *ngFor="let cell of row.cells"><ng2-smart-table-cell [cell]="cell" [grid]="grid" [row]="row" [isNew]="false" [mode]="mode" [editConfirm]="editConfirm" [inputClass]="editInputClass" [isInEditing]="row.isInEditing"></ng2-smart-table-cell></td><td *ngIf="row.isInEditing && showActionColumnRight" class="ng2-smart-actions"><ng2-st-tbody-create-cancel [grid]="grid" [row]="row" [editConfirm]="editConfirm"></ng2-st-tbody-create-cancel></td><td *ngIf="!row.isInEditing && showActionColumnRight" class="ng2-smart-actions"><ng2-st-tbody-custom [grid]="grid" (custom)="custom.emit($event)" [row]="row" [source]="source"></ng2-st-tbody-custom><ng2-st-tbody-edit-delete [grid]="grid" [deleteConfirm]="deleteConfirm" [editConfirm]="editConfirm" [row]="row" [source]="source" (edit)="edit.emit(row)" (delete)="delete.emit(row)" (editRowSelect)="editRowSelect.emit($event)"></ng2-st-tbody-edit-delete></td></tr><tr *ngIf="grid.getRows().length == 0"><td [attr.colspan]="grid.getColumns().length + (isActionAdd || isActionEdit || isActionDelete)">{{ noDataMessage }}</td></tr>'})],s)},S27I:function(t,e,n){"use strict";function i(){return function(){return new r.a}}function o(t){return function(){return new l.a(t)}}var a=n("Fzro"),r=n("OOcy"),l=n("mkpQ");e.a=i,e.b=o,n.d(e,"c",function(){return s}),n.d(e,"d",function(){return c});var s={provide:r.a,useFactory:i},c={provide:l.a,useFactory:o,deps:[a.k]}},UOqW:function(t,e,n){"use strict";var i=n("Ng82"),o=n("sJoL"),a=n("YVtg"),r=n("aXxY"),l=n("DfI3");n.d(e,"a",function(){return c});var s=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),c=function(t){function e(e){void 0===e&&(e=[]);var n=t.call(this)||this;return n.data=[],n.filteredAndSorted=[],n.sortConf=[],n.filterConf={filters:[],andOperator:!0},n.pagingConf={},n.data=e,n}return s(e,t),e.prototype.load=function(e){return this.data=e,t.prototype.load.call(this,e)},e.prototype.prepend=function(e){return this.reset(!0),this.data.unshift(e),t.prototype.prepend.call(this,e)},e.prototype.append=function(e){return this.reset(!0),this.data.push(e),t.prototype.append.call(this,e)},e.prototype.add=function(e){return this.data.push(e),t.prototype.add.call(this,e)},e.prototype.remove=function(e){return this.data=this.data.filter(function(t){return t!==e}),t.prototype.remove.call(this,e)},e.prototype.update=function(e,i){var o=this;return new Promise(function(a,r){o.find(e).then(function(e){e=n.i(l.a)(e,i),t.prototype.update.call(o,e,i).then(a).catch(r)}).catch(r)})},e.prototype.find=function(t){var e=this.data.find(function(e){return e===t});return e?Promise.resolve(e):Promise.reject(new Error("Element was not found in the dataset"))},e.prototype.getElements=function(){var t=this.data.slice(0);return Promise.resolve(this.prepareData(t))},e.prototype.getFilteredAndSorted=function(){var t=this.data.slice(0);return this.prepareData(t),Promise.resolve(this.filteredAndSorted)},e.prototype.getAll=function(){var t=this.data.slice(0);return Promise.resolve(t)},e.prototype.reset=function(t){void 0===t&&(t=!1),t?(this.filterConf={filters:[],andOperator:!0},this.sortConf=[],this.pagingConf.page=1):(this.setFilter([],!0,!1),this.setSort([],!1),this.setPage(1))},e.prototype.empty=function(){return this.data=[],t.prototype.empty.call(this)},e.prototype.count=function(){return this.filteredAndSorted.length},e.prototype.setSort=function(e,n){return void 0===n&&(n=!0),null!==e&&(e.forEach(function(t){if(!t.field||void 0===t.direction)throw new Error("Sort configuration object is not valid")}),this.sortConf=e),t.prototype.setSort.call(this,e,n),this},e.prototype.setFilter=function(e,n,i){var o=this;return void 0===n&&(n=!0),void 0===i&&(i=!0),e&&e.length>0?e.forEach(function(t){o.addFilter(t,n,!1)}):this.filterConf={filters:[],andOperator:!0},this.filterConf.andOperator=n,this.pagingConf.page=1,t.prototype.setFilter.call(this,e,n,i),this},e.prototype.addFilter=function(e,n,i){var o=this;if(void 0===n&&(n=!0),void 0===i&&(i=!0),!e.field||void 0===e.search)throw new Error("Filter configuration object is not valid");var a=!1;return this.filterConf.filters.forEach(function(t,n){t.field===e.field&&(o.filterConf.filters[n]=e,a=!0)}),a||this.filterConf.filters.push(e),this.filterConf.andOperator=n,t.prototype.addFilter.call(this,e,n,i),this},e.prototype.setPaging=function(e,n,i){return void 0===i&&(i=!0),this.pagingConf.page=e,this.pagingConf.perPage=n,t.prototype.setPaging.call(this,e,n,i),this},e.prototype.setPage=function(e,n){return void 0===n&&(n=!0),this.pagingConf.page=e,t.prototype.setPage.call(this,e,n),this},e.prototype.getSort=function(){return this.sortConf},e.prototype.getFilter=function(){return this.filterConf},e.prototype.getPaging=function(){return this.pagingConf},e.prototype.prepareData=function(t){return t=this.filter(t),t=this.sort(t),this.filteredAndSorted=t.slice(0),this.paginate(t)},e.prototype.sort=function(t){return this.sortConf&&this.sortConf.forEach(function(e){t=i.a.sort(t,e.field,e.direction,e.compare)}),t},e.prototype.filter=function(t){if(this.filterConf.filters)if(this.filterConf.andOperator)this.filterConf.filters.forEach(function(e){e.search.length>0&&(t=o.a.filter(t,e.field,e.search,e.filter))});else{var e=[];this.filterConf.filters.forEach(function(n){n.search.length>0&&(e=e.concat(o.a.filter(t,n.field,n.search,n.filter)))}),t=e.filter(function(t,e,n){return n.indexOf(t)===e})}return t},e.prototype.paginate=function(t){return this.pagingConf&&this.pagingConf.page&&this.pagingConf.perPage&&(t=a.a.paginate(t,this.pagingConf.page,this.pagingConf.perPage)),t},e}(r.a)},VH3F:function(t,e,n){"use strict";var i=n("3j3K"),o=n("aXxY"),a=n("FLi/");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.inputClass="",this.filter=new i.EventEmitter,this.query=""}return t.prototype.ngOnChanges=function(t){var e=this;t.source&&(t.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(function(t){var n=e.source.getFilter();n&&n.filters&&0===n.filters.length?e.query="":n&&n.filters&&n.filters.length>0&&n.filters.forEach(function(t,n){t.field==e.column.id&&(e.query=t.search)})}))},t.prototype.onFilter=function(t){this.source.addFilter({field:this.column.id,search:t,filter:this.column.getFilterFunction()})},t}();r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"column",void 0),r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"source",void 0),r([n.i(i.Input)(),l("design:type",String)],s.prototype,"inputClass",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"filter",void 0),s=r([n.i(i.Component)({selector:"ng2-smart-table-filter",styles:[":host .ng2-smart-filter /deep/ input,:host .ng2-smart-filter /deep/ select{width:100%;line-height:normal;padding:.375em .75em;font-weight:400}:host .ng2-smart-filter /deep/ input[type=search]{box-sizing:inherit}:host .ng2-smart-filter /deep/ .completer-dropdown-holder{font-weight:400}:host .ng2-smart-filter /deep/ a{font-weight:400} /*# sourceMappingURL=filter.component.css.map */ "],template:'\n    <div class="ng2-smart-filter" *ngIf="column.isFilterable" [ngSwitch]="column.getFilterType()">\n      <select-filter *ngSwitchCase="\'list\'"\n                     [query]="query"\n                     [ngClass]="inputClass"\n                     [column]="column"\n                     (filter)="onFilter($event)">\n      </select-filter>\n      <checkbox-filter *ngSwitchCase="\'checkbox\'"\n                       [query]="query"\n                       [ngClass]="inputClass"\n                       [column]="column"\n                       (filter)="onFilter($event)">\n      </checkbox-filter>\n      <completer-filter *ngSwitchCase="\'completer\'"\n                        [query]="query"\n                        [ngClass]="inputClass"\n                        [column]="column"\n                        (filter)="onFilter($event)">\n      </completer-filter>\n      <input-filter *ngSwitchDefault\n                    [query]="query"\n                    [ngClass]="inputClass"\n                    [column]="column"\n                    (filter)="onFilter($event)">\n      </input-filter>\n    </div>\n  '})],s)},X6i5:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("aXxY");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.create=new i.EventEmitter,this.filter=new i.EventEmitter}return t.prototype.ngOnChanges=function(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.filterInputClass=this.grid.getSetting("filter.inputClass")},t}();r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"grid",void 0),r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"source",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"create",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"filter",void 0),s=r([n.i(i.Component)({selector:"[ng2-st-thead-filters-row]",template:'\n    <th *ngIf="isMultiSelectVisible"></th>\n    <th ng2-st-add-button *ngIf="showActionColumnLeft"\n                          [grid]="grid"\n                          (create)="create.emit($event)">\n    </th>\n    <th *ngFor="let column of grid.getColumns()" class="ng2-smart-th {{ column.id }}">\n      <ng2-smart-table-filter [source]="source"\n                              [column]="column"\n                              [inputClass]="filterInputClass"\n                              (filter)="filter.emit($event)">\n      </ng2-smart-table-filter>\n    </th>\n    <th ng2-st-add-button *ngIf="showActionColumnRight"\n                          [grid]="grid"\n                          [source]="source"\n                          (create)="create.emit($event)">\n    </th>\n  '})],s)},Xw8A:function(t,e,n){"use strict";var i=n("3j3K"),o=n("2Je8"),a=n("NVOs"),r=n("u8XI"),l=n("VH3F"),s=n("tukb"),c=n("Hxte"),u=n("axIO"),d=n("Zf3n");n.d(e,"a",function(){return p});var h=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},f=[l.a,s.a,c.a,u.a,d.a],p=function(){function t(){}return t}();p=h([n.i(i.NgModule)({imports:[o.b,a.d,a.e,r.a],declarations:f.slice(),exports:f.slice()})],p)},YVtg:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.paginate=function(t,e,n){return t.slice(n*(e-1),n*e)},t}()},Zf3n:function(t,e,n){"use strict";var i=n("3j3K"),o=n("NVOs"),a=n("q3ik"),r=(n.n(a),n("aV5h")),l=(n.n(r),n("9qUs")),s=(n.n(l),n("Layv"));n.d(e,"a",function(){return h});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t){function e(){var e=t.call(this)||this;return e.inputControl=new o.h,e}return c(e,t),e.prototype.ngOnInit=function(){var t=this;this.inputControl.valueChanges.skip(1).distinctUntilChanged().debounceTime(this.delay).subscribe(function(e){return t.setFilter()})},e}(s.a);h=u([n.i(i.Component)({selector:"select-filter",template:'\n    <select [ngClass]="inputClass"\n            class="form-control"\n            [(ngModel)]="query"\n            [formControl]="inputControl">\n\n        <option value="">{{ column.getFilterConfig().selectText }}</option>\n        <option *ngFor="let option of column.getFilterConfig().list" [value]="option.value">\n          {{ option.title }}\n        </option>\n    </select>\n  '}),d("design:paramtypes",[])],h)},aXxY:function(t,e,n){"use strict";var i=n("EEr4");n.n(i);n.d(e,"a",function(){return o});var o=function(){function t(){this.onChangedSource=new i.Subject,this.onAddedSource=new i.Subject,this.onUpdatedSource=new i.Subject,this.onRemovedSource=new i.Subject}return t.prototype.refresh=function(){this.emitOnChanged("refresh")},t.prototype.load=function(t){return this.emitOnChanged("load"),Promise.resolve()},t.prototype.onChanged=function(){return this.onChangedSource.asObservable()},t.prototype.onAdded=function(){return this.onAddedSource.asObservable()},t.prototype.onUpdated=function(){return this.onUpdatedSource.asObservable()},t.prototype.onRemoved=function(){return this.onRemovedSource.asObservable()},t.prototype.prepend=function(t){return this.emitOnAdded(t),this.emitOnChanged("prepend"),Promise.resolve()},t.prototype.append=function(t){return this.emitOnAdded(t),this.emitOnChanged("append"),Promise.resolve()},t.prototype.add=function(t){return this.emitOnAdded(t),this.emitOnChanged("add"),Promise.resolve()},t.prototype.remove=function(t){return this.emitOnRemoved(t),this.emitOnChanged("remove"),Promise.resolve()},t.prototype.update=function(t,e){return this.emitOnUpdated(t),this.emitOnChanged("update"),Promise.resolve()},t.prototype.empty=function(){return this.emitOnChanged("empty"),Promise.resolve()},t.prototype.setSort=function(t,e){e&&this.emitOnChanged("sort")},t.prototype.setFilter=function(t,e,n){n&&this.emitOnChanged("filter")},t.prototype.addFilter=function(t,e,n){n&&this.emitOnChanged("filter")},t.prototype.setPaging=function(t,e,n){n&&this.emitOnChanged("paging")},t.prototype.setPage=function(t,e){e&&this.emitOnChanged("page")},t.prototype.emitOnRemoved=function(t){this.onRemovedSource.next(t)},t.prototype.emitOnUpdated=function(t){this.onUpdatedSource.next(t)},t.prototype.emitOnAdded=function(t){this.onAddedSource.next(t)},t.prototype.emitOnChanged=function(t){var e=this;this.getElements().then(function(n){return e.onChangedSource.next({action:t,elements:n,paging:e.getPaging(),filter:e.getFilter(),sort:e.getSort()})})},t}()},axIO:function(t,e,n){"use strict";var i=n("3j3K"),o=n("NVOs"),a=n("q3ik"),r=(n.n(a),n("aV5h")),l=(n.n(r),n("9qUs")),s=(n.n(l),n("Layv"));n.d(e,"a",function(){return h});var c=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),u=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},d=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},h=function(t){function e(){var e=t.call(this)||this;return e.inputControl=new o.h,e}return c(e,t),e.prototype.ngOnInit=function(){var t=this;this.inputControl.valueChanges.skip(1).distinctUntilChanged().debounceTime(this.delay).subscribe(function(e){return t.setFilter()})},e}(s.a);h=u([n.i(i.Component)({selector:"input-filter",template:'\n    <input [(ngModel)]="query"\n           [ngClass]="inputClass"\n           [formControl]="inputControl"\n           class="form-control"\n           type="text"\n           placeholder="{{ column.title }}" />\n  '}),d("design:paramtypes",[])],h)},bICd:function(t,e,n){"use strict";var i=n("EEr4"),o=(n.n(i),n("DfI3")),a=n("BXdK");n.d(e,"a",function(){return r});var r=function(){function t(t,e){this.createFormShown=!1,this.onSelectRowSource=new i.Subject,this.setSettings(e),this.setSource(t)}return t.prototype.showActionColumn=function(t){return this.isCurrentActionsPosition(t)&&this.isActionsVisible()},t.prototype.isCurrentActionsPosition=function(t){return t==this.getSetting("actions.position")},t.prototype.isActionsVisible=function(){return this.getSetting("actions.add")||this.getSetting("actions.edit")||this.getSetting("actions.delete")||this.getSetting("actions.custom").length},t.prototype.isMultiSelectVisible=function(){return"multi"===this.getSetting("selectMode")},t.prototype.getNewRow=function(){return this.dataSet.newRow},t.prototype.setSettings=function(t){this.settings=t,this.dataSet=new a.a([],this.getSetting("columns")),this.source&&this.source.refresh()},t.prototype.getDataSet=function(){return this.dataSet},t.prototype.setSource=function(t){var e=this;this.source=this.prepareSource(t),this.source.onChanged().subscribe(function(t){return e.processDataChange(t)}),this.source.onUpdated().subscribe(function(t){e.dataSet.findRowByData(t).setData(t)})},t.prototype.getSetting=function(t,e){return n.i(o.b)(this.settings,t,e)},t.prototype.getColumns=function(){return this.dataSet.getColumns()},t.prototype.getRows=function(){return this.dataSet.getRows()},t.prototype.selectRow=function(t){this.dataSet.selectRow(t)},t.prototype.multipleSelectRow=function(t){this.dataSet.multipleSelectRow(t)},t.prototype.onSelectRow=function(){return this.onSelectRowSource.asObservable()},t.prototype.edit=function(t){t.isInEditing=!0},t.prototype.create=function(t,e){var n=this,i=new o.c;i.promise.then(function(e){e=e||t.getNewData(),i.resolve.skipAdd?n.createFormShown=!1:n.source.prepend(e).then(function(){n.createFormShown=!1,n.dataSet.createNewRow()})}).catch(function(t){}),this.getSetting("add.confirmCreate")?e.emit({newData:t.getNewData(),source:this.source,confirm:i}):i.resolve()},t.prototype.save=function(t,e){var n=this,i=new o.c;i.promise.then(function(e){e=e||t.getNewData(),i.resolve.skipEdit?t.isInEditing=!1:n.source.update(t.getData(),e).then(function(){t.isInEditing=!1})}).catch(function(t){}),this.getSetting("edit.confirmSave")?e.emit({data:t.getData(),newData:t.getNewData(),source:this.source,confirm:i}):i.resolve()},t.prototype.delete=function(t,e){var n=this,i=new o.c;i.promise.then(function(){n.source.remove(t.getData())}).catch(function(t){}),this.getSetting("delete.confirmDelete")?e.emit({data:t.getData(),source:this.source,confirm:i}):i.resolve()},t.prototype.processDataChange=function(t){if(this.shouldProcessChange(t)&&(this.dataSet.setData(t.elements),"multi"!==this.getSetting("selectMode"))){var e=this.determineRowToSelect(t);e&&this.onSelectRowSource.next(e)}},t.prototype.shouldProcessChange=function(t){return-1!==["filter","sort","page","remove","refresh","load","paging"].indexOf(t.action)||-1!==["prepend","append"].indexOf(t.action)&&!this.getSetting("pager.display")},t.prototype.determineRowToSelect=function(t){if(-1!==["load","page","filter","sort","refresh"].indexOf(t.action))return this.dataSet.select();if("remove"===t.action){if(0!==t.elements.length)return this.dataSet.selectPreviousRow();this.dataSet.willSelectLastRow()}return"append"===t.action&&this.dataSet.willSelectLastRow(),"add"===t.action?this.dataSet.selectFirstRow():"update"===t.action?this.dataSet.selectFirstRow():("prepend"===t.action&&this.dataSet.willSelectFirstRow(),null)},t.prototype.prepareSource=function(t){var e=this.getInitialSort();return e&&e.field&&e.direction&&t.setSort([e],!1),!0===this.getSetting("pager.display")&&t.setPaging(1,this.getSetting("pager.perPage"),!1),t.refresh(),t},t.prototype.getInitialSort=function(){var t={};return this.getColumns().forEach(function(e){e.isSortable&&e.defaultSortDirection&&(t.field=e.id,t.direction=e.defaultSortDirection,t.compare=e.getCompareFunction())}),t},t.prototype.getSelectedRows=function(){return this.dataSet.getRows().filter(function(t){return t.isSelected})},t.prototype.selectAllRows=function(t){this.dataSet.getRows().forEach(function(e){return e.isSelected=t})},t.prototype.getFirstRow=function(){return this.dataSet.getFirstRow()},t.prototype.getLastRow=function(){return this.dataSet.getLastRow()},t}()},bMjW:function(t,e,n){"use strict";var i=n("3j3K"),o=n("2Je8"),a=n("NVOs"),r=n("u8XI"),l=n("jOIz"),s=n("3BAp"),c=n("9LEY"),u=n("EdWH"),d=n("DjRm"),h=n("K8AB"),f=n("suyt"),p=n("nn+T"),v=n("xRlJ"),g=n("R+Ta"),m=n("BIbo");n.d(e,"a",function(){return w});var y=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},b=[l.a,s.a,c.a,u.a,d.a,h.a,f.a,p.a,v.a,g.a,m.a],w=function(){function t(){}return t}();w=y([n.i(i.NgModule)({imports:[o.b,a.d,r.a],declarations:b.slice(),exports:b.slice()})],w)},dfXa:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.create=new i.EventEmitter}return t.prototype.ngOnChanges=function(){this.createButtonContent=this.grid.getSetting("add.createButtonContent"),this.cancelButtonContent=this.grid.getSetting("add.cancelButtonContent")},t}();a([n.i(i.Input)(),r("design:type",o.a)],l.prototype,"grid",void 0),a([n.i(i.Output)(),r("design:type",Object)],l.prototype,"create",void 0),l=a([n.i(i.Component)({selector:"ng2-st-actions",template:'\n    <a href="#" class="ng2-smart-action ng2-smart-action-add-create"\n        [innerHTML]="createButtonContent"\n        (click)="$event.preventDefault();create.emit($event)"></a>\n    <a href="#" class="ng2-smart-action ng2-smart-action-add-cancel"\n        [innerHTML]="cancelButtonContent"\n        (click)="$event.preventDefault();grid.createFormShown = false;"></a>\n  '})],l)},esOA:function(module,exports,__webpack_require__){/**
@license
DayPilot Pro
Copyright (c) 2005 - 2017 Annpoint s.r.o.
http://www.daypilot.org/
Use of this software is subject to license terms.
Version: 2826
*/
if(void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){function e(t){var e=DayPilot.Date.Cache.Ticks;if(e[t])return DayPilot.Stats.cacheHitsTicks+=1,e[t];var n,i=new Date(t),o=i.getUTCMilliseconds();n=0===o?"":o<10?".00"+o:o<100?".0"+o:"."+o;var a=i.getUTCSeconds();a<10&&(a="0"+a);var r=i.getUTCMinutes();r<10&&(r="0"+r);var l=i.getUTCHours();l<10&&(l="0"+l);var s=i.getUTCDate();s<10&&(s="0"+s);var c=i.getUTCMonth()+1;c<10&&(c="0"+c);var u=i.getUTCFullYear();if(u<=0)throw"The minimum year supported is 1.";u<10?u="000"+u:u<100?u="00"+u:u<1e3&&(u="0"+u);var d=u+"-"+c+"-"+s+"T"+l+":"+r+":"+a+n;return e[t]=d,d}function t(t,e){return!DayPilot.Util.isNullOrUndefined(t)&&!DayPilot.Util.isNullOrUndefined(e)&&t.toLocaleLowerCase()===e.toLocaleLowerCase()}if(void 0===DayPilot.$){DayPilot.$=function(t){return document.getElementById(t)},DayPilot.isKhtml=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("KHTML"),DayPilot.isIE=navigator&&navigator.userAgent&&(-1!==navigator.userAgent.indexOf("MSIE")||-1!==navigator.userAgent.indexOf("Trident")),DayPilot.isIEQuirks=DayPilot.isIE&&document.compatMode&&"BackCompat"===document.compatMode,DayPilot.browser={},DayPilot.browser.ie8=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if IE 8]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),DayPilot.browser.ie9=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if IE 9]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),DayPilot.browser.ielt9=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),DayPilot.browser.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),DayPilot.browser.chrome=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Chrome"),DayPilot.browser.ie=DayPilot.isIE,DayPilot.browser.webkit=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("WebKit"),DayPilot.browser.passiveEvents=!1,function(){try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:function(){DayPilot.browser.passiveEvents=!0}}))}catch(t){}}(),DayPilot.libs={},DayPilot.libs.angularjs="object"==typeof angularjs,DayPilot.touch={},DayPilot.touch.start=window.navigator.msPointerEnabled?"MSPointerDown":"touchstart",DayPilot.touch.move=window.navigator.msPointerEnabled?"MSPointerMove":"touchmove",DayPilot.touch.end=window.navigator.msPointerEnabled?"MSPointerUp":"touchend",DayPilot.mo2=function(t,e){if(e=e||window.event,void 0!==e.offsetX){var n={x:e.offsetX+1,y:e.offsetY+1};if(!t)return n;for(var i=e.srcElement;i&&i!==t;)"SPAN"!==i.tagName&&(n.x+=i.offsetLeft,i.offsetTop>0&&(n.y+=i.offsetTop-i.scrollTop)),i=i.offsetParent;return i?n:null}if(void 0!==e.layerX){var n={x:e.layerX,y:e.layerY,src:e.target};if(!t)return n;for(var i=e.target;i&&"absolute"!==i.style.position&&"relative"!==i.style.position;)i=i.parentNode,DayPilot.isKhtml&&(n.y+=i.scrollTop);for(;i&&i!==t;)n.x+=i.offsetLeft,n.y+=i.offsetTop-i.scrollTop,i=i.offsetParent;return i?n:null}return null},DayPilot.mo3=function(t,e){e=e||window.event;var n,i=DayPilot.page(e);if(i){var o=DayPilot.abs(t);n={x:i.x-o.x,y:i.y-o.y}}else n=DayPilot.mo2(t,e);return n.shift=e.shiftKey,n.meta=e.metaKey,n.ctrl=e.ctrlKey,n.alt=e.altKey,n},DayPilot.mc=function(t){return t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+document.documentElement.scrollLeft,y:t.clientY+document.documentElement.scrollTop}},DayPilot.Stats={},DayPilot.Stats.eventObjects=0,DayPilot.Stats.dateObjects=0,DayPilot.Stats.cacheHitsCtor=0,DayPilot.Stats.cacheHitsParsing=0,DayPilot.Stats.cacheHitsTicks=0,DayPilot.Stats.print=function(){console.log("DayPilot.Stats.eventObjects: "+DayPilot.Stats.eventObjects),console.log("DayPilot.Stats.dateObjects: "+DayPilot.Stats.dateObjects),console.log("DayPilot.Stats.cacheHitsCtor: "+DayPilot.Stats.cacheHitsCtor),console.log("DayPilot.Stats.cacheHitsParsing: "+DayPilot.Stats.cacheHitsParsing),console.log("DayPilot.Stats.cacheHitsTicks: "+DayPilot.Stats.cacheHitsTicks),console.log("DayPilot.Date.Cache.Ctor keys: "+Object.keys(DayPilot.Date.Cache.Ctor).length),console.log("DayPilot.Date.Cache.Parsing keys: "+Object.keys(DayPilot.Date.Cache.Parsing).length)},DayPilot.list=function(t,e){if(t&&t.isDayPilotList&&!e)return t;var n=DayPilot.isArray(t)||"[object NodeList]"===Object.prototype.toString.call(t),i=!n&&!DayPilot.Util.isNullOrUndefined(t),o=[];if(o.isDayPilotList=!0,o.clone=function(){var t=DayPilot.list();return o.each(function(e){t.push(e)}),t},o.each=function(t){if(t){if(o.forEach)return void o.forEach(t);for(var e=0;e<this.length;e++)t(o[e],e,o)}},o.addProps=function(t){var e=o.clone();if(t)for(var n in t)e[n]=t[n];return e},o.last=function(){return 0===o.length?null:o[o.length-1]},o.first=function(){return 0===o.length?null:o[0]},o.add=function(t){var e=o.clone();return e.push(t),e},o.map=function(t){if("function"!=typeof t)throw"DayPilot.list().map(f): Function expected";var e=DayPilot.list();return o.each(function(n,i,o){e.push(t(n,i,o))}),e},o.filter=function(t){var e=DayPilot.list();if("function"!=typeof t)throw"DayPilot.list().filter(f): Function expected";return o.each(function(n){t(n)&&e.push(n)}),e},o.concat=function(t){if(!t)return o;for(var e=o.clone(),n=0;n<t.length;n++)e.push(t[n]);return e},o.find||(o.find=function(t){if("function"!=typeof t)throw"DayPilot.list().find(f): Function expected";for(var e=0;e<this.length;e++)if(t(o[e]))return o[e]}),o.findIndex||(o.findIndex=function(t){if("function"!=typeof t)throw"DayPilot.list().findIndex(f): Function expected";for(var e=0;e<this.length;e++)if(t(o[e]))return e;return-1}),o.some||(o.some=function(t){if("function"!=typeof t)throw"DayPilot.list().some(f): Function expected";for(var e=0;e<this.length;e++)if(t(o[e]))return!0;return!1}),o.reduce||(o.reduce=function(t,e){if("function"!=typeof t)throw"DayPilot.list().reduce(f): Function expected";var n,i=0;if(void 0!==e)n=e;else{if(i=1,0===o.length)throw"DayPilot.list().reduce(f): No initial value and empty list";n=o[0]}for(var a=i;a<this.length;a++)n=t(n,o[a],a,this);return n}),o.isEmpty=function(){return 0===o.length},n)for(var a=0;a<t.length;a++)o[a]=t[a];else i&&(o[0]=t);return o},DayPilot.list.for=function(t,e){for(var n=DayPilot.list(),i=0;i<t;i++)"function"==typeof e?n.push(e(i)):n.push(i);return n},DayPilot.line=function(t,e,n,i,o){var a={x:t,y:e},r={x:n,y:i,deg:DayPilot.deg(t,e,n,i)};if(e<i){var l=e;e=i,i=l,l=t,t=n,n=l}var s=DayPilot.deg(t,e,n,i),c={x:t,y:e},u={x:n,y:i},d=function(){var o=Math.abs(t-n),a=Math.abs(e-i);return(t+n)/2-Math.sqrt(o*o+a*a)/2}(),h=function(){return(e+i)/2}(),f=DayPilot.distance(c,u),p=document.createElement("div");p.setAttribute("style","border:1px solid black;width:"+f+"px;height:0px;-moz-transform:rotate("+s+"deg);-webkit-transform:rotate("+s+"deg);-ms-transform:rotate("+s+"deg);transform:rotate("+s+"deg);position:absolute;top:"+h+"px;left:"+d+"px;");var v=document.createElement("div");if(v.appendChild(p),o){var g=6,m=r.y-g,y=r.x-g,s=s;r.y>a.y&&(s-=180);var b=document.createElement("div");b.style.borderColor="transparent black transparent transparent",b.style.borderWidth="6px",b.style.borderStyle="solid",b.style.position="absolute",b.style.left=y+"px",b.style.top=m+"px",b.style.transform="rotate("+s+"deg)",v.appendChild(b)}return v},DayPilot.deg=function(t,e,n,i){var o,a=Math.abs(t-n),r=Math.abs(e-i),l=(t+n)/2,s=(e+i)/2,c=Math.sqrt(a*a+r*r),u=l-c/2,d=s;a=c/2,o=Math.abs(l-u),r=Math.sqrt(Math.abs(t-u)*Math.abs(t-u)+Math.abs(e-d)*Math.abs(e-d));var h=(r*r-a*a-o*o)/(2*a*o);return 180*Math.acos(h)/Math.PI},DayPilot.complete=function(t){return"complete"===document.readyState?void t():(DayPilot.complete.list||(DayPilot.complete.list=[],DayPilot.re(document,"readystatechange",function(){if("complete"===document.readyState){for(var t=0;t<DayPilot.complete.list.length;t++)(0,DayPilot.complete.list[t])();DayPilot.complete.list=[]}})),void DayPilot.complete.list.push(t))},DayPilot.page=function(t){return t=t||window.event,void 0!==t.pageX?{x:t.pageX,y:t.pageY}:void 0!==t.clientX?{x:t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,y:t.clientY+document.body.scrollTop+document.documentElement.scrollTop}:null},DayPilot.rel=function(t,e){var n=DayPilot.abs(t),i=DayPilot.abs(e);return{x:n.x-i.x,y:n.y-i.y,w:t.offsetWidth,h:t.offsetHeight}},DayPilot.abs=function(t,e){if(!t)return null;var n={x:t.offsetLeft,y:t.offsetTop,w:t.clientWidth,h:t.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};if(t.getBoundingClientRect){var i=null;try{i=t.getBoundingClientRect()}catch(e){i={top:t.offsetTop,left:t.offsetLeft}}n.x=i.left,n.y=i.top;var o=DayPilot.doc();n.x-=o.clientLeft||0,n.y-=o.clientTop||0;var a=DayPilot.pageOffset();if(n.x+=a.x,n.y+=a.y,e){var r=DayPilot.absOffsetBased(t,!1),e=DayPilot.absOffsetBased(t,!0);n.x+=e.x-r.x,n.y+=e.y-r.y,n.w=e.w,n.h=e.h}return n}return DayPilot.absOffsetBased(t,e)},DayPilot.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)},DayPilot.absOffsetBased=function(t,e){for(var n={x:t.offsetLeft,y:t.offsetTop,w:t.clientWidth,h:t.clientHeight,toString:function(){return"x:"+this.x+" y:"+this.y+" w:"+this.w+" h:"+this.h}};DayPilot.op(t);)t=DayPilot.op(t),n.x-=t.scrollLeft,n.y-=t.scrollTop,e&&(n.x<0&&(n.w+=n.x,n.x=0),n.y<0&&(n.h+=n.y,n.y=0),t.scrollLeft>0&&n.x+n.w>t.clientWidth&&(n.w-=n.x+n.w-t.clientWidth),t.scrollTop&&n.y+n.h>t.clientHeight&&(n.h-=n.y+n.h-t.clientHeight)),n.x+=t.offsetLeft,n.y+=t.offsetTop;var i=DayPilot.pageOffset();return n.x+=i.x,n.y+=i.y,n},DayPilot.wd=function(){var t=DayPilot.isIEQuirks,e=document.documentElement.clientHeight;t&&(e=document.body.clientHeight);var n=document.documentElement.clientWidth;t&&(n=document.body.clientWidth);var i=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement&&document.documentElement.scrollLeft||document.body.scrollLeft,a={};return a.width=n,a.height=e,a.scrollTop=i,a.scrollLeft=o,a},DayPilot.op=function(t){try{return t.offsetParent}catch(t){return document.body}},DayPilot.distance=function(t,e){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))},DayPilot.doc=function(){var t=document.documentElement;return t&&t.clientHeight?t:document.body},DayPilot.pageOffset=function(){if("undefined"!=typeof pageXOffset)return{x:pageXOffset,y:pageYOffset};var t=DayPilot.doc();return{x:t.scrollLeft,y:t.scrollTop}},DayPilot.ac=function(t,e){if(!e)var e=[];for(var n=0;t.children&&n<t.children.length;n++)e.push(t.children[n]),DayPilot.ac(t.children[n],e);return e},DayPilot.indexOf=function(t,e,n){if(!t||!t.length)return-1;for(var i=0;i<t.length;i++)if(n){if(n(t[i],e))return i}else if(t[i]===e)return i;return-1},DayPilot.contains=function(t,e){return!!t&&(t===e&&!DayPilot.isArray(t)||-1!==DayPilot.indexOf(t,e))},DayPilot.rfa=function(t,e){var n=DayPilot.indexOf(t,e);-1!==n&&t.splice(n,1)},DayPilot.sheet=function(){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet||t.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(t);var e=!!t.styleSheet,n={};return n.rules=[],n.commit=function(){try{e&&(t.styleSheet.cssText=this.rules.join("\n"))}catch(t){}},n.add=function(n,i,o){if(e)return void this.rules.push(n+"{"+i+"}");if(t.sheet.insertRule)void 0===o&&(o=t.sheet.cssRules.length),t.sheet.insertRule(n+"{"+i+"}",o);else{if(!t.sheet.addRule)throw"No CSS registration method found";t.sheet.addRule(n,i,o)}},n},DayPilot.Args=function(t){var e=this;this.isArgs=!0,this.preventDefault=function(){t&&t.preventDefault(),e.preventDefault.value=!0}},DayPilot.Debug=function(t){var e=this;this.printToBrowserConsole=!1,this.enabled=!1,this.messages=[],this.a=null,this.clear=function(){this.messages=[],e.a&&(e.a.innerHTML="")},this.hide=function(){DayPilot.de(e.a),e.a=null},this.show=function(){e.a&&e.hide();var n=t.nav.top,i=document.createElement("div");i.style.position="absolute",i.style.top="0px",i.style.bottom="0px",i.style.left="0px",i.style.right="0px",i.style.backgroundColor="black",i.style.color="#ccc",i.style.overflow="auto",i.style.webkitUserSelect="auto",i.style.MozUserSelect="all",i.onclick=function(){e.hide()};for(var o=0;o<this.messages.length;o++){var a=e.messages[o],r=a.b();i.appendChild(r)}this.a=i,n.appendChild(i)},this.message=function(t,e){if(this.enabled){var n={};n.time=new DayPilot.Date,n.level=e||"debug",n.text=t,n.b=function(){var t=document.createElement("div");switch(t.innerHTML=n.time+" ("+n.level+"): "+n.text,n.level){case"error":t.style.color="red";break;case"warning":t.style.color="orange";break;case"info":t.style.color="white"}return t},this.messages.push(n),this.printToBrowserConsole&&"undefined"!=typeof console&&console.log(n)}}},DayPilot.re=function(t,e,n){if(n&&t)if(t.addEventListener)t.addEventListener(e,n,!1);else if(t.attachEvent){var i=function(e){n.call(t,e)};t.attachEvent("on"+e,i)}},DayPilot.ue=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},DayPilot.tr=function(t){return t?"string"==typeof t?t.replace(/^\s+|\s+$/g,""):t:""},DayPilot.ds=function(t){return DayPilot.Date.toStringSortable(t)},DayPilot.gs=function(t,e){var n=t;if(n.currentStyle)var i=n.currentStyle[e];else if(window.getComputedStyle)var i=document.defaultView.getComputedStyle(n,null).getPropertyValue(e);return void 0===i&&(i=""),i},DayPilot.StyleReader=function(t){function e(t){return t.charAt(0).toUpperCase()+t.slice(1)}this.get=function(n){var i=DayPilot.list(n.split("-")),o=i.reduce(function(t,n,i){return n=e(n),t+n});return t?DayPilot.gs(t,o)||DayPilot.gs(t,n):null},this.getPx=function(t){var e=this.get(t);return-1===e.indexOf("px")?void 0:parseInt(e,10)},this.getFont=function(){var t="bold"===this.get("font-weight")?"bold":"",e="italic"===this.get("font-style")?"italic":"";return{family:this.get("font-family"),size:this.get("font-size"),style:e+" "+t}}},DayPilot.he=function(t){var e=t.replace(/&/g,"&amp;");return e=e.replace(/</g,"&lt;"),e=e.replace(/>/g,"&gt;"),e=e.replace(/"/g,"&quot;")},DayPilot.he2=function(t){var e=document.createTextNode(t),n=document.createElement("div");return n.appendChild(e),n.innerHTML},DayPilot.us=function(t){if(t){t.setAttribute("unselectable","on"),t.style.userSelect="none",t.style.MozUserSelect="none",t.style.KhtmlUserSelect="none",t.style.webkitUserSelect="none";for(var e=0;e<t.childNodes.length;e++)1===t.childNodes[e].nodeType&&DayPilot.us(t.childNodes[e])}},DayPilot.pu=function(t){var e,n,i,o=t.attributes;if(o)for(n=o.length,e=0;e<n;e+=1)o[e]&&(i=o[e].name,"function"==typeof t[i]&&(t[i]=null));if(o=t.childNodes)for(n=o.length,e=0;e<n;e+=1)DayPilot.pu(t.childNodes[e])},DayPilot.puc=function(t){var e,n,i=t.childNodes;if(i){var n=i.length;for(e=0;e<n;e+=1)DayPilot.pu(t.childNodes[e])}},DayPilot.de=function(t){if(t)if(DayPilot.isArray(t))for(var e=0;e<t.length;e++)DayPilot.de(t[e]);else t.parentNode&&t.parentNode.removeChild(t)},DayPilot.fade=function(t,e,n){if(t){clearTimeout(t.messageTimeout);var i="none"!==t.style.display,o=e>0,a=e<0;if(0!==e){if(o?t.status="in":a&&(t.status="out"),o&&!i)t.target=parseFloat(t.style.opacity),t.opacity=0,t.style.opacity=0,t.style.filter="alpha(opacity=0)",t.style.display="";else if(a&&!t.target)t.target=t.style.opacity;else{var r=t.opacity,l=Math.floor(10*(r+e))/10;o&&l>t.target&&(l=t.target),a&&l<0&&(l=0);var s=100*l;t.opacity=l,t.style.opacity=l,t.style.filter="alpha(opacity="+s+")"}if(o&&(t.opacity>=t.target||t.opacity>=1)||a&&t.opacity<=0){if(t.target=null,a){t.style.opacity=t.target,t.opacity=t.target;var c=t.target?"alpha(opacity="+100*t.target+")":null;t.style.filter=c,t.style.display="none"}n&&"function"==typeof n&&(t.status=null,n())}else t.messageTimeout=setTimeout(function(){DayPilot.fade(t,e,n)},50)}}},DayPilot.sw=function(t){return t?t.offsetWidth-t.clientWidth:0},DayPilot.swa=function(){var t=document.createElement("div");t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px",t.style.width="200px",t.style.height="100px",t.style.overflow="auto";var e=document.createElement("div");e.style.width="300px",e.style.height="300px",t.appendChild(e),document.body.appendChild(t);var n=DayPilot.sw(t);return document.body.removeChild(t),n},DayPilot.sh=function(t){return t?t.offsetHeight-t.clientHeight:0},DayPilot.guid=function(){var t=function(){return(65536*(1+Math.random())|0).toString(16).substring(1)};return""+t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},DayPilot.ua=function(t){if("string"==typeof t||"number"==typeof t)return[t];for(var e={},n=[],i=0,o=t.length;i<o;++i)t[i]in e||(n.push(t[i]),e[t[i]]=1);return n},DayPilot.am=function(){return"undefined"==typeof angular?null:(DayPilot.am.cached||(DayPilot.am.cached=angular.module("daypilot",[])),DayPilot.am.cached)},function(){function t(t,i){var o={w:t.offsetWidth,h:t.offsetHeight,x:parseInt(t.style.left),y:parseInt(t.style.top)};o.height=t.style.height,o.width=t.style.width,o.top=t.style.top,o.left=t.style.left,o.toString=function(){return"w: "+this.w+" h:"+this.h};var a={};if(a.finished=null,a.vertical="center",a.horizontal="center",i)for(var r in i)a[r]=i[r];t.style.visibility="hidden",t.style.display="";var l=i.animation||"fast",s=e(l);s.div=t,s.i=0,s.target=o,s.config=a,n(s)}function e(t){var e=function(){var t=[];t.time=10;var e,n=.08;e=.1;for(var i=e;i<1.2;i+=n)t.push(i),e=i;n=.03;for(var i=e;i>.8;i-=n)t.push(i),e=i;for(var i=e;i<=1;i+=n)t.push(i),e=i;return t},n=function(){var t=[];t.time=10;var e,n=.04;e=.1;for(var i=e;i<=1;i+=n)t.push(i),e=i;return t},i=function(){var t=[];t.time=10;var e,n=.08;e=.1;for(var i=e;i<=1;i+=n)t.push(i),e=i;return t},o={fast:i,slow:n,jump:e};return o[t]||(t="fast"),o[t]()}function n(t){var e,i=t.div,o=t[t.i],a=o*t.target.h;switch(t.config.vertical){case"center":e=t.target.y-(a-t.target.h)/2;break;case"top":e=t.target.y;break;case"bottom":e=t.target.y-(a-t.target.h);break;default:throw"Unexpected 'vertical' value."}var r,l=o*t.target.w;switch(t.config.horizontal){case"left":r=t.target.x;break;case"center":r=t.target.x-(l-t.target.w)/2;break;case"right":r=t.target.x-(l-t.target.w);break;default:throw"Unexpected 'horizontal' value."}var s=DayPilot.wd(),c=s.height+s.scrollTop-(e+a);c<0&&(e+=c);var u=s.width-(r+l);u<0&&(r+=u),i.style.height=a+"px",i.style.top=e+"px",i.style.width=l+"px",i.style.left=r+"px",i.style.visibility="visible",t.i++,t.i<t.length-1?setTimeout(function(t){return function(){n(t)}}(t),t.time):(i.style.width=t.target.width,i.style.height=t.target.height,i.style.top=t.target.top,i.style.left=t.target.left,"function"==typeof t.config.finished&&t.config.finished())}DayPilot.pop=t}(),DayPilot.Util={},DayPilot.Util.addClass=function(t,e){if(e&&t)if(DayPilot.isArray(t))for(var n=0;n<t.length;n++)DayPilot.Util.addClass(t[n],e);else{if(!t.className)return void(t.className=e);var i=new RegExp("(^|\\s)"+e+"($|\\s)");i.test(t.className)||(t.className=t.className+" "+e)}},DayPilot.Util.normalizeColor=function(t){function e(t){return t=t.replace(/[^\d,]/g,"").split(","),"#"+((1<<24)+(+t[0]<<16)+(+t[1]<<8)+ +t[2]).toString(16).slice(1)}return 0===t.indexOf("rgb")?e(t):t},DayPilot.Util.addClassToString=function(t,e){return t?new RegExp("(^|\\s)"+e+"($|\\s)").test(t)?t:t+" "+e:e},DayPilot.Util.removeClassFromString=function(t,e){if(!t)return"";var n=new RegExp("(^|\\s)"+e+"($|\\s)");return t.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")},DayPilot.Util.removeClass=function(t,e){if(t)if(DayPilot.isArray(t))for(var n=0;n<t.length;n++)DayPilot.Util.removeClass(t[n],e);else{var i=new RegExp("(^|\\s)"+e+"($|\\s)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}},DayPilot.Util.props=function(t){var e=[];for(var n in t)e.push(n),e.push(t[n]);return e.join("-")},DayPilot.Util.propArray=function(t,e,n){return DayPilot.list(t).map(function(t){return t[e]?t[e]:n})},DayPilot.Util.updatePropsFromArray=function(t,e,n){for(var i=0;i<n.length;i++)t[i][e]=n[i]},DayPilot.Util.copyProps=function(t,e,n){if(t){if(e||(e={}),void 0===n)for(var i in t)void 0!==t[i]&&(e[i]=t[i]);else for(var o=0;o<n.length;o++){var i=n[o];void 0!==t[i]&&(e[i]=t[i])}return e}},DayPilot.Util.firstPropValue=function(t){for(var e in t)return t[e]},DayPilot.Util.createArrayCopy=function(t,e){if(!DayPilot.isArray(t))return[];for(var n=[],i=0;i<t.length;i++){var o={};DayPilot.Util.copyProps(t[i],o,e),n.push(o)}return n},DayPilot.Util.avg=function(t,e){return(t+e)/2},DayPilot.Util.div=function(t,e,n,i,o){var a=document.createElement("div");return(e||n||i||o)&&(i<0&&(e+=i,i*=-1),o<0&&(n+=o,o*=-1),a.style.position="absolute","number"==typeof e?a.style.left=e+"px":"string"==typeof e&&(a.style.left=e),"number"==typeof n?a.style.top=n+"px":"string"==typeof n&&(a.style.top=n),"number"==typeof i?a.style.width=i+"px":"string"==typeof i&&(a.style.width=i),"number"==typeof o?a.style.height=o+"px":"string"==typeof o&&(a.style.height=o)),t&&t.appendChild(a),a},DayPilot.Util.overlaps=function(t,e,n,i){return!(e<=n||t>=i)},DayPilot.Util.isMouseEvent=function(t){return!(!navigator.msPointerEnabled||!t.pointerType||"mouse"!==t.pointerType&&4!==t.pointerType)},DayPilot.Util.mouseButton=function(t){var e={};if(t=t||window.event,void 0===t.which)switch(t.button){case 1:e.left=!0;break;case 4:e.middle=!0;break;case 2:e.right=!0;break;case 0:e.unknown=!0}else switch(t.which){case 1:e.left=!0;break;case 2:e.middle=!0;break;case 3:e.right=!0}return e},DayPilot.Util.membersPlain=function(t){var e=DayPilot.Util.members(t,2),n=function(t){for(var e=0;e<t.length;e++){var n=t[e],i=n.name;n.obsolete&&(i+=" (obsolete)"),n.noCssOnly&&(i+=" (!cssOnly)"),n.aspnet&&(i+=" (ASP.NET)"),n.mvc&&(i+="(MVC)"),t[e]=i}};return n(e.events),n(e.methods),n(e.properties),e},DayPilot.Util.shouldApply=function(t){if(!t)return!1;var e=t.toLowerCase();return!(e.indexOf("before")>=0||e.indexOf("after")>=0||"onrowfilter"===e||"oneventfilter"===e)},DayPilot.Util.safeApply=function(t,e){var n=t.$root.$$phase;"$apply"===n||"$digest"===n?t.$eval(e):t.$apply(e)},DayPilot.Util.members=function(t,e){var n=DayPilot.list(),i=DayPilot.list(),o=DayPilot.list(),a=t&&t.members?t.members.obsolete:[],r=t&&t.members?t.members.noCssOnly:[],l=t&&t.members?t.members.ignore:[],s=t&&t.members&&t.members.ignoreFilter?t.members.ignoreFilter:function(){return!1};for(var c in t)if(0!==c.indexOf("$")&&0!==c.indexOf("_")&&0!==c.indexOf("number")&&0!==c.indexOf("is")&&"v"!==c&&!DayPilot.contains(l,c)&&!s(c))if(0!==c.indexOf("on"))if("function"!=typeof t[c])if("object"!=typeof t[c])o.push(c);else{var u=t[c];if(0===e){o.push(c);continue}if(u&&u.nodeType>0){o.push(c);continue}if(u instanceof DayPilot.Bubble){o.push(c);continue}if(u instanceof DayPilot.Date){o.push(c);continue}if(u instanceof DayPilot.Menu){o.push(c);continue}if(u instanceof DayPilot.Scheduler){o.push(c);continue}if(DayPilot.isArray(u)){o.push(c);continue}null===u&&o.push(c);var d=null;"number"==typeof e&&(d=e-1);for(var h=DayPilot.Util.members(u,d),f=0;f<h.events.length;f++)n.push(c+"."+h.events[f].name);for(var f=0;f<h.methods.length;f++)i.push(c+"."+h.methods[f].name);for(var f=0;f<h.properties.length;f++)o.push(c+"."+h.properties[f].name)}else i.push(c);else n.push(c);n.sort(),i.sort(),o.sort();var p=function(t){for(var e=0;e<t.length;e++){var n=t[e],i={};i.name=n,t[e]=i,DayPilot.contains(a,n)&&(i.obsolete=!0),DayPilot.contains(r,n)&&(i.noCssOnly=!0),-1!==n.indexOf("CallBack")&&(i.aspnet=!0,i.mvc=!0),-1!==n.indexOf("PostBack")&&(i.aspnet=!0),-1!==n.indexOf("Notify")&&(i.aspnet=!0,i.mvc=!0)}};return p(n),p(i),p(o),{events:n,methods:i,properties:o}},DayPilot.Util.replaceCharAt=function(t,e,n){return t.substr(0,e)+n+t.substr(e+n.length)},DayPilot.Util.evalVariable=function(e,t){if(t=t||["object"],null===e||void 0===e)return null;if(-1!==DayPilot.indexOf(t,typeof e))return e;if("string"!=typeof e)throw"Unable to resolve a variable name (not a string).";if(!/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e))throw"Invalid variable name: "+e;return eval(e)},DayPilot.Util.evalFunction=function(e){if(null===e)return null;if("function"==typeof e)return e;if("string"!=typeof e)throw"Unable to resolve a function (not a string).";if(!/^\(?function/.test(e))throw"Invalid function string";return eval("("+e+")")},DayPilot.Util.parseJSON=function(t){return JSON&&JSON.parse?JSON.parse(t):DayPilot.JSON.parse(t)},DayPilot.Util.isNullOrUndefined=function(t){return null===t||void 0===t},DayPilot.Util.log=function(t){window.console&&window.console.log&&window.console.log(t)},DayPilot.Util.adiff=function(t,e,n){var i={};return i.add=[],i.remove=[],i},DayPilot.Util.workerFrom=function(t){var e=t.toString(),n=e.slice(e.indexOf("{")+1,e.lastIndexOf("}")),i=new Blob([n]),o=window.URL.createObjectURL(i);return new Worker(o)},DayPilot.Util.dataUriToBlob=function(t){if("string"!=typeof t)throw"DayPilot.Util.dataUriToBlob(): dataURI string expected";for(var e=t.split(","),n=e[0],i=e[1],o=-1!==n.indexOf("base64"),a=o?atob:decodeURI,r=n.split(":")[1].split(";")[0],l=a(i),s=new window.Uint8Array(l.length),c=0;c<l.length;c++)s[c]=l.charCodeAt(c);return new Blob([s],{type:r})},DayPilot.Util.downloadDataUri=function(t,e){var n=DayPilot.Util.dataUriToBlob(t);DayPilot.Util.downloadBlob(n,e)},DayPilot.Util.downloadBlob=function(t,e){var e=e||"download";if(window.navigator.msSaveBlob)window.navigator.msSaveBlob(t,e);else{var n=window.URL.createObjectURL(t),i=document.createElement("a");i.download=e,i.href=n,i.style="display:none",document.body.appendChild(i),i.click(),setTimeout(function(){document.body.removeChild(i),window.URL.revokeObjectURL(n)})}},DayPilot.Util.monitor=function(t,e,n){var i=t[e];t[e]=function(){n.apply(t,arguments),i.apply(t,arguments)}},DayPilot.Util.isTransparentColor=function(t){return"transparent"===t||"rgba(0, 0, 0, 0)"===t},DayPilot.Areas={},DayPilot.Areas.attach=function(t,e,n){var n=n||{},o=n.areas,a=n.allowed||function(){return!0},r=n.offsetX||0;(o=i(e,o))&&DayPilot.isArray(o)&&0!==o.length&&(DayPilot.re(t,"mousemove",function(i){t.active||t.areasDisabled||!a()||DayPilot.Areas.showAreas(t,e,i,o,{offsetX:r,eventDiv:n.eventDiv})}),DayPilot.re(t,"mouseout",function(e){DayPilot.Areas.hideAreas(t,e)}),DayPilot.list(o).each(function(i){if("Visible"===(i.visibility||i.v||"Visible")){var o=DayPilot.Areas.createArea(t,e,i,{offsetX:r,eventDiv:n.eventDiv});t.appendChild(o)}}))},DayPilot.Areas.disable=function(t){t.areasDisabled=!0,DayPilot.list(t.childNodes).filter(function(t){return t.isActiveArea&&!t.area.start}).each(function(t){t.style.display="none"})},DayPilot.Areas.enable=function(t){t.areasDisabled=!1,DayPilot.list(t.childNodes).filter(function(t){return t.isActiveArea&&!t.area.start}).each(function(t){t.style.display=""})},DayPilot.Areas.remove=function(t){var e=DayPilot.list(t.childNodes).filter(function(t){return t.isActiveArea});DayPilot.de(e)};var i=function(t,e){return DayPilot.isArray(e)||(e=t.areas)||(t.cache?e=t.cache.areas:t.data&&(e=t.data.areas)),e};DayPilot.Areas.showAreas=function(t,e,n,i,o){if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){if(DayPilot.Areas.all&&DayPilot.Areas.all.length>0)for(var a=0;a<DayPilot.Areas.all.length;a++){var r=DayPilot.Areas.all[a];r!==t&&DayPilot.Areas.hideAreas(r,n)}if(!t.active&&(t.active={},DayPilot.isArray(i)||(i=e.areas)||(e.cache?i=e.cache.areas:e.data&&(i=e.data.areas)),i&&0!==i.length&&!(t.areas&&t.areas.length>0))){t.areas=[];for(var a=0;a<i.length;a++){var l=i[a];if("Hover"===(l.visibility||l.v||"Visible")){var s=DayPilot.Areas.createArea(t,e,l,o);t.areas.push(s),t.appendChild(s),DayPilot.Areas.all.push(t)}}t.active.children=DayPilot.ac(t)}}},DayPilot.Areas.createArea=function(t,e,n,i){function o(t,e,n){DayPilot.Bubble&&DayPilot.Bubble.touchPosition(n),t.calendar.bubble&&t.calendar.bubble.showEvent(t,!0)}function a(t,e,n,i){DayPilot.Menu&&DayPilot.Menu.touchPosition(i);var o=n.menu;if("string"==typeof o?o=DayPilot.Util.evalVariable(o):e.isEvent&&e.calendar.contextMenu?o=DayPilot.Util.evalVariable(e.calendar.contextMenu):e.isRow&&e.calendar.contextMenuResource&&(o=DayPilot.Util.evalVariable(e.calendar.contextMenuResource)),o&&o.show){var a={type:"area",div:t,e:e,area:n};o.show(e,{initiator:a})}}var i=i||{},r=i.offsetX||0,l=i.eventDiv||t,s=document.createElement("div");s.isActiveArea=!0,s.area=n,s.setAttribute("unselectable","on");var c=n.w||n.width,u=n.h||n.height,d=n.cssClass||n.css||n.className;if(void 0!==n.style&&s.setAttribute("style",n.style),s.style.position="absolute",void 0!==c&&(s.style.width=c+"px"),void 0!==u&&(s.style.height=u+"px"),void 0!==n.right&&(s.style.right=n.right+"px"),void 0!==n.top&&(s.style.top=n.top+"px"),void 0!==n.left&&(s.style.left=n.left+r+"px"),void 0!==n.bottom&&(s.style.bottom=n.bottom+"px"),void 0!==n.html&&n.html)s.innerHTML=n.html;else if(n.icon){var h=document.createElement("i");h.className=n.icon,s.appendChild(h)}if(d&&(s.className=d),n.toolTip&&s.setAttribute("title",n.toolTip),n.backColor&&(s.style.background=n.backColor),n.background&&(s.style.background=n.background),n.fontColor&&(s.style.color=n.fontColor),n.padding&&(s.style.padding=n.padding+"px",s.style.boxSizing="border-box"),"ResizeEnd"===n.action||"ResizeStart"===n.action||"Move"===n.action){if(e.calendar.isCalendar)switch(n.action){case"ResizeEnd":n.cursor="s-resize",n.dpBorder="bottom";break;case"ResizeStart":n.cursor="n-resize",n.dpBorder="top";break;case"Move":n.cursor="move"}if(e.calendar.isScheduler||e.calendar.isMonth)switch(n.action){case"ResizeEnd":n.cursor="e-resize",n.dpBorder="right";break;case"ResizeStart":n.cursor="w-resize",n.dpBorder="left";break;case"Move":n.cursor="move"}s.onmousemove=function(t,e,n){return function(i){var i=i||window.event;i.cancelBubble=!0,e.calendar.internal&&e.calendar.internal.dragInProgress&&e.calendar.internal.dragInProgress()||(t.style.cursor=n.cursor,n.dpBorder&&(t.dpBorder=n.dpBorder))}}(l,e,n),s.onmouseout=function(t,e,n){return function(e){t.style.cursor=""}}(l)}if(("ResizeEnd"===n.action||"ResizeStart"===n.action)&&e.isEvent&&e.calendar.internal.touch){var f=function(t,e,n){return function(i){i.cancelBubble=!0;var o=e.calendar.internal.touch,a=i.touches?i.touches[0]:i,r={x:a.pageX,y:a.pageY};e.calendar.coords=o.relativeCoords(i),o.preventEventTap=!0,e.calendar.isScheduler?o.startResizing(t,"ResizeEnd"===n.action?"right":"left"):e.calendar.isCalendar&&o.startResizing(t,"ResizeEnd"===n.action?"bottom":"top",r)}}(l,e,n);DayPilot.re(s,DayPilot.touch.start,f)}if("ContextMenu"===n.action&&e.isEvent&&e.calendar.internal.touch){var f=function(t,e,n){return function(i){i.cancelBubble=!0,i.preventDefault(),a(t,e,n,i),e.calendar.internal.touch.preventEventTap=!0}}(l,e,n),p=function(t,e,n){return function(t){t.cancelBubble=!0,t.preventDefault()}}();DayPilot.re(s,DayPilot.touch.start,f),DayPilot.re(s,DayPilot.touch.end,p)}if("Bubble"===n.action&&e.isEvent&&e.calendar.internal.touch){var f=function(t,e,n){return function(t){t.cancelBubble=!0,t.preventDefault(),o(e,n,t),e.calendar.internal.touch.preventEventTap=!0}}(0,e,n),p=function(t,e,n){return function(t){t.cancelBubble=!0,t.preventDefault()}}();DayPilot.re(s,DayPilot.touch.start,f),DayPilot.re(s,DayPilot.touch.end,p)}if("Move"===n.action&&e.isEvent&&e.calendar.internal.touch){var f=function(t,e,n){return function(n){n.cancelBubble=!0;var i=e.calendar.internal.touch,o=n.touches?n.touches[0]:n,a={x:o.pageX,y:o.pageY};e.calendar.coords=i.relativeCoords(n),i.preventEventTap=!0,i.startMoving(t,a)}}(l,e);DayPilot.re(s,DayPilot.touch.start,f)}if("Move"===n.action&&e.isRow&&e.calendar.internal.touch,"Bubble"===n.action&&e.isEvent&&(s.onmousemove=function(t,e,n){return function(t){e.calendar.bubble&&e.calendar.bubble.showEvent(e,!0)}}(0,e),s.onmouseout=function(t,e,n){return function(t){void 0!==DayPilot.Bubble&&e.calendar.bubble&&e.calendar.bubble.hideOnMouseOut()}}(0,e)),"HoverMenu"===n.action&&(s.onmousemove=function(t,e,n){return function(t){var i=n.menu;"string"==typeof i&&(i=DayPilot.Util.evalVariable(i)),i&&i.show&&(i.visible?i.source&&void 0!==i.source.id&&i.source.id!==e.id&&i.show(e):i.show(e),i.cancelHideTimeout())}}(0,e,n),s.onmouseout=function(t,e,n){return function(t){var e=n.menu;"string"==typeof e&&(e=DayPilot.Util.evalVariable(e)),e&&e.hideOnMouseOver&&e.delayedHide()}}(0,0,n)),"JavaScript"===n.action){var f=function(t,e,n){return function(t){DayPilot.Util.isMouseEvent(t)||(t.cancelBubble=!0,t.preventDefault(),e.calendar.internal.touch.start=!0)}}(0,e),p=function(t,e,n){return function(t){if(!DayPilot.Util.isMouseEvent(t)){t.cancelBubble=!0,t.preventDefault(),e.calendar.internal.touch.start=!1;var i=n.js;if("string"==typeof i&&(i=DayPilot.Util.evalFunction(n.js)),"function"==typeof i){var o=n.target||e;i.call(this,o)}}}}(0,e,n);DayPilot.re(s,DayPilot.touch.start,f),DayPilot.re(s,DayPilot.touch.end,p)}return s.onmousedown=function(t,e,n){return function(i){if("function"==typeof n.onmousedown&&n.onmousedown(i),"function"==typeof n.mousedown){var o={};o.area=n,o.div=t,o.originalEvent=i,o.source=e,n.mousedown(o)}if("Move"===n.action&&e.isRow){var a=e.$.row;e.calendar.internal.rowtools.startMoving(a)}"Move"!==n.action&&"ResizeEnd"!==n.action&&"ResizeStart"!==n.action&&n.action&&(i=i||window.event,i.preventDefault(),i.cancelBubble=!0)}}(t,e,n),s.onclick=function(t,e,n){return function(i){var i=i||window.event,o={};if(o.area=n,o.source=e,o.originalEvent=i,o.preventDefault=function(){o.preventDefault.value=!0},"function"!=typeof n.onClick||(n.onClick(o),!o.preventDefault.value)){switch(n.action){case"JavaScript":var r=n.js;if("string"==typeof r&&(r=DayPilot.Util.evalFunction(n.js)),"function"==typeof r){var l=n.target||e;r.call(this,l)}i.cancelBubble=!0;break;case"ContextMenu":a(t,e,n,i),i.cancelBubble=!0;break;case"CallBack":alert("callback not implemented yet, id: "+n.id),i.cancelBubble=!0}"function"==typeof n.onClicked&&n.onClicked(o)}}}(t,e,n),s},DayPilot.Areas.all=[],DayPilot.Areas.hideAreas=function(t,e){if(t&&t&&t.active){var n=t.active,i=t.areas;if(n&&n.children){var e=e||window.event;if(e){var o=e.toElement||e.relatedTarget;if(~DayPilot.indexOf(n.children,o))return}}if(!i||0===i.length)return void(t.active=null);DayPilot.de(i),t.active=null,t.areas=[],DayPilot.rfa(DayPilot.Areas.all,t),n.children=null}},DayPilot.Areas.hideAll=function(t){if(DayPilot.Areas.all&&0!==DayPilot.Areas.all.length)for(var e=0;e<DayPilot.Areas.all.length;e++)DayPilot.Areas.hideAreas(DayPilot.Areas.all[e],t)},DayPilot.Action=function(t,e,n,i){var o=this;this.calendar=t,this.isAction=!0,this.action=e,this.params=n,this.data=i,this.notify=function(){o.calendar.internal.invokeEvent("Immediate",this.action,this.params,this.data)},this.auto=function(){o.calendar.internal.invokeEvent("Notify",this.action,this.params,this.data)},this.queue=function(){o.calendar.queue.add(this)},this.toJSON=function(){var t={};return t.name=this.action,t.params=this.params,t.data=this.data,t}},DayPilot.Selection=function(t,e,n,i){this.menuType="selection",this.start=new DayPilot.Date(t),this.end=new DayPilot.Date(e),this.resource=n,this.root=i,this.calendar=i,this.toJSON=function(t){var e={};return e.start=this.start,e.end=this.end,e.resource=this.resource,e}},DayPilot.Link=function(t,e){this.isLink=!0,this.data=t,this.calendar=e,this.to=function(){return this.data.to},this.from=function(){return this.data.from},this.type=function(){return this.data.type},this.id=function(){return this.data.id},this.toJSON=function(){var t={};return t.from=this.data.from,t.to=this.data.to,t.id=this.data.id,t.type=this.data.type,t}},DayPilot.Event=function(t,e,n){var i=this;this.calendar=e,this.data=t||{},this.part=n||{},void 0===this.data.id&&(this.data.id=this.data.value);var o={},a=["id","text","start","end","resource"];this.isEvent=!0,DayPilot.Stats.eventObjects+=1,this.temp=function(){if(o.dirty)return o;for(var t=0;t<a.length;t++)o[a[t]]=i.data[a[t]];return o.dirty=!0,o},this.copy=function(){var t={};return DayPilot.Util.copyProps(i.data,t),t},this.commit=function(){if(o.dirty){for(var t=0;t<a.length;t++)i.data[a[t]]=o[a[t]];o.dirty=!1}},this.dirty=function(){return o.dirty},this.id=function(t){return void 0===t?i.data.id:void(this.temp().id=t)},this.value=function(t){return void 0===t?i.id():void i.id(t)},this.text=function(t){return void 0===t?i.data.text:(this.temp().text=t,void this.client.innerHTML(t))},this.start=function(t){return void 0===t?new DayPilot.Date(i.data.start):void(this.temp().start=new DayPilot.Date(t))},this.end=function(t){return void 0===t?e&&e.internal.adjustEndNormalize?e.internal.adjustEndNormalize(new DayPilot.Date(i.data.end)):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(t))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.rawend=function(){return"undefined"==typeof val?e&&e.internal.adjustEndIn?e.internal.adjustEndIn(new DayPilot.Date(i.data.end)):new DayPilot.Date(i.data.end):void(this.temp().end=new DayPilot.Date(val))},this.partStart=function(){return new DayPilot.Date(this.part.start)},this.partEnd=function(){return new DayPilot.Date(this.part.end)},this.row=function(){return this.resource()},this.allday=function(){return"undefined"==typeof val?i.data.allday:void(this.temp().allday=val)},this.isAllDay=this.allday,this.resource=function(t){return void 0===t?i.data.resource:void(this.temp().resource=t)},this.recurrent=function(){return i.data.recurrent},this.recurrentMasterId=function(){return i.data.recurrentMasterId},this.useBox=function(){return this.part.box},this.staticBubbleHTML=function(){return this.bubbleHtml()},this.bubbleHtml=function(){return i.cache?i.cache.bubbleHtml||i.data.bubbleHtml:i.data.bubbleHtml},this.tag=function(t){if(i.data.tags)return i.data.tags[t];var e=i.data.tag;if(!e)return null;if(void 0===t)return i.data.tag;for(var n=i.calendar.tagFields,o=-1,a=0;a<n.length;a++)t===n[a]&&(o=a);if(-1===o)throw"Field name not found.";return e[o]},this.client={},this.client.innerHTML=function(t){return void 0===t?i.cache&&void 0!==i.cache.html?i.cache.html:void 0!==i.data.html?i.data.html:i.data.text:(i.data.html=t,void(i.cache&&(i.cache.html=t)))},this.client.html=this.client.innerHTML,this.client.header=function(t){return void 0===t?i.data.header:void(i.data.header=t)},this.client.cssClass=function(t){return void 0===t?i.data.cssClass:void(i.data.cssClass=t)},this.client.toolTip=function(t){return void 0===t?i.cache&&void 0!==i.cache.toolTip?i.cache.toolTip:void 0!==i.data.toolTip?i.data.toolTip:i.data.text:void(i.data.toolTip=t)},this.client.backColor=function(t){return void 0===t?i.cache&&void 0!==i.cache.backColor?i.cache.backColor:void 0!==i.data.backColor?i.data.backColor:i.calendar.eventBackColor:void(i.data.backColor=t)},this.client.borderColor=function(t){return void 0===t?i.cache&&void 0!==i.cache.borderColor?i.cache.borderColor:void 0!==i.data.borderColor?i.data.borderColor:i.calendar.eventBorderColor:void(i.data.borderColor=t)},this.client.barColor=function(t){return void 0===t?i.cache&&void 0!==i.cache.barColor?i.cache.barColor:void 0!==i.data.barColor?i.data.barColor:i.calendar.durationBarColor:void(i.data.barColor=t)},this.client.barVisible=function(t){return void 0===t?i.cache&&void 0!==i.cache.barHidden?!i.cache.barHidden:i.calendar.durationBarVisible&&!i.data.barHidden:void(i.data.barHidden=!t)},this.client.contextMenu=function(t){if(void 0===t){if(i.oContextMenu)return i.oContextMenu;var e=i.cache?i.cache.contextMenu:i.data.contextMenu;return e?DayPilot.Util.evalVariable(e):null}i.oContextMenu=t},this.client.moveEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.moveDisabled?!i.cache.moveDisabled:"Disabled"!==i.calendar.eventMoveHandling&&!i.data.moveDisabled:void(i.data.moveDisabled=!t)},this.client.resizeEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.resizeDisabled?!i.cache.resizeDisabled:"Disabled"!==i.calendar.eventResizeHandling&&!i.data.resizeDisabled:void(i.data.resizeDisabled=!t)},this.client.rightClickEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.rightClickDisabled?!i.cache.rightClickDisabled:"Disabled"!==i.calendar.rightClickHandling&&!i.data.rightClickDisabled:void(i.data.rightClickDisabled=!t)},this.client.clickEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.clickDisabled?!i.cache.clickDisabled:"Disabled"!==i.calendar.clickHandling&&!i.data.clickDisabled:void(i.data.clickDisabled=!t)},this.client.deleteEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.deleteDisabled?!i.cache.deleteDisabled:"Disabled"!==i.calendar.eventDeleteHandling&&!i.data.deleteDisabled:void(i.data.deleteDisabled=!t)},this.client.doubleClickEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.doubleClickDisabled?!i.cache.doubleClickDisabled:"Disabled"!==i.calendar.eventDoubleClickHandling&&!i.data.doubleClickDisabled:void(i.data.doubleClickDisabled=!t)},this.client.deleteClickEnabled=function(t){return void 0===t?i.cache&&void 0!==i.cache.deleteDisabled?!i.cache.deleteDisabled:"Disabled"!==i.calendar.eventDeleteHandling&&!i.data.deleteDisabled:void(i.data.deleteDisabled=!t)},this.toJSON=function(t){var e={};if(e.value=this.id(),e.id=this.id(),e.text=this.text(),e.start=this.start().toJSON(),e.end=this.end().toJSON(),e.resource=this.resource(),e.isAllDay=!1,e.recurrentMasterId=this.recurrentMasterId(),e.join=this.data.join,e.tag={},i.data.tags)for(var n in i.data.tags)i.data.tags.hasOwnProperty(n)&&(e.tag[n]=""+i.data.tags[n]);else if(i.calendar&&i.calendar.tagFields)for(var o=i.calendar.tagFields,a=0;a<o.length;a++)e.tag[o[a]]=this.tag(o[a]);return e}},DayPilot.Task=function(t,e){if(!t)throw"Trying to initialize DayPilot.Task with null data parameter";var n=this,i=null;if(t instanceof DayPilot.Event)i=t,this.data=t.data.task;else{if(t instanceof DayPilot.Task)return t;t.isTaskWrapper?this.data=t.data:this.data=t}var o={},a=["id","text","start","end","complete","type"];this.isTask=!0,this.calendar=e,this.temp=function(){if(o.dirty)return o;for(var t=0;t<a.length;t++)o[a[t]]=n.data[a[t]];return o.dirty=!0,o},this.copy=function(){var t={};return DayPilot.Util.copyProps(n.data,t),t},this.commit=function(){if(o.dirty){for(var t=0;t<a.length;t++)n.data[a[t]]=o[a[t]];o.dirty=!1}},this.dirty=function(){return o.dirty},this.id=function(t){return void 0===t?n.data.id:void(this.temp().id=t)},this.text=function(t){return void 0===t?n.data.text:(this.temp().text=t,void this.client.innerHTML(t))},this.start=function(t){return void 0===t?new DayPilot.Date(n.data.start):void(this.temp().start=new DayPilot.Date(t))},this.duration=function(){return new DayPilot.Duration(this.start(),this.end())},this.end=function(t){return void 0===t?e&&"Date"===e.eventEndSpec?new DayPilot.Date(n.data.end).getDatePart().addDays(1):new DayPilot.Date(n.data.end):void(this.temp().end=new DayPilot.Date(t))},this.type=function(t){return void 0===t?i?i.data.type:n.data.type:void(this.temp().type=t)},this.complete=function(t){return void 0===t?n.data.complete?n.data.complete:0:void(this.temp().complete=t)},this.children=function(){var t=[];t.add=function(t){var e=new DayPilot.Task(t);this.data.children||(this.data.children=[]),this.children.push(e.data)};for(var n=0;this.data.children&&n<this.data.children.length;n++)t.push(new DayPilot.Task(this.data.children[n],e));return t},this.toJSON=function(t){var e={};return e.id=this.id(),e.text=this.text(),e.start=this.start().toJSON(),e.end=this.end().toJSON(),e.type=this.type(),e.tags={},DayPilot.Util.copyProps(this.data.tags,e.tags),e},this.row={};var r=this.row;r.expanded=function(t){return void 0===t?!n.data.row||!n.data.row.collapsed:(n.data.row||(n.data.row={}),!!n.data.row.collapsed!=!t&&e.internal.rowObjectForTaskData(n.data).toggle(),void(n.data.row.collapsed=!t))},r.expand=function(){r.expanded(!0)},r.collapse=function(){r.expanded(!1)},r.toggle=function(){r.expanded(!r.expanded())}},DayPilot.request=function(t,e,n,i){var o=DayPilot.createXmlHttp();o&&(o.open("POST",t,!0),o.setRequestHeader("Content-type","text/plain"),o.onreadystatechange=function(){if(4===o.readyState)return 200!==o.status&&304!==o.status?void(i?i(o):window.console&&console.log("HTTP error "+o.status)):void e(o)},4!==o.readyState&&("object"==typeof n&&(n=DayPilot.JSON.stringify(n)),o.send(n)))},DayPilot.ajax=function(t){var e=DayPilot.createXmlHttp();if(e){var n=t.method||"GET",i=t.success||function(){},o=t.error||function(){},a=t.data,r=t.url,l=t.contentType||"text/plain";e.open(n,r,!0),e.setRequestHeader("Content-type",l),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status||304===e.status){var t={};t.request=e,i(t)}else if(o){var t={};t.request=e,o(t)}else window.console&&console.log("HTTP error "+e.status)},4!==e.readyState&&("object"==typeof a&&(a=DayPilot.JSON.stringify(a)),e.send(a))}},DayPilot.createXmlHttp=function(){return new XMLHttpRequest},DayPilot.Duration=function(t){var e=this,n=864e5,i=36e5,o=6e4,a=1e3;if(2===arguments.length){var r=arguments[0],l=arguments[1];if(!(r instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid start argument, DayPilot.Date expected";if(!(l instanceof DayPilot.Date))throw"DayPilot.Duration(): Invalid end argument, DayPilot.Date expected";this.ticks=l.getTime()-r.getTime()}else this.ticks=t;return DayPilot.Date.Cache.DurationCtor[""+t]?DayPilot.Date.Cache.DurationCtor[""+t]:(DayPilot.Date.Cache.DurationCtor[""+t]=this,this.toString=function(t){if(!t)return e.days()+"."+e.hours()+":"+e.minutes()+":"+e.seconds()+"."+e.milliseconds();var n=e.minutes();n=(n<10?"0":"")+n;var i=t;return i=i.replace("mm",n),i=i.replace("m",e.minutes()),i=i.replace("H",e.hours()),i=i.replace("h",e.hours()),i=i.replace("d",e.days()),i=i.replace("s",e.seconds())},this.totalHours=function(){return e.ticks/i},this.totalDays=function(){return e.ticks/n},this.totalMinutes=function(){return e.ticks/o},this.totalSeconds=function(){return e.ticks/a},this.days=function(){return Math.floor(e.totalDays())},this.hours=function(){var t=e.ticks-e.days()*n;return Math.floor(t/i)},this.minutes=function(){var t=e.ticks-Math.floor(e.totalHours())*i;return Math.floor(t/o)},this.seconds=function(){var t=e.ticks-Math.floor(e.totalMinutes())*o;return Math.floor(t/a)},void(this.milliseconds=function(){return e.ticks%a}))},DayPilot.Duration.weeks=function(t){return new DayPilot.Duration(1e3*t*60*60*24*7)},DayPilot.Duration.days=function(t){return new DayPilot.Duration(1e3*t*60*60*24)},DayPilot.Duration.hours=function(t){return new DayPilot.Duration(1e3*t*60*60)},DayPilot.Duration.minutes=function(t){return new DayPilot.Duration(1e3*t*60)},DayPilot.Duration.seconds=function(t){return new DayPilot.Duration(1e3*t)},DayPilot.TimeSpan=function(){DayPilot.Duration.apply(this,arguments)};try{DayPilot.TimeSpan.prototype=Object.create(DayPilot.Duration.prototype)}catch(e){}DayPilot.Date=function(t,n){if(t instanceof DayPilot.Date)return t;var i;DayPilot.Util.isNullOrUndefined(t)&&(i=DayPilot.DateUtil.fromLocal().getTime(),t=i);var o=DayPilot.Date.Cache.Ctor;if(o[t])return DayPilot.Stats.cacheHitsCtor+=1,o[t];var a=!1;if("string"==typeof t)i=DayPilot.DateUtil.fromStringSortable(t,n).getTime(),a=!0;else if("number"==typeof t){if(isNaN(t))throw"Cannot create DayPilot.Date from NaN";i=t}else{if(!(t instanceof Date))throw"Unrecognized parameter: use Date, number or string in ISO 8601 format";i=n?DayPilot.DateUtil.fromLocal(t).getTime():t.getTime()}var r=e(i);return o[r]?o[r]:(o[r]=this,o[i]=this,a&&r!==t&&DayPilot.DateUtil.hasTzSpec(t)&&(o[t]=this),Object.defineProperty&&!DayPilot.browser.ielt9?(Object.defineProperty(this,"ticks",{get:function(){return i}}),Object.defineProperty(this,"value",{value:r,writable:!1,enumerable:!0})):(this.ticks=i,this.value=r),DayPilot.Date.Config.legacyShowD&&(this.d=new Date(i)),void(DayPilot.Stats.dateObjects+=1))},DayPilot.Date.Config={},DayPilot.Date.Config.legacyShowD=!1,DayPilot.Date.Cache={},DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={},DayPilot.Date.Cache.clear=function(){DayPilot.Date.Cache.Parsing={},DayPilot.Date.Cache.Ctor={},DayPilot.Date.Cache.Ticks={},DayPilot.Date.Cache.DurationCtor={}},DayPilot.Date.prototype.addDays=function(t){return new DayPilot.Date(this.ticks+24*t*60*60*1e3)},DayPilot.Date.prototype.addHours=function(t){return this.addTime(60*t*60*1e3)},DayPilot.Date.prototype.addMilliseconds=function(t){return this.addTime(t)},DayPilot.Date.prototype.addMinutes=function(t){return this.addTime(60*t*1e3)},DayPilot.Date.prototype.addMonths=function(t){var e=new Date(this.ticks);if(0===t)return this;var n=e.getUTCFullYear(),i=e.getUTCMonth()+1;if(t>0){for(;t>=12;)t-=12,n++;t>12-i?(n++,i=t-(12-i)):i+=t}else{for(;t<=-12;)t+=12,n--;i+t<=0?(n--,i=12+i+t):i+=t}var o=new Date(e.getTime());o.setUTCDate(1),o.setUTCFullYear(n),o.setUTCMonth(i-1);var a=new DayPilot.Date(o).daysInMonth();return o.setUTCDate(Math.min(a,e.getUTCDate())),new DayPilot.Date(o)},DayPilot.Date.prototype.addSeconds=function(t){return this.addTime(1e3*t)},DayPilot.Date.prototype.addTime=function(t){return t instanceof DayPilot.Duration&&(t=t.ticks),new DayPilot.Date(this.ticks+t)},DayPilot.Date.prototype.addYears=function(t){var e=new Date(this.ticks),n=new Date(this.ticks),i=this.getYear()+t,o=this.getMonth();n.setUTCDate(1),n.setUTCFullYear(i),n.setUTCMonth(o);var a=new DayPilot.Date(n).daysInMonth();return n.setUTCDate(Math.min(a,e.getUTCDate())),new DayPilot.Date(n)},DayPilot.Date.prototype.dayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.getDayOfWeek=function(){return new Date(this.ticks).getUTCDay()},DayPilot.Date.prototype.daysInMonth=function(){var t=new Date(this.ticks),e=t.getUTCMonth()+1,n=t.getUTCFullYear(),i=[31,28,31,30,31,30,31,31,30,31,30,31];return 2!==e?i[e-1]:n%4!=0?i[1]:n%100==0&&n%400!=0?i[1]:i[1]+1},DayPilot.Date.prototype.daysInYear=function(){var t=this.getYear();return t%4!=0?365:t%100==0&&t%400!=0?365:366},DayPilot.Date.prototype.dayOfYear=function(){return Math.ceil((this.getDatePart().getTime()-this.firstDayOfYear().getTime())/864e5)+1},DayPilot.Date.prototype.equals=function(t){if(null===t)return!1;if(t instanceof DayPilot.Date)return this===t;throw"The parameter must be a DayPilot.Date object (DayPilot.Date.equals())"},DayPilot.Date.prototype.firstDayOfMonth=function(){var t=new Date;return t.setUTCFullYear(this.getYear(),this.getMonth(),1),t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.firstDayOfYear=function(){var t=this.getYear(),e=new Date;return e.setUTCFullYear(t,0,1),e.setUTCHours(0),e.setUTCMinutes(0),e.setUTCSeconds(0),e.setUTCMilliseconds(0),new DayPilot.Date(e)},DayPilot.Date.prototype.firstDayOfWeek=function(t){for(var e=this,t=t||0,n=e.dayOfWeek();n!==t;)e=e.addDays(-1),n=e.dayOfWeek();return new DayPilot.Date(e)},DayPilot.Date.prototype.getDay=function(){return new Date(this.ticks).getUTCDate()},DayPilot.Date.prototype.getDatePart=function(){var t=new Date(this.ticks);return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),new DayPilot.Date(t)},DayPilot.Date.prototype.getYear=function(){return new Date(this.ticks).getUTCFullYear()},DayPilot.Date.prototype.getHours=function(){return new Date(this.ticks).getUTCHours()},DayPilot.Date.prototype.getMilliseconds=function(){return new Date(this.ticks).getUTCMilliseconds()},DayPilot.Date.prototype.getMinutes=function(){return new Date(this.ticks).getUTCMinutes()},DayPilot.Date.prototype.getMonth=function(){return new Date(this.ticks).getUTCMonth()},DayPilot.Date.prototype.getSeconds=function(){return new Date(this.ticks).getUTCSeconds()},DayPilot.Date.prototype.getTotalTicks=function(){return this.getTime()},DayPilot.Date.prototype.getTime=function(){return this.ticks},DayPilot.Date.prototype.getTimePart=function(){var t=this.getDatePart();return DayPilot.DateUtil.diff(this,t)},DayPilot.Date.prototype.lastDayOfMonth=function(){var t=new Date(this.firstDayOfMonth().getTime()),e=this.daysInMonth();return t.setUTCDate(e),new DayPilot.Date(t)},DayPilot.Date.prototype.weekNumber=function(){var t=this.firstDayOfYear(),e=(this.getTime()-t.getTime())/864e5;return Math.ceil((e+t.dayOfWeek()+1)/7)},DayPilot.Date.prototype.weekNumberISO=function(){var t=!1,e=this.dayOfYear(),n=this.firstDayOfYear().dayOfWeek(),i=this.firstDayOfYear().addYears(1).addDays(-1).dayOfWeek();0===n&&(n=7),0===i&&(i=7);var o=8-n;4!==n&&4!==i||(t=!0);var a=Math.ceil((e-o)/7),r=a;return o>=4&&(r+=1),r>52&&!t&&(r=1),0===r&&(r=this.firstDayOfYear().addDays(-1).weekNumberISO()),r},DayPilot.Date.prototype.toDateLocal=function(){var t=new Date(this.ticks),e=new Date;return e.setFullYear(t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()),e.setHours(t.getUTCHours()),e.setMinutes(t.getUTCMinutes()),e.setSeconds(t.getUTCSeconds()),e.setMilliseconds(t.getUTCMilliseconds()),e},DayPilot.Date.prototype.toDate=function(){return new Date(this.ticks)},DayPilot.Date.prototype.toJSON=function(){return this.value},DayPilot.Date.prototype.toString=function(t,e){return void 0===t?this.toStringSortable():new a(t,e).print(this)},DayPilot.Date.prototype.toStringSortable=function(){return e(this.ticks)},DayPilot.Date.parse=function(t,e,n){return new a(e,n).parse(t)};var n=0;DayPilot.Date.today=function(){return new DayPilot.Date(DayPilot.DateUtil.localToday())},DayPilot.Date.fromYearMonthDay=function(t,e,n){e=e||1,n=n||1;var i=new Date(0);return i.setUTCFullYear(t),i.setUTCMonth(e-1),i.setUTCDate(n),new DayPilot.Date(i)},DayPilot.DateUtil={},DayPilot.DateUtil.fromStringSortable=function(t,e){if(!t)throw"Can't create DayPilot.Date from an empty string";var n=t.length,i=10===n,o=19===n,a=n>19;if(!i&&!o&&!a)throw"Invalid string format (use '2010-01-01' or '2010-01-01T00:00:00'): "+t;if(DayPilot.Date.Cache.Parsing[t]&&!e)return DayPilot.Stats.cacheHitsParsing+=1,DayPilot.Date.Cache.Parsing[t];var r=t.substring(0,4),l=t.substring(5,7),s=t.substring(8,10),c=new Date(0);if(c.setUTCFullYear(r,l-1,s),i)return DayPilot.Date.Cache.Parsing[t]=c,c;var u=t.substring(11,13),d=t.substring(14,16),h=t.substring(17,19);if(c.setUTCHours(u),c.setUTCMinutes(d),c.setUTCSeconds(h),o)return DayPilot.Date.Cache.Parsing[t]=c,c;var f=t[19],p=0;if("."===f){var v=parseInt(t.substring(20,23));c.setUTCMilliseconds(v),p=DayPilot.DateUtil.getTzOffsetMinutes(t.substring(23))}else p=DayPilot.DateUtil.getTzOffsetMinutes(t.substring(19));var g=new DayPilot.Date(c);return e||(g=g.addMinutes(-p)),c=g.toDate(),DayPilot.Date.Cache.Parsing[t]=c,c},DayPilot.DateUtil.getTzOffsetMinutes=function(t){if(DayPilot.Util.isNullOrUndefined(t)||""===t)return 0;if("Z"===t)return 0;var e=t[0],n=parseInt(t.substring(1,3)),i=parseInt(t.substring(4)),o=60*n+i;if("-"===e)return-o;if("+"===e)return o;throw"Invalid timezone spec: "+t},DayPilot.DateUtil.hasTzSpec=function(t){return!!t.indexOf("+")||!!t.indexOf("-")},DayPilot.DateUtil.daysDiff=function(t,e){if(t&&e||function(){throw"two parameters required"}(),t=new DayPilot.Date(t),e=new DayPilot.Date(e),t.getTime()>e.getTime())return null;for(var n=0,i=t.getDatePart(),o=e.getDatePart();i<o;)i=i.addDays(1),n++;return n},DayPilot.DateUtil.daysSpan=function(t,e){if(t&&e||function(){throw"two parameters required"}(),t=new DayPilot.Date(t),e=new DayPilot.Date(e),t===e)return 0;var n=DayPilot.DateUtil.daysDiff(t,e);return e==e.getDatePart()&&n--,n},DayPilot.DateUtil.diff=function(t,e){if(!(t&&e&&t.getTime&&e.getTime))throw"Both compared objects must be Date objects (DayPilot.Date.diff).";return t.getTime()-e.getTime()},DayPilot.DateUtil.fromLocal=function(t){t||(t=new Date);var e=new Date;return e.setUTCFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e.setUTCHours(t.getHours()),e.setUTCMinutes(t.getMinutes()),e.setUTCSeconds(t.getSeconds()),e.setUTCMilliseconds(t.getMilliseconds()),e},DayPilot.DateUtil.localToday=function(){var t=new Date;return t.setUTCHours(0),t.setUTCMinutes(0),t.setUTCSeconds(0),t.setUTCMilliseconds(0),t},DayPilot.DateUtil.hours=function(t,e){var n=t.getUTCMinutes();n<10&&(n="0"+n);var i=t.getUTCHours();if(e){var o=i<12,i=i%12;return 0===i&&(i=12),i+":"+n+" "+(o?"AM":"PM")}return i+":"+n},DayPilot.DateUtil.max=function(t,e){return t.getTime()>e.getTime()?t:e},DayPilot.DateUtil.min=function(t,e){return t.getTime()<e.getTime()?t:e};var a=function(e,n){"string"==typeof n&&(n=DayPilot.Locale.find(n));var n=n||DayPilot.Locale.US,i=[{seq:"yyyy",expr:"[0-9]{4,4}",str:function(t){return t.getYear()}},{seq:"yy",expr:"[0-9]{2,2}",str:function(t){return t.getYear()%100}},{seq:"mm",expr:"[0-9]{2,2}",str:function(t){var e=t.getMinutes();return e<10?"0"+e:e}},{seq:"m",expr:"[0-9]{1,2}",str:function(t){return t.getMinutes()}},{seq:"HH",expr:"[0-9]{2,2}",str:function(t){var e=t.getHours();return e<10?"0"+e:e}},{seq:"H",expr:"[0-9]{1,2}",str:function(t){return t.getHours()}},{seq:"hh",expr:"[0-9]{2,2}",str:function(t){var e=t.getHours(),e=e%12;0===e&&(e=12);var n=e;return n<10?"0"+n:n}},{seq:"h",expr:"[0-9]{1,2}",str:function(t){var e=t.getHours(),e=e%12;return 0===e&&(e=12),e}},{seq:"ss",expr:"[0-9]{2,2}",str:function(t){var e=t.getSeconds();return e<10?"0"+e:e}},{seq:"s",expr:"[0-9]{1,2}",str:function(t){return t.getSeconds()}},{seq:"MMMM",expr:"[^\\s0-9]*",str:function(t){return n.monthNames[t.getMonth()]},transform:function(e){var i=DayPilot.indexOf(n.monthNames,e,t);return i<0?null:i+1}},{seq:"MMM",expr:"[^\\s0-9]*",str:function(t){return n.monthNamesShort[t.getMonth()]},transform:function(e){var i=DayPilot.indexOf(n.monthNamesShort,e,t);return i<0?null:i+1}},{seq:"MM",expr:"[0-9]{2,2}",str:function(t){var e=t.getMonth()+1;return e<10?"0"+e:e}},{seq:"M",expr:"[0-9]{1,2}",str:function(t){return t.getMonth()+1}},{seq:"dddd",expr:"[^\\s0-9]*",str:function(t){return n.dayNames[t.getDayOfWeek()]}},{seq:"ddd",expr:"[^\\s0-9]*",str:function(t){return n.dayNamesShort[t.getDayOfWeek()]}},{seq:"dd",expr:"[0-9]{2,2}",str:function(t){var e=t.getDay();return e<10?"0"+e:e}},{seq:"%d",expr:"[0-9]{1,2}",str:function(t){return t.getDay()}},{seq:"d",expr:"[0-9]{1,2}",str:function(t){return t.getDay()}},{seq:"tt",expr:"(AM|PM|am|pm)",str:function(t){return t.getHours()<12?"AM":"PM"},transform:function(t){return t.toUpperCase()}}],o=function(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")};this.init=function(){if(this.year=this.findSequence("yyyy"),this.month=this.findSequence("MMMM")||this.findSequence("MMM")||this.findSequence("MM")||this.findSequence("M"),this.day=this.findSequence("dd")||this.findSequence("d"),this.hours=this.findSequence("HH")||this.findSequence("H"),this.minutes=this.findSequence("mm")||this.findSequence("m"),this.seconds=this.findSequence("ss")||this.findSequence("s"),this.ampm=this.findSequence("tt"),this.hours12=this.findSequence("hh")||this.findSequence("h"),this.hours&&this.ampm)throw new DayPilot.Exception("'HH' and 'H' specifiers cannot be used in combination with 'tt'. Use 12-hour clock specifiers: 'hh' or 'h'.")},this.findSequence=function(t){function n(t){return parseInt(t)}return-1===e.indexOf(t)?null:{findValue:function(a){for(var r=o(e),l=null,s=0;s<i.length;s++){var c=(i[s].length,t===i[s].seq),u=i[s].expr;c&&(u="("+u+")",l=i[s].transform),r=r.replace(i[s].seq,u)}r="^"+r+"$";try{var d=new RegExp(r),h=d.exec(a);return h?(l=l||n)(h[1]):null}catch(t){throw"unable to create regex from: "+r}}}},this.print=function(t){for(var n=function(t){for(var e=0;e<i.length;e++)if(i[e]&&i[e].seq===t)return i[e];return null},o=e.length<=0,a=0,r=[];!o;){var l=e.substring(a),s=/%?(.)\1*/.exec(l);if(s&&s.length>0){var c=s[0],u=n(c);u?r.push(u):r.push(c),a+=c.length,o=e.length<=a}else o=!0}for(var d=0;d<r.length;d++){var h=r[d];"string"!=typeof h&&(r[d]=h.str(t))}return r.join("")},this.parse=function(t){var e=this.year.findValue(t);if(!e)return null;var n=this.month.findValue(t);if(DayPilot.Util.isNullOrUndefined(n))return null;if(n>12||n<1)return null;var i=this.day.findValue(t),o=DayPilot.Date.fromYearMonthDay(e,n).daysInMonth();if(i<1||i>o)return null;var a=this.hours?this.hours.findValue(t):0,r=this.minutes?this.minutes.findValue(t):0,l=this.seconds?this.seconds.findValue(t):0,s=this.ampm?this.ampm.findValue(t):null;if(this.ampm&&this.hours12){var c=this.hours12.findValue(t);if(c<1||c>12)return null;a="PM"===s?12===c?12:c+12:12===c?0:c}if(a<0||a>23)return null;if(r<0||r>59)return null;if(l<0||l>59)return null;var u=new Date;return u.setUTCFullYear(e,n-1,i),u.setUTCHours(a),u.setUTCMinutes(r),u.setUTCSeconds(l),u.setUTCMilliseconds(0),new DayPilot.Date(u)},this.init()};DayPilot.Canvas=function(t,e,n,i,o){function a(t,e,n){for(var i=e.split(" "),o=[],a=i[0],r=1;r<i.length;r++){var l=i[r];t.measureText(a+" "+l).width<n?a+=" "+l:(o.push(a),a=l)}return o.push(a),o}var i=i||1,r=document.createElement("canvas");r.width=t*i,r.height=e*i;var l=r.getContext("2d");l.scale(i,i),this.defaultFileName="image.png","image/jpeg"===n&&(this.defaultFileName="image.jpg",o=o||.92),this.fillRect=function(t,e){l.save(),l.strokeStyle="rgb(0,0,0,0)",l.fillStyle=e,l.fillRect(t.x+.5,t.y+.5,t.w-.5,t.h-.5),l.restore()},this.rect=function(t,e){l.save(),l.strokeStyle=e,l.beginPath(),l.rect(t.x+.5,t.y+.5,t.w-1,t.h-1),l.stroke(),l.restore()},this.text=function(t,e,n,i,o,r){if("number"==typeof e&&(e=""+e),"string"!=typeof e)throw"String expected";o=o||"left",r=r||0,i=i||"#000",l.save();var s=parseInt(n.size),c=DayPilot.browser.ff?3:0;c+=.2*s,c+=DayPilot.browser.chrome?1:0,c+=DayPilot.browser.ie?1:0,l.rect(t.x+.5+r,t.y+.5+r,t.w-1-r,t.h-1-r),l.clip(),l.fillStyle=i,l.font=n.style+" "+n.size+" "+n.family,l.textBaseline="top",l.textAlign=o;var u=t.x;switch(o){case"center":u+=t.w/2;break;case"right":u+=t.w}var d=0;u+=d;var h=1.2*parseInt(n.size),f=e.split("\n"),p=[];DayPilot.list(f).each(function(e){var n=a(l,e,t.w);DayPilot.list(n).each(function(t){p.push(t)})});for(var v=t.y+d+r+c,g=0;g<p.length;g++){var m=p[g];l.fillText(m,u+r,v),v+=h}l.restore()},this.line=function(t,e,n,i,o){l.save(),l.lineWidth=1,l.strokeStyle=o,l.beginPath(),l.moveTo(t+.5,e+.5),l.lineTo(n+.5,i+.5),l.stroke(),l.restore()},this.image=function(t,e){if(e){if("string"==typeof e){var n=e,e=document.createElement("img");if(0!==n.indexOf("data:"))return e.onload=function(){l.save(),l.drawImage(e,t.x,t.y),l.restore()},void(e.src=n);e.src=n}l.save(),l.drawImage(e,t.x,t.y),l.restore()}},this.getWidth=function(){return r.width},this.getHeight=function(){return r.height},this.getElement=function(){return r},this.getSource=function(){return"<img src='"+r.toDataURL(n,o)+"' />"},this.getDataUri=function(){return r.toDataURL(n,o)},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return r.msToBlob?r.msToBlob():DayPilot.Util.dataUriToBlob(this.getDataUri())}},DayPilot.Svg=function(t,e){function n(t,e){var n=null;if(t){if("string"==typeof t){if(0===t.indexOf("data:")){var i={};i.dataUri=t,e(i)}n=t}else n=t.src;var t=document.createElement("img");t.onload=function(){var t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(this,0,0);var n={};n.dataUri=t.toDataURL("image/png"),e(n)},t.src=n}}var i="http://www.w3.org/2000/svg",o=document.createElementNS(i,"svg");o.outerHTML&&o.setAttribute("xmlns",i),o.setAttribute("viewBox","0 0 "+t+" "+e),this.defaultFileName="image.svg",this.fillRect=function(t,e){var n=document.createElementNS(i,"rect");n.setAttribute("x",t.x+.5),n.setAttribute("y",t.y+.5),n.setAttribute("width",t.w-1),n.setAttribute("height",t.h-1),n.setAttribute("fill",e),o.appendChild(n)},this.rect=function(t,e){var n=document.createElementNS(i,"rect");n.setAttribute("x",t.x+.5),n.setAttribute("y",t.y+.5),n.setAttribute("width",t.w-1),n.setAttribute("height",t.h-1),n.setAttribute("stroke",e),n.setAttribute("stroke-width","1"),n.setAttribute("fill","transparent"),o.appendChild(n)},this.text=function(t,e,n,a,r,l){function s(t,e,r){var l=document.createElementNS(i,"text");l.setAttribute("fill",a),l.setAttribute("font-family",n.family),l.setAttribute("font-size",n.size),l.setAttribute("font-style",n.style),l.setAttribute("x",e),l.setAttribute("y",r),l.setAttribute("dy","1em"),l.setAttribute("text-anchor",d),l.setAttribute("clip-path","url(#"+h.id+")");var s=document.createTextNode(t);l.appendChild(s),o.appendChild(l)}if("number"==typeof e&&(e=""+e),"string"!=typeof e)throw"String expected";var r=r||"left",l=l||0,c=3,u=t.x,d="start";switch(r){case"center":u+=t.w/2,d="middle";break;case"right":u+=t.w,d="end"}var h=document.createElementNS(i,"clipPath");h.id="clip"+DayPilot.guid();var f=document.createElementNS(i,"rect");f.setAttribute("x",t.x),f.setAttribute("y",t.y),f.setAttribute("width",t.w),f.setAttribute("height",t.h),h.appendChild(f),o.appendChild(h);for(var p=1.2*parseInt(n.size),v=e.split("\n"),g=t.y+l+c,m=0;m<v.length;m++)s(v[m],u+l,g),g+=p},this.line=function(t,e,n,a,r){var l=document.createElementNS(i,"line");l.setAttribute("x1",t+.5),l.setAttribute("y1",e+.5),l.setAttribute("x2",n+.5),l.setAttribute("y2",a+.5),l.setAttribute("stroke",r),o.appendChild(l)},this.image=function(t,e){function a(e){var n=document.createElementNS(i,"image");n.setAttributeNS("http://www.w3.org/1999/xlink","href",e.dataUri),n.setAttribute("x",t.x),n.setAttribute("y",t.y),n.setAttribute("width",t.w),n.setAttribute("height",t.h),o.appendChild(n)}n(e,a)},this.getWidth=function(){return t},this.getHeight=function(){return e},this.getElement=function(){return o},this.getSource=function(){if(o.outerHTML)return o.outerHTML;var t=document.createElement("div"),e=o.cloneNode(!0);return t.appendChild(e),t.innerHTML},this.getDataUri=function(){return"data:application/octet-stream,"+encodeURIComponent(this.getSource())},this.getDefaultFileName=function(){return this.defaultFileName},this.getBlob=function(){return new Blob([this.getSource()])}},DayPilot.Excel=function(){var t=this,e=null,n=null,i=null,o={};o.xmlns="urn:schemas-microsoft-com:office:spreadsheet",o.o="urn:schemas-microsoft-com:office:office",o.x="urn:schemas-microsoft-com:office:excel",o.ss="urn:schemas-microsoft-com:office:spreadsheet",o.html="http://www.w3.org/TR/REC-html40",this.init=function(){e=document.implementation.createDocument(o.xmlns,"Workbook",null),e.documentElement.setAttribute("xmlns:o",o.o),e.documentElement.setAttribute("xmlns:x",o.x),e.documentElement.setAttribute("xmlns:ss",o.ss),e.documentElement.setAttribute("xmlns:html",o.html);var a=e.createElement("x:ExcelWorkbook");e.documentElement.appendChild(a),n=e.createElement("ss:Styles"),e.documentElement.appendChild(n),i=t.styles.create(),i.setId("Default"),i.setName("Normal")},this.worksheets=[],this.worksheets.create=function(e){var n=t.el(o.ss,"Worksheet"),i=new a(n);return i.setName(e),this.push(i),i},this.styles=[],this.styles.create=function(t){var i=e.createElement("ss:Style");n.appendChild(i);var o=new r(i);return this.push(o),o},this.styles.getDefault=function(){return i},this.el=function(t,n){var i=e.createElementNS(t,n);return e.documentElement.appendChild(i),i},this.getSource=function(){return'<?xml version="1.0"?>'+(new XMLSerializer).serializeToString(e)},this.getDataUri=function(){return"data:application/vnd.ms-excel,"+encodeURIComponent(this.getSource())},this.getElement=function(){return e},this.getDefaultFileName=function(){return"spreadsheet.xls"},this.getBlob=function(){return new Blob([this.getSource()])};var a=function(t){var n=e.createElement("Table");t.appendChild(n);var i=e.createElement("x:WorksheetOptions");t.appendChild(i),this.rows=[],this.setName=function(e){t.setAttribute("ss:Name",e)},this.cell=function(t,i){for(;i>=this.rows.length;){var a=e.createElement("Row");n.appendChild(a),this.rows.push(new o(a))}return this.rows[i].cell(t)},this.enableGridlines=function(t){var n=DayPilot.list(i.childNodes).find(function(t){return"x:DoNotDisplayGridlines"===t.tagName});if(!n&&!t){var o=e.createElement("x:DoNotDisplayGridlines");i.appendChild(o)}n&&t&&i.removeChild(n)};var o=function(t){this.cells=[],this.getElement=function(){return t},this.cell=function(i){for(;i>=this.cells.length;){var o=e.createElement("Cell");t.appendChild(o),this.cells.push(new n(o))}return this.cells[i]};var n=function(t){this.setText=function(n){var i=e.createElement("Data");i.setAttribute("ss:Type","String");var o=e.createTextNode(n);for(i.appendChild(o);t.firstChild;)t.removeChild(t.firstChild);return t.appendChild(i),this},this.setColspan=function(e){return e>1?t.setAttribute("ss:MergeAcross",e-1):t.removeAttribute("ss:MergeAcross"),this},this.setRowspan=function(e){return e>1?t.setAttribute("ss:MergeDown",e-1):t.removeAttribute("ss:MergeDown"),this},this.setStyle=function(e){if(!(e instanceof r))throw"Invalid argument, Style expected";return t.setAttribute("ss:StyleID",e.getId()),this}}}},r=function(t){var n=DayPilot.guid();t.setAttribute("ss:ID",n);var i=e.createElement("ss:Alignment");t.appendChild(i);var o=e.createElement("ss:Interior");t.appendChild(o);var a=e.createElement("ss:Borders");t.appendChild(a),this.setHorizontalAlignment=function(t){i.setAttribute("ss:Horizontal",t)},this.setVerticalAlignment=function(t){i.setAttribute("ss:Vertical",t)},this.setBackColor=function(t){var e=DayPilot.Util.normalizeColor(t);o.setAttribute("ss:Color",e),o.setAttribute("ss:Pattern","Solid")},this.setBorderColor=function(t){function n(t,n){var i=e.createElement("ss:Border");return i.setAttribute("ss:Position",t),i.setAttribute("ss:LineStyle","Continuous"),i.setAttribute("ss:Color",DayPilot.Util.normalizeColor(n)),i}this.clearBorders();var i=n("Left",t);a.appendChild(i);var o=n("Right",t);a.appendChild(o);var r=n("Top",t);a.appendChild(r);var l=n("Bottom",t);a.appendChild(l)},this.clearBorders=function(){for(;a.firstChild;)a.removeChild(a.firstChild)},this.getId=function(){return n},this.setId=function(e){n=e,t.setAttribute("ss:ID",n)},this.setName=function(e){t.setAttribute("ss:Name",e)}};this.init()},DayPilot.Export=function(t){this.toElement=function(){return t.getElement()},this.dimensions=function(){return{width:t.getWidth(),height:t.getHeight()}},this.toHtml=function(){return t.getSource()},this.toDataUri=function(){return t.getDataUri()},this.toBlob=function(){return t.getBlob()},this.print=function(){var e=document.createElement("iframe");e.setAttribute("width",0),e.setAttribute("height",0),e.setAttribute("frameborder",0),e.setAttribute("src","about:blank"),document.body.appendChild(e);var n=e.contentWindow.document;("BackCompat"===n.compatMode?n.body:n.documentElement).innerHTML=t.getSource(),e.contentWindow.document.execCommand("print",!1,null)||(e.contentWindow.focus(),e.contentWindow.print()),document.body.removeChild(e)},this.download=function(e){var e=e||t.getDefaultFileName(),n=t.getBlob();DayPilot.Util.downloadBlob(n,e)}},DayPilot.Exception=function(t){this.message=t},DayPilot.Locale=function(t,e){if(this.id=t,this.dayNames=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],this.dayNamesShort=["Su","Mo","Tu","We","Th","Fr","Sa"],this.monthNames=["January","February","March","April","May","June","July","August","September","October","November","December"],this.monthNamesShort=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.datePattern="M/d/yyyy",this.timePattern="H:mm",this.dateTimePattern="M/d/yyyy H:mm",this.timeFormat="Clock12Hours",this.weekStarts=0,e)for(var n in e)this[n]=e[n]},DayPilot.Locale.all={},DayPilot.Locale.find=function(t){if(!t)return null;var e=t.toLowerCase();return e.length>2&&(e=DayPilot.Util.replaceCharAt(e,2,"-")),DayPilot.Locale.all[e]},DayPilot.Locale.register=function(t){DayPilot.Locale.all[t.id]=t},DayPilot.Locale.register(new DayPilot.Locale("ca-es",{dayNames:["diumenge","dilluns","dimarts","dimecres","dijous","divendres","dissabte"],dayNamesShort:["dg","dl","dt","dc","dj","dv","ds"],monthNames:["gener","febrer","març","abril","maig","juny","juliol","agost","setembre","octubre","novembre","desembre",""],monthNamesShort:["gen.","febr.","març","abr.","maig","juny","jul.","ag.","set.","oct.","nov.","des.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("cs-cz",{dayNames:["neděle","pondělí","úterý","středa","čtvrtek","pátek","sobota"],dayNamesShort:["ne","po","út","st","čt","pá","so"],monthNames:["leden","únor","březen","duben","květen","červen","červenec","srpen","září","říjen","listopad","prosinec",""],monthNamesShort:["I","II","III","IV","V","VI","VII","VIII","IX","X","XI","XII",""],timePattern:"H:mm",datePattern:"d. M. yyyy",dateTimePattern:"d. M. yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("da-dk",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","marts","april","maj","juni","juli","august","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"dd-MM-yyyy",dateTimePattern:"dd-MM-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-at",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Jänner","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jän","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-ch",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-de",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("de-lu",{dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember",""],monthNamesShort:["Jan","Feb","Mrz","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-au",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-ca",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("en-gb",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("en-us",{dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Su","Mo","Tu","We","Th","Fr","Sa"],monthNames:["January","February","March","April","May","June","July","August","September","October","November","December",""],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec",""],timePattern:"h:mm tt",datePattern:"M/d/yyyy",dateTimePattern:"M/d/yyyy h:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("es-es",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["D","L","M","X","J","V","S"],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("es-mx",{dayNames:["domingo","lunes","martes","miércoles","jueves","viernes","sábado"],dayNamesShort:["do.","lu.","ma.","mi.","ju.","vi.","sá."],monthNames:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre",""],monthNamesShort:["ene.","feb.","mar.","abr.","may.","jun.","jul.","ago.","sep.","oct.","nov.","dic.",""],timePattern:"hh:mm tt",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy hh:mm tt",timeFormat:"Clock12Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("eu-es",{dayNames:["igandea","astelehena","asteartea","asteazkena","osteguna","ostirala","larunbata"],dayNamesShort:["ig","al","as","az","og","or","lr"],monthNames:["urtarrila","otsaila","martxoa","apirila","maiatza","ekaina","uztaila","abuztua","iraila","urria","azaroa","abendua",""],monthNamesShort:["urt.","ots.","mar.","api.","mai.","eka.","uzt.","abu.","ira.","urr.","aza.","abe.",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fi-fi",{dayNames:["sunnuntai","maanantai","tiistai","keskiviikko","torstai","perjantai","lauantai"],dayNamesShort:["su","ma","ti","ke","to","pe","la"],monthNames:["tammikuu","helmikuu","maaliskuu","huhtikuu","toukokuu","kesäkuu","heinäkuu","elokuu","syyskuu","lokakuu","marraskuu","joulukuu",""],monthNamesShort:["tammi","helmi","maalis","huhti","touko","kesä","heinä","elo","syys","loka","marras","joulu",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-be",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd-MM-yy",dateTimePattern:"dd-MM-yy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-ca",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("fr-ch",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-fr",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("fr-lu",{dayNames:["dimanche","lundi","mardi","mercredi","jeudi","vendredi","samedi"],dayNamesShort:["di","lu","ma","me","je","ve","sa"],monthNames:["janvier","février","mars","avril","mai","juin","juillet","août","septembre","octobre","novembre","décembre",""],monthNamesShort:["janv.","févr.","mars","avr.","mai","juin","juil.","août","sept.","oct.","nov.","déc.",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("gl-es",{dayNames:["domingo","luns","martes","mércores","xoves","venres","sábado"],dayNamesShort:["do","lu","ma","mé","xo","ve","sá"],monthNames:["xaneiro","febreiro","marzo","abril","maio","xuño","xullo","agosto","setembro","outubro","novembro","decembro",""],monthNamesShort:["xan","feb","mar","abr","maio","xuño","xul","ago","set","out","nov","dec",""],timePattern:"H:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-it",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("it-ch",{dayNames:["domenica","lunedì","martedì","mercoledì","giovedì","venerdì","sabato"],dayNamesShort:["do","lu","ma","me","gi","ve","sa"],monthNames:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre",""],monthNamesShort:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ja-jp",{dayNames:["日曜日","月曜日","火曜日","水曜日","木曜日","金曜日","土曜日"],dayNamesShort:["日","月","火","水","木","金","土"],monthNames:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"yyyy/MM/dd",dateTimePattern:"yyyy/MM/dd H:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("nb-no",{dayNames:["søndag","mandag","tirsdag","onsdag","torsdag","fredag","lørdag"],dayNamesShort:["sø","ma","ti","on","to","fr","lø"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-nl",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"d-M-yyyy",dateTimePattern:"d-M-yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nl-be",{dayNames:["zondag","maandag","dinsdag","woensdag","donderdag","vrijdag","zaterdag"],dayNamesShort:["zo","ma","di","wo","do","vr","za"],monthNames:["januari","februari","maart","april","mei","juni","juli","augustus","september","oktober","november","december",""],monthNamesShort:["jan","feb","mrt","apr","mei","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"H:mm",datePattern:"d/MM/yyyy",dateTimePattern:"d/MM/yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("nn-no",{dayNames:["søndag","måndag","tysdag","onsdag","torsdag","fredag","laurdag"],dayNamesShort:["sø","må","ty","on","to","fr","la"],monthNames:["januar","februar","mars","april","mai","juni","juli","august","september","oktober","november","desember",""],monthNamesShort:["jan","feb","mar","apr","mai","jun","jul","aug","sep","okt","nov","des",""],timePattern:"HH:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-br",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("pl-pl",{dayNames:["niedziela","poniedziałek","wtorek","środa","czwartek","piątek","sobota"],dayNamesShort:["N","Pn","Wt","Śr","Cz","Pt","So"],monthNames:["styczeń","luty","marzec","kwiecień","maj","czerwiec","lipiec","sierpień","wrzesień","październik","listopad","grudzień",""],monthNamesShort:["sty","lut","mar","kwi","maj","cze","lip","sie","wrz","paź","lis","gru",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("pt-pt",{dayNames:["domingo","segunda-feira","terça-feira","quarta-feira","quinta-feira","sexta-feira","sábado"],dayNamesShort:["D","S","T","Q","Q","S","S"],monthNames:["janeiro","fevereiro","março","abril","maio","junho","julho","agosto","setembro","outubro","novembro","dezembro",""],monthNamesShort:["jan","fev","mar","abr","mai","jun","jul","ago","set","out","nov","dez",""],timePattern:"HH:mm",datePattern:"dd/MM/yyyy",dateTimePattern:"dd/MM/yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:0})),DayPilot.Locale.register(new DayPilot.Locale("ro-ro",{dayNames:["duminică","luni","marți","miercuri","joi","vineri","sâmbătă"],dayNamesShort:["D","L","Ma","Mi","J","V","S"],monthNames:["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie",""],monthNamesShort:["ian.","feb.","mar.","apr.","mai.","iun.","iul.","aug.","sep.","oct.","nov.","dec.",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("ru-ru",{dayNames:["воскресенье","понедельник","вторник","среда","четверг","пятница","суббота"],dayNamesShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"],monthNames:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь",""],monthNamesShort:["янв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек",""],timePattern:"H:mm",datePattern:"dd.MM.yyyy",dateTimePattern:"dd.MM.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sk-sk",{dayNames:["nedeľa","pondelok","utorok","streda","štvrtok","piatok","sobota"],dayNamesShort:["ne","po","ut","st","št","pi","so"],monthNames:["január","február","marec","apríl","máj","jún","júl","august","september","október","november","december",""],monthNamesShort:["1","2","3","4","5","6","7","8","9","10","11","12",""],timePattern:"H:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("sv-se",{dayNames:["söndag","måndag","tisdag","onsdag","torsdag","fredag","lördag"],dayNamesShort:["sö","må","ti","on","to","fr","lö"],monthNames:["januari","februari","mars","april","maj","juni","juli","augusti","september","oktober","november","december",""],monthNamesShort:["jan","feb","mar","apr","maj","jun","jul","aug","sep","okt","nov","dec",""],timePattern:"HH:mm",datePattern:"yyyy-MM-dd",dateTimePattern:"yyyy-MM-dd HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("tr-tr",{dayNames:["Pazar","Pazartesi","Salı","Çarşamba","Perşembe","Cuma","Cumartesi"],dayNamesShort:["Pz","Pt","Sa","Ça","Pe","Cu","Ct"],monthNames:["Ocak","Şubat","Mart","Nisan","Mayıs","Haziran","Temmuz","Ağustos","Eylül","Ekim","Kasım","Aralık",""],monthNamesShort:["Oca","Şub","Mar","Nis","May","Haz","Tem","Ağu","Eyl","Eki","Kas","Ara",""],timePattern:"HH:mm",datePattern:"d.M.yyyy",dateTimePattern:"d.M.yyyy HH:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.register(new DayPilot.Locale("zh-cn",{dayNames:["星期日","星期一","星期二","星期三","星期四","星期五","星期六"],dayNamesShort:["日","一","二","三","四","五","六"],monthNames:["一月","二月","三月","四月","五月","六月","七月","八月","九月","十月","十一月","十二月",""],monthNamesShort:["1月","2月","3月","4月","5月","6月","7月","8月","9月","10月","11月","12月",""],timePattern:"H:mm",datePattern:"yyyy/M/d",dateTimePattern:"yyyy/M/d H:mm",timeFormat:"Clock24Hours",weekStarts:1})),DayPilot.Locale.US=DayPilot.Locale.find("en-us"),DayPilot.Switcher=function(t){function e(t,e,i){var o={};o.start=t,o.end=e,o.day=i,o.target=n.active.control,o.preventDefault=function(){this.preventDefault.value=!0};var a=n.k;a&&a.start===o.start&&a.end===o.end&&a.day===o.day&&a.target===o.target||(n.k=o,"function"==typeof n.onChange&&(n.onChange(o),o.preventDefault.value)||"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(o),o.preventDefault.value)||(n.active.sendNavigate(n.day),"function"==typeof n.onChanged&&n.onChanged(o),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(o)))}var n=this;this.views=[],this.triggers=[],this.navigator={},this.selectedClass=null,this.active=null,this.day=DayPilot.Date.today(),this.onChange=null,this.onChanged=null,this.navigator.updateMode=function(t){var e=n.navigator.control;e&&(e.selectMode=t,e.select(n.day))},this.addView=function(t,e){var i;if("string"==typeof t){if(!(i=document.getElementById(t)))throw"Element not found: "+t}else i=t;var o=i,a={};return a.isView=!0,a.id=o.id,a.control=o,a.options=e||{},a.hide=function(){o.hide?o.hide():o.nav&&o.nav.top?o.nav.top.style.display="none":o.style.display="none"},a.sendNavigate=function(t){!function(){return!!o.backendUrl||!("function"!=typeof WebForm_DoCallback||!o.uniqueID)}()?(o.startDate=t,o.update()):o.commandCallBack&&o.commandCallBack("navigate",{day:t})},a.show=function(){n.c(),o.show?o.show():o.nav&&o.nav.top?o.nav.top.style.display="":o.style.display=""},a.selectMode=function(){if(a.options.navigatorSelectMode)return a.options.navigatorSelectMode;if(o.isCalendar)switch(o.viewType){case"Day":return"day";case"Week":case"WorkWeek":return"week";default:return"day"}else if(o.isMonth)switch(o.viewType){case"Month":return"month";case"Weeks":return"week";default:return"day"}return"day"},this.views.push(a),a},this.addTrigger=function(t,e){var i;if("string"==typeof t){if(!(i=document.getElementById(t)))throw"Element not found: "+t}else i=t;var o=this.f(e);o||(o=this.addView(e));var a={};return a.isTrigger=!0,a.element=i,a.id=i.id,a.view=o,a.onClick=function(t){n.show(a),n.g(a),(t=t||window.event)&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},DayPilot.re(i,"click",a.onClick),this.triggers.push(a),a},this.addButton=this.addTrigger,this.select=function(t){var e=this.j(t);e?e.onClick():this.triggers.length>0&&this.triggers[0].onClick()},this.j=function(t){for(var e=0;e<this.triggers.length;e++){var n=this.triggers[e];if(n.id===t)return n}return null},this.g=function(t){if(this.selectedClass){for(var e=0;e<this.triggers.length;e++){var n=this.triggers[e];DayPilot.Util.removeClass(n.element,this.selectedClass)}DayPilot.Util.addClass(t.element,this.selectedClass)}},this.addNavigator=function(t){n.navigator.control=t,t.timeRangeSelectedHandling="JavaScript",t.onTimeRangeSelected=function(){var i,o,a;if(1===t.api)i=arguments[0],o=arguments[1],a=arguments[2];else{var r=arguments[0];i=r.start,o=r.end,a=r.day}n.day=a,e(i,o,a)}},this.show=function(t){var e,i;if(t.isTrigger)i=t,e=i.view;else if(e=t.isView?t:this.f(t),this.active===e)return;if(n.onSelect){var o={};o.source=i?i.element:null,o.target=e.control,n.onSelect(o)}this.active=e,e.show();var a=e.selectMode();n.navigator.updateMode(a)},this.f=function(t){for(var e=0;e<this.views.length;e++)if(this.views[e].control===t)return this.views[e];return null},this.c=function(){for(var t=0;t<this.views.length;t++)this.views[t].hide()},this.events={},this.events.load=function(t,e,i){if(!n.active||!n.active.control)throw"DayPilot.Switcher.events.load(): Active view not found";n.active.control.events.load(t,e,i)},this.k=null,this.l=function(){if(t)for(var e in t)"triggers"===e?DayPilot.list(t.triggers).each(function(t){n.addTrigger(t.id,t.view)}):"navigator"===e?n.addNavigator(t.navigator):n[e]=t[e]},this.l()},function(){if(!DayPilot.Global.defaultCss){var t=DayPilot.sheet();t.add(".bubble_default_main","cursor: default;"),t.add(".bubble_default_main_inner",'border-radius: 5px;font-size: 12px;padding: 4px;color: #666;background: #eeeeee; background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #ccc;-moz-border-radius: 5px;-webkit-border-radius: 5px;border-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);'),t.add(".calendar_default_main","border: 1px solid #c0c0c0; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".calendar_default_main *, .calendar_default_main *:before, .calendar_default_main *:after","box-sizing: content-box;"),t.add(".calendar_default_rowheader_inner,.calendar_default_cornerright_inner,.calendar_default_corner_inner,.calendar_default_colheader_inner,.calendar_default_alldayheader_inner","color: #333;background: #f3f3f3;"),t.add(".calendar_default_cornerright_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;\tborder-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_rowheader_inner","font-size: 16pt;text-align: right; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_corner_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_rowheader_minutes","font-size:10px;vertical-align: super;padding-left: 2px;padding-right: 2px;"),t.add(".calendar_default_colheader_inner","text-align: center; position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_cell_inner","position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #ddd;border-bottom: 1px solid #ddd; background: #f9f9f9;"),t.add(".calendar_default_cell_business .calendar_default_cell_inner","background: #fff"),t.add(".calendar_default_alldayheader_inner","text-align: center;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".calendar_default_message","opacity: 0.9;filter: alpha(opacity=90);\tpadding: 10px; color: #ffffff;background: #ffa216;"),t.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner","color: #666; border: 1px solid #999;"),t.add(".calendar_default_event_bar","top: 0px;bottom: 0px;left: 0px;width: 4px;background-color: #9dc8e8;"),t.add(".calendar_default_event_bar_inner","position: absolute;width: 4px;background-color: #1066a8;"),t.add(".calendar_default_alldayevent_inner,.calendar_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".calendar_default_selected .calendar_default_event_inner","background: #ddd;"),t.add(".calendar_default_alldayevent_inner","position: absolute;top: 2px;bottom: 2px;left: 2px;right: 2px;padding: 2px;margin-right: 1px;font-size: 12px;"),t.add(".calendar_default_event_withheader .calendar_default_event_inner","padding-top: 15px;"),t.add(".calendar_default_event","cursor: default;"),t.add(".calendar_default_event_inner","position: absolute;overflow: hidden;top: 0px;bottom: 0px;left: 0px;right: 0px;padding: 2px 2px 2px 6px;font-size: 12px;"),t.add(".calendar_default_shadow_inner","background-color: #666666;\topacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".calendar_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)'; cursor: pointer;"),t.add(".calendar_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".calendar_default_scroll_up","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAB3RJTUUH2wESDiYcrhwCiQAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAARnQU1BAACxjwv8YQUAAACcSURBVHjaY2AgF9wWsTW6yGMlhi7OhC7AyMDQzMnBXIpFHAFuCtuaMTP+P8nA8P/b1x//FfW/HHuF1UQmxv+NUP1c3OxMVVhNvCVi683E8H8LXOY/w9+fTH81tF8fv4NiIpBRj+YoZtZ/LDUoJmKYhsVUpv0MDiyMDP96sIYV0FS2/8z9ICaLlOhvS4b/jC//MzC8xBG0vJeF7GQBlK0xdiUzCtsAAAAASUVORK5CYII=);"),t.add(".calendar_default_scroll_down","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAALiMAAC4jAXilP3YAAACqSURBVChTY7wpam3L9J+xmQEP+PGPKZZxP4MDi4zI78uMDIwa2NT+Z2DYovrmiC+TI8OBP/8ZmEqwGvif4e8vxr+FIDkmEKH25vBWBgbG0+iK/zEwLtF+ffwOXCGI8Y+BoRFFIdC030x/WmBiYBNhpgLdswNJ8RSYaSgmgk39z1gPUfj/29ef/9rwhQTDHRHbrbdEbLvRFcGthkkAra/9/uMvhkK8piNLAgCRpTnNn4AEmAAAAABJRU5ErkJggg==);"),t.add(".calendar_default_now","background-color: red;"),t.add(".calendar_default_now:before","content: ''; top: -5px; border-width: 5px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute; -moz-transform: scale(.9999);"),t.add(".menu_default_main","font-family: Tahoma, Arial, Helvetica, Sans-Serif;font-size: 12px;border: 1px solid #dddddd;background-color: white;padding: 0px;cursor: default;background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAABCAIAAABG0om7AAAAKXRFWHRDcmVhdGlvbiBUaW1lAHBvIDEwIDUgMjAxMCAyMjozMzo1OSArMDEwMGzy7+IAAAAHdElNRQfaBQoUJAesj4VUAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAABGdBTUEAALGPC/xhBQAAABVJREFUeNpj/P//PwO1weMnT2RlZAAYuwX/4oA3BgAAAABJRU5ErkJggg==);background-repeat: repeat-y;xborder-radius: 5px;-moz-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);-webkit-box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);box-shadow:0px 2px 3px rgba(000,000,000,0.3),inset 0px 0px 2px rgba(255,255,255,0.8);"),t.add(".menu_default_main *, .menu_default_main *:before, .menu_default_main *:after","box-sizing: content-box;"),t.add(".menu_default_title","background-color: #f2f2f2;border-bottom: 1px solid gray;padding: 4px 4px 4px 37px;"),t.add(".menu_default_main a","padding: 2px 2px 2px 35px;color: black;text-decoration: none;cursor: default;"),t.add(".menu_default_main a img","margin-left: 6px;margin-top: 2px;"),t.add(".menu_default_item_text","display: block;height: 20px;line-height: 20px; overflow:hidden;padding-left: 2px;padding-right: 20px;"),t.add(".menu_default_main a:hover","background-color: #f3f3f3;"),t.add(".menu_default_main div div","border-top: 1px solid #dddddd;margin-top: 2px;margin-bottom: 2px;margin-left: 28px;"),t.add(".menu_default_main a.menu_default_item_disabled","color: #ccc"),t.add(".menu_default_item_haschildren.menu_default_item_haschildren_active",'background: #eeeeee;background: -webkit-gradient(linear, left top, left bottom, from(#efefef), to(#e6e6e6));background: -webkit-linear-gradient(top, #efefef 0%, #e6e6e6);background: -moz-linear-gradient(top, #efefef 0%, #e6e6e6);background: -ms-linear-gradient(top, #efefef 0%, #e6e6e6);background: -o-linear-gradient(top, #efefef 0%, #e6e6e6);background: linear-gradient(top, #efefef 0%, #e6e6e6);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#efefef", endColorStr="#e6e6e6");'),t.add(".menu_default_item_haschildren a:before","content: ''; border-width: 6px; border-color: transparent transparent transparent black; border-style: solid; width: 0px; height:0px; position: absolute; right: 5px; margin-top: 4px;"),t.add(".menu_default_item_icon","position: absolute; top:0px; left: 0px; padding: 2px 2px 2px 8px;"),t.add(".menu_default_item a i","height: 20px;line-height: 20px;"),t.add(".menubar_default_main","border-bottom: 1px solid #ccc; font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".menubar_default_item","display: inline-block;  padding: 6px 10px; cursor: default;"),t.add(".menubar_default_item:hover","background-color: #f2f2f2;"),t.add(".menubar_default_item_active","background-color: #f2f2f2;"),t.add(".month_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;color: #333;"),t.add(".month_default_main *, .month_default_main *:before, .month_default_main *:after","box-sizing: content-box;"),t.add(".month_default_cell_inner","border-right: 1px solid #ddd;border-bottom: 1px solid #ddd;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;background-color: #f9f9f9;"),t.add(".month_default_cell_business .month_default_cell_inner","background-color: #fff;"),t.add(".month_default_cell_header","text-align: right;padding-right: 2px;"),t.add(".month_default_header_inner","text-align: center; vertical-align: middle;position: absolute;top: 0px;left: 0px;bottom: 0px;right: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;cursor: default;color: #333;background: #f3f3f3;"),t.add(".month_default_message",'padding: 10px;opacity: 0.9;filter: alpha(opacity=90);color: #ffffff;background: #ffa216;background: -webkit-gradient(linear, left top, left bottom, from(#ffa216), to(#ff8400));background: -webkit-linear-gradient(top, #ffa216 0%, #ff8400);background: -moz-linear-gradient(top, #ffa216 0%, #ff8400);background: -ms-linear-gradient(top, #ffa216 0%, #ff8400);background: -o-linear-gradient(top, #ffa216 0%, #ff8400);background: linear-gradient(top, #ffa216 0%, #ff8400);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffa216", endColorStr="#ff8400");'),t.add(".month_default_event_inner",'position: absolute;top: 0px;bottom: 0px;left: 1px;right: 1px;overflow:hidden;padding: 2px;padding-left: 5px;font-size: 12px;color: #333;background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");border: 1px solid #999;border-radius: 0px;'),t.add(".month_default_event_continueright .month_default_event_inner","border-top-right-radius: 0px;border-bottom-right-radius: 0px;border-right-style: dotted;"),t.add(".month_default_event_continueleft .month_default_event_inner","border-top-left-radius: 0px;border-bottom-left-radius: 0px;border-left-style: dotted;"),t.add(".month_default_event_hover .month_default_event_inner",'background: #fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#e8e8e8));background: -webkit-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -moz-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -ms-linear-gradient(top, #ffffff 0%, #e8e8e8);background: -o-linear-gradient(top, #ffffff 0%, #e8e8e8);background: linear-gradient(top, #ffffff 0%, #e8e8e8);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#e8e8e8");'),t.add(".month_default_selected .month_default_event_inner, .month_default_event_hover.month_default_selected .month_default_event_inner","background: #ddd;"),t.add(".month_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".month_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".month_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".month_default_event_timeleft","color: #ccc; font-size: 8pt"),t.add(".month_default_event_timeright","color: #ccc; font-size: 8pt; text-align: right;"),t.add(".navigator_default_main","border-left: 1px solid #c0c0c0;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;background-color: white;color: #000000; box-sizing: content-box;"),t.add(".navigator_default_main *, .navigator_default_main *:before, .navigator_default_main *:after","box-sizing: content-box;"),t.add(".navigator_default_month","font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 11px;"),t.add(".navigator_default_day","color: black;"),t.add(".navigator_default_weekend","background-color: #f0f0f0;"),t.add(".navigator_default_dayheader","color: black;"),t.add(".navigator_default_line","border-bottom: 1px solid #c0c0c0;"),t.add(".navigator_default_dayother","color: gray;"),t.add(".navigator_default_todaybox","border: 1px solid red;"),t.add(".navigator_default_title, .navigator_default_titleleft, .navigator_default_titleright","border-top: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;color: #333;background: #f3f3f3;"),t.add(".navigator_default_busy","font-weight: bold;"),t.add(".navigator_default_cell","text-align: center;"),t.add(".navigator_default_select .navigator_default_cell_box","background-color: #FFE794; opacity: 0.5;"),t.add(".navigator_default_title","text-align: center;"),t.add(".navigator_default_titleleft, .navigator_default_titleright","text-align: center;"),t.add(".navigator_default_dayheader","text-align: center;"),t.add(".navigator_default_weeknumber","text-align: center;"),t.add(".scheduler_default_main *, .scheduler_default_main *:before, .scheduler_default_main *:after","box-sizing: content-box;"),t.add(".scheduler_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".scheduler_default_selected .scheduler_default_event_inner","background: #ddd;"),t.add(".scheduler_default_timeheader","cursor: default;color: #333;"),t.add(".scheduler_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),t.add(".scheduler_default_timeheadergroup,.scheduler_default_timeheadercol","color: #333;background: #f3f3f3;"),t.add(".scheduler_default_rowheader,.scheduler_default_corner","color: #333;background: #f3f3f3;"),t.add(".scheduler_default_rowheader.scheduler_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".scheduler_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #e0e0e0;padding: 2px;"),t.add(".scheduler_default_timeheadergroup, .scheduler_default_timeheadercol","text-align: center;"),t.add(".scheduler_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;border-bottom: 1px solid #c0c0c0;"),t.add(".scheduler_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),t.add(".scheduler_default_divider, .scheduler_default_splitter","background-color: #c0c0c0;"),t.add(".scheduler_default_divider_horizontal","background-color: #c0c0c0;"),t.add(".scheduler_default_matrix_vertical_line","background-color: #eee;"),t.add(".scheduler_default_matrix_vertical_break","background-color: #000;"),t.add(".scheduler_default_matrix_horizontal_line","background-color: #eee;"),t.add(".scheduler_default_resourcedivider","background-color: #c0c0c0;"),t.add(".scheduler_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".scheduler_default_event","font-size:12px;color:#333;"),t.add(".scheduler_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),t.add(".scheduler_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),t.add(".scheduler_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),t.add(".scheduler_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".scheduler_default_event_float_inner","padding:6px 2px 2px 8px;"),t.add(".scheduler_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),t.add(".scheduler_default_columnheader_inner","font-weight: bold;"),t.add(".scheduler_default_columnheader_splitter","box-sizing: border-box; border-right: 1px solid #c0c0c0;"),t.add(".scheduler_default_columnheader_splitter:hover","background-color: #c0c0c0;"),t.add(".scheduler_default_columnheader_cell_inner","padding: 2px;"),t.add(".scheduler_default_cell","background-color: #f9f9f9;"),t.add(".scheduler_default_cell.scheduler_default_cell_business","background-color: #fff;"),t.add(".scheduler_default_cell.scheduler_default_cell_business.scheduler_default_cell_selected,.scheduler_default_cell.scheduler_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".scheduler_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),t.add(".scheduler_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),t.add(".scheduler_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),t.add(".scheduler_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".scheduler_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".scheduler_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".scheduler_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".scheduler_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".scheduler_default_rowmove_source","background-color: black; opacity: 0.2;"),t.add(".scheduler_default_rowmove_position_before, .scheduler_default_rowmove_position_after","background-color: #999; height: 2px;"),t.add(".scheduler_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),t.add(".scheduler_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),t.add(".scheduler_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),t.add(".scheduler_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),t.add(".scheduler_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red"),t.add(".scheduler_default_link_vertical","border-right-style: solid; border-right-color: red"),t.add(".scheduler_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".scheduler_default_shadow_overlap .scheduler_default_shadow_inner","background-color: red;"),t.add(".scheduler_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),t.add(".scheduler_default_main .scheduler_default_event_group","box-sizing: border-box; font-size:12px; color:#666; padding:4px 2px 2px 2px; overflow:hidden; border:1px solid #ccc; background-color: #fff;"),t.add(".scheduler_default_main .scheduler_default_header_icon","box-sizing: border-box; border: 1px solid #c0c0c0; background-color: #f5f5f5; color: #000;"),t.add(".scheduler_default_header_icon:hover","background-color: #ccc;"),t.add(".scheduler_default_header_icon_hide:before","content: '\\00AB';"),t.add(".scheduler_default_header_icon_show:before","content: '\\00BB';"),t.add(".scheduler_default_row_new .scheduler_default_rowheader_inner","padding-left: 10px; color: #666; cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),t.add(".scheduler_default_row_new .scheduler_default_rowheader_inner:hover","background: white; color: white;"),t.add(".scheduler_default_rowheader textarea","padding: 3px;"),t.add(".scheduler_default_rowheader_scroll","cursor: default;"),DayPilot.browser.webkit,t.add(".scheduler_default_shadow_forbidden .scheduler_default_shadow_inner","background-color: red;"),t.add(".scheduler_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),t.add(".scheduler_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),t.add(".scheduler_default_linkpoint.scheduler_default_linkpoint_hover","background-color: black;"),t.add(".scheduler_default_event.scheduler_default_event_version .scheduler_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".scheduler_default_crosshair_vertical, .scheduler_default_crosshair_horizontal, .scheduler_default_crosshair_left, .scheduler_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.add(".gantt_default_selected .gantt_default_event_inner","background: #ddd;"),t.add(".gantt_default_main","border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".gantt_default_main *, .gantt_default_main *:before, .gantt_default_main *:after","box-sizing: content-box;"),t.add(".gantt_default_timeheader","cursor: default;color: #666;"),t.add(".gantt_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),t.add(".gantt_default_timeheadergroup,.gantt_default_timeheadercol","color: #333;background: #f3f3f3;"),t.add(".gantt_default_rowheader,.gantt_default_corner","color: #333;background: #f3f3f3;"),t.add(".gantt_default_rowheader.gantt_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".gantt_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;padding: 2px;"),t.add(".gantt_default_timeheadergroup, .gantt_default_timeheadercol","text-align: center;"),t.add(".gantt_default_timeheadergroup_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;border-bottom: 1px solid #aaa;"),t.add(".gantt_default_timeheadercol_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #aaa;"),t.add(".gantt_default_divider, .gantt_default_splitter","background-color: #aaa;"),t.add(".gantt_default_divider_horizontal","background-color: #aaa;"),t.add(".gantt_default_matrix_vertical_line","background-color: #eee;"),t.add(".gantt_default_matrix_vertical_break","background-color: #000;"),t.add(".gantt_default_matrix_horizontal_line","background-color: #eee;"),t.add(".gantt_default_resourcedivider","background-color: #aaa;"),t.add(".gantt_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".gantt_default_event","font-size:12px;color:#666;"),t.add(".gantt_default_event_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),t.add(".gantt_default_event_bar","top:0px;left:0px;right:0px;height:4px;background-color:#9dc8e8;"),t.add(".gantt_default_event_bar_inner","position:absolute;height:4px;background-color:#1066a8;"),t.add(".gantt_default_event_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".gantt_default_event_float_inner","padding:6px 2px 2px 8px;"),t.add(".gantt_default_event_float_inner:after",'content:"";border-color: transparent #666 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:8px;left:-4px;'),t.add(".gantt_default_columnheader_inner","font-weight: bold;"),t.add(".gantt_default_columnheader_splitter","background-color: #666;opacity: 0.5;filter: alpha(opacity=50);"),t.add(".gantt_default_columnheader_cell_inner","padding: 2px;"),t.add(".gantt_default_cell","background-color: #f9f9f9;"),t.add(".gantt_default_cell.gantt_default_cell_business","background-color: #fff;"),t.add(".gantt_default_cell.gantt_default_cell_business.gantt_default_cell_selected,.gantt_default_cell.gantt_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".gantt_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),t.add(".gantt_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),t.add(".gantt_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),t.add(".gantt_default_event_move_left",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".gantt_default_event_move_right",'box-sizing: border-box; padding:2px;border:1px solid #ccc;background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".gantt_default_event_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".gantt_default_event_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".gantt_default_rowmove_handle","background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".gantt_default_rowmove_source","background-color: black; opacity: 0.2;"),t.add(".gantt_default_rowmove_position_before, .gantt_default_rowmove_position_after","background-color: #999; height: 2px;"),t.add(".gantt_default_rowmove_position_child","margin-left: 10px; background-color: #999; height: 2px;"),t.add(".gantt_default_rowmove_position_child:before","content: '+'; color: #999; position: absolute; top: -8px; left: -10px;"),t.add(".gantt_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),t.add(".gantt_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),t.add(".gantt_default_task_group .gantt_default_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: blue; filter: none; border: 0px none;"),t.add(".gantt_default_task_group.gantt_default_event:before","content:''; border-color: transparent transparent transparent blue; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;");t.add(".gantt_default_task_group.gantt_default_event:after","content:''; border-color: transparent blue transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;"),t.add(".gantt_default_task_milestone .gantt_default_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: green; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),t.add(".gantt_default_browser_ie8 .gantt_default_task_milestone .gantt_default_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""),t.add(".gantt_default_event_left","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),t.add(".gantt_default_event_right","white-space: nowrap; padding-top: 5px; color: #666; cursor: default;"),t.add(".gantt_default_link_horizontal","border-bottom-style: solid; border-bottom-color: red;"),t.add(".gantt_default_link_vertical","border-right-style: solid; border-right-color: red;"),t.add(".gantt_default_link_arrow_right:before","content: ''; border-width: 6px; border-color: transparent transparent transparent red; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_link_arrow_left:before","content: ''; border-width: 6px; border-color: transparent red transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_link_arrow_down:before","content: ''; border-width: 6px; border-color: red transparent transparent transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_link_arrow_up:before","content: ''; border-width: 6px; border-color: transparent transparent red transparent; border-style: solid; width: 0px; height:0px; position: absolute;"),t.add(".gantt_default_shadow_overlap .gantt_default_shadow_inner","background-color: red;"),t.add(".gantt_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),t.add(".gantt_default_link_hover","box-shadow: 0px 0px 2px 2px rgba(255, 0, 0, 0.3)"),t.add(".gantt_default_main .gantt_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),t.add(".gantt_default_header_icon:hover","background-color: #ccc;"),t.add(".gantt_default_header_icon_hide:before","content: '\\00AB';"),t.add(".gantt_default_header_icon_show:before","content: '\\00BB';"),t.add(".gantt_default_row_new .gantt_default_rowheader_inner","cursor: text; background-position: 0 50%; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),t.add(".gantt_default_row_new .gantt_default_rowheader_inner:hover","background: white;"),t.add(".gantt_default_rowheader textarea","padding: 5px;"),t.add(".gantt_default_rowheader_scroll","cursor: default;"),t.add(".gantt_default_shadow_forbidden .gantt_default_shadow_inner","background-color: red;"),t.add(".gantt_default_event_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),t.add(".gantt_default_event.gantt_default_event_version .gantt_default_event_inner","background-color: #cfdde8;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event:before","border:0;"),t.add(".gantt_default_task_group.gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #fff transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;left:-4px;'),t.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner","padding-left: 8px;"),t.add(".gantt_default_event_continueleft.gantt_default_event .gantt_default_event_inner:before",'content:"";border-color: transparent #000 transparent transparent;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;left:-4px;'),t.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event:after","border:0;"),t.add(".gantt_default_task_group.gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #fff;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:2px;right:-2px;'),t.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner","padding-right: 8px;"),t.add(".gantt_default_event_continueright.gantt_default_event .gantt_default_event_inner:after",'content:"";border-color: transparent transparent transparent #000;border-style:solid;border-width:5px;width:0;height:0;position:absolute;top:7px;right:-2px;'),t.add(".gantt_default_linkpoint","background-color: white; border: 1px solid gray; border-radius: 5px;"),t.add(".gantt_default_linkpoint.gantt_default_linkpoint_hover","background-color: black;"),t.add(".gantt_default_crosshair_vertical, .gantt_default_crosshair_horizontal, .gantt_default_crosshair_left, .gantt_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.add(".kanban_default_main *, .kanban_default_main *:before, .kanban_default_main *:after","box-sizing: content-box;"),t.add(".kanban_default_main","box-sizing: content-box; border: 1px solid #c0c0c0;font-family: Tahoma, Arial, Helvetica, sans-serif; font-size: 12px;"),t.add(".kanban_default_selected .kanban_default_event_inner","background: #ddd;"),t.add(".kanban_default_timeheader","cursor: default;color: #333;"),t.add(".kanban_default_message","opacity: 0.9;filter: alpha(opacity=90);padding: 10px; color: #ffffff;background: #ffa216;"),t.add(".kanban_default_colheadercell","color: #333;background: #f3f3f3;"),t.add(".kanban_default_rowheader,.kanban_default_corner","color: #333;background: #f3f3f3;"),t.add(".kanban_default_rowheader.kanban_default_rowheader_selected","background-color: #aaa;background-image: -webkit-gradient(linear, 0 100%, 100% 0,color-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".kanban_default_rowheader_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #f3f3f3;padding: 2px;"),t.add(".kanban_default_colheadercell","text-align: center;"),t.add(".kanban_default_colheadercell_inner","position: absolute;left: 0px;right: 0px;top: 0px;bottom: 0px;border-right: 1px solid #c0c0c0;"),t.add(".kanban_default_divider, .kanban_default_splitter","background-color: #c0c0c0;"),t.add(".kanban_default_divider_horizontal","background-color: #c0c0c0;"),t.add(".kanban_default_matrix_vertical_line","background-color: #eee;"),t.add(".kanban_default_matrix_vertical_break","background-color: #000;"),t.add(".kanban_default_matrix_horizontal_line","background-color: #eee;"),t.add(".kanban_default_rowheaderdivider","background-color: #c0c0c0;"),t.add(".kanban_default_shadow_inner","background-color: #666666;opacity: 0.5;filter: alpha(opacity=50);height: 100%;"),t.add(".kanban_default_card","font-size:12px;color:#333;"),t.add(".kanban_default_card_inner","position:absolute;top:0px;left:0px;right:0px;bottom:0px;padding:5px 2px 2px 2px;overflow:hidden;border:1px solid #ccc;"),t.add(".kanban_default_card_inner",'background:#fff;background: -webkit-gradient(linear, left top, left bottom, from(#ffffff), to(#eeeeee));background: -webkit-linear-gradient(top, #ffffff 0%, #eeeeee);background: -moz-linear-gradient(top, #ffffff 0%, #eeeeee);background: -ms-linear-gradient(top, #ffffff 0%, #eeeeee);background: -o-linear-gradient(top, #ffffff 0%, #eeeeee);background: linear-gradient(top, #ffffff 0%, #eeeeee);filter: progid:DXImageTransform.Microsoft.Gradient(startColorStr="#ffffff", endColorStr="#eeeeee");'),t.add(".kanban_default_cell","background-color: #fff;"),t.add(".kanban_default_cell.kanban_default_cell_selected","background-color: #ccc;background-image: -webkit-gradient(linear, 0 100%, 100% 0,\tcolor-stop(.25, rgba(255, 255, 255, .2)), color-stop(.25, transparent),\tcolor-stop(.5, transparent), color-stop(.5, rgba(255, 255, 255, .2)), color-stop(.75, rgba(255, 255, 255, .2)), color-stop(.75, transparent), to(transparent));background-image: -webkit-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -moz-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -ms-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: -o-linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);background-image: linear-gradient(45deg, rgba(255, 255, 255, .2) 25%, transparent 25%, transparent 50%, rgba(255, 255, 255, .2) 50%, rgba(255, 255, 255, .2) 75%, transparent 75%, transparent);-webkit-background-size: 20px 20px;-moz-background-size: 20px 20px;background-size: 20px 20px;"),t.add(".kanban_default_tree_image_no_children","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLzEyzsCJAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAADBJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOL31MeLxHwCeXUT0WkFMKAAAAABJRU5ErkJggg==);"),t.add(".kanban_default_tree_image_expand","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLyUoFBT0AAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAFJJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeRhgJGREc4GijMBtTNgA0BxFog+uA4IA2gmUJwFog/IgUhAGBB9KPYhA3T74Jog+hjx+A8A1KRQ+AN5vcwAAAAASUVORK5CYII=);"),t.add(".kanban_default_tree_image_collapse","background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAkAAAAJCAIAAABv85FHAAAAKXRFWHRDcmVhdGlvbiBUaW1lAHDhIDMwIEkgMjAwOSAwODo0NjozMSArMDEwMClDkt4AAAAHdElNRQfZAR4HLxB+p9DXAAAACXBIWXMAAA7CAAAOwgEVKEqAAAAABGdBTUEAALGPC/xhBQAAAENJREFUeNpjrK6s5uTl/P75OybJ0NLW8h8bAIozgeSxAaA4E1A7VjmgOAtEHyMjI7IE0EygOAtEH5CDqY9c+xjx+A8ANndK9WaZlP4AAAAASUVORK5CYII=);"),t.add(".kanban_default_card_delete","background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAALCAYAAACprHcmAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAI5JREFUKFNtkLERgCAMRbmzdK8s4gAUlhYOYEHJEJYOYOEwDmGBPxC4kOPfvePy84MGR0RJ2N1A8H3N6DATwSQ57m2ql8NBG+AEM7D+UW+wjdfUPgerYNgB5gOLRHqhcasg84C2QxPMtrUhSqQIhg7ypy9VM2EUZPI/4rQ7rGxqo9sadTegw+UdjeDLAKUfhbaQUVPIfJYAAAAASUVORK5CYII=) center center no-repeat; opacity: 0.6; -ms-filter:'progid:DXImageTransform.Microsoft.Alpha(Opacity=60)';cursor: pointer;"),t.add(".kanban_default_card_delete:hover","opacity: 1;-ms-filter: none;"),t.add(".kanban_default_rowmove_source","background-color: black; opacity: 0.2;"),t.add(".kanban_default_rowmove_position_before, .kanban_default_rowmove_position_after","background-color: #999; height: 2px;"),t.add(".kanban_default_rowmove_position_forbidden","background-color: red; height: 2px; margin-left: 10px;"),t.add(".kanban_default_rowmove_position_forbidden:before","content: 'x'; color: red; position: absolute; top: -8px; left: -10px;"),t.add(".kanban_default_block","background-color: gray; opacity: 0.5; filter: alpha(opacity=50);"),t.add(".kanban_default_main .kanban_default_header_icon","box-sizing: border-box; border: 1px solid #aaa; background-color: #f5f5f5; color: #000;"),t.add(".kanban_default_header_icon:hover","background-color: #ccc;"),t.add(".kanban_default_header_icon_hide:before","content: '\\00AB';"),t.add(".kanban_default_header_icon_show:before","content: '\\00BB';"),t.add(".kanban_default_row_new .kanban_default_rowheader_inner","cursor: text; background-position: 0px 5px; background-repeat: no-repeat; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAoAAAAKCAYAAACNMs+9AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABUSURBVChTY0ACslAaK2CC0iCQDMSlECYmQFYIAl1AjFUxukIQwKoYm0IQwFCMSyEIaEJpMMClcD4Qp0CYEIBNIUzRPzAPCtAVYlWEDgyAGIdTGBgAbqEJYyjqa3oAAAAASUVORK5CYII=);"),t.add(".kanban_default_row_new .kanban_default_rowheader_inner:hover","background: white;"),t.add(".kanban_default_rowheader textarea","padding: 3px;"),t.add(".kanban_default_rowheader_scroll","cursor: default;"),t.add(".kanban_default_card_moving_source","opacity: 0.5; filter: alpha(opacity=50);"),t.add(".kanban_default_card .kanban_default_card_inner","padding: 5px 5px 5px 10px;"),t.add(".kanban_default_cell","background-color: #fff;"),t.add(".kanban_default_rowmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".kanban_default_card_header","font-size: 120%; font-weight: bold;"),t.add(".kanban_default_card_bar","background-color: #cc0000; cursor:move;"),t.add(".kanban_default_cell.kanban_default_collapsed","background-color: #eee;"),t.add(".kanban_default_swimlane_collapse","cursor:pointer; border: 1px solid #ccc; text-align:center;"),t.add(".kanban_default_swimlane_collapse:before","content: '^';"),t.add(".kanban_default_swimlane_expand","cursor:pointer; border: 1px solid #ccc; text-align:center;"),t.add(".kanban_default_swimlane_expand:before","content: '>';"),t.add(".kanban_default_columnmove_handle","opacity: 0.5; background-repeat: no-repeat; background-position: center center; background-color: #ccc; background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAKCAYAAACT+/8OAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAadEVYdFNvZnR3YXJlAFBhaW50Lk5FVCB2My41LjExR/NCNwAAAClJREFUGFdj+P//P4O9vX2Bg4NDP4gNFgBytgPxebgAMsYuQGMz/jMAAFsTZDPYJlDHAAAAAElFTkSuQmCC); cursor: move;"),t.add(".kanban_default_columnmove_position","background-color: #333;"),t.add(".kanban_default_crosshair_vertical, .kanban_default_crosshair_horizontal, .kanban_default_crosshair_left, .kanban_default_crosshair_top","background-color: gray; opacity: 0.2; filter: alpha(opacity=20)"),t.commit(),DayPilot.Global.defaultCss=!0}}();var o=function(t){var e=this;this.id=t,this.widths=[],this.titles=[],this.height=null,this.splitterWidth=3,this.css={},this.css.title=null,this.css.titleInner=null,this.css.splitter=null,this.blocks=[],this.drag={},this.updated=function(){},this.updating=function(){},this.init=function(){var n;if(!t)throw"error: id not provided";if("string"==typeof t)n=document.getElementById(t);else{if(!t.appendChild)throw"error: invalid object provided";n=t}this.div=n,this.blocks=[];for(var i=0;i<this.widths.length;i++){var o=document.createElement("div");o.style.display="inline-block",null!==e.height?o.style.height=e.height+"px":o.style.height="100%",o.style.width=this.widths[i]-this.splitterWidth+"px",o.style.overflow="hidden",o.style.verticalAlign="top",o.style.position="relative",o.setAttribute("unselectable","on"),o.className=this.css.title,n.appendChild(o);var a=document.createElement("div");a.innerHTML=this.titles[i],a.setAttribute("unselectable","on"),a.className=this.css.titleInner,o.appendChild(a);var r=document.createElement("div");r.style.display="inline-block",null!==e.height?r.style.height=e.height+"px":r.style.height="100%",r.style.width=this.splitterWidth+"px",r.style.position="relative",r.appendChild(document.createElement("div")),r.style.cursor="col-resize",r.setAttribute("unselectable","on"),r.className=this.css.splitter;var l={};l.index=i,l.width=this.widths[i],r.data=l,r.onmousedown=function(t){e.drag.start=DayPilot.page(t),e.drag.data=this.data,e.div.style.cursor="col-resize",t=t||window.event,t.preventDefault?t.preventDefault():t.returnValue=!1},n.appendChild(r);var s={};s.section=o,s.handle=r,this.blocks.push(s)}this.registerGlobalHandlers()},this.updateWidths=function(){for(var t=0;t<this.blocks.length;t++){var e=this.blocks[t],n=this.widths[t];e.handle.data.width=n,this.m(t)}},this.m=function(t){var e=this.blocks[t],n=this.widths[t];e.section.style.width=n-this.splitterWidth+"px"},this.totalWidth=function(){for(var t=0,e=0;e<this.widths.length;e++)t+=this.widths[e];return t},this.gMouseMove=function(t){if(e.drag.start){var n=e.drag.data,i=DayPilot.page(t),o=i.x-e.drag.start.x,a=n.index;e.widths[a]=Math.max(5,n.width+o),e.m(a);var r={};r.widths=this.widths,r.index=n.index,e.updating(r)}},this.gMouseUp=function(t){if(e.drag.start){e.drag.start=null,document.body.style.cursor="",e.div.style.cursor="";var n=e.drag.data;n.width=e.widths[n.index];var i={};i.widths=this.widths,i.index=n.index,e.updated(i)}},this.dispose=function(){DayPilot.list(this.blocks).each(function(t){t.handle.onmousedown=null,DayPilot.de(t.section),DayPilot.de(t.handle)}),this.unregisterGlobalHandlers()},this.registerGlobalHandlers=function(){DayPilot.re(document,"mousemove",this.gMouseMove),DayPilot.re(document,"mouseup",this.gMouseUp)},this.unregisterGlobalHandlers=function(){DayPilot.ue(document,"mousemove",this.gMouseMove),DayPilot.ue(document,"mouseup",this.gMouseUp)}};DayPilot.Splitter=o}}(),DayPilot.JSON={},function(){function e(t){return t<10?"0"+t:t}function t(t){return a.lastIndex=0,a.test(t)?'"'+t.replace(a,function(t){var e=s[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function i(e,n){var a,s,c,u,d,h=o,f=n[e];switch(f&&"object"==typeof f&&"function"==typeof f.toJSON&&!f.ignoreToJSON&&(f=f.toJSON(e)),"function"==typeof l&&(f=l.call(n,e,f)),typeof f){case"string":return t(f);case"number":return isFinite(f)?String(f):"null";case"boolean":case"null":return String(f);case"object":if(!f)return"null";if(o+=r,d=[],"number"==typeof f.length&&!f.propertyIsEnumerable("length")){for(u=f.length,a=0;a<u;a+=1)d[a]=i(a,f)||"null";return c=0===d.length?"[]":o?"[\n"+o+d.join(",\n"+o)+"\n"+h+"]":"["+d.join(",")+"]",o=h,c}if(l&&"object"==typeof l)for(u=l.length,a=0;a<u;a+=1)"string"==typeof(s=l[a])&&(c=i(s,f))&&d.push(t(s)+(o?": ":":")+c);else for(s in f)Object.hasOwnProperty.call(f,s)&&(c=i(s,f))&&d.push(t(s)+(o?": ":":")+c);return c=0===d.length?"{}":o?"{\n"+o+d.join(",\n"+o)+"\n"+h+"}":"{"+d.join(",")+"}",o=h,c}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+e(this.getUTCMonth()+1)+"-"+e(this.getUTCDate())+"T"+e(this.getUTCHours())+":"+e(this.getUTCMinutes())+":"+e(this.getUTCSeconds())+"Z":null}),"function"!=typeof String.prototype.toJSON&&(String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(t){return this.valueOf()});var n=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o,r,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},l;DayPilot.JSON.stringify=function(t,e,n){if("undefined"!=typeof JSON&&JSON.stringify)return JSON.stringify(t,e,n);var a;if(o="",r="","number"==typeof n)for(a=0;a<n;a+=1)r+=" ";else"string"==typeof n&&(r=n);if(l=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return i("",{"":t})},DayPilot.JSON.parse=function(e,t){function i(e,n){var o,a,r=e[n];if(r&&"object"==typeof r)for(o in r)Object.prototype.hasOwnProperty.call(r,o)&&(a=i(r,o),void 0!==a?r[o]=a:delete r[o]);return t.call(e,n,r)}var a;if(e=String(e),n.lastIndex=0,n.test(e)&&(e=e.replace(n,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(e.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return a=eval("("+e+")"),"function"==typeof t?i({"":a},""):a;throw new SyntaxError("JSON.parse")},"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){if(void 0===DayPilot.Bubble){var t={};t.mouseMove=function(e){if(void 0!==t){t.mouse=t.mousePosition(e);var n=t.active;if(n&&n.n.showPosition){var i=n.n.showPosition,o=t.mouse;i.clientX!==o.clientX||(i.clientY,o.clientY)}}},t.touchPosition=function(t){if(!t||!t.touches)return null;var e=t.touches[0],n={};return n.x=e.pageX,n.y=e.pageY,n.clientX=e.clientX,n.clientY=e.clientY,n},t.mousePosition=function(t){var e=DayPilot.page(t);return t&&(e.clientY=t.clientY,e.clientX=t.clientX),e},DayPilot.Bubble=function(e){this.v="2826";var n=this,i={};if(this.cssOnly=!0,this.hideAfter=500,this.loadingText="Loading...",this.animated=!0,this.animation="fast",this.position="EventTop",this.hideOnClick=!0,this.showAfter=500,this.showLoadingLabel=!0,this.zIndex=10,this.theme="bubble_default",this.n=function(){},this.callBack=function(t){this.aspnet()?WebForm_DoCallback(this.uniqueID,DayPilot.JSON.stringify(t),this.updateView,this,this.callbackError,!0):t.calendar.internal.bubbleCallBack?t.calendar.internal.bubbleCallBack(t,this):t.calendar.bubbleCallBack(t,this)},this.callbackError=function(t,e){alert(t)},this.updateView=function(e,o){if(n!==o)throw"Callback object mismatch (internal error)";return e?(t.active=n,void(n&&(i.div&&(i.div.firstChild.innerHTML=e),n.adjustPosition(),n.animated||n.addShadow()))):(n.removeDiv(),void n.removeShadow())},this.init=function(){},this.aspnet=function(){return"undefined"!=typeof WebForm_DoCallback},this.rounded=function(){return"Rounded"===this.corners},this.showEvent=function(e,n){var i=new t.CallBackArgs(e.calendar||e.root,"Event",e,e.bubbleHtml?e.bubbleHtml():null);n?this.show(i):this.showOnMouseOver(i)},this.showCell=function(e){var n=new t.CallBackArgs(e.calendar||e.root,"Cell",e,e.staticBubbleHTML?e.staticBubbleHTML():null);this.showOnMouseOver(n)},this.showTime=function(e){var n=new t.CallBackArgs(e.calendar||e.root,"Time",e,e.staticBubbleHTML?e.staticBubbleHTML():null);this.showOnMouseOver(n)},this.showResource=function(e){var n=new t.CallBackArgs(e.calendar||e.root,"Resource",e,e.bubbleHtml?e.bubbleHtml():null);this.showOnMouseOver(n)},this.showHtml=function(e,n){var i=new t.CallBackArgs(null,"Html",null,e);i.div=n,this.show(i)},this.show=function(e){var o=this.animated;if(this.n.showPosition=t.mouse,!t.mouse)return void setTimeout(function(){n.show(e)},100);var a;try{a=DayPilot.JSON.stringify(e.object)}catch(t){return}if(!(t.active===this&&this.n.sourceId===a||void 0!==DayPilot.Menu&&DayPilot.Menu.active)){n.cssOnly||(n.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),t.hideActive(),t.active=this,this.n.sourceId=a;var r=document.createElement("div");r.setAttribute("unselectable","on"),r.style.position="absolute",this.showLoadingLabel||(r.style.display="none"),this.cssOnly?r.className=this.p("_main"):(this.width&&(r.style.width=this.width),r.style.cursor="default"),r.style.top="0px",r.style.left="0px",r.style.zIndex=this.zIndex+1,o&&(r.style.visibility="hidden"),this.hideOnClick&&(r.onclick=function(){t.hideActive()}),r.onmousemove=function(e){t.cancelTimeout();var e=e||window.event;e.cancelBubble=!0},r.oncontextmenu=function(){return!1},r.onmouseout=this.delayedHide;var l=document.createElement("div");r.appendChild(l),this.cssOnly?l.className=this.p("_main_inner"):(l.style.padding="4px",this.border&&(l.style.border=this.border),this.rounded()&&(l.style.MozBorderRadius="5px",l.style.webkitBorderRadius="5px",l.style.borderRadius="5px"),l.style.backgroundColor=this.backgroundColor),l.innerHTML=this.loadingText,document.body.appendChild(r),i.div=r;var r=this.getDiv(e);if("EventTop"===this.position&&r){var s=DayPilot.abs(r,!0);this.n.mouse=t.mouse,this.n.mouse.x=s.x,this.n.mouse.y=s.y,this.n.mouse.h=s.h+2,this.n.mouse.w=s.w}else this.n.mouse=t.mouse;if(this.showLoadingLabel&&!o&&(this.adjustPosition(),this.addShadow()),e.staticHTML&&"function"!=typeof this.onLoad)this.updateView(e.staticHTML,this);else if("function"==typeof this.onLoad){var c={};c.source=e.object,c.async=!1,c.html=e.staticHTML,c.loaded=function(){this.async&&n.updateView(c.html,n)},this.onLoad(c),c.async||n.updateView(c.html,n)}else this.q(e)&&this.callBack(e)}},this.getDiv=function(t){return t.div?t.div:"Event"===t.type&&t.calendar&&t.calendar.internal.findEventDiv?t.calendar.internal.findEventDiv(t.object):void 0},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.loadingElement=null,this.loadingStart=function(t){},this.loadingStop=function(){},this.adjustPosition=function(){var e=this.animated,o=this.position,a=10;if(i.div&&this.n.mouse){if(!this.n.mouse.x||!this.n.mouse.y)return void t.hideActive();var r=i.div;r.style.display="";var l=r.offsetHeight,s=r.offsetWidth;r.style.display="none";var c=DayPilot.wd(),u=c.width,d=c.height;if("Mouse"===o){var h=0;if(this.n.mouse.clientY>d-l+a?(this.n.mouse.clientY,h=this.n.mouse.y-l-10):h=this.n.mouse.y+22,"number"==typeof h&&(r.style.top=Math.max(h,0)+"px"),this.n.mouse.clientX>u-s+a){var f=this.n.mouse.clientX-(u-s)+a;r.style.left=this.n.mouse.x-f+"px"}else r.style.left=this.n.mouse.x+"px"}else if("EventTop"===o){var p=2,h=this.n.mouse.y-l-p,v=c.scrollTop;h<v&&(h=this.n.mouse.y+this.n.mouse.h+p),"number"==typeof h&&(r.style.top=Math.max(h,0)+"px");var g=this.n.mouse.x;this.n.mouse.x+s+a>u&&(g=u-s-a),r.style.left=g+"px"}if(r.style.display="",e){r.style.display="";var m={};m.color=r.firstChild.style.color,m.overflow=r.style.overflow,r.firstChild.style.color="transparent",r.style.overflow="hidden",this.removeShadow(),DayPilot.pop(r,{finished:function(){r.firstChild.style.color=m.color,r.style.overflow=m.overflow,n.addShadow()},vertical:"bottom",horizontal:"left",animation:n.animation})}}},this.delayedHide=function(){t.cancelTimeout(),n.hideAfter>0&&(t.timeout=window.setTimeout(t.hideActive,n.hideAfter))},this.showOnMouseOver=function(e){t.cancelTimeout();var i=function(t){return function(){n.show(t)}};t.timeout=window.setTimeout(i(e),this.showAfter)},this.hideOnMouseOut=function(){this.delayedHide()},this.q=function(t){return!!t.calendar.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.addShadow=function(){if(this.useShadow&&!this.cssOnly&&i.div){var t=i.div;this.shadows&&this.shadows.length>0&&this.removeShadow(),this.shadows=[];for(var e=0;e<5;e++){var n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.position="absolute",n.style.width=t.offsetWidth+"px",n.style.height=t.offsetHeight+"px",n.style.top=t.offsetTop+e+"px",n.style.left=t.offsetLeft+e+"px",n.style.zIndex=this.zIndex,n.style.filter="alpha(opacity:10)",n.style.opacity=.1,n.style.backgroundColor="#000000",this.rounded()&&(n.style.MozBorderRadius="5px",n.style.webkitBorderRadius="5px",n.style.borderRadius="5px"),document.body.appendChild(n),this.shadows.push(n)}}},this.removeShadow=function(){if(this.shadows){for(var t=0;t<this.shadows.length;t++)document.body.removeChild(this.shadows[t]);this.shadows=[]}},this.removeDiv=function(){i.div&&(document.body.removeChild(i.div),i.div=null)},e)for(var o in e)this[o]=e[o];this.init()},DayPilot.Bubble.touchPosition=function(e){e.touches&&(t.mouse=t.touchPosition(e))},t.cancelTimeout=function(){t.timeout&&window.clearTimeout(t.timeout)},t.hideActive=function(){t.cancelTimeout();var e=t.active;e&&(e.removeDiv(),e.removeShadow()),t.active=null},t.CallBackArgs=function(t,e,n,i){this.calendar=t,this.type=e,this.object=n,this.staticHTML=i,this.toJSON=function(){var t={};return t.uid=this.calendar.uniqueID,t.type=this.type,t.object=n,t}},DayPilot.re(document,"mousemove",t.mouseMove),DayPilot.Bubble.hideActive=t.hideActive,"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){if(void 0===DayPilot.Calendar){DayPilot.Calendar=function(e,n){this.v="2826";var i=!1;if(this instanceof DayPilot.Calendar&&!this.r&&(i=!0,this.r=!0),!i)throw"DayPilot.Calendar() is a constructor and must be called as 'var c = new DayPilot.Calendar(id);'";var o=this;this.uniqueID=null,this.id=e,this.isCalendar=!0,this.api=2,this.clientName=e,this.clientState={},this.s={},this.s.pixels={},this.s.events=[],this.elements={},this.elements.events=[],this.elements.separators=[],this.nav={},this.events={},this.hideUntilInit=!0,this.t=!0,this.allDayEnd="DateTime",this.allDayEventHeight=25,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.backendUrl=null,this.borderColor="#000000","function"==typeof DayPilot.Bubble?(this.bubble=new DayPilot.Bubble,this.cellBubble=new DayPilot.Bubble,this.columnBubble=new DayPilot.Bubble):(this.bubble=null,this.cellBubble=null,this.columnBubble=null),this.businessBeginsHour=9,this.businessEndsHour=18,this.cellBackColor="#FFFFD5",this.cellBackColorNonBusiness="#FFF4BC",this.cellBorderColor="#999999",this.cellHeight=20,this.cellDuration=30,this.columnMarginRight=5,this.columns=null,this.columnWidth=200,this.columnWidthSpec="Auto",this.contextMenu=null,this.contextMenuSelection=null,this.cornerBackColor="#ECE9D8",this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.cssOnly=!0,this.dayBeginsHour=0,this.dayEndsHour=24,this.days=1,this.durationBarColor="blue",this.durationBarVisible=!0,this.durationBarWidth=5,this.durationBarImageUrl=null,this.eventArrangement="SideBySide",this.eventBackColor="#ffffff",this.eventBorderColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventSelectColor="blue",this.headerFontSize="10pt",this.headerFontFamily="Tahoma",this.headerFontColor="#000000",this.headerHeight=20,this.headerLevels=1,this.height=300,this.heightSpec="BusinessHours",this.hideFreeCells=!1,this.headerDateFormat=null,this.hourHalfBorderColor="#F3E4B1",this.hourBorderColor="#EAD098",this.hourFontColor="#000000",this.hourFontFamily="Tahoma",this.hourFontSize="16pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.hourWidth=45,this.initScrollPos=null,this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.loadingLabelBackColor="orange",this.loadingLabelFontColor="#ffffff",this.loadingLabelFontFamily="Tahoma",this.loadingLabelFontSize="10pt",this.locale="en-us",this.messageHideAfter=5e3,this.moveBy="Full",this.notifyCommit="Immediate",this.roundedCorners=!1,this.rtl=!1,this.scrollLabelsVisible=!1,this.selectedColor="#316AC5",this.shadow="Fill",this.showToolTip=!0,this.showAllDayEvents=!1,this.showAllDayEventStartEnd=!0,this.showEventStartEnd=!1,this.showHeader=!0,this.showHours=!0,this.showCurrentTime=!0,this.showCurrentTimeMode="Day",this.showCurrentTimeOffset=0,this.startDate=DayPilot.Date.today(),this.cssClassPrefix="calendar_default",this.tapAndHoldTimeout=300,this.theme=null,this.timeFormat="Auto",this.timeHeaderCellDuration=60,this.useEventBoxes="Always",this.viewType="Days",this.visible=!0,this.weekStarts=null,this.width=null,this.eventClickHandling="Enabled",this.eventDoubleClickHandling="Disabled",this.eventRightClickHandling="ContextMenu",this.eventDeleteHandling="Disabled",this.eventEditHandling="Update",this.eventHoverHandling="Bubble",this.eventResizeHandling="Update",this.eventMoveHandling="Update",this.eventSelectHandling="Update",this.eventTapAndHoldHandling="Move",this.headerClickHandling="Enabled",this.timeRangeTapAndHoldHandling="Select",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onEventFilter=null,this.onBeforeEventRender=null,this.onBeforeEventExport=null,this.onBeforeCellExport=null,this.u=!0,this.z=!1,this.A=0,this.doubleClickTimeout=300,this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","cssOnly","clientName","uniqueID"],this.members.ignore=["internal","nav","debug","temp","elements","members"],this.members.noCssOnly=["allDayEventBorderColor","allDayEventFontColor","allDayEventFontFamily","allDayEventFontSize","borderColor","cellBackColor","cellBackColorNonBusiness","cellBorderColor","cornerBackColor","durationBarColor","durationBarImageUrl","eventBackColor","eventBorderColor","eventFontColor","eventFontFamily","eventFontSize","eventSelectColor","headerFontColor","headerFontFamily","headerFontSize","hourBorderColor","hourFontColor","hourFontFamily","hourFontSize","hourHalfBorderColor","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","roundedCorners","selectedColor","shadow","useEventSelectionBars"],this.B={},this.B.ie=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE"),this.B.ie9=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("MSIE 9"),this.B.ielt9=function(){var t=document.createElement("div");return t.innerHTML="\x3c!--[if lt IE 9]><i></i><![endif]--\x3e",1===t.getElementsByTagName("i").length}(),this.B.ff=navigator&&navigator.userAgent&&-1!==navigator.userAgent.indexOf("Firefox"),this.B.opera105=function(){return!!/Opera[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&new Number(RegExp.$1)>=10.5}(),this.B.webkit522=function(){return!!/AppleWebKit[\/\s](\d+\.\d+)/.test(navigator.userAgent)&&new Number(RegExp.$1)>=522}(),this.clearSelection=function(){return this.selectedCells?(this.C(),void(this.selectedCells=[])):void(this.selectedCells=[])},this.C=function(){if(this.selectedCells)for(var t=0;t<this.selectedCells.length;t++){var e=this.selectedCells[t];e&&e.selected&&(e.removeChild(e.selected),e.firstChild.style.display="",e.selected=null)}},this.cleanSelection=this.clearSelection,this.D=function(t,e,n){var i={};i.action=t,i.parameters=n,i.data=e,i.header=this.E();var a="JSON"+DayPilot.JSON.stringify(i);__doPostBack(o.uniqueID,a)},this.F=function(t,e,n,i){if(!this.q())return void o.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),void 0===i&&(i="CallBack"),this.callbackTimeout=window.setTimeout(function(){o.G()},100);var a={};a.action=t,a.type=i,a.parameters=e,a.data=n,a.header=this.E();var r="JSON"+DayPilot.JSON.stringify(a);this.backendUrl?DayPilot.request(this.backendUrl,this.H,r,this.I):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.J,this.clientName,this.onCallbackError,!0)},this.q=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.I=function(t){if("function"==typeof o.onAjaxError){var e={};e.request=t,o.onAjaxError(e)}else"function"==typeof o.ajaxError&&o.ajaxError(t)},this.dispose=function(){var e=o;e.nav.top&&(e.K(),e.L(),e.nav.messageClose&&(e.nav.messageClose.onclick=null),e.nav.hourTable&&(e.nav.hourTable.oncontextmenu=null),e.nav.hourTable&&(e.nav.hourTable.onmousemove=null),e.nav.header&&(e.nav.header.oncontextmenu=null),e.nav.corner&&(e.nav.corner.oncontextmenu=null),e.nav.zoom.onmousemove=null,e.nav.scroll.onscroll=null,e.nav.scroll.root=null,DayPilot.pu(e.nav.loading),e.M(),e.N(),e.nav.select=null,e.nav.cornerRight=null,e.nav.scrollable=null,e.nav.bottomLeft=null,e.nav.bottomRight=null,e.nav.allday=null,e.nav.zoom=null,e.nav.loading=null,e.nav.events=null,e.nav.header=null,e.nav.hourTable=null,e.nav.scrolltop=null,e.nav.scroll=null,e.nav.vsph=null,e.nav.main=null,e.nav.message=null,e.nav.messageClose=null,e.nav.top.removeAttribute("style"),e.nav.top.removeAttribute("class"),e.nav.top.innerHTML="",e.nav.top.dp=null,e.nav.top=null,DayPilot.ue(window,"resize",e.O),t.unregister(e))},this.P=function(){this.nav.top.dispose=this.dispose,window.eval("var lh=location.hostname;if(!~lh.indexOf('daypilot.org')&&lh!=='localhost')setTimeout(function(){alert('You are using a trial version of DayPilot Pro.')},100000*(Math.random()*6+6));")},this.H=function(t){o.J(t.responseText)},this.E=function(){var t={};return t.v=this.v,t.control="dpc",t.id=this.id,t.clientState=o.clientState,t.columns=this.Q(),t.days=o.days,t.startDate=o.startDate,t.cellDuration=o.cellDuration,t.cssClassPrefix=o.cssClassPrefix,t.heightSpec=o.heightSpec,t.businessBeginsHour=o.businessBeginsHour,t.businessEndsHour=o.businessEndsHour,t.viewType=o.viewType,t.dayBeginsHour=o.dayBeginsHour,t.dayEndsHour=o.dayEndsHour,t.headerLevels=o.headerLevels,t.backColor=o.cellBackColor,t.nonBusinessBackColor=o.cellBackColorNonBusiness,t.eventHeaderVisible=o.eventHeaderVisible,t.timeFormat=o.timeFormat,t.timeHeaderCellDuration=o.timeHeaderCellDuration,t.locale=o.locale,t.scrollY=o.scrollPos,t.showAllDayEvents=o.showAllDayEvents,t.tagFields=o.tagFields,t.weekStarts=o.weekStarts,t.hourNameBackColor=o.hourNameBackColor,t.hourFontFamily=o.hourFontFamily,t.hourFontSize=o.hourFontSize,t.hourFontColor=o.hourFontColor,t.selected=o.multiselect.events(),t.hashes=o.hashes,t},this.R=function(){this.S(),DayPilot.Areas.hideAll()},this.Q=function(){var t=[];if(t.ignoreToJSON=!0,!this.T)return t;for(var e=0;e<this.T.length;e++){var n=this.T[e],i=this.U(n);t.push(i)}return t},this.U=function(t){var e={};return e.Value=t.id,e.Name=t.name,e.ToolTip=t.toolTip,e.Date=t.start,e.Children=this.V(t.children),e},this.V=function(t){var e=[];if(e.ignoreToJSON=!0,!t)return e;for(var n=0;n<t.length;n++)e.push(this.U(t[n]));return e},this.J=function(t,e){var t=DayPilot.Util.parseJSON(t);if(t.BubbleGuid){var n=t.BubbleGuid,i=this.bubbles[n];return delete this.bubbles[n],o.W(),void(void 0!==t.Result.BubbleHTML&&i.updateView(t.Result.BubbleHTML,i))}if(t.CallBackRedirect)return void(document.location.href=t.CallBackRedirect);if(void 0!==t.ClientState&&(o.clientState=t.ClientState),"None"===t.UpdateType)return o.W(),o.X(t.CallBackData,!0),void(t.Message&&o.message(t.Message));if(t.VsUpdate){var a=document.createElement("input");a.type="hidden",a.name=o.id+"_vsupdate",a.id=a.name,a.value=t.VsUpdate,o.nav.vsph.innerHTML="",o.nav.vsph.appendChild(a)}if(o.L(),o.multiselect.clear(!0),o.multiselect.Y=t.SelectedEvents,void 0!==t.TagFields&&(o.tagFields=t.TagFields),void 0!==t.SortDirections&&(o.sortDirections=t.SortDirections),"Full"===t.UpdateType&&(o.colors=t.Colors,o.palette=t.Palette,o.dirtyColors=t.DirtyColors,o.cellProperties=t.CellProperties,o.cellConfig=t.CellConfig,o.columns=t.Columns,o.days=t.Days,o.startDate=new DayPilot.Date(t.StartDate).getDatePart(),o.cellDuration=t.CellDuration,o.heightSpec=t.HeightSpec?t.HeightSpec:o.heightSpec,o.businessBeginsHour=t.BusinessBeginsHour?t.BusinessBeginsHour:o.businessBeginsHour,o.businessEndsHour=t.BusinessEndsHour?t.BusinessEndsHour:o.businessEndsHour,o.viewType=t.ViewType,o.headerLevels=t.HeaderLevels,o.backColor=t.BackColor?t.BackColor:o.backColor,o.nonBusinessBackColor=t.NonBusinessBackColor?t.NonBusinessBackColor:o.nonBusinessBackColor,o.eventHeaderVisible=t.EventHeaderVisible?t.EventHeaderVisible:o.eventHeaderVisible,o.timeFormat=t.TimeFormat?t.TimeFormat:o.timeFormat,o.timeHeaderCellDuration=void 0!==t.TimeHeaderCellDuration?t.TimeHeaderCellDuration:o.timeHeaderCellDuration,o.locale=t.Locale?t.Locale:o.locale,o.dayBeginsHour=void 0!==t.DayBeginsHour?t.DayBeginsHour:o.dayBeginsHour,o.dayEndsHour=void 0!==t.DayEndsHour?t.DayEndsHour:o.dayEndsHour,o.cornerBackColor=t.CornerBackColor,o.cornerHtml=t.CornerHTML,o.hours=t.Hours,o.Z(),o._()),t.Hashes)for(var r in t.Hashes)o.hashes[r]=t.Hashes[r];if(o.aa(t.Events),o.ba(),("Full"===t.UpdateType||o.hideFreeCells)&&(o.ca(),o.da(),o.ea(),o.fa(),o.ga(),o.ha(),o.ia(),o.ja(),o.clearSelection(),o.ka(),void 0!==t.ScrollY?o.scrollToY(t.ScrollY):o.scrollToY(o.initScrollPos)),o.la(),o.ma(),o.na(),o.oa(),"Parent100Pct"===o.heightSpec&&o.O(),"HoldForever"!==o.timeRangeSelectedHandling&&o.clearSelection(),o.pa(),o.todo&&o.todo.del){var l=o.todo.del;l.parentNode.removeChild(l),o.todo.del=null}o.X(t.CallBackData,!0),o.W(),o.qa(),t.Message&&o.message(t.Message)},this.X=function(t,e){var n=function(t,e){return function(){if(o.ra()){if("function"==typeof o.onAfterRender){var n={};n.isCallBack=e,n.data=t,o.onAfterRender(n)}}else o.afterRender&&o.afterRender(t,e)}};window.setTimeout(n(t,e),0)},this.sa=function(t,e,n){var i=o.nav.events,a=i.clientWidth/i.rows[0].cells.length,r=Math.floor(o.coords.x/a);r<0&&(r=0),o.rtl&&(r=o.ta.length-r-1);var l=i.rows[0].cells[r],s=0,c=0,u=0;if(void 0!==t.duration){var d=t.duration;u=Math.floor((o.coords.y-s+o.cellHeight/2)/o.cellHeight)*o.cellHeight+s,c=d*o.cellHeight/(60*o.cellDuration),c=Math.max(c,o.cellHeight)}else{var h=t.event;c=h.part.height,u=h.part.top}var f=document.createElement("div");f.setAttribute("unselectable","on"),f.style.position="absolute",f.style.width="100%",f.style.height=c+"px",f.style.left="0px",f.style.top=u+"px",f.style.zIndex=101,f.exclude=!0;var p=document.createElement("div");return f.appendChild(p),f.className=o.p("_shadow"),p.className=this.p("_shadow_inner"),l.events.appendChild(f),f},this.va=function(){return this.wa()/36e5},this.xa=function(){return this.businessBeginsHour>this.businessEndsHour?24-this.businessBeginsHour+this.businessEndsHour:this.businessEndsHour-this.businessBeginsHour},this.ya=function(){return this.dayBeginsHour>=this.dayEndsHour?24-this.dayBeginsHour+this.dayEndsHour:this.dayEndsHour-this.dayBeginsHour},this.wa=function(t){var e=0;if("BusinessHoursNoScroll"===this.heightSpec)e=this.xa();else if(this.hideFreeCells&&!t){var n=(this.za-1)*this.cellDuration/this.cellHeight,i=Math.ceil(n/60),o=this.businessBeginsHour>this.businessEndsHour?this.businessEndsHour+24:this.businessEndsHour;e=Math.max(this.dayBeginsHour+i,o)-this.Aa()}else e=this.ya();return 60*e*60*1e3},this.message=function(t,e,n,i){if(t){var a,e=e||this.messageHideAfter||2e3,r=this.Ba(),l=this.showHours?this.hourWidth:0,s=DayPilot.sw(o.Ca());if(o.rtl){var c=l;l=s,s=c}if(this.nav.message)a=o.nav.message,this.nav.message.style.top=r+"px";else{a=document.createElement("div"),a.style.position="absolute",a.style.left=l+"px",a.style.top=r+"px",a.style.right="0px",a.style.display="none",a.onmousemove=function(){a.messageTimeout&&!a.status&&clearTimeout(a.messageTimeout)},a.onmouseout=function(){"none"!==o.nav.message.style.display&&(a.messageTimeout=setTimeout(o.Da,500))};var u=document.createElement("div");u.onclick=function(){o.nav.message.style.display="none"},u.className=this.p("_message"),a.appendChild(u);var d=document.createElement("div");d.style.position="absolute",d.className=this.p("_message_close"),d.onclick=function(){o.nav.message.style.display="none"},a.appendChild(d),this.nav.top.insertBefore(a,this.nav.loading),this.nav.message=a,this.nav.messageClose=d}this.nav.cornerRight?this.nav.message.style.right=s+"px":this.nav.message.style.right="0px";var h=function(){if(o.nav.message){o.nav.message.firstChild.innerHTML=t;var n=function(){a.messageTimeout=setTimeout(o.Da,e)};DayPilot.fade(o.nav.message,.2,n)}};clearTimeout(a.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(o.nav.message,-.2,h):h()}},this.message.show=function(t){o.message(t)},this.message.hide=function(){o.Da()},this.Da=function(){var t=function(){o.nav.message.style.display="none"};DayPilot.fade(o.nav.message,-.2,t)},this.fa=function(){this.nav.message&&(this.nav.message.style.top=this.Ba()+"px")},this.Ea=function(){return this.wa()/(6e4*this.cellDuration)},this.eventClickPostBack=function(t,e){this.D("EventClick",e,t)},this.eventClickCallBack=function(t,e){this.F("EventClick",t,e)},this.Fa=function(t){var e=this,t=t||window.event,n=t.ctrlKey,i=t.metaKey;if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===o.eventDoubleClickHandling)return void o.Ga(e,n,i,t);if(o.timeouts){for(var a in o.timeouts)window.clearTimeout(o.timeouts[a]);o.timeouts=[]}else o.timeouts=[];var r=function(t,e,n,i){return function(){o.Ga(t,e,n,i)}};o.timeouts.push(window.setTimeout(r(this,n,i,t),o.doubleClickTimeout))},this.Ga=function(t,e,n,i){var a=t.event;if(a.client.clickEnabled())if(o.ra()){var r={};if(r.e=a,r.ctrl=e,r.meta=n,r.originalEvent=i,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventClick&&(o.onEventClick(r),r.preventDefault.value))return;switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(a);break;case"CallBack":o.eventClickCallBack(a);break;case"Edit":o.Ha(t);break;case"Select":o.Ia(t,a,e,n);break;case"Bubble":o.bubble&&o.bubble.showEvent(a);break;case"ContextMenu":var l=a.client.contextMenu();l?l.show(a):o.contextMenu&&o.contextMenu.show(a)}"function"==typeof o.onEventClicked&&o.onEventClicked(r)}else switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(a);break;case"CallBack":o.eventClickCallBack(a);break;case"JavaScript":o.onEventClick(a);break;case"Edit":o.Ha(t);break;case"Select":o.Ia(t,a,e,n);break;case"Bubble":o.bubble&&o.bubble.showEvent(a);break;case"ContextMenu":var l=a.client.contextMenu();l?l.show(a):o.contextMenu&&o.contextMenu.show(a)}},this.eventDoubleClickPostBack=function(t,e){this.D("EventDoubleClick",e,t)},this.eventDoubleClickCallBack=function(t,e){this.F("EventDoubleClick",t,e)},this.Ja=function(t){if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),o.timeouts){for(var e in o.timeouts)window.clearTimeout(o.timeouts[e]);o.timeouts=null}var n=this.event,t=t||window.event;if(o.ra()){var i={};if(i.e=n,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDoubleClick&&(o.onEventDoubleClick(i),i.preventDefault.value))return;switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(n);break;case"CallBack":o.eventDoubleClickCallBack(n);break;case"Edit":n.allday()||o.Ha(this);break;case"Select":n.allday()||o.Ia(this,n,t.ctrlKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(n)}"function"==typeof o.onEventDoubleClicked&&o.onEventDoubleClicked(i)}else switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(n);break;case"CallBack":o.eventDoubleClickCallBack(n);break;case"JavaScript":o.onEventDoubleClick(n);break;case"Edit":n.allday()||o.Ha(this);break;case"Select":n.allday()||o.Ia(this,n,t.ctrlKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(n)}},this.eventRightClickPostBack=function(t,e){this.D("EventRightClick",e,t)},this.eventRightClickCallBack=function(t,e){this.F("EventRightClick",t,e)},this.Ka=function(t){var e=this.event;if(!e.client.rightClickEnabled())return!1;if(o.ra()){var n={};if(n.e=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventRightClick&&(o.onEventRightClick(n),n.preventDefault.value))return;switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(e);break;case"CallBack":o.eventRightClickCallBack(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(e)}"function"==typeof o.onEventRightClicked&&o.onEventRightClicked(n)}else switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(e);break;case"CallBack":o.eventRightClickCallBack(e);break;case"JavaScript":o.onEventRightClick(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(e)}return t.preventDefault&&t.preventDefault(),!1},this.headerClickPostBack=function(t,e){this.D("HeaderClick",e,t)},this.headerClickCallBack=function(t,e){this.F("HeaderClick",t,e)},this.La=function(e){var n=this.data,i=new t.Column(n.id,n.name,n.start);if(o.ra()){var a={};if(a.header={},a.header.id=n.id,a.header.name=n.name,a.header.start=n.start,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onHeaderClick&&(o.onHeaderClick(a),a.preventDefault.value))return;switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(i);break;case"CallBack":o.headerClickCallBack(i)}"function"==typeof o.onHeaderClicked&&o.onHeaderClicked(a)}else switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(i);break;case"CallBack":o.headerClickCallBack(i);break;case"JavaScript":o.onHeaderClick(i)}},this.Ma=function(){if(void 0!==DayPilot.Bubble&&o.columnBubble)if("Resources"===o.viewType){var e={};e.calendar=o,e.id=this.data.id,e.toJSON=function(){var t={};return t.id=this.id,t},o.columnBubble.showResource(e)}else{var n=new DayPilot.Date(this.data.start),i=n.addDays(1),a={};a.calendar=o,a.start=n,a.end=i,a.toJSON=function(){var t={};return t.start=this.start,t.end=this.end,t},o.columnBubble.showTime(a)}var r=this,l=r.firstChild;if(!l.active){var s=r.data,c=new t.Column(s.id,s.name,s.start);c.areas=r.data.areas,DayPilot.Areas.showAreas(l,c)}},this.Na=function(t){void 0!==DayPilot.Bubble&&o.columnBubble&&o.columnBubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this.firstChild,t)},this.eventDeletePostBack=function(t,e){this.D("EventDelete",e,t)},this.eventDeleteCallBack=function(t,e){this.F("EventDelete",t,e)},this.Oa=function(t){var e;if(e=t&&t.isEvent?t:t.parentNode.parentNode.event,o.ra()){var n={};if(n.e=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDelete&&(o.onEventDelete(n),n.preventDefault.value))return;switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(e);break;case"CallBack":o.eventDeleteCallBack(e);break;case"Update":o.events.remove(e)}"function"==typeof o.onEventDeleted&&o.onEventDeleted(n)}else switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(e);break;case"CallBack":o.eventDeleteCallBack(e);break;case"JavaScript":o.onEventDelete(e)}},this.eventResizePostBack=function(t,e,n,i){if(!e)throw"newStart is null";if(!n)throw"newEnd is null";var o={};o.e=t,o.newStart=e,o.newEnd=n,this.D("EventResize",i,o)},this.eventResizeCallBack=function(t,e,n,i){if(!e)throw"newStart is null";if(!n)throw"newEnd is null";var o={};o.e=t,o.newStart=e,o.newEnd=n,this.F("EventResize",o,i)},this.Pa=function(t,e,n,i){if("PostBack"===t)o.postBack2(e,n,i);else if("CallBack"===t)o.F(e,n,i,"CallBack");else if("Immediate"===t)o.F(e,n,i,"Notify");else if("Queue"===t)o.queue.add(new DayPilot.Action(this,e,n,i));else{if("Notify"!==t)throw"Invalid event invocation type";"Notify"===r.notifyType()?o.F(e,n,i,"Notify"):o.queue.add(new DayPilot.Action(o,e,n,i))}},this.Aa=function(t){if("BusinessHoursNoScroll"===this.heightSpec)return this.businessBeginsHour;if(this.hideFreeCells&&!t){var e=this.Qa*this.cellDuration/this.cellHeight,n=Math.floor(e/60);return n=Math.max(0,n),Math.min(this.dayBeginsHour+n,this.businessBeginsHour)}return this.dayBeginsHour},this.visibleStart=function(){if("Resources"===o.viewType){var t=DayPilot.list(o.ta).map(function(t){return t.start.getTime()}),e=Math.min.apply(null,t);return new DayPilot.Date(e)}return this.ta[0].start},this.visibleEnd=function(){if("Resources"===o.viewType){var t=DayPilot.list(o.ta).map(function(t){return t.start.getTime()}),e=Math.max.apply(null,t);return new DayPilot.Date(e).addDays(1)}var n=this.ta,e=n.length-1;return n[e].start.addDays(1)};this.ra=function(){return 2===o.api},this.Ra=function(t,e,n,i){if("Disabled"!==this.eventResizeHandling){var a=0,r=new Date,l=new Date,s=t.start(),c=(t.end(),o.cellDuration),u=o.ta[t.part.dayIndex].start;if("top"===i){var u=s.getDatePart(),d=Math.floor((n-a)/o.cellHeight),h=d*c,f=60*h*1e3,p=60*o.Aa()*60*1e3;r=u.addTime(f+p),l=t.end()}else if("bottom"===i){var d=Math.floor((n+e-a)/o.cellHeight),h=d*c,f=60*h*1e3,p=60*o.Aa()*60*1e3;r=s,l=u.addTime(f+p)}if(o.ra()){var v={};if(v.e=t,v.newStart=r,v.newEnd=l,v.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventResize&&(o.onEventResize(v),v.preventDefault.value))return;switch(o.eventResizeHandling){case"PostBack":o.eventResizePostBack(t,r,l);break;case"CallBack":o.eventResizeCallBack(t,r,l);break;case"Notify":o.eventResizeNotify(t,r,l);break;case"Update":t.start(r),t.end(l),o.events.update(t)}"function"==typeof o.onEventResized&&o.onEventResized(v)}else switch(o.eventResizeHandling){case"PostBack":o.eventResizePostBack(t,r,l);break;case"CallBack":o.eventResizeCallBack(t,r,l);break;case"JavaScript":o.onEventResize(t,r,l);break;case"Notify":o.eventResizeNotify(t,r,l)}}},this.eventResizeNotify=function(t,e,n,i){var a=new DayPilot.Event(t.copy(),this);t.start(e),t.end(n),t.commit(),o.update(),this.Sa("Notify",a,e,n,i)},this.Sa=function(t,e,n,i,o){var a={};a.e=e,a.newStart=n,a.newEnd=i,this.Pa(t,"EventResize",a,o)},this.eventMovePostBack=function(t,e,n,i,o){if(!e)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=t,a.newStart=e,a.newEnd=n,a.newResource=i,this.D("EventMove",o,a)},this.eventMoveCallBack=function(t,e,n,i,o){if(!e)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=t,a.newStart=e,a.newEnd=n,a.newResource=i,this.F("EventMove",a,o)},this.Ta=function(t,e,n,i,a){if("Disabled"!==o.eventMoveHandling){var r=0,l=Math.floor((n-r)/o.cellHeight),s=o.cellDuration,c=l*s*60*1e3,u=t.start(),d=t.end(),h=new Date;u instanceof DayPilot.Date&&(u=u.toDate()),h.setTime(Date.UTC(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()));var f="Never"!==o.useEventBoxes?u.getTime()-(h.getTime()+3600*u.getUTCHours()*1e3+Math.floor(u.getUTCMinutes()/s)*s*60*1e3):0,p=d.getTime()-u.getTime(),v=3600*o.Aa()*1e3;void 0===e&&(e=t.part.dayIndex);var g=this.ta[e],m=g.start.getTime(),y=new Date;y.setTime(m+c+f+v);var b=new DayPilot.Date(y),w=b.addTime(p),D=!!a,C=g.id;if(o.ra()){var k={};if(k.e=t,k.newStart=b,k.newEnd=w,k.newResource=C,k.external=D,k.ctrl=!1,i&&(k.ctrl=i.ctrlKey),k.shift=!1,i&&(k.shift=i.shiftKey),k.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventMove&&(o.onEventMove(k),k.preventDefault.value))return;switch(o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,b,w,C);break;case"CallBack":o.eventMoveCallBack(t,b,w,C);break;case"Notify":o.eventMoveNotify(t,b,w,C);break;case"Update":t.start(b),t.end(w),t.resource(C),D?(t.commit(),o.events.add(t)):o.events.update(t),o.Ua()}"function"==typeof o.onEventMoved&&o.onEventMoved(k)}else switch(o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,b,w,C);break;case"CallBack":o.eventMoveCallBack(t,b,w,C);break;case"JavaScript":o.onEventMove(t,b,w,C,D,!!i&&i.ctrlKey,!!i&&i.shiftKey);break;case"Notify":o.eventMoveNotify(t,b,w,C,null)}}},this.eventMoveNotify=function(t,e,n,i,a){var r=new DayPilot.Event(t.copy(),this);t.start(e),t.end(n),t.resource(i),t.commit(),o.update(),this.Va("Notify",r,e,n,i,a)},this.Va=function(t,e,n,i,o,a){var r={};r.e=e,r.newStart=n,r.newEnd=i,r.newResource=o,this.Pa(t,"EventMove",r,a)},this.Ua=function(){if(o.todo&&o.todo.del){var t=o.todo.del;t.parentNode.removeChild(t),o.todo.del=null}},this.Wa=function(t,e){var n=o.Xa(e),i={};i.args=t,i.guid=n,o.F("Bubble",i)},this.Xa=function(t){var e=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[e]=t,e},this.eventMenuClickPostBack=function(t,e,n){var i={};i.e=t,i.command=e,this.D("EventMenuClick",n,i)},this.eventMenuClickCallBack=function(t,e,n){var i={};i.e=t,i.command=e,this.F("EventMenuClick",i,n)},this.Ya=function(t,e,n){switch(n){case"PostBack":o.eventMenuClickPostBack(e,t);break;case"CallBack":o.eventMenuClickCallBack(e,t)}},this.timeRangeMenuClickPostBack=function(t,e,n){var i={};i.selection=t,i.command=e,this.D("TimeRangeMenuClick",n,i)},this.timeRangeMenuClickCallBack=function(t,e,n){var i={};i.selection=t,i.command=e,this.F("TimeRangeMenuClick",i,n)},this.Za=function(t,e,n){switch(n){case"PostBack":o.timeRangeMenuClickPostBack(e,t);break;case"CallBack":o.timeRangeMenuClickCallBack(e,t)}},this.timeRangeSelectedPostBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.D("TimeRangeSelected",i,o)},this.timeRangeSelectedCallBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.F("TimeRangeSelected",o,i)},this.$a=function(t,e,n){t=new DayPilot.Date(t),e=new DayPilot.Date(e);var i=n;if(o.ra()){var a={};if(a.start=t,a.end=e,a.resource=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeSelect&&(o.onTimeRangeSelect(a),a.preventDefault.value))return;switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,e,i);break;case"CallBack":o.timeRangeSelectedCallBack(t,e,i)}"function"==typeof o.onTimeRangeSelected&&o.onTimeRangeSelected(a)}else switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,e,n);break;case"CallBack":o.timeRangeSelectedCallBack(t,e,n);break;case"JavaScript":o.onTimeRangeSelected(t,e,n)}},this.timeRangeDoubleClickPostBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.D("TimeRangeDoubleClick",i,o)},this.timeRangeDoubleClickCallBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.F("TimeRangeDoubleClick",o,i)},this._a=function(t,e,n){if(o.ra()){var i=n,a={};if(a.start=t,a.end=e,a.resource=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeDoubleClick&&(o.onTimeRangeDoubleClick(a),a.preventDefault.value))return;switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(t,e,i);break;case"CallBack":o.timeRangeDoubleClickCallBack(t,e,i)}"function"==typeof o.onTimeRangeDoubleClicked&&o.onTimeRangeDoubleClicked(a)}else switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(t,e,n);break;case"CallBack":o.timeRangeDoubleClickCallBack(t,e,n);break;case"JavaScript":o.onTimeRangeDoubleClick(t,e,n)}},this.eventEditPostBack=function(t,e,n){var i={};i.e=t,i.newText=e,this.D("EventEdit",n,i)},this.eventEditCallBack=function(t,e,n){var i={};i.e=t,i.newText=e,this.F("EventEdit",i,n)},this.ab=function(t,e){if(o.ra()){var n={};if(n.e=t,n.newText=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventEdit&&(o.onEventEdit(n),n.preventDefault.value))return;switch(o.eventEditHandling){case"PostBack":o.eventEditPostBack(t,e);break;case"CallBack":o.eventEditCallBack(t,e);break;case"Update":t.text(e),o.events.update(t)}if("function"==typeof o.onEventEdited&&(o.onEventEdited(n),n.preventDefault.value))return}else switch(o.eventEditHandling){case"PostBack":o.eventEditPostBack(t,e);break;case"CallBack":o.eventEditCallBack(t,e);break;case"JavaScript":o.onEventEdit(t,e)}},this.eventSelectPostBack=function(t,e,n){var i={};i.e=t,i.change=e,this.D("EventSelect",n,i)},this.eventSelectCallBack=function(t,e,n){var i={};i.e=t,i.change=e,this.F("EventSelect",i,n)},this.bb=function(t,e,n,i){var a=o.multiselect,r=a.isSelected(e);if(n||i||!r||1!==a.cb.length)if(o.ra()){a.previous=a.events();var l={};if(l.e=e,l.selected=a.isSelected(e),l.ctrl=n,l.meta=i,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventSelect&&(o.onEventSelect(l),l.preventDefault.value))return;switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(e,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),o.eventSelectCallBack(e,s);break;case"Update":a.fb(t,n)}"function"==typeof o.onEventSelected&&(l.change=a.isSelected(e)?"selected":"deselected",l.selected=a.isSelected(e),o.onEventSelected(l))}else{a.previous=a.events(),a.fb(t,n);var s=a.isSelected(e)?"selected":"deselected";switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(e,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),o.eventSelectCallBack(e,s);break;case"JavaScript":o.onEventSelect(e,s)}}},this.commandCallBack=function(t,e){this.K();var n={};n.command=t,this.F("Command",n,e)},this.gb=function(e){if(!a.active&&!a.using&&(clearTimeout(t.selectedTimeout),!t.selecting)){if(t.editing)return void t.editing.blur();if(o.selectedCells&&"Disabled"!==o.timeRangeDoubleClickHandling)for(var n=0;n<o.selectedCells.length;n++)if(this===o.selectedCells[n])return;"Disabled"!==o.timeRangeSelectedHandling&&DayPilot.Util.mouseButton(e).left&&(t.firstMousePos=DayPilot.mc(e||window.event),o.clearSelection(),t.topSelectedCell=this,t.bottomSelectedCell=this,t.column=t.getColumn(this),o.selectedCells.push(this),t.firstSelected=this)}},this.hb=function(){if(this.getSelection()&&o.selectedCells)for(var t=0;t<o.selectedCells.length;t++){var e=o.selectedCells[t];if(e&&!e.selected){var n=document.createElement("div");n.style.height=o.cellHeight-1+"px",n.style.backgroundColor=o.selectedColor,e.firstChild.style.display="none",e.insertBefore(n,e.firstChild),e.selected=n}}},this.ib=function(t){void 0!==DayPilot.Bubble&&o.cellBubble&&o.cellBubble.hideOnMouseOut()},this.jb=function(e){if(void 0!==t&&!a.active&&!a.using){if(void 0!==DayPilot.Bubble&&o.cellBubble){var n=t.getColumn(this),i=o.ta[n].id,r={};r.calendar=o,r.start=this.start,r.end=this.end,r.resource=i,r.toJSON=function(){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t},o.cellBubble.showCell(r)}if(t.firstMousePos){var l=t.firstMousePos,s=DayPilot.mc(e||window.event);l.x===s.x&&l.y===s.y||(t.selecting=!0,o.clearSelection(),o.hb())}if(t.selecting){var c=DayPilot.mc(e||window.event);t.getColumn(this)===t.column&&(o.clearSelection(),c.y<t.firstMousePos.y?(o.selectedCells=t.getCellsBelow(this),t.topSelectedCell=o.selectedCells[0],t.bottomSelectedCell=t.firstSelected):(o.selectedCells=t.getCellsAbove(this),t.topSelectedCell=t.firstSelected,t.bottomSelectedCell=o.selectedCells[0]),o.hb())}}},this.getSelection=function(){if(!t.topSelectedCell)return null;if(!t.bottomSelectedCell)return null;var e=t.topSelectedCell.start,n=t.bottomSelectedCell.end,i=t.topSelectedCell.resource;return new DayPilot.Selection(e,n,i,o)},this.kb=function(e){if(t.firstMousePos){var n=function(){t.selecting=!0,o.hb(),t.firstMousePos=null,t.selecting=!1;var e=o.getSelection();o.$a(e.start,e.end,e.resource)};t.selecting&&null!==t.topSelectedCell?n():t.selectedTimeout=setTimeout(n,100)}else t.selecting=!1},this.lb=function(t){if("Fixed"===o.columnWidthSpec||o.mb){if(!o.nav.bottomLeft)return;o.nav.bottomLeft.scrollTop=o.nav.bottomRight.scrollTop,o.nav.upperRight&&(o.nav.upperRight.scrollLeft=o.nav.bottomRight.scrollLeft),o.nav.scrollLayer.scrollLeft=o.nav.bottomRight.scrollLeft}var e=o.nb();o.scrollPos=e.scrollTop,o.ob=e.clientHeight,o.nav.scrollpos.value=o.scrollPos,o.pa()},this.pa=function(){if(this.scrollLabelsVisible&&this.pb&&this.nav&&this.nav.main&&this.nav.main.rows&&this.nav.main.rows.length>0&&this.nav.main.rows[0].cells.length>0){for(var t=(this.ta,this.showHours?this.hourWidth:0),e=this.nav.main.rows[0].cells[0].clientWidth,n=1,i=0;i<this.nav.scrollUp.length;i++){var a=this.nav.scrollUp[i],r=this.nav.scrollDown[i],l=Math.floor(t+i*e+e/2-5+n);l<0&&(l=0),l-=o.nav.bottomRight.scrollLeft,a&&a.style&&(a.style.left=l+"px"),r&&r.style&&(r.style.left=l+"px")}for(var s=this.qb(),i=0;i<this.nav.scrollUp.length;i++){var c=this.nav.scrollUp[i],u=this.nav.scrollDown[i],d=this.pb[i].minEnd-s,h=this.pb[i].maxStart-s;c&&u&&(d<=o.scrollPos&&parseInt(c.style.left)>=o.hourWidth?(c.style.top=this.Ba()+"px",c.style.display=""):c.style.display="none",h>=o.scrollPos+o.ob&&parseInt(u.style.left)>=o.hourWidth?(u.style.top=this.Ba()+this.ob-10+"px",u.style.display=""):u.style.display="none")}}},this.rb=function(t){var e=t.parentNode,n=0,i=t.offsetTop,o=t.parentNode.offsetWidth,a=t.offsetHeight;t.event.allday()&&(n=t.offsetLeft,o=t.offsetWidth);var r=document.createElement("textarea");r.style.boxSizing="border-box",r.style.position="absolute",r.style.width=o+"px",r.style.height=a+"px";var l=DayPilot.gs(t,"fontFamily");l||(l=DayPilot.gs(t,"font-family")),r.style.fontFamily=l;var s=DayPilot.gs(t,"fontSize");return s||(s=DayPilot.gs(t,"font-size")),r.style.fontSize=s,r.style.left=n+"px",r.style.top=i+"px",r.style.border="1px solid black",r.style.padding="0px",r.style.marginTop="0px",r.style.backgroundColor="white",r.value=DayPilot.tr(t.event.text()),r.event=t.event,e.appendChild(r),r},this.Ia=function(t,e,n,i){o.bb(t,e,n,i)},this.multiselect={},this.multiselect.Y=[],this.multiselect.cb=[],this.multiselect.sb=[],this.multiselect.tb=[],this.multiselect.ub=function(){var t=o.multiselect;return DayPilot.JSON.stringify(t.events())},this.multiselect.events=function(){var t=o.multiselect,e=[];e.ignoreToJSON=!0;for(var n=0;n<t.cb.length;n++)e.push(t.cb[n]);return e},this.multiselect.vb=function(){o.nav.select.value=o.multiselect.ub()},this.multiselect.fb=function(t,e){var n=o.multiselect;if(n.isSelected(t.event))if(o.allowMultiSelect)if(e)n.remove(t.event,!0);else{var i=n.cb.length;n.clear(!0),i>1&&n.add(t.event,!0)}else n.clear(!0);else o.allowMultiSelect&&e?n.add(t.event,!0):(n.clear(!0),n.add(t.event,!0));n.redraw(),n.vb()},this.multiselect.wb=function(t){var e=o.multiselect;return e.xb(t,e.Y)},this.multiselect.yb=function(){for(var t=o.multiselect,e=[],n=0;n<t.cb.length;n++){var i=t.cb[n];e.push(i.value())}alert(e.join("\n"))},this.multiselect.add=function(t,e){var n=o.multiselect;-1===n.zb(t)&&n.cb.push(t),n.vb(),e||n.redraw()},this.multiselect.remove=function(t,e){var n=o.multiselect,i=n.zb(t);-1!==i&&n.cb.splice(i,1),n.vb(),e||n.redraw()},this.multiselect.clear=function(t){var e=o.multiselect;e.cb=[],e.vb(),t||e.redraw()},this.multiselect.redraw=function(){for(var t=o.multiselect,e=0;e<o.elements.events.length;e++){var n=o.elements.events[e];t.isSelected(n.event)?t.Ab(n):t.Bb(n)}},this.multiselect.Ab=function(t){var e=o.multiselect,n=o.p("_selected"),i=e.Cb(t);DayPilot.Util.addClass(i,n),o.useEventSelectionBars&&e.Db(t),e.sb.push(t)},this.multiselect.Cb=function(t){return t},this.multiselect.Eb=function(){for(var t=o.multiselect,e=0;e<t.sb.length;e++){var n=t.sb[e];t.Bb(n,!0)}t.sb=[]},this.multiselect.Bb=function(t,e){var n=o.multiselect,i=o.p("_selected"),a=n.Cb(t);if(DayPilot.Util.removeClass(a,i),o.useEventSelectionBars&&n.Fb(t),!e){var r=DayPilot.indexOf(n.sb,t);-1!==r&&n.sb.splice(r,1)}},this.multiselect.isSelected=function(t){return o.multiselect.xb(t,o.multiselect.cb)},this.multiselect.zb=function(t){return DayPilot.indexOf(o.multiselect.cb,t)},this.multiselect.xb=function(t,e){if(!e)return!1;for(var n=0;n<e.length;n++){var i=e[n];if(t===i)return!0;if("function"==typeof i.value){if(null!==i.value()&&null!==t.value()&&i.value()===t.value())return!0;if(null===i.value()&&null===t.value()&&i.recurrentMasterId()===t.recurrentMasterId()&&t.start().toStringSortable()===i.start())return!0}else{if(null!==i.value&&null!==t.value()&&i.value===t.value())return!0;if(null===i.value&&null===t.value()&&i.recurrentMasterId===t.recurrentMasterId()&&t.start().toStringSortable()===i.start)return!0}}return!1},this.multiselect.Db=function(t){if(!t.top){var e=document.createElement("div");e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.left=t.offsetLeft+"px",e.style.width=t.offsetWidth+"px",e.style.top=t.offsetTop-5+"px",e.style.height="5px",e.style.backgroundColor=o.eventSelectColor,e.style.zIndex=100,t.parentNode.appendChild(e),t.top=e}if(!t.bottom){var n=document.createElement("div");n.setAttribute("unselectable","on"),n.style.position="absolute",n.style.left=t.offsetLeft+"px",n.style.width=t.offsetWidth+"px",n.style.top=t.offsetTop+t.offsetHeight+"px",n.style.height="5px",n.style.backgroundColor=o.eventSelectColor,n.style.zIndex=100,t.parentNode.appendChild(n),t.bottom=n}},this.multiselect.Fb=function(t){t.top&&(t.parentNode.removeChild(t.top),t.top=null),t.bottom&&(t.parentNode.removeChild(t.bottom),t.bottom=null)},this.Ha=function(e){if(t.editing)return void t.editing.blur();var n=this.rb(e);t.editing=n,DayPilot.re(n,DayPilot.touch.start,function(t){t.stopPropagation()}),n.onblur=function(){var i=(e.event.value(),e.event.tag(),e.event.text()),a=n.value;t.editing=null,n.onblur=null,DayPilot.de(n),i!==a&&(e.style.display="none",o.ab(e.event,a))},n.onkeypress=function(e){var i=window.event?event.keyCode:e.keyCode;return 13===i?(this.onblur(),!1):(27===i&&(n.parentNode.removeChild(n),t.editing=!1),!0)},n.select(),n.focus()},this.Gb=function(){return!("Resources"===o.viewType||o.columns&&o.q())},this.Z=function(){if(o.Gb()){var t=this.Hb();this.ta=this.Ib(t)}else this.T=this.Ib(this.columns||[]),this.ta=this.Jb(this.headerLevels,!0)},this.Kb=function(){var t=this.startDate.getDatePart(),e=this.days;switch(this.viewType){case"Day":e=1;break;case"Week":e=7,t=t.firstDayOfWeek(r.weekStarts());break;case"WorkWeek":e=5,t=t.firstDayOfWeek(1)}var n=t.addDays(e),i={};return i.start=t,i.end=n,i.days=e,i},this.Hb=function(){for(var t=[],e=this.Kb(),n=e.start,i=e.days,a=0;a<i;a++){var l={};l.start=n.addDays(a);var s=r.locale().datePattern;o.headerDateFormat&&(s=o.headerDateFormat),l.name=l.start.toString(s,r.locale()),l.html=l.name,t.push(l)}return t},this.Lb=function(t){var e={};return t.Start&&(t.id=t.Value,t.start=t.Start,t.name=t.Name,t.html=t.InnerHTML,t.toolTip=t.ToolTip,t.backColor=t.BackColor,t.areas=t.Areas,t.children=t.Children,delete t.Value,delete t.Start,delete t.Name,delete t.InnerHTML,delete t.ToolTip,delete t.BackColor,delete t.Areas,delete t.Children),e.id=t.id,e.start=new DayPilot.Date(t.start||o.startDate).getDatePart(),e.name=t.name,e.html=t.html||t.name,e.toolTip=t.toolTip,e.backColor=t.backColor,e.areas=t.areas,e.getChildren=function(t,e){var n=[];if(t<=1)return n.push(this),n;if(!this.children||0===this.children.length)return e?n.push(this):n.push("empty"),n;for(var i=0;i<this.children.length;i++)for(var o=this.children[i],a=o.getChildren(t-1,e),r=0;r<a.length;r++)n.push(a[r]);return n},e.getChildrenCount=function(t){var e=0;if(!this.children||this.children.length<=0||t<=1)return 1;for(var n=0;n<this.children.length;n++)e+=this.children[n].getChildrenCount(t-1);return e},e.putIntoBlock=function(t){for(var e=0;e<this.blocks.length;e++){var n=this.blocks[e];if(n.overlapsWith(t.part.top,t.part.height))return n.events.push(t),n.min=Math.min(n.min,t.part.top),n.max=Math.max(n.max,t.part.top+t.part.height),e}var n=[];return n.lines=[],n.events=[],n.overlapsWith=function(t,e){return!(t+e-1<this.min||t>this.max-1)},n.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var n=this.lines[e];if(n.isFree(t.part.top,t.part.height))return n.push(t),e}var n=[];return n.isFree=function(t,e){for(var n=t+e-1,i=this.length,o=0;o<i;o++){var a=this[o];if(!(n<a.part.top||t>a.part.top+a.part.height-1))return!1}return!0},n.push(t),this.lines.push(n),this.lines.length-1},n.events.push(t),n.min=t.part.top,n.max=t.part.top+t.part.height,this.blocks.push(n),this.blocks.length-1},e.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var n=this.lines[e];if(n.isFree(t.part.top,t.part.height))return n.push(t),e}var n=[];return n.isFree=function(t,e){for(var n=t+e-1,i=this.length,o=0;o<i;o++){var a=this[o];if(!(n<a.part.top||t>a.part.top+a.part.height-1))return!1}return!0},n.push(t),this.lines.push(n),this.lines.length-1},t.children&&(e.children=this.Ib(t.children)),e},this.Ib=function(t){var e=DayPilot.list();return DayPilot.list(t).each(function(t){var n=o.Lb(t);e.push(n)}),e},this.Jb=function(t,e){for(var n=this.Gb()?this.ta:this.T,i=[],o=0;o<n.length;o++)for(var a=n[o].getChildren(t,e),r=0;r<a.length;r++)i.push(a[r]);return i},this.oa=function(){if(this.showAllDayEvents){var t=this.nav.header;if(t){t.style.display="none";for(var e=this.ta.length,n=0;n<this.Mb.lines.length;n++)for(var i=this.Mb.lines[n],a=0;a<i.length;a++){var l=i[a],s=l.cache||l.data,c=document.createElement("div");c.event=l,c.setAttribute("unselectable","on"),c.style.position="absolute",o.rtl?c.style.right=100*l.part.colStart/e+"%":c.style.left=100*l.part.colStart/e+"%",c.style.width=100*l.part.colWidth/e+"%",c.style.height=r.allDayEventHeight()+"px",c.className=this.p("_alldayevent"),c.style.top=this.headerLevels*r.headerHeight()+n*r.allDayEventHeight()+"px",s.cssClass&&DayPilot.Util.addClass(c,s.cssClass),c.style.textAlign="left",c.style.lineHeight="1.2",l.client.clickEnabled()&&(c.onclick=this.Fa),l.client.doubleClickEnabled()&&(c.ondblclick=this.Ja),l.client.clickEnabled()||l.client.doubleClickEnabled()?c.style.cursor="pointer":c.style.cursor="default",DayPilot.re(c,"contextmenu",this.Ka),c.onmousemove=function(t){var e=this;if(!e.active){var n=[];l.client.deleteEnabled()&&n.push({action:"JavaScript",v:"Hover",w:17,h:17,top:3,right:3,css:o.p("_event_delete"),js:function(t){o.Oa(t)}});var i=s.areas;i&&i.length>0&&(n=n.concat(i)),DayPilot.Areas.showAreas(e,e.event,null,n),DayPilot.Util.addClass(e,o.p("_alldayevent_hover"))}void 0!==DayPilot.Bubble&&o.bubble&&"Disabled"!==o.eventHoverHandling&&o.bubble.showEvent(this.event)},c.onmouseout=function(t){var e=this;DayPilot.Util.removeClass(e,o.p("_alldayevent_hover")),DayPilot.Areas.hideAreas(this,t),o.bubble&&o.bubble.hideOnMouseOut()},this.showToolTip&&!this.bubble&&c.setAttribute("title",l.client.toolTip());var u=l.start().getTime()===l.part.start.getTime(),d=l.end().getTime()===l.part.end.getTime(),h=s.backColor,f=document.createElement("div");if(f.setAttribute("unselectable","on"),f.className=this.p("_alldayevent_inner"),h&&(f.style.background=h),s.fontColor&&(f.style.color=s.fontColor),s.borderColor&&(f.style.borderColor=s.borderColor),o.rtl?(u||DayPilot.Util.addClass(c,this.p("_alldayevent_continueright")),d||DayPilot.Util.addClass(c,this.p("_alldayevent_continueleft"))):(u||DayPilot.Util.addClass(c,this.p("_alldayevent_continueleft")),d||DayPilot.Util.addClass(c,this.p("_alldayevent_continueright"))),l.client.innerHTML()?f.innerHTML=l.client.innerHTML():f.innerHTML=l.text(),c.appendChild(f),o.ra()){if("function"==typeof o.onAfterEventRender){var p={};p.e=c.event,p.div=c,o.onAfterEventRender(p)}}else o.afterEventRender&&o.afterEventRender(c.event,c);this.nav.allday.appendChild(c),this.elements.events.push(c)}t.style.display=""}}},this.L=function(t){if(o.multiselect.Eb(),this.elements.events)for(var e=0;e<this.elements.events.length;e++){var n=this.elements.events[e],i=n.event;if(!i||!t||i.allday()){if(i&&(i.div=null,i.root=null),n.onclick=null,n.onclickSave=null,n.ondblclick=null,n.oncontextmenu=null,n.onmouseover=null,n.onmouseout=null,n.onmousemove=null,n.onmousedown=null,n.firstChild&&n.firstChild.firstChild&&n.firstChild.firstChild.tagName&&"IMG"===n.firstChild.firstChild.tagName.toUpperCase()){var a=n.firstChild.firstChild;a.onmousedown=null,a.onmousemove=null,a.onclick=null}n.helper=null,n.event=null,DayPilot.de(n)}}this.elements.events=[]},this.Nb=function(t){var e=this.nav.events,n=(this.roundedCorners,this.roundedCorners&&(this.B.ff||this.B.opera105||this.B.webkit522||this.B.ielt9),this.roundedCorners,t.cache||t.data),i=(n.borderColor||this.eventBorderColor,document.createElement("div"));i.setAttribute("unselectable","on"),i.style.MozUserSelect="none",i.style.KhtmlUserSelect="none",i.style.WebkitUserSelect="none",i.style.position="absolute",i.className=this.p("_event"),i.style.left=t.part.left+"%",i.style.top=t.part.top-this.qb()+"px",i.style.width=t.part.width+"%",i.style.height=Math.max(t.part.height,2)+"px",i.style.overflow="hidden",i.isFirst=t.part.start.getTime()===t.start().getTime(),i.isLast=t.part.end.getTime()===t.end().getTime(),t.client.clickEnabled()&&(i.onclick=this.Fa),t.client.doubleClickEnabled()&&(i.ondblclick=this.Ja),DayPilot.re(i,"contextmenu",this.Ka),i.onmousemove=this.Ob,i.onmouseout=this.Pb,i.onmousedown=this.Qb,DayPilot.re(i,DayPilot.touch.start,this.Rb.onEventTouchStart),DayPilot.re(i,DayPilot.touch.move,this.Rb.onEventTouchMove),DayPilot.re(i,DayPilot.touch.end,this.Rb.onEventTouchEnd),n.cssClass&&DayPilot.Util.addClass(i,n.cssClass),this.showToolTip&&!this.bubble&&i.setAttribute("title",t.client.toolTip());var a=document.createElement("div");if(a.setAttribute("unselectable","on"),a.className=o.p("_event_inner"),a.innerHTML=t.client.innerHTML(),n.fontColor&&(a.style.color=n.fontColor),n.backColor&&(a.style.background=n.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(a.style.filter="")),n.borderColor&&(a.style.borderColor=n.borderColor),n.backgroundImage&&(a.style.backgroundImage="url("+n.backgroundImage+")",n.backgroundRepeat&&(a.style.backgroundRepeat=n.backgroundRepeat)),i.appendChild(a),t.client.barVisible()){var r=t.part.height-2,l=100*t.part.barTop/r,s=Math.ceil(100*t.part.barHeight/r);"PercentComplete"===this.durationBarMode&&(l=0,s=n.complete);var c=document.createElement("div");c.setAttribute("unselectable","on"),c.className=this.p("_event_bar"),c.style.position="absolute",n.barBackColor&&(c.style.backgroundColor=n.barBackColor);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.className=this.p("_event_bar_inner"),u.style.top=l+"%",u.style.height=0<s&&s<=1?"1px":s+"%",n.barColor&&(u.style.backgroundColor=n.barColor),c.appendChild(u),i.appendChild(c)}if(n.areas)for(var d=0;d<n.areas.length;d++){var h=n.areas[d],f=h.v||"Visible";if("Visible"===f){var p=DayPilot.Areas.createArea(i,t,h);i.appendChild(p)}}if(e.rows[0].cells[t.part.dayIndex])if(e.rows[0].cells[t.part.dayIndex].events.appendChild(i),o.Sb(i),i.event=t,o.multiselect.wb(t)&&o.multiselect.add(i.event,!0),o.ra()){if("function"==typeof o.onAfterEventRender){var v={};v.e=i.event,v.div=i,o.onAfterEventRender(v)}}else o.afterEventRender&&o.afterEventRender(i.event,i);o.elements.events.push(i)},this.Sb=function(t){for(var e=t&&t.childNodes?t.childNodes.length:0,n=0;n<e;n++)try{var i=t.childNodes[n];1===i.nodeType&&(i.setAttribute("unselectable","on"),this.Sb(i))}catch(t){}},this.na=function(){for(var t=new Date,e=0;e<this.ta.length;e++){var n=this.ta[e];if(n.blocks)for(var i=0;i<n.blocks.length;i++)for(var o=n.blocks[i],a=0;a<o.lines.length;a++)for(var r=o.lines[a],l=0;l<r.length;l++){var s=r[l];if(s.part.width=100/o.lines.length,s.part.left=s.part.width*a,"Cascade"===this.eventArrangement){var c=a===o.lines.length-1;c||(s.part.width=1.5*s.part.width)}"Full"===this.eventArrangement&&(s.part.left=s.part.left/2,s.part.width=100-s.part.left),s.allday()||this.Nb(s)}}this.multiselect.redraw(),(new Date).getTime(),t.getTime()},this.Tb=function(){this.multiselect.cb=[];for(var t=0;t<this.ta.length;t++)for(var e=this.ta[t],n=0;n<e.lines.length;n++)for(var i=e.lines[n],o=0;o<i.length;o++){var a=i[o];a.part.width=100/e.lines.length,a.part.left=a.Width*n,a.allday()||this.Nb(a)}},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.ma=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.Ub=function(){var t=this.Ba()+this.Vb();return o.debug.message("Getting totalHeight, headerHeight: "+this.Ba()+" scrollable: "+this.Vb()),t<0?0:t},this.Wb=function(){if(this.nav.top.dp=this,this.nav.top.innerHTML="",this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.WebkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.nav.top.style.position="relative",this.width&&(this.nav.top.style.width=this.width),this.rtl&&(this.nav.top.style.direction="rtl"),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.Ub()+"px",this.hideUntilInit&&(this.nav.top.style.visibility="hidden"),this.visible||(this.nav.top.style.display="none"),this.nav.scroll=document.createElement("div"),this.nav.scroll.style.height=this.Vb()+"px",DayPilot.Util.addClass(this.nav.top,this.p("_main")),this.nav.scroll.style.position="relative",this.showHeader){var t=this.Xb();this.nav.top.appendChild(t)}this.nav.scroll.style.zoom=1,this.nav.scroll.setAttribute("data-id","nav.scroll"),this.nav.scroll.style.position="absolute",this.nav.scroll.style.left="0px",this.nav.scroll.style.right="0px",this.nav.scroll.style.top=this.Ba()+"px";var e=this.Yb();this.nav.scrollable=e.firstChild,this.nav.scroll.appendChild(e),this.nav.top.appendChild(this.nav.scroll),this.nav.vsph=document.createElement("div"),this.nav.vsph.style.display="none",this.nav.top.appendChild(this.nav.vsph),this.nav.scrollpos=document.createElement("input"),this.nav.scrollpos.type="hidden",this.nav.scrollpos.id=o.id+"_scrollpos",this.nav.scrollpos.name=this.nav.scrollpos.id,this.nav.top.appendChild(this.nav.scrollpos),this.nav.select=document.createElement("input"),this.nav.select.type="hidden",this.nav.select.id=o.id+"_select",this.nav.select.name=this.nav.select.id,this.nav.select.value=null,this.nav.top.appendChild(this.nav.select),this.nav.scrollLayer=document.createElement("div"),this.nav.scrollLayer.style.position="absolute",this.nav.scrollLayer.style.top="0px",this.nav.scrollLayer.style.left="0px",this.nav.top.appendChild(this.nav.scrollLayer),this.nav.scrollUp=[],this.nav.scrollDown=[],this.nav.loading=document.createElement("div"),this.nav.loading.style.position="absolute",this.nav.loading.style.top="0px",this.nav.loading.style.left=this.hourWidth+5+"px",this.nav.loading.style.backgroundColor=this.loadingLabelBackColor,this.nav.loading.style.fontSize=this.loadingLabelFontSize,this.nav.loading.style.fontFamily=this.loadingLabelFontFamily,this.nav.loading.style.color=this.loadingLabelFontColor,this.nav.loading.style.padding="2px",this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.display="none",this.nav.top.appendChild(this.nav.loading)},this.Zb=function(){for(var t="Fixed"===this.columnWidthSpec,e=this.nav.header&&this.nav.header.rows[this.nav.header.rows.length-1],n=this.nav.events.rows[0],i=0;i<o.ta.length;i++){var a=e&&e.cells[i],r=n.cells[i],l=a&&a.firstChild,s=o.ta[i];if(t){var c=s.width?s.width:o.columnWidth;l&&(l.style.width=c+"px"),r&&(r.style.width=c+"px")}else l&&(l.style.width=null),r&&(r.style.width=null)}},this.Ca=function(){return this.mb?o.nav.bottomRight:o.nav.scroll},this.ka=function(){var t="Fixed"===this.columnWidthSpec;if(!t){var e=o.Ca();"Fixed"===this.heightSpec?e.style.overflowY="scroll":"BusinessHours"===this.heightSpec&&this.va()<=this.businessEndsHour-this.businessBeginsHour?e.style.overflow="hidden":"Full"!==this.heightSpec&&"BusinessHoursNoScroll"!==this.heightSpec?e.style.overflow="auto":e.style.overflow="hidden"}if(t){var n=0,i=this.ta.length*this.columnWidth;i>o.nb().clientWidth&&(n=DayPilot.sw(o.nav.bottomRight)),o.nav.headerParent&&(o.nav.headerParent.style.width=i+n+"px"),o.nav.main.style.width=i+"px",o.nav.events.style.width=i+"px",o.nav.crosshair.style.width=i+"px"}else o.nav.headerParent&&(o.nav.headerParent.style.width="100%"),o.nav.main.style.width="100%",o.nav.events.style.width="100%",o.nav.crosshair.style.width="100%";this.Zb()},this.ha=function(){this.t?this.$b():DayPilot.pu(this.nav.hourTable),this.nav.hoursPlaceholder&&(this.nav.hoursPlaceholder.innerHTML="",this.nav.hourTable=this._b(),this.nav.hoursPlaceholder.appendChild(this.nav.hourTable))},this.$b=function(){if(this.nav.hourTable)for(var t=0;t<this.nav.hourTable.rows.length;t++){var e=this.nav.hourTable.rows[t],n=e.cells[0].firstChild;n.data=null,n.onmousemove=null,n.onmouseout=null}},this.Yb=function(){var t=document.createElement("div");t.style.zoom=1,t.style.position="relative",t.onmousemove=this.bc,DayPilot.re(t,DayPilot.touch.start,this.Rb.onMainTouchStart),DayPilot.re(t,DayPilot.touch.move,this.Rb.onMainTouchMove),DayPilot.re(t,DayPilot.touch.end,this.Rb.onMainTouchEnd),DayPilot.re(t,"contextmenu",function(t){var t=t||window.event;t.preventDefault?t.preventDefault():t.returnValue=!1}),navigator.msPointerEnabled&&(t.style.msTouchAction="none",t.style.touchAction="none"),t.daypilotMainD=!0,t.calendar=this;var e=null,n=null,i=null;if("Fixed"===this.columnWidthSpec||this.mb){if(this.showHours){var a=document.createElement("div");a.style.cssFloat="left",a.style.styleFloat="left",a.style.width=this.hourWidth+"px",a.style.height=this.Vb()+"px",a.style.overflow="hidden",a.style.position="relative",t.appendChild(a),e=a;var r=30,l=o.cc()+r;i=document.createElement("div"),i.style.height=l+"px",a.appendChild(i)}var s=document.createElement("div");s.style.height=this.Vb()+"px",this.showHours&&(s.style.marginLeft=this.hourWidth+"px"),s.style.position="relative",s.style.overflow="auto",t.appendChild(s),n=s}else{var c=document.createElement("table");c.cellSpacing="0",c.cellPadding="0",c.border="0",c.style.border="0px none",c.style.width="100%",c.style.position="relative";var u,d=c.insertRow(-1);this.showHours&&(u=d.insertCell(-1),u.style.verticalAlign="top",u.style.padding="0px",u.style.border="0px none",i=u),u=d.insertCell(-1),u.width="100%",u.style.padding="0px",u.style.border="0px none",u.style.verticalAlign="top",n=u,t.appendChild(c)}if(i&&(this.nav.hourTable=this._b(),i.appendChild(this.nav.hourTable)),this.cssOnly||this.u){var h=document.createElement("div");h.style.height="0px",h.style.position="relative",h.appendChild(this.dc());var f=document.createElement("div");f.style.position="absolute",f.style.top="0px",f.style.left="0px",f.style.width="100%",f.style.height="0px",h.appendChild(f),this.nav.crosshair=f,h.appendChild(this.ec()),n.appendChild(h)}else n.appendChild(this.dc());return this.nav.zoom=t,this.nav.bottomLeft=e,this.nav.bottomRight=n,this.nav.hoursPlaceholder=i,t},this.dc=function(){var t=document.createElement("table");return t.cellPadding="0",t.cellSpacing="0",t.border="0","Fixed"===this.columnWidthSpec||(t.style.width="100%"),t.style.border="0px none",t.style.tableLayout="fixed",this.nav.main=t,this.nav.events=t,t},this.fc=function(){if("Fixed"===this.columnWidthSpec){for(var t=0,e=0;e<o.ta.length;e++){var n=o.ta[e];t+=n.width?n.width:o.columnWidth}return t+"px"}return"100%"},this.ec=function(){var t=document.createElement("table");t.style.position="absolute",t.style.top="0px",t.cellPadding="0",t.cellSpacing="0",t.border="0",t.style.width=o.fc(),t.style.border="0px none",t.style.tableLayout="fixed",this.nav.events=t;for(var e=this.ta,n=e.length,i=t.insertRow(-1),a=0;a<n;a++){var r=i.insertCell(-1);r.style.padding="0px",r.style.border="0px none",r.style.height="0px",r.style.overflow="visible",o.rtl||(r.style.textAlign="left"),o.gc(r)}return t},this._b=function(){var t=document.createElement("table");t.cellSpacing="0",t.cellPadding="0",t.border="0",t.style.border="0px none",t.style.width=this.hourWidth+"px",t.oncontextmenu=function(){return!1},t.onmousemove=function(){o.S()};for(var e=o.hc(),n=0;n<e;n++)this.ic(t,n);return t},this.hc=function(){return this.wa()/(60*this.timeHeaderCellDuration*1e3)},this.jc=function(){return 60*this.cellHeight/this.cellDuration/(60/this.timeHeaderCellDuration)},this.kc=function(){return(this.Aa()-this.Aa(!0))*(60/this.cellDuration)},this.lc=function(){return this.Aa()-this.Aa(!0)},this.qb=function(){return this.kc()*this.cellHeight},this.ic=function(t,e){var n=o.jc(),i=t.insertRow(-1);i.style.height=n+"px";var a=i.insertCell(-1);a.valign="bottom",a.setAttribute("unselectable","on"),a.style.padding="0px",a.style.border="0px none";var r=document.createElement("div");r.className=this.p("_rowheader"),r.style.position="relative",r.style.width=this.hourWidth+"px",r.style.height=n+"px",r.style.overflow="hidden",r.setAttribute("unselectable","on");var l=document.createElement("div");l.className=this.p("_rowheader_inner"),l.setAttribute("unselectable","on");var s=o.nc(e),c=s.html,u=s.data;u&&(r.data=u,r.onmousemove=o.oc,r.onmouseout=o.pc),l.innerHTML=c,r.appendChild(l),a.appendChild(r)},this.nc=function(t){var e,n;if(this.hours){var i=t+this.lc();n=this.hours[i],e=n.html}var a,r=this.timeHeaderCellDuration,l=this.startDate.addMinutes(r*t+60*this.Aa()),s=l.getHours(),c=s<12;if(a="Clock12Hours"===this.qc.timeFormat()?c?"AM":"PM":"00",!e){var u=document.createElement("div");u.setAttribute("unselectable","on"),"Clock12Hours"===this.qc.timeFormat()&&0===(s%=12)&&(s=12),60!==this.timeHeaderCellDuration&&(s+=":"+l.toString("mm")),u.innerHTML=s;var d=document.createElement("span");d.setAttribute("unselectable","on"),d.className=this.p("_rowheader_minutes"),d.innerHTML=a,u.appendChild(d),e=u.outerHTML}if("function"==typeof o.onBeforeTimeHeaderRender){var h={};h.header={},h.header.hours=s,h.header.minutes=l.getMinutes(),h.header.start=l.toString("HH:mm"),h.header.html=e,h.header.areas=n?n.areas:null,o.onBeforeTimeHeaderRender(h),null!==h.header.html&&(e=h.header.html),n=h.header}var f={};return f.start=l,f.hour=s,f.html=e,f.data=n,f.sup=a,f},this.oc=function(t){o.S();var e=this;e.active||DayPilot.Areas.showAreas(e,e.data)},this.pc=function(t){DayPilot.Areas.hideAreas(this,t)},this.Vb=function(){switch(this.heightSpec){case"Fixed":case"Parent100Pct":return this.height;case"Full":return this.cc();case"BusinessHours":case"BusinessHoursNoScroll":return this.xa()*this.cellHeight*60/this.cellDuration;default:throw"DayPilot.Calendar: Unexpected 'heightSpec' value."}},this.cc=function(){return o.wa()*this.cellHeight/(6e4*o.cellDuration)},this.Ba=function(){if(!this.showHeader)return 0;var t=this.headerLevels*r.headerHeight();return this.showAllDayEvents&&r.allDayHeaderHeight()?t+r.allDayHeaderHeight():t},this.da=function(){if(this.headerHeightAutoFit){for(var t=0,e=0;e<this.nav.header.rows.length;e++)for(var n=this.nav.header.rows[e],i=0;i<n.cells.length;i++){var o=n.cells[i],a=o.firstChild,r=a.firstChild,l=a.style.height;a.style.height="auto",r.style.position="static";var s=a.offsetHeight;a.style.height=l,r.style.position="",t=Math.max(t,s)}t>this.headerHeight&&(this.s.headerHeight=t,this.ba(),this.ca())}},this.mb=!0,this.rc=function(){var t=this.mb?o.nav.bottomRight:o.nav.scroll;return DayPilot.sw(t)>0},this.Xb=function(){var t=document.createElement("div"),e="Fixed"===this.columnWidthSpec;e||(t.style.overflow="auto"),t.style.position="absolute",t.style.left="0px",t.style.right="0px";var n=document.createElement("div");n.style.position="relative",n.style.zoom="1";var i=null,e="Fixed"===this.columnWidthSpec;if(e||this.mb){var o=document.createElement("div");if(o.style.cssFloat="left",o.style.styleFloat="left",o.style.width=this.hourWidth+"px",this.showHours){var a=this.sc();this.nav.corner=a,o.appendChild(a),n.appendChild(o),this.nav.upperLeft=o}var r=document.createElement("div");this.showHours&&(r.style.marginLeft=this.hourWidth+"px"),r.style.position="relative",r.style.overflow="hidden",r.style.height=this.Ba()+"px",n.appendChild(r),this.nav.upperRight=r,i=document.createElement("div"),i.style.position="relative",r.appendChild(i)}else{var l=document.createElement("table");l.cellPadding="0",l.cellSpacing="0",l.border="0",l.style.width="100%",l.style.borderCollapse="separate",l.style.border="0px none";var s=l.insertRow(-1);if(this.nav.fullHeader=l,this.showHours){var c=s.insertCell(-1);c.style.padding="0px",c.style.border="0px none";var a=this.sc();c.appendChild(a),this.nav.corner=a}c=s.insertCell(-1),c.style.width="100%",c.valign="top",c.style.position="relative",c.style.padding="0px",c.style.border="0px none",i=document.createElement("div"),i.style.position="relative",i.style.height=this.Ba()+"px",i.style.overflow="hidden",c.appendChild(i),this.nav.mid=i,n.appendChild(l)}this.nav.headerParent=i,this.tc();var u=this.rc(),e="Fixed"===this.columnWidthSpec;return u&&!e&&this.uc(),t.appendChild(n),t},this.tc=function(){this.nav.unifiedCornerRight=null,this.nav.header=document.createElement("table"),this.nav.header.cellPadding="0",this.nav.header.cellSpacing="0";var t="Fixed"===this.columnWidthSpec;if(t||(this.nav.header.width="100%"),this.nav.header.style.tableLayout="fixed",this.nav.header.oncontextmenu=function(){return!1},this.rc(),this.nav.headerParent.appendChild(this.nav.header),this.nav.allday&&DayPilot.de(this.nav.allday),this.showAllDayEvents){var e=document.createElement("div");e.style.position="absolute",e.style.top="0px",e.style.height="0px";var t="Fixed"===this.columnWidthSpec;t?e.style.width=this.ta.length*this.columnWidth+"px":(e.style.left="0px",e.style.right="0px"),this.nav.allday=e,this.nav.headerParent.appendChild(e)}},this.uc=function(){if(this.nav.fullHeader){var t=this.nav.fullHeader.rows[0],e=t.insertCell(-1);e.style.padding="0px",e.style.verticalAlign="top",e.setAttribute("unselectable","on");var n=document.createElement("div");n.setAttribute("unselectable","on"),n.className=this.p("_cornerright"),n.style.overflow="hidden",n.style.position="relative",n.style.width="16px",n.style.height=this.Ba()+"px";var i=document.createElement("div");i.className=this.p("_cornerright_inner"),n.appendChild(i),e.appendChild(n),this.nav.cornerRight=n}},this.sc=function(){var t=document.createElement("div");t.style.position="relative",t.className=this.p("_corner"),t.style.width=this.hourWidth+"px",t.style.height=this.Ba()+"px",t.style.overflow="hidden",t.oncontextmenu=function(){return!1};var e=document.createElement("div");e.className=this.p("_corner_inner"),e.setAttribute("unselectable","on");var n=this.cornerHTML||this.cornerHtml;e.innerHTML=n||"",t.appendChild(e);var i=document.createElement("div");return i.style.position="absolute",i.style.padding="2px",i.style.top="0px",i.style.left="1px",i.style.backgroundColor="#FF6600",i.style.color="white",i.innerHTML="DEMO",i.setAttribute("unselectable","on"),DayPilot.Util.isNullOrUndefined(void 0)&&t.appendChild(i),t},this.M=function(){var t=this.nav.main;t.root=null,t.onmouseup=null;for(var e=0;e<t.rows.length;e++)for(var n=t.rows[e],i=0;i<n.cells.length;i++){var o=n.cells[i];o.root=null,o.onmousedown=null,o.onmousemove=null,o.onmouseout=null,o.onmouseup=null,o.onclick=null,o.ondblclick=null,o.oncontextmenu=null}this.t||DayPilot.pu(t)},this.ea=function(){for(var t=0;this.nav.scrollUp&&t<this.nav.scrollUp.length;t++)this.nav.scrollLayer.removeChild(this.nav.scrollUp[t]);for(var t=0;this.nav.scrollDown&&t<this.nav.scrollDown.length;t++)this.nav.scrollLayer.removeChild(this.nav.scrollDown[t]);this.nav.scrollUp=[],this.nav.scrollDown=[]},this.gc=function(t){var e=document.createElement("div");e.style.marginRight=o.columnMarginRight+"px",e.style.position="relative",e.style.height="1px",e.style.marginTop="-1px",t.events=e;var n=document.createElement("div");n.style.position="relative",e.style.height="1px",e.style.marginTop="-1px",t.separators=n,t.appendChild(n),t.appendChild(e)},this.ga=function(){var e=this.nav.main,n=60*this.cellDuration*1e3,i=this.Ea(),a=this.lc()*(60/this.cellDuration),r=o.ta,l=0;if(e&&(l=o.nb().scrollTop,this.M(),o.B.ielt9)){DayPilot.de(this.nav.scrollable.parentNode);var s=this.Yb();this.vc(),this.nav.scrollable=s.firstChild,this.nav.scroll.appendChild(s),e=this.nav.main}for(this.nav.scrollable.daypilotMainD=!0,this.nav.scrollable.calendar=this;e&&e.rows&&e.rows.length>0;)this.t||DayPilot.pu(e.rows[0]),e.deleteRow(0);if(this.wc=!0,this.scrollLabelsVisible)for(var r=this.ta,c=this.showHours?this.hourWidth:0,u=(this.nav.scroll.clientWidth-c)/r.length,d=0;d<r.length;d++){var h=document.createElement("div");h.style.position="absolute",h.style.top="0px",h.style.left=c+2+d*u+u/2+"px",h.style.display="none";var f=document.createElement("div");f.style.height="10px",f.style.width="10px",f.className=this.p("_scroll_up"),h.appendChild(f),this.nav.scrollLayer.appendChild(h),this.nav.scrollUp.push(h);var p=document.createElement("div");p.style.position="absolute",p.style.top="0px",p.style.left=c+2+d*u+u/2+"px",p.style.display="none";var f=document.createElement("div");f.style.height="10px",f.style.width="10px",f.className=this.p("_scroll_down"),p.appendChild(f),this.nav.scrollLayer.appendChild(p),this.nav.scrollDown.push(p)}var v=r.length;if(this.cssOnly||this.u){for(var g=this.nav.events;g&&g.rows&&g.rows.length>0;)this.t||DayPilot.pu(g.rows[0]),g.deleteRow(0);for(var m=g.insertRow(-1),y=0;y<v;y++){var b=m.insertCell(-1);b.style.padding="0px",b.style.border="0px none",b.style.height="1px",b.style.overflow="visible";var w="Fixed"===this.columnWidthSpec;w&&(r[y].width?b.style.width=r[y].width+"px":b.style.width=this.columnWidth+"px"),o.rtl||(b.style.textAlign="left"),o.gc(b)}}for(var d=0;d<i;d++){var m=e.insertRow(-1),D=d+a;m.style.MozUserSelect="none",m.style.KhtmlUserSelect="none",m.style.WebkitUserSelect="none";for(var y=0;y<v;y++){var C=this.ta[y],b=m.insertCell(-1);b.start=C.start.addTime(D*n).addHours(this.Aa()),b.end=b.start.addTime(n),b.resource=C.id,this.cellProperties||(this.cellProperties={});var k={};k.resource=b.resource,k.start=b.start,k.end=b.end;var x=y+"_"+D;if(k.cssClass=null,k.html=null,k.backImage=null,k.backRepeat=null,k.backColor=null,k.business=this.xc(b.start,b.end),this.cellProperties[x]&&DayPilot.Util.copyProps(this.cellProperties[x],k,["cssClass","html","backImage","backRepeat","backColor","business"]),"function"==typeof this.onBeforeCellRender){var P={};P.cell=k,this.onBeforeCellRender(P)}this.cellProperties[x]=k;var _,S=o.yc(y,D);b.root=this,b.style.padding="0px",b.style.border="0px none",b.style.verticalAlign="top",b.style.height=o.cellHeight+"px",b.style.overflow="hidden",b.setAttribute("unselectable","on"),_=document.createElement("div"),_.className=o.p("_cell"),_.style.position="relative",_.style.height=o.cellHeight+"px",_.style.overflow="hidden",_.setAttribute("unselectable","on");var A=document.createElement("div");A.className=o.p("_cell_inner"),_.appendChild(A),b.appendChild(_),b.onmousedown=this.gb,b.onmousemove=this.jb,b.onmouseout=this.ib,DayPilot.re(b,DayPilot.touch.end,this.Rb.onCellTouchEnd),b.onmouseup=function(){return!1},b.onclick=function(){return!1},b.ondblclick=function(){if(t.firstMousePos=null,o.hb(),clearTimeout(t.selectedTimeout),"Disabled"!==o.timeRangeDoubleClickHandling){var e=o.getSelection();o._a(e.start,e.end,e.resource)}},b.oncontextmenu=function(){if(this.selected||(o.clearSelection(),t.column=t.getColumn(this),o.selectedCells.push(this),t.firstSelected=this,t.topSelectedCell=this,t.bottomSelectedCell=this,o.hb()),"Disabled"===o.timeRangeRightClickHandling)return!1;var e=o.getSelection(),n={};return n.start=e.start,n.end=e.end,n.resource=e.resource,n.preventDefault=function(){this.preventDefault.value=!0},!("function"==typeof o.onTimeRangeRightClick&&(o.onTimeRangeRightClick(n),n.preventDefault.value)||("ContextMenu"===o.timeRangeRightClickHandling&&o.contextMenuSelection&&o.contextMenuSelection.show(o.getSelection()),"function"==typeof o.onTimeRangeRightClicked&&o.onTimeRangeRightClicked(n),1))};var E=o.zc(y,D);_=b.firstChild;var w="Fixed"===this.columnWidthSpec;w&&(C.width?_.style.width=C.width+"px":_.style.width=this.columnWidth+"px"),E&&(_.firstChild.style.background=E),(S?S.business:this.xc(b.start,b.end))&&DayPilot.Util.addClass(_,o.p("_cell_business"));var T=_.firstChild;if(T&&(T.innerHTML=""),_.style.backgroundImage="",_.style.backgroundRepeat="",S&&(S.html&&(T.innerHTML=S.html),S.cssClass&&DayPilot.Util.addClass(_,S.cssClass),S.backImage&&(_.style.backgroundImage="url('"+S.backImage+"')"),S.backRepeat&&(_.style.backgroundRepeat=S.backRepeat),S.areas)){var R={};R.start=b.start,R.end=b.end,R.resource=b.resource,DayPilot.Areas.attach(_,R,{areas:S.areas})}}}e.onmouseup=this.kb,e.root=this,o.nav.scrollable.style.display="",o.nb().scrollTop=l},this.xc=function(t,e){return this.businessBeginsHour<this.businessEndsHour?!(t.getHours()<this.businessBeginsHour||t.getHours()>=this.businessEndsHour||6===t.getDayOfWeek()||0===t.getDayOfWeek()):t.getHours()>=this.businessBeginsHour||t.getHours()<this.businessEndsHour},this.bc=function(e){e=e||window.event,e.insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),t.activeCalendar=this;var n=o.nav.main;o.coords=DayPilot.mo3(n,e);var i=DayPilot.mc(e),a=o.crosshairType&&"Disabled"!==o.crosshairType,r=o.coords.x<o.hourWidth;if(DayPilot.Global.moving||DayPilot.Global.resizing||t.selecting||r?o.S():a&&o.Ac(),DayPilot.Global.resizing)o.Bc(i);else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return void(t.movingShadow=null);if(!t.movingShadow){var l=3;if(!(DayPilot.distance(i,t.originalMouse)>l))return;t.movingShadow=o.sa(DayPilot.Global.moving,!o.B.ie,o.shadow),t.movingShadow.style.width=t.movingShadow.parentNode.offsetWidth+1+"px"}if(!o.coords)return;var s=o.cellHeight,c=0,u=t.moveOffsetY;u||(u=s/2),"Top"===this.moveBy&&(u=0);var d=Math.floor((o.coords.y-u-c+s/2)/s)*s+c;d<c&&(d=c);var h=o.nav.main,f=h.clientHeight,p=parseInt(t.movingShadow.style.height);d+p>f&&(d=f-p),t.movingShadow.style.top=d+"px";var v=h.clientWidth/h.rows[0].cells.length,g=Math.floor(o.coords.x/v);g<0&&(g=0),o.rtl&&(g=o.ta.length-g-1);var m=o.nav.events;g<m.rows[0].cells.length&&g>=0&&t.movingShadow.column!==g&&(t.movingShadow.column=g,t.moveShadow(m.rows[0].cells[g]))}if(t.drag){if(t.gShadow&&document.body.removeChild(t.gShadow),t.gShadow=null,!t.movingShadow&&o.coords){var y=o.sa(t.drag,!1,t.drag.shadowType);if(y){t.movingShadow=y;var b=DayPilot.Date.today(),e={value:t.drag.id,start:b,end:b.addSeconds(t.drag.duration),text:t.drag.text},w=new DayPilot.Event(e,o);w.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=w,DayPilot.Global.moving.helper={}}}e.cancelBubble=!0}},this.Cc=function(e){t.movingShadow.offsetTop,DayPilot.Global.moving.event,t.movingShadow.column},this.Bc=function(e){if(!DayPilot.Global.resizing.event)return DayPilot.Global.resizing=null,DayPilot.de(t.resizingShadow),void(t.resizingShadow=null);t.resizingShadow||(t.resizingShadow=o.sa(DayPilot.Global.resizing,!1,o.shadow));var n=DayPilot.Global.resizing.event.calendar.cellHeight,i=0,a=e.y-t.originalMouse.y;if("bottom"===DayPilot.Global.resizing.dpBorder){var r=Math.floor((t.originalHeight+t.originalTop+a+n/2)/n)*n-t.originalTop+i;r<n&&(r=n);var l=DayPilot.Global.resizing.event.calendar.nav.main.clientHeight;t.originalTop+r>l&&(r=l-t.originalTop),t.resizingShadow.style.height=r+"px"}else if("top"===DayPilot.Global.resizing.dpBorder){var s=Math.floor((t.originalTop+a-i+n/2)/n)*n+i;s<i&&(s=i),s>t.originalTop+t.originalHeight-n&&(s=t.originalTop+t.originalHeight-n);var r=t.originalHeight-(s-t.originalTop);r<n?r=n:t.resizingShadow.style.top=s+"px",t.resizingShadow.style.height=r+"px"}},this.temp={},this.temp.getPosition=function(){var t=o.Dc.getCellCoords();if(!t)return null;var e=o.ta[t.x],n={};return n.resource=e.id,n.start=new DayPilot.Date(e.start).addHours(o.Aa(!0)).addMinutes(t.y*o.cellDuration),n.end=n.start.addMinutes(o.cellDuration),n},this.Dc={},this.Dc.getCellCoords=function(){var t={};if(t.x=0,t.y=0,!o.coords)return null;for(var e=o.nav.main,n=o.coords.x,i=0,a=this.col(e,i);a&&n>a.left;)i+=1,a=this.col(e,i);t.x=i-1;var r=0,l=Math.floor((o.coords.y-r)/o.cellHeight);return t.y=l,t.x<0?null:t},this.Dc.col=function(t,e){var n={};if(n.left=0,n.width=0,!t)return null;if(!t.rows)return null;if(0===t.rows.length)return null;if(0==t.rows[0].cells.length)return null;var i=t.rows[0].cells[e];if(!i)return null;var o=DayPilot.abs(t),a=DayPilot.abs(i);return n.left=a.x-o.x,n.width=i.offsetWidth,n},this.Ac=function(){this.S(),this.elements.crosshair||(this.elements.crosshair=[]);var t=this.Dc.getCellCoords();if(t){var e=t.x,n=Math.floor(t.y/(60/o.cellDuration)*(60/o.timeHeaderCellDuration));if(!(n<0)){if(this.nav.hourTable){if(n>=this.nav.hourTable.rows.length)return;var i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.right="0px",i.style.top="0px",i.style.bottom="0px",i.style.opacity=.5,i.style.backgroundColor=this.crosshairColor,i.style.opacity=this.crosshairOpacity/100,i.style.filter="alpha(opacity="+this.crosshairOpacity+")",this.nav.hourTable.rows[n].cells[0].firstChild.appendChild(i),this.elements.crosshair.push(i)}if(this.nav.header){var a=document.createElement("div");a.style.position="absolute",a.style.left="0px",a.style.right="0px",a.style.top="0px",a.style.bottom="0px",a.style.opacity=.5,a.style.backgroundColor=this.crosshairColor,a.style.opacity=this.crosshairOpacity/100,a.style.filter="alpha(opacity="+this.crosshairOpacity+")";var r=this.nav.header.rows[this.headerLevels-1];r.cells[e]&&(r.cells[e].firstChild.appendChild(a),this.elements.crosshair.push(a))}if("Header"!==this.crosshairType){var l=this.nav.crosshair,s=0,c=Math.floor((o.coords.y-s)/o.cellHeight)*o.cellHeight+s,u=o.cellHeight,d=document.createElement("div");d.style.position="absolute",d.style.left="0px",d.style.right="0px",d.style.top=c+"px",d.style.height=u+"px",d.style.backgroundColor=this.crosshairColor,d.style.opacity=this.crosshairOpacity/100,d.style.filter="alpha(opacity="+this.crosshairOpacity+")",d.onmousedown=this.Ec,l.appendChild(d),this.elements.crosshair.push(d);var h=this.Dc.col(this.nav.main,e);if(u=this.nav.main.clientHeight,h){var f=document.createElement("div");f.style.position="absolute",f.style.left=h.left+"px",f.style.width=h.width+"px",f.style.top="0px",f.style.height=u+"px",f.style.backgroundColor=this.crosshairColor,f.style.opacity=this.crosshairOpacity/100,f.style.filter="alpha(opacity="+this.crosshairOpacity+")",f.onmousedown=this.Ec,l.appendChild(f),this.elements.crosshair.push(f)}}}}},this.Ec=function(t){o.S();var e=o.Dc.getCellCoords(),n=0,i=o.nav.main.rows[e.y+n].cells[e.x];o.gb.apply(i,[t])},this.S=function(){if(this.elements.crosshair&&0!==this.elements.crosshair.length){for(var t=0;t<this.elements.crosshair.length;t++){var e=this.elements.crosshair[t];e&&e.parentNode&&e.parentNode.removeChild(e)}this.elements.crosshair=[]}},this._=function(){if(this.cellConfig){var t=this.cellConfig;if(t.vertical)for(var e=0;e<t.x;e++)for(var n=this.cellProperties[e+"_0"],i=1;i<t.y;i++)this.cellProperties[e+"_"+i]=n;if(t.horizontal)for(var i=0;i<t.y;i++)for(var n=this.cellProperties["0_"+i],e=1;e<t.x;e++)this.cellProperties[e+"_"+i]=n;if(t.default)for(var n=t.default,i=0;i<t.y;i++)for(var e=0;e<t.x;e++)this.cellProperties[e+"_"+i]||(this.cellProperties[e+"_"+i]=n)}},this.yc=function(t,e){return this.cellProperties?this.cellProperties[t+"_"+e]:null},this.Fc=function(t,e){var n=t+"_"+e;return!(!this.cellProperties||!this.cellProperties[n])&&this.cellProperties[n].business},this.zc=function(t,e){var n=t+"_"+e;return this.cellProperties&&this.cellProperties[n]?this.cellProperties[n].backColor:null},this.N=function(){var t=this.nav.header;if(t&&t.rows)for(var e=0;e<t.rows.length;e++)for(var n=t.rows[e],i=0;i<n.cells.length;i++){var o=n.cells[i];o.onclick=null,o.onmousemove=null,o.onmouseout=null}this.t||DayPilot.pu(t)},this.Gc=function(t,e){for(var n=e?this.nav.header.insertRow(-1):this.nav.header.rows[t-1],i=this.Jb(t),a=i.length,l=t===o.headerLevels,s=0;s<a;s++){var c=i[s];if(o.ra()&&"function"==typeof o.onBeforeHeaderRender){var u={};u.header={},DayPilot.Util.copyProps(c,u.header,["id","start","name","html","backColor","toolTip","areas","children"]),this.onBeforeHeaderRender(u),DayPilot.Util.copyProps(u.header,c,["html","backColor","toolTip","areas"])}var d=!!c.getChildren,h=e?n.insertCell(-1):n.cells[s];if(h.data=c,l);else{var f=1;d&&(f=c.getChildrenCount(o.headerLevels-t+1)),h.colSpan=f}d&&(h.onclick=this.La,h.onmousemove=this.Ma,h.onmouseout=this.Na,c.toolTip&&(h.title=c.toolTip)),h.style.overflow="hidden",h.style.padding="0px",h.style.border="0px none",h.style.height=r.headerHeight()+"px";var p=e?document.createElement("div"):h.firstChild;if(e){p.setAttribute("unselectable","on"),p.style.MozUserSelect="none",p.style.KhtmlUserSelect="none",p.style.WebkitUserSelect="none",p.style.position="relative",p.style.height=r.headerHeight()+"px",p.className=o.p("_colheader");var v=document.createElement("div");v.className=o.p("_colheader_inner"),c.backColor&&(v.style.background=c.backColor),p.appendChild(v),h.appendChild(p)}else p.style.height=r.headerHeight()+"px";this.Hc(p,c),d&&(p.firstChild.innerHTML=c.html)}},this.Hc=function(e,n){for(var i=[],o=0;o<e.childNodes.length;o++){var a=e.childNodes[o];a.isActiveArea&&i.push(a)}for(var o=0;o<i.length;o++){var a=i[o];DayPilot.de(a)}if(n.areas)for(var r=n.areas,o=0;o<r.length;o++){var l=r[o];if("Visible"===l.v){var s=new t.Column(n.id,n.name,n.start),c=DayPilot.Areas.createArea(e,s,l);e.appendChild(c)}}},this.ca=function(){if(this.showHeader){var t=this.nav.header,e=!0,n=this.Jb(o.headerLevels,!0),i=n.length;for(this.Ic&&o.B.ielt9?(DayPilot.de(this.nav.header),this.tc()):this.Jc.scope&&(DayPilot.de(this.nav.header),this.tc());this.Ic&&t&&t.rows&&t.rows.length>0;)this.t||DayPilot.pu(t.rows[0]),t.deleteRow(0);this.Ic=!0;var a=o.cornerHTML||o.cornerHtml,l=o.nav.corner;l&&(this.t||DayPilot.pu(l.firstChild),l.firstChild.innerHTML=a||"");for(var s=0;s<o.headerLevels;s++)this.Gc(s+1,e);if(this.showAllDayEvents)for(var c=this.nav.header.insertRow(-1),s=0;s<i;s++){var u=n[s],d=c.insertCell(-1);d.data=u,d.style.padding="0px",d.style.border="0px none",d.style.overflow="hidden";var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.MozUserSelect="none",h.style.KhtmlUserSelect="none",h.style.WebkitUserSelect="none",h.style.overflow="hidden",h.style.position="relative",h.style.height=r.allDayHeaderHeight()+"px",h.className=this.p("_alldayheader");var f=document.createElement("div");f.className=this.p("_alldayheader_inner"),h.appendChild(f),d.appendChild(h),h.style.height=r.allDayHeaderHeight()+"px"}}},this.G=function(){this.loadingLabelVisible&&this.nav.loading&&(this.nav.loading.innerHTML=this.loadingLabelText,this.nav.loading.style.top=this.Ba()+5+"px",this.nav.loading.style.display="")},this.W=function(){this.callbackTimeout&&window.clearTimeout(this.callbackTimeout),this.nav.loading&&(this.nav.loading.style.display="none")},this.Kc=function(t){var e=o.Aa(!0);return t<e&&(t+=24),(t-e)*(60/o.cellDuration)*o.cellHeight},this.vc=function(){var t=this.nb(),e=this.initScrollPos;if(!e){var n=this.businessBeginsHour;e=o.Kc(n)}t.root=this,t.onscroll=this.lb,0===t.scrollTop?t.scrollTop=e-this.qb():this.lb()},this.Lc=function(){var t=o.nav.top;return t.offsetWidth>0&&t.offsetHeight>0},this.Mc=function(){var t=o.Lc;t()||(o.Nc=setInterval(function(){t()&&(clearInterval(o.Nc),o.vc(),o.ja())},100))},this.scrollToY=function(t){this.nb().scrollTop=t},this.scrollToHour=function(t){var e=o.Kc(t);this.nb().scrollTop=e-this.qb()},this.nb=function(){return"Fixed"===this.columnWidthSpec||this.mb?this.nav.bottomRight:this.nav.scroll},this.onCallbackError=function(t,e){alert("Error!\r\nResult: "+t+"\r\nContext:"+e)},this.ja=function(){if(o.showHeader){var t=this.rc(),e=!!this.nav.cornerRight;if(this.mb){this.nav.unifiedCornerRight&&DayPilot.de(this.nav.unifiedCornerRight);var n=this.fc();if("100%"!=n&&parseInt(n)<this.nb().clientWidth)return;var i=DayPilot.sw(this.nav.bottomRight);this.nav.unifiedCornerRight=this.nav.header.rows[0].insertCell(-1);var a=this.nav.unifiedCornerRight;a.rowSpan=this.nav.header.rows.length,a.style.width=i+"px";var r=document.createElement("div");r.className=o.p("_cornerright"),r.setAttribute("unselectable","on"),r.style.overflow="hidden",r.style.height=this.Ba()+"px",r.style.position="relative";var l=document.createElement("div");return l.className=o.p("_cornerright_inner"),r.appendChild(l),a.appendChild(r),void(!("Fixed"===this.columnWidthSpec)&&this.nav.allday&&(this.nav.allday.style.right=i+"px"))}if(t!==e)if(t)this.uc();else{if(this.nav.fullHeader&&3===this.nav.fullHeader.rows[0].cells.length){var a=this.nav.fullHeader.rows[0].cells[2];a.parentNode&&a.parentNode.removeChild(a)}this.nav.cornerRight=null}var s=this.nav.cornerRight;if(s){var i=DayPilot.sw(o.Ca());return s&&(s.style.width=i+"px"),i}}},this.qa=function(t){if(t&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.A>=this.autoRefreshMaxCount)){this.K();var e=this.autoRefreshInterval;if(!e||e<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){o.Oc()},1e3*this.autoRefreshInterval)}},this.K=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.Oc=function(){if(!(DayPilot.Global.resizing||DayPilot.Global.moving||t.drag||t.selecting)){var e=!1;if("function"==typeof this.onAutoRefresh){var n={};n.i=this.A,n.preventDefault=function(){this.preventDefault.value=!0},o.onAutoRefresh(n),n.preventDefault.value&&(e=!0)}!e&&this.q()&&this.commandCallBack(this.autoRefreshCommand),this.A++}this.A<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){o.Oc()},1e3*this.autoRefreshInterval))},this.O=function(){o.ia(),"Parent100Pct"===o.heightSpec&&o.setHeight(parseInt(o.nav.top.clientHeight,10)),o.ja(),o.pa()},this.Pc=function(){t.globalHandlers||(t.globalHandlers=!0,DayPilot.re(document,"mousemove",t.gMouseMove),DayPilot.re(document,"mouseup",t.gMouseUp),DayPilot.re(document,DayPilot.touch.move,t.gTouchMove),DayPilot.re(document,DayPilot.touch.end,t.gTouchEnd)),DayPilot.re(window,"resize",this.O)},this.Qb=function(e){if(!a.active&&!a.using){e=e||window.event;var n=DayPilot.Util.mouseButton(e);if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"n-resize"!==this.style.cursor&&"s-resize"!==this.style.cursor||!n.left){if(("move"===this.style.cursor||"Full"===o.moveBy&&this.event.client.moveEnabled())&&n.left){DayPilot.Global.moving=this;var i=DayPilot.Global.moving.helper={};i.oldColumn=o.ta[this.event.part.dayIndex].id,t.originalMouse=DayPilot.mc(e),t.originalTop=this.offsetTop;var r=DayPilot.mo3(this,e);t.moveOffsetY=r?r.y:0,o.nav.top.style.cursor=this.style.cursor}}else DayPilot.Global.resizing=this,t.originalMouse=DayPilot.mc(e),t.originalHeight=this.offsetHeight,t.originalTop=this.offsetTop,o.nav.top.style.cursor=this.style.cursor;return!1}},this.Qc=function(t){var e=this.s.events,n=this.events.list[t],i={};for(var a in n)i[a]=n[a];if(o.showEventStartEnd){var l=n.start.getDatePart().getTime()===n.end.getDatePart().getTime(),s=l?r.locale().timePattern:r.locale().dateTimePattern,c=n.start.toString(s),u=n.end.toString(s);i.html=i.text+" ("+c+" - "+u+")"}if("function"==typeof this.onBeforeEventRender){var d={};d.e=i,d.data=i,this.onBeforeEventRender(d)}e[t]=i},this.Rb={};var a=o.Rb;a.active=!1,a.start=null,a.timeout=null,a.startcell=null,this.Rb.getCellCoords=function(t){var e,n;t.touches?(e=t.touches[0].pageX,n=t.touches[0].pageY):(e=t.pageX,n=t.pageY);var i=DayPilot.abs(o.nav.main),a={x:e-i.x,y:n-i.y},r=o.nav.main.clientWidth/o.ta.length;return{pageX:e,pageY:n,x:Math.floor(a.x/r),y:Math.floor(a.y/o.cellHeight),toString:function(){return"x: "+this.x+" y:"+this.y}}},this.Rb.startSelecting=function(e){var n=o.nav.main.rows[e.y].cells[e.x];a.startcell=e,o.clearSelection(),t.column=t.getColumn(n),o.selectedCells.push(n),t.firstSelected=n,t.topSelectedCell=n,t.bottomSelectedCell=n,o.hb()},this.Rb.extendSelection=function(e){var n=o.nav.main.rows[e.y].cells[e.x];o.clearSelection(),e.y<a.startcell.y?(o.selectedCells=t.getCellsBelow(n),t.topSelectedCell=o.selectedCells[0],t.bottomSelectedCell=t.firstSelected):(o.selectedCells=t.getCellsAbove(n),t.topSelectedCell=t.firstSelected,t.bottomSelectedCell=o.selectedCells[0]),o.hb()},this.Rb.onMainTouchStart=function(t){if(!DayPilot.Util.isMouseEvent(t)&&!(a.active||t.touches.length>1)){a.using=!0;var e=a.getCellCoords(t);a.startCoords=e;var n=o.tapAndHoldTimeout;a.timeout=window.setTimeout(function(){switch(t.preventDefault(),a.active=!0,o.timeRangeTapAndHoldHandling){case"Select":a.startSelecting(e);break;case"ContextMenu":a.startSelecting(e),a.active=!1,o.contextMenuSelection&&o.contextMenuSelection.show(o.getSelection())}},n)}},this.Rb.onCellTouchMove=function(t){},this.Rb.onCellTouchEnd=function(t){if(!a.active)return void window.clearTimeout(a.timeout);t.preventDefault(),a.startcell=null;var e=o.getSelection();e.toString=function(){return"start: "+this.start+"\nend: "+this.end},o.$a(e.start,e.end,e.resource),window.setTimeout(function(){a.active=!1},500)},this.Rb.startMoving=function(e,n){DayPilot.Global.moving=e,(DayPilot.Global.moving.helper={}).oldColumn=o.ta[e.event.part.dayIndex].id,t.originalMouse=n,t.originalTop=this.offsetTop;var i=DayPilot.abs(e);t.moveOffsetY=n.y-i.y,t.movingShadow||(t.movingShadow=o.sa(DayPilot.Global.moving,!o.B.ie,o.shadow),t.movingShadow.style.width=t.movingShadow.parentNode.offsetWidth+1+"px")},this.Rb.startResizing=function(e,n,i){DayPilot.Global.resizing=e,e.dpBorder=n,t.originalMouse=i,t.originalHeight=e.offsetHeight,t.originalTop=e.offsetTop},this.Rb.updateResizing=function(t){o.Bc(t)},this.Rb.updateMoving=function(){var e=o.coords,n=o.cellHeight,i=0,a=t.moveOffsetY;a||(a=n/2);var r=Math.floor((e.y-a-i+n/2)/n)*n+i;r<i&&(r=i);var l=o.nav.main,s=l.clientHeight,c=parseInt(t.movingShadow.style.height);r+c>s&&(r=s-c),t.movingShadow.style.top=r+"px";var u=l.clientWidth/l.rows[0].cells.length,d=Math.floor(e.x/u);d<0&&(d=0);var h=o.nav.events;d<h.rows[0].cells.length&&d>=0&&t.movingShadow.column!==d&&(t.movingShadow.column=d,t.moveShadow(h.rows[0].cells[d]))},this.Rb.onEventTouchStart=function(t){if(!a.active&&!DayPilot.Util.isMouseEvent(t)){t.stopPropagation(),a.preventEventTap=!1,a.using=!0,a.startCoords=a.getCellCoords(t);var e=this,n=t.touches?t.touches[0].pageX:t.pageX,i=t.touches?t.touches[0].pageY:t.pageY,r={x:n,y:i,div:this};o.coords=a.relativeCoords(t);var l=o.tapAndHoldTimeout;a.timeout=window.setTimeout(function(){var n=e.event;switch(a.active=!0,o.eventTapAndHoldHandling){case"Move":n.client.moveEnabled()&&a.startMoving(e,r);break;case"ContextMenu":var i=n.client.contextMenu();DayPilot.Menu&&DayPilot.Menu.touchPosition(t),i?i.show(n):o.contextMenu&&o.contextMenu.show(n)}},l)}},this.Rb.onMainTouchMove=function(e){if(!DayPilot.Util.isMouseEvent(e)){if(a.timeout){var n=a.getCellCoords(e);n&&a.startCoords&&(n.pageX===a.startCoords.pageX&&n.pageY===a.startCoords.pageY||window.clearTimeout(o.Rb.timeout))}if(DayPilot.Global.moving&&t.movingShadow)return e.preventDefault(),o.coords=a.relativeCoords(e),void a.updateMoving();if(DayPilot.Global.resizing){e.preventDefault();var i=e.touches?e.touches[0]:e,n={x:i.pageX,y:i.pageY};return void a.updateResizing(n)}if(a.startcell){if(e.preventDefault(),!a.active)return void window.clearTimeout(a.timeout);var n=a.getCellCoords(e);a.extendSelection(n)}a.preventEventTap=!0}},this.Rb.relativeCoords=function(t){var e=o.nav.main,n=t.touches?t.touches[0].pageX:t.pageX,i=t.touches?t.touches[0].pageY:t.pageY,a=DayPilot.abs(e);return{x:n-a.x,y:i-a.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},this.Rb.onMainTouchEnd=function(e){if(!DayPilot.Util.isMouseEvent(e))if(DayPilot.Global.moving){a.active=!1,e.preventDefault(),e.stopPropagation();var n=t.movingShadow.offsetTop;t.deleteShadow(t.movingShadow);var i=DayPilot.Global.moving.event,r=t.movingShadow.column;DayPilot.Global.moving=null,t.movingShadow=null,i.calendar.Ta(i,r,n,e,t.drag)}else if(a.startcell){if(!a.active)return void window.clearTimeout(a.timeout);e.preventDefault(),a.startcell=null;var l=o.getSelection();l.toString=function(){return"start: "+this.start+"\nend: "+this.end},o.$a(l.start,l.end,l.resource),window.setTimeout(function(){a.active=!1},500)}},this.Rb.onEventTouchMove=function(t){a.preventEventTap=!0},this.Rb.onEventTouchEnd=function(t){if(!DayPilot.Util.isMouseEvent(t)){if(!a.active){if(a.preventEventTap)return;return t.preventDefault(),window.clearTimeout(a.timeout),void o.Ga(this,!1,!1,t)}return a.active=!1,a.timeout?void window.clearTimeout(a.timeout):void t.preventDefault()}},this.Ob=function(e){var n=5,i=Math.max(o.durationBarWidth,10),a="Top"===o.moveBy;if(void 0!==t){var r=DayPilot.mo3(this,e);if(r){var l=this;if(!l.active){var s=[];l.event.client.deleteEnabled()&&s.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:o.p("_event_delete"),js:function(t){o.Oa(t)}});var c=l.event.cache?l.event.cache.areas:l.event.data.areas;c&&c.length>0&&(s=s.concat(c)),DayPilot.Areas.showAreas(l,l.event,null,s),DayPilot.Util.addClass(l,o.p("_event_hover"))}if(!DayPilot.Global.resizing&&!DayPilot.Global.moving){var u=this.isFirst,d=this.isLast;"Disabled"===o.moveBy||"None"===o.moveBy||(!a&&r.x<=i&&this.event.client.moveEnabled()?this.style.cursor=u?"move":"not-allowed":!a&&r.y<=n&&this.event.client.resizeEnabled()?u?(this.style.cursor="n-resize",this.dpBorder="top"):this.style.cursor="not-allowed":a&&r.y<=i&&this.event.client.moveEnabled()?this.style.cursor="move":this.offsetHeight-r.y<=n&&this.event.client.resizeEnabled()?d?(this.style.cursor="s-resize",this.dpBorder="bottom"):this.style.cursor="not-allowed":DayPilot.Global.resizing||DayPilot.Global.moving||(this.event.client.clickEnabled()?this.style.cursor="pointer":this.style.cursor="default"),void 0===DayPilot.Bubble||!o.bubble||"Disabled"===o.eventHoverHandling||"default"!==this.style.cursor&&"pointer"!==this.style.cursor)||this.Rc&&r.x===this.Rc.x&&r.y===this.Rc.y||(this.Rc=r,o.bubble.showEvent(this.event))}}}},this.Pb=function(t){DayPilot.Util.removeClass(this,o.p("_event_hover")),o.bubble&&o.bubble.hideOnMouseOut(),DayPilot.Areas.hideAreas(this,t)},this.Sc=null,this.la=function(){if(this.showCurrentTime){this.Tc();var t=(new DayPilot.Date).addMinutes(o.showCurrentTimeOffset);if("Full"===o.showCurrentTimeMode)this.Uc(t);else{if("Day"!==o.showCurrentTimeMode)throw"Invalid DayPilot.Calendar.showCurrentTimeMode value: "+o.showCurrentTimeMode;this.Vc(t)}this.nav.events&&!this.Sc&&(this.Sc=setTimeout(function(){o.Sc=null,o.la()},3e4))}},this.Tc=function(){DayPilot.de(o.elements.separators),o.elements.separators=[]},this.Vc=function(t){var e=t.getTime(),n=o.nav.events;if(n)for(var i=0;i<o.ta.length;i++){var a=o.ta[i],r=o.wa(!0),l=new DayPilot.Date(a.start).addHours(this.Aa(!0)),s=l.getTime(),c=l.addTime(r),u=c.getTime();if(s<=e&&e<=u){var d=this.Wc(t,a.start).top-1,h=n.rows[0].cells[i],f=h.separators,p=document.createElement("div");p.style.position="absolute",p.style.top=d+"px",p.style.height="1px",p.style.left="0px",p.style.right="0px",p.className=o.p("_now"),f.insertBefore(p,f.firstChild),o.elements.separators.push(p)}}},this.Uc=function(t){var e=t.getTime();if(o.nav.events){var n=o.ta[0];if(n)for(var i=n.start.getDatePart().addTime(t.getTimePart()),a=this.Wc(i,n.start).top-1,r=0;r<o.ta.length;r++){var n=o.ta[r],l=o.wa(!0),s=new DayPilot.Date(n.start).addHours(this.Aa(!0)),c=s.getTime(),u=s.addTime(l),d=u.getTime();if(c<=e&&e<=d){var h=document.createElement("div");return h.style.position="absolute",h.style.top=a+"px",h.style.height="1px",h.style.left="0px",h.style.right="0px",h.className=o.p("_now"),o.nav.events.appendChild(h),void o.elements.separators.push(h)}}}},this.aa=function(t){if(t?this.events.list=t:t=this.events.list,t){this.Mb={},this.Mb.events=[],this.Mb.lines=[];var e=t.length,n=this.wa(!0);this.s.pixels={};var i=[];this.pb=[],this.Qa=1e4,this.za=0,this.startDate=new DayPilot.Date(this.startDate);for(var a=0;a<e;a++){var l=t[a];l.start=new DayPilot.Date(l.start),l.end=new DayPilot.Date(l.end)}if("function"==typeof this.onBeforeEventRender||o.showEventStartEnd)for(var a=0;a<e;a++)this.Qc(a);for(var s="Resources"===this.viewType,c=this.Kb(),u=c.start,d=c.end,a=0;a<this.ta.length;a++){var h={};h.minEnd=1e6,h.maxStart=-1,this.pb.push(h);var f=this.ta[a];f.events=[],f.lines=[],f.blocks=[];var p=new DayPilot.Date(f.start).addHours(this.Aa(!0)),v=p.getTime(),g=p.addTime(n),m=g.getTime();s&&(u=p.getDatePart(),d=g.getDatePart());for(var y=0;y<e;y++)if(!i[y]){var l=t[y],b=null;if("function"==typeof o.onBeforeEventRender&&(b=o.s.events[y]),b){if(b.hidden)continue}else if(l.hidden)continue;var w=l.start,D=l.end,C=w.getTime(),k=D.getTime();if(!(k<C))if(l.allday){var x=!1;if(x=C===k?!(k<u.getTime()||C>=d.getTime()):"Date"===o.allDayEnd?!(k<u.getTime()||C>=d.getTime()):!(k<=u.getTime()||C>=d.getTime()),s&&(x=x&&(l.resource===f.id||"*"===f.id)),x){var P=new DayPilot.Event(l,this);if(P.part.start=u.getTime()<C?w:u,P.part.end=d.getTime()>k?D:d,P.part.colStart=DayPilot.DateUtil.daysDiff(u,P.part.start),P.part.colWidth=DayPilot.DateUtil.daysSpan(P.part.start,P.part.end)+1,s&&(P.part.colStart=a,P.part.colWidth=1),"function"==typeof o.onEventFilter&&o.events.Xc){var _={};if(_.filter=o.events.Xc,_.visible=!0,_.e=P,o.onEventFilter(_),!_.visible)continue}this.Mb.events.push(P),("function"==typeof this.onBeforeEventRender||o.showEventStartEnd)&&(P.cache=this.s.events[y]),i[y]=!0,!s||P.part.start.getTime()===C&&P.part.end.getTime()===k||(i[y]=!1)}}else{var b=null;if("function"==typeof o.onBeforeEventRender&&(b=o.s.events[y]),b){if(b.hidden)continue}else if(l.hidden)continue;var x=!1;if(x=s?f.id===l.resource&&!(k<=v||C>=m):!(k<=v||C>=m)||k===C&&C===v){var P=new DayPilot.Event(l,o);P.part.dayIndex=a,P.part.start=v<C?w:p,P.part.end=m>k?D:g;var S=this.Wc(P.part.start,f.start),A=this.Wc(P.part.end,f.start),E=S.top,T=A.top;if(E===T&&(S.cut||A.cut))continue;P.part.box=r.useBox(k-C);var R=0;if(P.part.box){var M=A.boxBottom;P.part.top=Math.floor(E/this.cellHeight)*this.cellHeight+R,P.part.height=Math.max(Math.ceil(M/this.cellHeight)*this.cellHeight-P.part.top,this.cellHeight-1),P.part.barTop=Math.max(E-P.part.top-1,0),P.part.barHeight=Math.max(T-E-2,1)}else P.part.top=E+R,P.part.height=Math.max(T-E,0),P.part.barTop=0,P.part.barHeight=Math.max(T-E-2,1);if("function"==typeof o.onEventFilter&&o.events.Xc){var _={};if(_.filter=o.events.Xc,_.visible=!0,_.e=P,o.onEventFilter(_),!_.visible)continue}var w=P.part.top,D=P.part.top+P.part.height;w>h.maxStart&&(h.maxStart=w),D<h.minEnd&&(h.minEnd=D),w<this.Qa&&(this.Qa=w),D>this.za&&(this.za=D),f.events.push(P),("function"==typeof this.onBeforeEventRender||o.showEventStartEnd)&&(P.cache=this.s.events[y]),P.part.start.getTime()===C&&P.part.end.getTime()===k&&(i[y]=!0)}}}}for(var a=0;a<this.ta.length;a++){var f=this.ta[a];f.events.sort(this.Yc);for(var y=0;y<f.events.length;y++){var l=f.events[y];f.putIntoBlock(l)}for(var y=0;y<f.blocks.length;y++){var H=f.blocks[y];H.events.sort(this.Zc);for(var B=0;B<H.events.length;B++){var l=H.events[B];H.putIntoLine(l)}}}this.Mb.events.sort(this.Zc),this.Mb.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var n=this.lines[e];if(n.isFree(t.part.colStart,t.part.colWidth))return n.push(t),e}var n=[];return n.isFree=function(t,e){for(var n=t+e-1,i=this.length,o=0;o<i;o++){var a=this[o];if(!(n<a.part.colStart||t>a.part.colStart+a.part.colWidth-1))return!1}return!0},n.push(t),this.lines.push(n),this.lines.length-1};for(var a=0;a<this.Mb.events.length;a++){var l=this.Mb.events[a];this.Mb.putIntoLine(l)}var O=Math.max(this.Mb.lines.length,1);this.s.allDayHeaderHeight=O*(r.allDayEventHeight()+2)+2}},this.Yc=function(t,e){if(!(t&&e&&t.start&&e.start))return 0;var n=t.start().ticks-e.start().ticks;return 0!==n?n:e.end().ticks-t.end().ticks},this.Zc=function(t,e){if(!t||!e)return 0;if(!(t.data&&e.data&&t.data.sort&&e.data.sort&&0!==t.data.sort.length&&0!==e.data.sort.length))return o.Yc(t,e);for(var n=0,i=0;0===n&&void 0!==t.data.sort[i]&&void 0!==e.data.sort[i];)n=t.data.sort[i]===e.data.sort[i]?0:"number"==typeof t.data.sort[i]&&"number"==typeof e.data.sort[i]?t.data.sort[i]-e.data.sort[i]:o.$c(t.data.sort[i],e.data.sort[i],o.sortDirections[i]),i++;return n},this.$c=function(t,e,n){var i="desc"!==n,o=i?-1:1,a=-o;if(null===t&&null===e)return 0;if(null===e)return a;if(null===t)return o;var r=[];return r[0]=t,r[1]=e,r.sort(),t===r[0]?o:a},this._c=function(t){for(var e=0;e<o.elements.events.length;e++){var n=o.elements.events[e];if(n.event===t||n.event.data===t.data)return n}return null},this.events.find=function(t){if(!o.events.list||void 0===o.events.list.length)return null;for(var e=o.events.list.length,n=0;n<e;n++)if(o.events.list[n].id===t)return new DayPilot.Event(o.events.list[n],o);return null},this.events.findRecurrent=function(t,e){if(!o.events.list||void 0===o.events.list.length)return null;for(var n=o.events.list.length,i=0;i<n;i++)if(o.events.list[i].recurrentMasterId===t&&o.events.list[i].start.getTime()===e.getTime())return new DayPilot.Event(o.events.list[i],o);return null},this.events.all=function(){for(var t=[],e=0;e<o.events.list.length;e++){var n=new DayPilot.Event(o.events.list[e],o);t.push(n)}return DayPilot.list(t)},this.events.edit=function(t){function e(){var e=o._c(t);e&&o.Ha(e)}e()},this.events.update=function(t,e){var n={};n.oldEvent=new DayPilot.Event(t.copy(),o),n.newEvent=new DayPilot.Event(t.temp(),o);var i=new DayPilot.Action(o,"EventUpdate",n,e);return t.commit(),o.z&&o.update(),o.Jc.notify(),i},this.events.remove=function(t,e){var n={};n.e=new DayPilot.Event(t.data,o);var i=new DayPilot.Action(o,"EventRemove",n,e),a=DayPilot.indexOf(o.events.list,t.data);return o.events.list.splice(a,1),o.z&&o.update(),o.Jc.notify(),i},this.events.add=function(t,e){t.calendar=o,o.events.list||(o.events.list=[]),o.events.list.push(t.data);var n={};n.e=t;var i=new DayPilot.Action(o,"EventAdd",n,e);return o.z&&o.update(),o.Jc.notify(),i},this.events.filter=function(t){o.events.Xc=t,o.ad()},this.events.load=function(t,e,n){var i=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof n&&n(e)},a=function(t){var n,a=t.request;try{n=DayPilot.Util.parseJSON(a.responseText)}catch(t){var r={};return r.exception=t,void i(r)}if(DayPilot.isArray(n)){var l={};if(l.preventDefault=function(){this.preventDefault.value=!0},l.data=n,"function"==typeof e&&e(l),l.preventDefault.value)return;o.events.list=n,o.z&&o.update()}};DayPilot.ajax({method:"POST",data:{start:o.visibleStart().toString(),end:o.visibleEnd().toString()},url:t,success:a,error:i})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(t){if(t){if(!t.isAction)throw"DayPilot.Action object required for queue.add()";o.queue.list.push(t)}},this.queue.notify=function(t){var e={};e.actions=o.queue.list,o.F("Notify",e,t,"Notify"),o.queue.list=[]},this.queue.clear=function(){o.queue.list=[]},this.queue.pop=function(){return o.queue.list.pop()},this.ad=function(t){if(this.z&&this.ta){var t=t||{},e=!t.eventsOnly;o.cssOnly||(o.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.q()||(o.cellProperties={}),e?(o.qc.clearCache(),o.L(),this.bd(),this.Z(),this.aa(),o.ca(),o.da(),o.ba(),o.ea(),o.fa(),o.C(),o.ga(),o.hb(),o.ha(),o.ia(),o.ja(),o.ka(),o.cd(),this.na(),this.oa(),this.la(),o.pa()):(o.L(),o.aa(),o.ba(),o.na(),o.oa(),o.pa()),this.visible?this.show():this.hide()}},this.update=function(){if(this.ad(),"function"==typeof o.onAfterRender){var t={};t.isUpdate=!0,t.data=null,o.onAfterRender(t)}},this.cd=function(){if(o.nav.top.className!==o.p("_main")){o.nav.top.className=o.p("_main");var t=o.nav.corner;t.className=o.p("_corner"),t.firstChild.className=o.p("_corner_inner");var e=o.nav.unifiedCornerRight;e&&(e.firstChild.className=o.p("_cornerright"),e.firstChild.firstChild.className=o.p("_cornerright_inner"))}},this.show=function(){o.visible=!0,o.nav.top.style.display="",o.O(),o.ja(),o.lb()},this.hide=function(){o.visible=!1,o.nav.top.style.display="none"},this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){o.Jc.scope&&o.Jc.scope.$apply()},this.debug=new DayPilot.Debug(this),this.Wc=function(t,e){e||(e=this.startDate);var n=e.getTime(),i=t.getTime(),o=this.s.pixels[i+"_"+n];if(o)return o;n=e.addHours(this.Aa(!0)).getTime();var a=60*this.cellDuration*1e3,r=i-n,l=r%a,s=r-l,c=s+a;0===l&&(c=s);var u={};return u.cut=!1,u.top=this.dd(r),u.boxTop=this.dd(s),u.boxBottom=this.dd(c),this.s.pixels[i+"_"+n]=u,u},this.dd=function(t){return Math.floor(this.cellHeight*t/(6e4*this.cellDuration))},this.bd=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.ed=r.allDayEventHeight()+4},this.ba=function(){var t=this.Ba(),e=this.Ub();if(this.nav.corner&&(this.nav.corner.style.height=t+"px"),this.nav.cornerRight&&(this.nav.cornerRight.style.height=t+"px"),this.nav.mid&&(this.nav.mid.style.height=t+"px"),this.showAllDayEvents&&this.nav.header)for(var n=this.nav.header.rows[this.nav.header.rows.length-1],i=0;i<n.cells.length;i++){var o=n.cells[i];o.firstChild.style.height=r.allDayHeaderHeight()+"px"}this.nav.upperRight&&(this.nav.upperRight.style.height=t+"px"),this.nav.scroll.style.top=t+"px",this.nav.top.style.height=e+"px"},this.ia=function(){var t=this.Vb();this.nav.scroll&&t>0&&(this.nav.scroll.style.height=t+"px",this.ob=o.nav.scroll.clientHeight,this.nav.bottomLeft&&(this.nav.bottomLeft.style.height=t+"px"),this.nav.bottomRight&&(this.nav.bottomRight.style.height=t+"px")),"Parent100Pct"===this.heightSpec?this.nav.top.style.height="100%":this.nav.top.style.height=this.Ub()+"px"},this.setHeight=function(t){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=t-this.Ba(),this.ia()},this.fd=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.className=this.p(t),document.body.appendChild(e);var n=e.offsetHeight,i=e.offsetWidth;document.body.removeChild(e);var o={};return o.height=n,o.width=i,o},this.qc={};var r=this.qc;r.locale=function(){return DayPilot.Locale.find(o.locale)},r.weekStarts=function(){return"number"==typeof o.weekStarts?o.weekStarts:r.locale().weekStarts},r.timeFormat=function(){return"Auto"!==o.timeFormat?o.timeFormat:this.locale().timeFormat},r.useBox=function(t){return"Always"===o.useEventBoxes||"Never"!==o.useEventBoxes&&t<60*o.cellDuration*1e3},r.notifyType=function(){var t;if("Immediate"===o.notifyCommit)t="Notify";else{if("Queue"!==o.notifyCommit)throw"Invalid notifyCommit value: "+o.notifyCommit;t="Queue"}return t},r.clearCache=function(){delete o.s.allDayEventHeight,delete o.s.allDayHeaderHeight,delete o.s.headerHeight},r.allDayEventHeight=function(){if(o.s.allDayEventHeight)return o.s.allDayEventHeight;var t=o.fd("_alldayevent_height").height;return t||(t=o.allDayEventHeight),o.s.allDayEventHeight=t,t},r.allDayHeaderHeight=function(){if(o.s.allDayHeaderHeight)return o.s.allDayHeaderHeight;var t=o.ed;return o.s.allDayHeaderHeight=t,t},r.headerHeight=function(){if(o.s.headerHeight)return o.s.headerHeight;var t=o.fd("_header_height").height;return t||(t=o.headerHeight),o.s.headerHeight=t,t},this.gd=function(){return!(!this.backendUrl||void 0!==o.events.list&&o.events.list)},this.hd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Calendar() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Calendar: The placeholder element not found: '"+e+"'."}},this.jd=function(){this.hd(),this.bd(),this.Z(),this.Wb(),this.ca(),this.da(),this.ga(),this.ja(),this.vc(),this.Pc(),this.P(),this.ka(),t.register(this),this.O(),this.la(),this.Mc(),this.qa(),this.F("Init")},this.init=function(){if(this.hd(),!this.nav.top.dp){var e=this.gd();if(o.cssOnly||(o.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e)return this.jd(),void(this.z=!0);this.bd(),this.Z(),this._(),this.events.list||(this.events.list=[]),this.aa(),this.Wb(),this.ca(),this.da(),this.ga(),this.ma(),this.ka(),this.ja(),this.vc(),this.Pc(),this.P(),t.register(this),this.ba(),this.na(),this.oa(),this.O(),this.messageHTML&&this.message(this.messageHTML),this.la(),this.X(null,!1),this.Mc(),this.qa(),this.z=!0,this.kd()}},this.ld=null,this.md=function(t){var e={events:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?o.events.list=t.list:o.events.list=t)}},scrollToHour:{postInit:function(){void 0!==this.data&&o.scrollToHour(this.data)}}};this.ld=e;for(var n in t)if(e[n]){var i=e[n];i.data=t[n],i.preInit&&i.preInit()}else o[n]=t[n]},this.kd=function(){var t=this.ld;for(var e in t){var n=t[e];n.postInit&&n.postInit()}},this.internal={},this.internal.initialized=function(){return o.z},this.internal.invokeEvent=this.Pa,this.internal.eventMenuClick=this.Ya,this.internal.timeRangeMenuClick=this.Za,this.internal.bubbleCallBack=this.Wa,this.internal.findEventDiv=this._c,this.internal.eventDeleteDispatch=this.Oa,this.internal.touch=this.Rb,this.Init=this.init,this.md(n)};var t={};t.topSelectedCell=null,t.bottomSelectedCell=null,t.selecting=!1,t.column=null,t.firstSelected=null,t.firstMousePos=null,t.originalMouse=null,t.originalHeight=null,t.originalTop=null,t.globalHandlers=!1,t.editing=!1,t.originalText=null,t.register=function(e){t.registered||(t.registered=[]);for(var n=t.registered,i=0;i<n.length;i++)if(n[i]===e)return;n.push(e)},t.unregister=function(e){var n=t.registered;if(n){var i=DayPilot.indexOf(n,e);-1!==i&&n.splice(i,1),0===n.length&&(n=null)}n||(DayPilot.ue(document,"mousemove",t.gMouseMove),DayPilot.ue(document,"mouseup",t.gMouseUp),DayPilot.ue(document,"touchmove",t.gTouchMove),DayPilot.ue(document,"touchend",t.gTouchEnd),t.globalHandlers=!1)},t.getCellsAbove=function(e){for(var n=[],i=t.getColumn(e),o=e.parentNode,a=null;o&&a!==t.firstSelected;)for(a=o.getElementsByTagName("td")[i],n.push(a),o=o.previousSibling;o&&"TR"!==o.tagName;)o=o.previousSibling;return n},t.getCellsBelow=function(e){for(var n=[],i=t.getColumn(e),o=e.parentNode,a=null;o&&a!==t.firstSelected;)for(a=o.getElementsByTagName("td")[i],n.push(a),o=o.nextSibling;o&&"TR"!==o.tagName;)o=o.nextSibling;return n},t.getColumn=function(t){for(var e=0;t.previousSibling;)t=t.previousSibling,"TD"===t.tagName&&e++;return e},t.getShadowColumn=function(t){if(!t)return null;for(var e=t.parentNode;e&&"TD"!==e.tagName;)e=e.parentNode;return e},t.gTouchMove=function(e){if(!DayPilot.Util.isMouseEvent(e)&&t.drag){e.preventDefault();var n=e.touches?e.touches[0].pageX:e.pageX,i=e.touches?e.touches[0].pageY:e.pageY,o={};o.x=n,o.y=i;var a=function(){for(var t=e.touches?e.touches[0].clientX:e.clientX,n=e.touches?e.touches[0].clientY:e.clientY,i=document.elementFromPoint(t,n);i&&i.parentNode;)if(i=i.parentNode,i.daypilotMainD)return i.calendar;return!1}();if(a){if(t.gShadow&&document.body.removeChild(t.gShadow),t.gShadow=null,a.coords=a.Rb.relativeCoords(e),!t.movingShadow&&a.coords){var r=a.sa(t.drag,!1,t.drag.shadowType);if(r){t.movingShadow=r;var l=DayPilot.Date.today(),e={value:t.drag.id,start:l,end:l.addSeconds(t.drag.duration),text:t.drag.text},s=new DayPilot.Event(e,a);s.external=!0,DayPilot.Global.moving={},DayPilot.Global.moving.event=s,DayPilot.Global.moving.helper={}}}DayPilot.Global.moving&&a.Rb.updateMoving()}else{DayPilot.de(t.movingShadow),DayPilot.Global.moving=null,t.movingShadow=null,t.gShadow||(t.gShadow=t.createGShadow(t.drag.shadowType));var r=t.gShadow;r.style.left=o.x+"px",r.style.top=o.y+"px"}}},t.gTouchEnd=function(e){DayPilot.Util.isMouseEvent(e)||t.gMouseUp(e)},t.gMouseMove=function(e){if(void 0!==t&&!(e.insideMainD||e.srcElement&&e.srcElement.inside)){var n=DayPilot.mc(e);if(t.drag){document.body.style.cursor="move",t.gShadow||(t.gShadow=t.createGShadow(t.drag.shadowType));var i=t.gShadow;i.style.left=n.x+"px",i.style.top=n.y+"px",DayPilot.Global.moving=null,t.deleteShadow(t.movingShadow),t.movingShadow=null}for(var o=0;o<t.registered.length;o++)t.registered[o].R&&t.registered[o].R()}},t.gUnload=function(e){if(t.registered)for(var n=t.registered,i=0;i<n.length;i++){var o=n[i];t.unregister(o)}},t.gMouseUp=function(e){var e=e||window.event;if(DayPilot.Global.resizing){if(!t.resizingShadow)return DayPilot.Global.resizing.style.cursor="default",DayPilot.Global.resizing.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.resizing=null);var n=DayPilot.Global.resizing.event,i=DayPilot.Global.resizing.dpBorder,o=t.resizingShadow.clientHeight,a=t.resizingShadow.offsetTop;if(t.deleteShadow(t.resizingShadow),t.resizingShadow=null,DayPilot.Global.resizing.style.cursor="default",n.calendar.nav.top.style.cursor="auto",DayPilot.Global.resizing.onclick=null,DayPilot.Global.resizing=null,n.calendar.overlap)return;n.calendar.Ra(n,o,a,i)}else if(DayPilot.Global.moving){if(!DayPilot.Global.moving.helper)return t.deleteShadow(t.movingShadow),DayPilot.Global.moving=null,void(t.movingShadow=null);if(!t.movingShadow)return DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",void(DayPilot.Global.moving=null);var a=(DayPilot.Global.moving.helper.oldColumn,t.movingShadow.offsetTop);t.deleteShadow(t.movingShadow);var n=DayPilot.Global.moving.event,r=t.movingShadow.column,l=t.drag;if(DayPilot.Global.moving.event.calendar.nav.top.style.cursor="auto",DayPilot.Global.moving=null,t.movingShadow=null,l&&(n.calendar.todo||(n.calendar.todo={}),n.calendar.todo.del=l.element),n.calendar.overlap)return;var s=e||window.event;n.calendar.Ta(n,r,a,s,l)}t.drag&&(t.drag=null,document.body.style.cursor=""),t.gShadow&&(document.body.removeChild(t.gShadow),t.gShadow=null),t.moveOffsetY=null},t.dragStart=function(e,n,i,o,a){DayPilot.us(e);var r=t.drag={};return r.element=e,r.duration=n,r.text=o,r.id=i,r.shadowType=a||"Fill",!1},DayPilot.Calendar.makeDraggable=function(e){var n=e.element,i=e.keepElement?null:n,o=e.duration||1;navigator.msPointerEnabled&&(n.style.msTouchAction="none",n.style.touchAction="none");var a=function(n){t.dragStart(i,o,e.id,e.text);var a=n.target||n.srcElement;if(a.tagName){var r=a.tagName.toLowerCase();if("textarea"===r||"select"===r||"input"===r)return!1}return n.preventDefault&&n.preventDefault(),!1},r=function(n){DayPilot.Util.isMouseEvent(n)||(window.setTimeout(function(){var a=t.drag={};a.element=i,a.id=e.id,a.text=e.text||"",a.duration=o,a.shadowType="Fill",t.gTouchMove(n),n.preventDefault()},0),n.preventDefault())};DayPilot.us(n),DayPilot.re(n,"mousedown",a),DayPilot.re(n,DayPilot.touch.start,r),n.cancelDraggable=function(){DayPilot.ue(n,"mousedown",a),DayPilot.ue(n,DayPilot.touch.start,r),delete n.cancelDraggable}},t.deleteShadow=function(t){t&&t.parentNode&&t.parentNode.removeChild(t)},t.createGShadow=function(t){var e=document.createElement("div");return e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.width="100px",e.style.height="20px",e.style.border="2px dotted #666666",e.style.zIndex=101,e.style.pointerEvents="none","Fill"===t&&(e.style.backgroundColor="#aaaaaa",e.style.opacity=.5,e.style.filter="alpha(opacity=50)",e.style.border="2px solid #aaaaaa"),document.body.appendChild(e),e},t.moveShadow=function(e){var n=t.movingShadow;n.parentNode&&n.parentNode.removeChild(n),e.firstChild.appendChild(n),n.style.left="0px",n.style.width=t.movingShadow.parentNode.offsetWidth+"px"},t.Column=function(t,e,n){this.value=t,this.id=t,this.name=e,this.date=new DayPilot.Date(n)},"undefined"!=typeof jQuery&&function(t){t.fn.daypilotCalendar=function(t){var e=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Calendar(this.id,t);n.init(),this.daypilot=n,e||(e=n)}});return 1===this.length?e:n}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotCalendar",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,n){return e.replaceWith(this.template.replace("{{id}}",n.id)),function(e,n,i){var o=new DayPilot.Calendar(n[0]);o.Jc.scope=e,o.init();var a=i.id;a&&(e[a]=o);var r=i.publishAs;r&&(0,t(r).assign)(e,o);for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?function(n){o[n]=function(o){var a=t(i[n]);e.$apply(function(){a(e,{args:o})})}}(l):function(n){o[n]=function(o){t(i[n])(e,{args:o})}}(l)}var c=e.$watch,u=i.config||i.daypilotConfig,d=i.events||i.daypilotEvents;c.call(e,u,function(t,e){for(var n in t)o[n]=t[n];o.update()},!0),c.call(e,d,function(t){o.events.list=t,o.ad({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.DatePicker&&(DayPilot.DatePicker=function(t){this.v="2826";var e="navigator_"+(new Date).getTime(),n=this;this.onShow=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.prepare=function(){if(this.locale="en-us",this.target=null,this.resetTarget=!0,this.pattern=this.qc.locale().datePattern,this.theme=null,this.patterns=[],t)for(var e in t)this[e]=t[e];this.init()},this.init=function(){this.date=new DayPilot.Date(this.date);var t=this.nd();this.resetTarget&&!t&&this.od(this.date),DayPilot.re(document,"mousedown",function(){n.close()})},this.close=function(){this.Lc&&(this.navigator&&this.navigator.dispose(),this.div.innerHTML="",this.div&&this.div.parentNode===document.body&&document.body.removeChild(this.div))},this.nd=function(){var t=this.pd();if(!t)return this.date;var e=null;if(!(e="INPUT"===t.tagName?t.value:t.innerText))return null;for(var i=DayPilot.Date.parse(e,n.pattern),o=0;o<n.patterns.length;o++){if(i)return i;i=DayPilot.Date.parse(e,n.patterns[o])}return i},this.od=function(t){var e=this.pd();if(e){var i=t.toString(n.pattern,n.locale);"INPUT"===e.tagName?e.value=i:e.innerHTML=i}},this.qc={},this.qc.locale=function(){return DayPilot.Locale.find(n.locale)},this.pd=function(){var t=this.target;return t&&t.nodeType&&1===t.nodeType?t:document.getElementById(t)},this.show=function(){var t=this.pd(),i=this.navigator,i=new DayPilot.Navigator(e);i.api=2,i.cssOnly=!0,i.theme=n.theme,i.weekStarts="Auto",i.locale=n.locale,i.onTimeRangeSelected=function(t){n.date=t.start;var e=t.start.addTime(i.qd),o=e.toString(n.pattern,n.locale),t={};t.start=e,t.date=e,t.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(t),t.preventDefault.value)||(n.od(o),n.close(),"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(t))},this.navigator=i;var o=DayPilot.abs(t),a=t.offsetHeight,r=document.createElement("div");r.style.position="absolute",r.style.left=o.x+"px",r.style.top=o.y+a+"px";var l=document.createElement("div");l.id=e,r.appendChild(l),DayPilot.re(r,"mousedown",function(t){var t=t||window.event;t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()}),document.body.appendChild(r),this.div=r;var s=n.nd()||(new DayPilot.Date).getDatePart();i.startDate=s,i.qd=s.getTimePart(),i.selectionStart=s.getDatePart(),i.init(),this.Lc=!0,this.onShow&&this.onShow()},this.prepare()})}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){if(void 0===DayPilot.Gantt){var t=function(){};DayPilot.Gantt=function(e,n){this.v="2826";var i=this;this.id=e,this.isGantt=!0;var o=new DayPilot.Scheduler(e);this.scheduler=o,o.viewType="Resources",o.onCallBackHeader=function(t){t.header.taskGroupMode=i.taskGroupMode,t.header.rowHeaderColumns=i.columns,t.header.clientState=i.clientState},o.onGetNodeState=function(t){var e=function(t){var e={};if(t.tags)for(var n in t.tags)e[n]=""+t.tags[n];return e},n=function(t){var n=t.task,i={};return i.start=n.start,i.end=n.end,i.id=n.id,i.complete=n.complete,i.text=n.text,i.type=n.type,i.expanded=t.expanded,i.loaded=t.loaded,i.tags=e(n),i.versions=n.versions,i.children=o.internal.getNodeChildren(t.children),i};t.result=n(t.row),t.preventDefault()},o.rd=function(t){},o.onCallBackResult=function(t){var e=t.result;t.preventDefault();var n=function(){e.scrollToTaskId&&o.scrollToResource(e.scrollToTaskId)};if("None"===e.updateType)return void n();var a=function(t){for(var n=0;n<t.length;n++){var o=t[n];void 0!==e[o]&&(i[o]=e[o])}};i.links.list=e.links,i.tasks.list=e.tasks,i.startDate=new DayPilot.Date(e.startDate),a(["days","cellDuration","cellGroupBy","cellWidth","cellWidthSpec","cornerHtml","separators","rowMinHeight","rowMarginBottom","taskGroupMode","selectedRows"]),a(["cellProperties","cellConfig","timeHeader","timeHeaders","timeline","columns"]),l.translate(),l.sd(),l.td(),o.update(),o.show(),n()},this.taskGroupMode="Auto",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag","function"==typeof DayPilot.Bubble?(this.bubbleTask=new DayPilot.Bubble,this.bubbleCell=new DayPilot.Bubble,this.bubbleRow=new DayPilot.Bubble):(this.bubbleTask=null,this.bubbleCell=null,this.bubbleRow=null),this.cellDuration=1440,this.cellGroupBy="Month",this.cellWidth=40,this.cellWidthSpec="Fixed",this.completeBarVisible=!0,this.completeBarHeight=3,this.contextMenuTask=null,this.contextMenuRow=null,this.contextMenuLink=null,this.cornerHtml="",this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.doubleClickTimeout=300,this.progressiveTaskRendering="Progressive",this.progressiveTaskRenderingMargin=500,this.progressiveTaskRenderingCacheSweeping=!1,this.progressiveTaskRenderingCacheSize=200,this.floatingTasks=!0,this.floatingTimeHeaders=!0,this.headerHeight=20,this.height=300,this.heightSpec="Max",this.hideUntilInit=!1,this.linkBottomMargin=10,this.linkPointSize=10,this.loadingLabelVisible=!0,this.loadingLabelText="Loading...",this.locale="en-us",this.messageBarPosition="Top",this.messageHideAfter=5e3,this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderHideIconEnabled=!0,this.rowHeaderWidth=80,this.rowHeaderWidthAutoFit=!0,this.rowMarginBottom=4,this.rowMinHeight=0,this.scrollDelayTasks=200,this.scrollDelayCells=20,this.scrollDelayFloats=0,this.scale="Day",this.selectedRows=[],this.snapToGrid=!0,this.syncTasks=!0,this.syncLinks=!0,this.tapAndHoldTimeout=300,this.taskHeight=24,this.taskResizeMargin=5,this.taskMovingStartEndEnabled=!1,this.taskMovingStartEndFormat="MMMM d, yyyy",this.taskResizingStartEndEnabled=!1,this.taskResizingStartEndFormat="MMMM d, yyyy",this.theme="gantt_default",this.treeAutoExpand=!0,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeline=null,this.timeHeaders=[{groupBy:"Month",format:"MMMM yyyy"},{groupBy:"Day",format:"d"}],this.useEventBoxes="Never",this.visible=!0,this.taskVersionsEnabled=!1,this.taskVersionHeight=24,this.taskVersionMargin=2,this.taskVersionPosition="Above",this.taskMoveHandling="Update",this.taskClickHandling="Enabled",this.taskResizeHandling="Update",this.linkCreateHandling="Update",this.taskRightClickHandling="ContextMenu",this.taskDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowMoveHandling="Update",this.rowClickHandling="Disabled",this.rowDoubleClickHandling="Disabled",this.rowEditHandling="Update",this.rowSelectHandling="Update",this.clientState={},this.separators=[],this.members={},this.members.obsolete=[],this.members.ignore=["members","scheduler","internal","cellProperties"],this.members.noCssOnly=[],this.links={},this.links.list=[],this.links.add=function(t){if(t){var e=t.isLink?t.data:t;i.links.list.push(e),i.z&&(l.td(),o.update()),i.Jc.notify()}},this.links.remove=function(t){if(t){var e;e=t.isLink?t.data:t;var n=DayPilot.indexOf(i.links.list,e);-1!==n&&(i.links.list.splice(n,1),i.z&&(l.td(),o.update()),i.Jc.notify())}},this.links.find=function(t){if(!DayPilot.isArray(i.links.list))return null;for(var e=0;e<i.links.list.length;e++){var n=i.links.list[e];if(n.id===t)return new DayPilot.Link(n,i)}return null},this.links.findFromTo=function(t,e){if(!DayPilot.isArray(i.links.list))return null;for(var n=0;n<i.links.list.length;n++){var o=i.links.list[n];if(o.from===t&&o.to===e)return new DayPilot.Link(o,i)}return null},this.ud={};var a=this.ud;a.timeout=null,a.update=function(){i.z&&(window.clearTimeout(a.timeout),a.timeout=setTimeout(function(){l.sd(),o.update()},0))},this.tasks={},this.tasks.list=[],this.tasks.add=function(t){if(t){if(t instanceof DayPilot.Event)throw"DayPilot.Task object required. You have supplied DayPilot.Event.";var e=t.isTask?t.data:t;i.tasks.list.push(e),a.update(),i.Jc.notify()}},this.tasks.find=function(t){var e=r.findInCache(t);return e?new DayPilot.Task(e,i):null},this.tasks.update=function(t){if(t){if(!t.isTask)throw"DayPilot.Task object expected";t.commit(),a.update(),i.Jc.notify()}},this.tasks.remove=function(t){if(t){if(!t.isTask)throw"DayPilot.Task object expected";var e=r.findParentArray(t.data);if(e){var n=DayPilot.indexOf(e,t.data);e.splice(n,1),a.update(),i.Jc.notify()}}},this.visibleStart=function(){return o.visibleStart()},this.visibleEnd=function(){return o.visibleEnd()},this.onAfterRender=null,this.onAfterUpdate=null,this.onBeforeRowHeaderRender=null,this.onBeforeTaskRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeCellRender=null,this.onTaskClick=null,this.onTaskClicked=null,this.onTaskDoubleClick=null,this.onTaskDoubleClicked=null,this.onTaskRightClick=null,this.onTaskRightClicked=null,this.onRowCreate=null,this.onRowCreated=null,this.onRowMove=null,this.onRowMoved=null,this.onRowMoving=null,this.onRowClick=null,this.onRowClicked=null,this.onRowDoubleClick=null,this.onRowDoubleClicked=null,this.onRowEdit=null,this.onRowEdited=null,this.onRowSelect=null,this.onRowSelected=null,this.onTaskMove=null,this.onTaskMoved=null,this.onTaskMoving=null,this.onTaskResize=null,this.onTaskResized=null,this.onTaskResizing=null,this.onLinkCreate=null,this.onLinkCreated=null,this.q=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.vd=function(){if("string"==typeof i.startDate&&(i.startDate=new DayPilot.Date(i.startDate)),!i.startDate||!i.days){for(var t=DayPilot.Date.today(),e=t.addDays(1),n=null,a=null,r=0;r<i.tasks.list.length;r++){var l=i.tasks.list[r];t=new DayPilot.Date(l.start),e=new DayPilot.Date(l.end),(null===n||t.getTime()<n)&&(n=t.getTime()),(null===a||e.getTime()>a)&&(a=e.getTime())}n&&a?(t=new DayPilot.Date(n).getDatePart(),e=new DayPilot.Date(a).getDatePart().addDays(1),o.startDate=i.startDate||t,o.days=i.days||DayPilot.DateUtil.daysDiff(t,e)):(o.startDate=t,o.days=30)}},this.commandCallBack=function(t,e){l.translate(),o.commandCallBack(t,e)},this.message=function(t,e,n,i){o.message(t,e,n,i)},this.setHeight=function(t){o.setHeight(t)},this.gd=function(){return!(!this.backendUrl||DayPilot.isArray(i.tasks.list)&&0!=i.tasks.list.length)},this.init=function(){l.translate(),l.sd(),l.td(),this.vd(),o.init(),this.z=!0,this.kd()},this.xd=!1,this.dispose=function(){o.dispose(),i.xd=!0},this.update=function(){if(i.xd)throw new DayPilot.Error("This DayPilot.Gantt instance has been disposed.");l.translate(),l.sd(),l.td(),i.vd(),o.update()},this.scrollTo=function(t){o.scrollTo(t)},this.scrollToTask=function(t){o.scrollToResource(t)},this.yd={};var r=this.yd;r.cache={},r.clearCache=function(){r.cache={}},r.addToCache=function(t,e){var n=t.id;if(n){var i={};if(i.isTaskWrapper=!0,i.data=t,i.parent=e,r.cache[n])throw"Duplicate task id detected";r.cache[n]=i}},r.findInCache=function(t){return t?r.cache[t.toString()]:null},r.getProperty=function(t,e){return t.tags&&t.tags[e]?t.tags[e]:t[e]},r.findParentArray=function(t){return r.findInArray(i.tasks.list,t)},r.findInArray=function(t,e){if(-1!==DayPilot.indexOf(t,e))return t;for(var n=0;n<t.length;n++){var i=t[n];if(i.children&&i.children.length>0){var o=r.findInArray(i.children,e);if(o)return o}}return null},this.zd={};var l=this.zd;l.translate=function(){if(o.durationBarMode="PercentComplete",o.timeRangeSelectedHandling="Disabled",o.treeEnabled=!0,o.rowCreateHtml="",o.autoRefreshCommand=i.autoRefreshCommand,o.autoRefreshEnabled=i.autoRefreshEnabled,o.autoRefreshInterval=i.autoRefreshInterval,o.autoRefreshMaxCount=i.autoRefreshMaxCount,o.autoScroll=i.autoScroll,o.backendUrl=i.backendUrl,o.crosshairColor=i.crosshairColor,o.crosshairOpacity=i.crosshairOpacity,o.crosshairType=i.crosshairType,o.doubleClickTimeout=i.doubleClickTimeout,o.durationBarVisible=i.completeBarVisible,o.durationBarHeight=i.completeBarHeight,o.dynamicEventRendering=i.progressiveTaskRendering?"Progressive":"Disabled",o.dynamicEventRenderingMargin=i.progressiveTaskRenderingMargin,o.dynamicEventRenderingCacheSweeping=i.progressiveTaskRenderingCacheSweeping,o.dynamicEventRenderingCacheSize=i.progressiveTaskRenderingCacheSize,o.startDate=new DayPilot.Date(i.startDate),o.days=i.days,o.cellDuration=i.cellDuration,o.cellGroupBy=i.cellGroupBy,o.cellWidth=i.cellWidth,o.cellWidthSpec=i.cellWidthSpec,o.cornerHtml=i.cornerHtml,o.eventHeight=i.taskHeight,o.eventResizeMargin=i.taskResizeMargin,o.floatingEvents=i.floatingTasks,o.floatingTimeHeaders=i.floatingTimeHeaders,o.headerHeight=i.headerHeight,o.heightSpec=i.heightSpec,o.height=i.height,o.linkBottomMargin=i.linkBottomMargin,o.linkPointSize=i.linkPointSize,o.loadingLabelVisible=i.loadingLabelVisible,o.loadingLabelText=i.loadingLabelText,o.locale=i.locale,o.messageBarPosition=i.messageBarPosition,o.messageHideAfter=i.messageHideAfter,o.rowCreateHandling=i.rowCreateHandling,o.progressiveRowRendering=i.progressiveRowRendering,o.progressiveRowRenderingPreload=i.progressiveRowRenderingPreload,o.scale=i.scale,o.scrollDelayEvents=i.scrollDelayTasks,o.scrollDelayCells=i.scrollDelayCells,o.scrollDelayFloats=i.scrollDelayFloats,o.scrollX=i.scrollX,o.scrollY=i.scrollY,i.scrollToTaskId&&(o.scrollToResourceId=i.scrollToTaskId),o.separators=i.separators,o.tapAndHoldTimeout=i.tapAndHoldTimeout,o.eventMovingStartEndEnabled=i.taskMovingStartEndEnabled,o.eventMovingStartEndFormat=i.taskMovingStartEndFormat,o.eventResizingStartEndEnabled=i.taskResizingStartEndEnabled,o.eventResizingStartEndFormat=i.taskResizingStartEndFormat,o.hideUntilInit=i.hideUntilInit,o.treeIndent=i.treeIndent,o.treeAutoExpand=i.treeAutoExpand,o.treeImageMarginLeft=i.treeImageMarginLeft,o.treeImageMarginTop=i.treeImageMarginTop,o.timeHeaders=i.timeHeaders,o.rowHeaderHideIconEnabled=i.rowHeaderHideIconEnabled,o.rowHeaderScrolling=i.rowHeaderScrolling,o.rowHeaderSplitterWidth=i.rowHeaderSplitterWidth,o.rowHeaderWidth=i.rowHeaderWidth,o.rowHeaderWidthAutoFit=i.rowHeaderWidthAutoFit,o.rowMarginBottom=i.rowMarginBottom,o.rowMinHeight=i.rowMinHeight,o.selectedRows=i.selectedRows,o.theme=i.theme,o.useEventBoxes=i.useEventBoxes,o.snapToGrid=i.snapToGrid,o.uniqueID=i.uniqueID,o.bubble=i.bubbleTask,o.cellBubble=i.bubbleCell,o.resourceBubble=i.bubbleRow,o.contextMenu=i.contextMenuTask,o.contextMenuResource=i.contextMenuRow,o.contextMenuLink=i.contextMenuLink,o.syncResourceTree=i.syncTasks,o.syncLinks=i.syncLinks,o.timeline=i.timeline,o.visible=i.visible,o.eventMoveHandling=i.taskMoveHandling,o.eventClickHandling=i.taskClickHandling,o.eventResizeHandling=i.taskResizeHandling,o.linkCreateHandling=i.linkCreateHandling,o.eventRightClickHandling=i.taskRightClickHandling,o.eventDoubleClickHandling=i.taskDoubleClickHandling,o.rowMoveHandling=i.rowMoveHandling,o.rowClickHandling=i.rowClickHandling,o.rowDoubleClickHandling=i.rowDoubleClickHandling,o.rowEditHandling=i.rowEditHandling,o.rowSelectHandling=i.rowSelectHandling,o.eventVersionsEnabled=i.taskVersionsEnabled,o.eventVersionHeight=i.taskVersionHeight,o.eventVersionMargin=i.taskVersionMargin,o.eventVersionPosition=i.taskVersionPosition,DayPilot.isArray(i.columns)){o.rowHeaderColumns=[];for(var t=0;t<i.columns.length;t++){var e=i.columns[t],n={};DayPilot.Util.copyProps(e,n,["title","width"]),o.rowHeaderColumns.push(n)}}i.q()&&(o.timeHeader=i.timeHeader,o.cellProperties=i.cellProperties,o.cellConfig=i.cellConfig),o.onRowCreate=function(t){"function"==typeof i.onRowCreate&&i.onRowCreate(t)},o.onRowCreated=function(t){"function"==typeof i.onRowCreated&&i.onRowCreated(t)},o.onAfterRender=function(t){"function"==typeof i.onAfterRender&&i.onAfterRender(t)},o.onAfterUpdate=function(t){"function"==typeof i.onAfterUpdate&&i.onAfterUpdate(t)},o.onRowHeaderResized=function(t){i.rowHeaderWidth=o.rowHeaderWidth},o.onAjaxError=function(t){"function"==typeof i.onAjaxError&&i.onAjaxError(t)},o.onRowHeaderColumnResized=function(t){for(var e=t.column,n=DayPilot.indexOf(o.rowHeaderColumns,e),a=0;a<i.columns.length;a++){var r=o.rowHeaderColumns[a];i.columns[a].width=r.width}if("function"==typeof i.onColumnResized){var l={};l.column=i.columns[n],i.onColumnResized(l)}},o.onBeforeRowHeaderRender=function(t){t.task=new DayPilot.Task(t.row.$.row.task,i);var e=[];if(DayPilot.isArray(i.columns))for(var n=0;n<i.columns.length;n++){var o=i.columns[n],a=o.property,l={};l.value=r.getProperty(t.task.data,a),t.task.data.row&&t.task.data.row.columns&&t.task.data.row.columns[n]?l.html=t.task.data.row.columns[n].html:l.html=l.value,e.push(l)}if(t.row.columns=e,"function"==typeof i.onBeforeRowHeaderRender&&i.onBeforeRowHeaderRender(t),DayPilot.isArray(i.columns))for(var n=0;n<i.columns.length;n++){var s=e[n].html;0===n?t.row.html=s:t.row.columns[n-1].html=s}},o.onBeforeCellRender=function(t){t.task=i.tasks.find(t.cell.resource),delete t.cell.resource,"function"==typeof i.onBeforeCellRender&&i.onBeforeCellRender(t)},o.onBeforeTimeHeaderRender=function(t){"function"==typeof i.onBeforeTimeHeaderRender&&i.onBeforeTimeHeaderRender(t)},o.onEventClick=function(t){t.task=new DayPilot.Task(t.e,i),"function"==typeof i.onTaskClick&&i.onTaskClick(t)},o.onEventClicked=function(t){"function"==typeof i.onTaskClicked&&i.onTaskClicked(t)},o.onEventDelete=function(t){"function"==typeof i.onTaskDelete&&i.onTaskDelete(t)},o.onEventDeleted=function(t){"function"==typeof i.onTaskDeleted&&i.onTaskDeleted(t)},o.onEventDoubleClick=function(t){t.task=new DayPilot.Task(t.e,i),"function"==typeof i.onTaskDoubleClick&&i.onTaskDoubleClick(t)},o.onEventDoubleClicked=function(t){"function"==typeof i.onTaskDoubleClicked&&i.onTaskDoubleClicked(t)},o.onEventRightClick=function(t){t.task=new DayPilot.Task(t.e,i),"function"==typeof i.onTaskRightClick&&i.onTaskRightClick(t)},o.onEventRightClicked=function(t){"function"==typeof i.onTaskRightClicked&&i.onTaskRightClicked(t)},o.onRowMoving=function(t){t.Ad=t.source,t.Bd=t.target,t.source=new DayPilot.Task(t.Ad.$.row.task,i),t.target=new DayPilot.Task(t.Bd.$.row.task,i),"function"==typeof i.onRowMoving&&i.onRowMoving(t)},o.onRowMove=function(t){t.Ad=t.source,t.Bd=t.target,t.source=new DayPilot.Task(t.Ad.$.row.task,i),t.target=new DayPilot.Task(t.Bd.$.row.task,i),"function"==typeof i.onRowMove&&i.onRowMove(t),t.source=t.Ad,t.target=t.Bd},o.onRowMoved=function(t){if("Update"===i.rowMoveHandling||"Notify"===i.rowMoveHandling){var e=t.Ad.$.row.task,n=t.Bd.$.row.task,o=t.position;if("forbidden"===o)return;var a=r.findParentArray(e);if(!a)throw"Cannot find source node parent";var l=DayPilot.indexOf(a,e);a.splice(l,1);var s=r.findParentArray(n);if(!s)throw"Cannot find target node parent";var c=DayPilot.indexOf(s,n);switch(o){case"before":s.splice(c,0,e);break;case"after":s.splice(c+1,0,e);break;case"child":n.children||(n.children=[],n.expanded=!0),n.children.push(e)}i.Jc.notify(),i.update()}t.source=new DayPilot.Task(t.Ad.$.row.task,i),t.target=new DayPilot.Task(t.Bd.$.row.task,i),"function"==typeof i.onRowMoved&&i.onRowMoved(t)},o.onRowClick=function(t){t.task=new DayPilot.Task(t.resource.$.row.task,i),"function"==typeof i.onRowClick&&i.onRowClick(t)},o.onRowClicked=function(t){"function"==typeof i.onRowClicked&&i.onRowClicked(t)},o.onRowDoubleClick=function(t){t.task=new DayPilot.Task(t.resource.$.row.task,i),"function"==typeof i.onRowDoubleClick&&i.onRowDoubleClick(t)},o.onRowDoubleClicked=function(t){"function"==typeof i.onRowDoubleClicked&&i.onRowDoubleClicked(t)},o.onRowEdit=function(t){t.task=new DayPilot.Task(t.resource.$.row.task,i),"function"==typeof i.onRowEdit&&i.onRowEdit(t)},o.onRowEdited=function(t){"function"==typeof i.onRowEdited&&i.onRowEdited(t)},o.onRowSelect=function(t){t.task=new DayPilot.Task(t.row.$.row.task,i),"function"==typeof i.onRowSelect&&i.onRowSelect(t)},o.onRowSelected=function(t){"function"==typeof i.onRowSelected&&i.onRowSelected(t)},o.onEventMove=function(t){t.Cd=t.e,t.task=new DayPilot.Task(t.e,i),"function"==typeof i.onTaskMove&&i.onTaskMove(t)},o.onEventMoved=function(t){if("Auto"===i.taskGroupMode){var e=t.Cd,n=e.data.task;for(n.start=e.start(),n.end=e.end();e.data.parent;){var a=o.events.find(e.data.parent.id),r=l.childrenStartEnd(e.data.parent);a.start(r.start),a.end(r.end),o.events.update(a),e=a}}i.Jc.notify(),"function"==typeof i.onTaskMoved&&i.onTaskMoved(t)},o.onEventMoving=function(t){t.task=new DayPilot.Task(t.e,i),t.Cd=t.e,delete t.position,delete t.overlapping,delete t.resource,"function"==typeof i.onTaskMoving&&i.onTaskMoving(t)},o.onEventResize=function(t){t.Cd=t.e,t.task=new DayPilot.Task(t.e,i),"function"==typeof i.onTaskResize&&i.onTaskResize(t)},o.onEventResized=function(t){if("Auto"===i.taskGroupMode){var e=t.Cd,n=e.data.task;for(n.start=e.start(),n.end=e.end();e.data.parent;){var a=o.events.find(e.data.parent.id),r=l.childrenStartEnd(e.data.parent);a.start(r.start),a.end(r.end),o.events.update(a),e=a}}i.Jc.notify(),"function"==typeof i.onTaskResized&&i.onTaskResized(t)},o.onEventResizing=function(t){t.task=new DayPilot.Task(t.e,i),t.Cd=t.e,"function"==typeof i.onTaskResizing&&i.onTaskResizing(t)},o.onLinkCreate=function(t){t.source=i.tasks.find(t.from),t.target=i.tasks.find(t.to),"function"==typeof i.onLinkCreate&&i.onLinkCreate(t)},o.onLinkCreated=function(t){"function"==typeof i.onLinkCreated&&i.onLinkCreated(t)},o.onResourceExpand=function(t){var e=t.resource.$.row.task;e.row||(e.row={}),e.row.collapsed=!1},o.onResourceCollapse=function(t){var e=t.resource.$.row.task;e.row||(e.row={}),e.row.collapsed=!0}},l.Dd=function(t){for(var e=0;e<o.rowlist.length;e++){var n=o.rowlist[e];if(n.task===t)return o.internal.createRowObject(n)}return null},l.td=function(){o.links.list=i.links.list?i.links.list:[]},l.sd=function(){o.resources=[],o.events.list=[],r.clearCache(),l.Ed(i.tasks.list,o.resources,null),s.sheet&&(s.sheet.commit(),s.sheet=null)},l.Fd=function(t){var e=t.type||"Task";t.children&&t.children.length&&(e="Group");var n={};for(var o in t)"children"!==o&&(n[o]=t[o]);var a={};if(a.data=n,a.type=e,n.box||(n.box={}),void 0===n.box.html)if("Task"===a.type){var r=n.complete||0;n.box.html=r+"%"}else n.box.html="";return void 0===n.box.htmlRight&&(n.box.htmlRight=n.text),"function"==typeof i.onBeforeTaskRender&&i.onBeforeTaskRender(a),a.type=e,a};var s={};s.keys={},s.sheet=null,l.Gd=function(t){if(t.data.box&&!t.data.box.cssClass&&t.data.box.backColor&&"Task"!==t.type){var e=DayPilot.Util.normalizeColor(t.data.box.backColor),n=t.type+"_"+e.replace("#",""),o=i.theme,a=i.theme+"_"+n;return s.keys[n]||(s.keys[n]=!0,s.sheet||(s.sheet=DayPilot.sheet()),"Group"===t.type?(s.sheet.add("."+a+"."+o+"_task_group ."+o+"_event_inner","position:absolute;top:5px;left:0px;right:0px;bottom:6px;overflow:hidden; background: "+e+"; filter: none; border: 0px none;"),s.sheet.add("."+a+"."+o+"_task_group."+o+"_event:before","content:''; border-color: transparent transparent transparent "+e+"; border-style: solid; border-width: 6px; position: absolute; bottom: 0px;"),s.sheet.add("."+a+"."+o+"_task_group."+o+"_event:after","content:''; border-color: transparent "+e+" transparent transparent; border-style: solid; border-width: 6px; position: absolute; bottom: 0px; right: 0px;")):"Milestone"===t.type&&(s.sheet.add("."+a+"."+o+"_task_milestone ."+o+"_event_inner","position:absolute;top:16%;left:16%;right:16%;bottom:16%; background: "+e+"; border: 0px none; -webkit-transform: rotate(45deg);-moz-transform: rotate(45deg);-ms-transform: rotate(45deg);-o-transform: rotate(45deg); transform: rotate(45deg); filter: none;"),s.sheet.add("."+a+"."+o+"_browser_ie8 ."+o+"_task_milestone ."+o+"_event_inner","-ms-filter: \"progid:DXImageTransform.Microsoft.Matrix(SizingMethod='auto expand', M11=0.7071067811865476, M12=-0.7071067811865475, M21=0.7071067811865475, M22=0.7071067811865476);\""))),a}},l.Ed=function(e,n,a){if(DayPilot.isArray(e))for(var s=0;s<e.length;s++){var c=e[s];r.addToCache(c,a);var u=l.Fd(c),d=u.data,h=u.type,f={};if(DayPilot.Util.copyProps(d,f,["id","start","end","text","complete","tags","versions"]),DayPilot.Util.copyProps(d.box,f),f.parent=a,f.task=c,f.resource=d.id,"Group"==h){f.type="Group",f.html="";var p=l.Gd(u);if(p&&(f.cssClass=(f.cssClass||"")+" "+p,console.log(f.cssClass)),delete f.backColor,"Auto"===i.taskGroupMode){var v=l.childrenStartEnd(c);f.start=v.start,f.end=v.end,f.resizeDisabled=!0,f.moveDisabled=!0}}else if("Milestone"===h){f.html="",c.end=c.start;var p=l.Gd(u);p&&(f.cssClass=(f.cssClass||"")+" "+p),d.end=d.start,f.end=d.start,f.barHidden=!0,f.resizeDisabled=!0,f.type="Milestone",f.width=i.taskHeight,delete f.backColor}else"Task"===h&&t();f.moveVDisabled=!0,f.htmlRight=d.box.htmlRight,f.htmlLeft=d.box.htmlLeft,o.events.list.push(f);var g={};g.task=c,DayPilot.Util.copyProps(d.row,g),g.name=d.text,g.id=d.id,g.children=[],g.expanded=!d.row||!d.row.collapsed,c.children&&c.children.length&&l.Ed(c.children,g.children,c),n.push(g)}},l.childrenStartEnd=function(t){if(!t.children||!t.children.length){var e=t.start,n=t.end;return"Milestone"===t.type&&(n=e),{start:new DayPilot.Date(e),end:new DayPilot.Date(n)}}for(var e=null,n=null,i=0;i<t.children.length;i++){var o=l.childrenStartEnd(t.children[i]);(!e||o.start.getTime()<e.getTime())&&(e=o.start),(!n||o.end.getTime()>n.getTime())&&(n=o.end)}return{start:e,end:n}},this.rows={},this.rows.expand=function(t){o.rows.expand(t)},this.rows.expandAll=function(){o.rows.expandAll()},this.rows.selection={},this.rows.selection.add=function(t){o.rows.find(t.data.id)},this.rows.selection.clear=function(){o.rows.selection.clear()},this.rows.selection.get=function(){return o.rows.selection.get().map(function(t){return new DayPilot.Task(t.$.row.task,i)})},this.ld=null,this.md=function(t){var e={tasks:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?i.tasks.list=t.list:i.tasks.list=t)}},links:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?i.links.list=t.list:i.links.list=t)}},scrollTo:{postInit:function(){this.data&&i.scrollTo(this.data)}},scrollToTask:{postInit:function(){this.data&&i.scrollToTask(this.data)}}};this.ld=e;for(var n in t)if(e[n]){var o=e[n];o.data=t[n],o.preInit&&o.preInit()}else i[n]=t[n]},this.kd=function(){var t=this.ld;for(var e in t){var n=t[e];n.postInit&&n.postInit()}},this.internal={},this.internal.initialized=function(){return i.z},this.internal.rowObjectForTaskData=l.Dd,this.internal.loadOptions=i.md,this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){i.Jc.scope&&i.Jc.scope.$apply()},this.md(n)},"undefined"!=typeof jQuery&&function(t){t.fn.daypilotGantt=function(t){var e=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Gantt(this.id,t);n.init(),this.daypilot=n,e||(e=n)}});return 1===this.length?e:n}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotGantt",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,n){return e.replaceWith(this.template.replace("{{id}}",n.id)),function(e,n,i){var o=new DayPilot.Gantt(n[0]);o.Jc.scope=e,o.init();var a=i.id;a&&(e[a]=o);var r=i.publishAs;r&&(0,t(r).assign)(e,o);for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?function(n){o[n]=function(o){var a=t(i[n]);e.$apply(function(){a(e,{args:o})})}}(l):function(n){o[n]=function(o){t(i[n])(e,{args:o})}}(l)}var c=e.$watch,u=i.config||i.daypilotConfig;c.call(e,u,function(t,e){o.md(t),o.update()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.Kanban&&(DayPilot.Kanban=function(t,e){this.v="2826";var n=this;this.barWidth=5,this.cardAutoHeight=!0,this.cardHeight=60,this.cardMarginLeft=5,this.cardMarginRight=5,this.cardMarginBottom=5,this.columnHeaderHeight=20,this.crosshairColor="gray",this.height=300,this.heightSpec="Auto",this.theme="kanban_default",this.cellMarginBottom=4,this.cellMarginTop=5,this.rowMinHeight=0,this.swimlaneCollapsingEnabled=!1,this.swimlaneHeaderWidth=80,this.visible=!0,this.swimlanes={},this.swimlanes.list=[],this.columns={},this.columns.list=[],this.cards={},this.cards.list=[],this.cardDeleteHandling="Disabled",this.cardMoveHandling="Update",this.columnMoveHandling="Disabled",this.swimlaneMoveHandling="Disabled",this.onBeforeCellRender=null,this.onCardClick=null,this.onCardClicked=null,this.onCardDelete=null,this.onCardDeleted=null,this.onCardMove=null,this.onCardMoved=null,this.onColumnMove=null,this.onColumnMoved=null,this.onHeightChanged=null,this.onSwimlaneMove=null,this.onSwimlaneMoved=null;var i=new DayPilot.Scheduler(t);this.scheduler=i;var o={};o.translate=function(){var t=i;t.startDate="2000-01-01",t.scale="Day",t.timeHeaders=[{groupBy:"Cell",format:"d"}],t.heightSpec=n.heightSpec,t.cellWidthSpec="Auto",t.cellsMarkBusiness=!1,t.crosshairColor=n.crosshairColor,t.dynamicEventRendering="Disabled",t.floatingEvents=!1,t.floatingTimeHeaders=!1,t.rowMinHeight=n.rowMinHeight,t.rowMarginTop=n.cellMarginTop,t.rowMarginBottom=n.cellMarginBottom,t.eventMoveToPosition=!0,t.headerHeight=n.columnHeaderHeight,t.eventResizeHandling="Disabled",t.timeRangeSelectedHandling="Disabled",t.eventHeight=n.cardHeight,t.eventMarginLeft=n.cardMarginLeft,t.eventMarginRight=n.cardMarginRight,t.eventMarginBottom=n.cardMarginBottom,t.eventTextWrappingEnabled=!0,t.cellStacking=!0,t.cellStackingAutoHeight=n.cardAutoHeight,t.durationBarVisible=!1,t.theme=n.theme,t.visible=n.visible,t.rowHeaderWidth=n.swimlaneHeaderWidth,t.eventDeleteHandling=n.cardDeleteHandling,t.eventMoveHandling=n.cardMoveHandling,t.rowMoveHandling=DayPilot.list(n.swimlanes.list).isEmpty()?"Disabled":n.swimlaneMoveHandling,t.onHeightChanged=n.onHeightChanged,t.internal.cssNames.timeheadercol="_colheadercell",t.internal.cssNames.timeheadercolInner="_colheadercell_inner",t.internal.cssNames.resourcedivider="_rowheaderdivider",t.internal.cssNames.event="_card",t.internal.cssNames.eventInner="_card_inner",t.internal.cssNames.eventDelete="_card_delete",t.internal.cssNames.eventMovingSource="_card_moving_source",n.swimlaneCollapsingEnabled&&(t.rowHeaderWidthMarginRight=15),t.onBeforeTimeHeaderRender=function(t){var e=n.Hd(t.header.start);if(t.header.html=e.name,t.header.toolTip=e.toolTip||"",t.header.areas=DayPilot.list(e.areas).map(function(t){var e=[];return DayPilot.Util.copyProps(t,e),e}),DayPilot.list(t.header.areas).each(function(t){t.target=new DayPilot.Column(e,n)}),"Disabled"!==n.columnMoveHandling){var i=n.theme+"_columnmove_handle";t.header.areas.push({left:0,top:0,width:20,height:20,css:i,mousedown:n.Id,action:"None"})}},t.onBeforeCellRender=function(e){var i={};i.cell={},i.cell.column=new DayPilot.Column(n.Hd(e.cell.start),n),i.cell.swimlane=null;var o=n.Jd(e.cell.resource);o&&(i.cell.swimlane=new DayPilot.Swimlane(o,n)),i.cell.areas=[],i.cell.cssClass=null,i.cell.html=null,i.cell.backImage=null,i.cell.backRepeat=null,i.cell.backColor=null,"function"==typeof n.onBeforeCellRender&&(n.onBeforeCellRender(i),DayPilot.Util.copyProps(i.cell,e.cell,["areas","cssClass","html","backImage","backRepeat","backColor"]),DayPilot.list(e.cell.areas).each(function(t){t.target={swimlane:i.cell.swimlane,column:i.cell.column}}));var a=t.rows.find(e.cell.resource);t.resources[a.index].collapsed&&(e.cell.cssClass||(e.cell.cssClass=""),e.cell.cssClass+=" "+n.theme+"_collapsed")},t.onEventClick=function(t){var e=new DayPilot.Args(t);e.card=new DayPilot.Card(t.e.data.card,n),"function"==typeof n.onCardClick&&n.onCardClick(e),t.wrapped=e},t.onEventClicked=function(t){var e=t.wrapped;"function"==typeof n.onCardClicked&&n.onCardClicked(e)},t.onEventDelete=function(t){var e=new DayPilot.Args(t);e.card=new DayPilot.Card(t.e.data.card,n),"function"==typeof n.onCardDelete&&n.onCardDelete(e),t.wrapped=e},t.onEventDeleted=function(t){DayPilot.rfa(n.cards.list,t.e.data.card);var e=t.wrapped;"function"==typeof n.onCardDeleted&&n.onCardDeleted(e)},t.onEventMove=function(t){var e=new DayPilot.Args(t);e.card=new DayPilot.Card(t.e.data.card,n),e.column=new DayPilot.Column(n.Hd(t.newStart)),e.position=t.position,"*"!==t.newResource?e.swimlane=new DayPilot.Swimlane(n.Jd(t.newResource),n):e.swimlane=null;for(var a=i.cells.find(t.newStart,t.newResource)[0].events(),r=t.position,l=null,s=r-1;a[s];){if(a[s].data!==t.e.data){l=new DayPilot.Card(a[s]);break}s-=1}for(var c=null,u=r;a[u];){if(a[u].data!==t.e.data){c=new DayPilot.Card(a[u]);break}u+=1}if(e.previous=l,e.next=c,"function"==typeof n.onCardMove&&n.onCardMove(e),t.wrapped=e,!t.preventDefault.value){var d=0;c?d=c.wrapped.data.sort[0]:l&&(d=l.wrapped.data.sort[0]),t.e.data.sort=[d,(new DayPilot.Date).toString()],DayPilot.rfa(n.cards.list,t.e.data.card);var h=0;c?h=DayPilot.indexOf(n.cards.list,c.data):l&&(h=DayPilot.indexOf(n.cards.list,l.data)+1),n.cards.list.splice(h,0,t.e.data.card),o.updateSort()}},t.onEventMoved=function(t){var e=t.wrapped,i=DayPilot.list(n.cards.list).find(function(e){return t.e.data.card===e});i.swimlane=e.swimlane?e.swimlane.data.id:null,i.column=e.column.data.id,"function"==typeof n.onCardMoved&&n.onCardMoved(e)},t.onBeforeResHeaderRender=function(t){if(n.swimlaneCollapsingEnabled&&!DayPilot.list(n.swimlanes.list).isEmpty()){var e=n.theme+"_swimlane_collapse";t.resource.collapsed&&(e=n.theme+"_swimlane_expand"),t.resource.areas=[{right:0,top:0,height:15,width:15,action:"JavaScript",css:e,js:function(){n.Kd(t.resource.index)}}]}},t.onRowMove=function(t){var e=new DayPilot.Args(t);t.wrapped=e,e.swimlane=new DayPilot.Swimlane(t.source.$.row.swimlane);var o=0;switch(t.position){case"before":o=t.target.index;break;case"after":o=t.target.index+1;break;default:throw"Unexpected target swimlane position: "+t.position}e.position=o,e.previous=null;for(var a=o-1;i.rowlist[a]&&i.rowlist[a].swimlane!==e.swimlane.data;)e.previous=new DayPilot.Swimlane(i.rowlist[a].swimlane),a-=1;e.next=null;for(var r=o;i.rowlist[r]&&i.rowlist[r].swimlane!==e.swimlane.data;)e.next=new DayPilot.Swimlane(i.rowlist[r].swimlane),r+=1;"function"==typeof n.onSwimlaneMove&&n.onSwimlaneMove(e)},t.onRowMoved=function(t){var e=t.wrapped;DayPilot.rfa(n.swimlanes.list,e.swimlane.data);var i=0;e.next?i=DayPilot.indexOf(n.swimlanes.list,e.next.data):e.previous&&(i=DayPilot.indexOf(n.swimlanes.list,e.previous.data)+1),n.swimlanes.list.splice(i,0,e.swimlane.data),"function"==typeof n.onSwimlaneMoved&&n.onSwimlaneMoved(e)},t.treePreventParentUsage=!0},o.loadCards=function(){var t=new DayPilot.Date("2000-01-01"),e=n.theme+"_card_header",o=n.theme+"_card_body",a=(new DayPilot.Date).toString();i.sortDirections=["asc","desc"],i.events.list=DayPilot.list(n.cards.list).map(function(i,r){var l=i.html||i.text||"",s=i.name||"",c={};return c.id=i.id,c.text=i.text,c.html="<div class='"+e+"'>"+s+"</div><div class='"+o+"'>"+l+"</div>",c.resource=i.swimlane,c.start=t.addDays(DayPilot.list(n.columns.list).findIndex(function(t){return i.column===t.id})),c.end=c.start.addDays(1),c.card=i,c.height=i.height,c.cssClass=i.cssClass,c.sort=[r,a],c.areas=DayPilot.list(i.areas).map(function(t){var e={};return DayPilot.Util.copyProps(t,e),t.js&&(e.js=function(e){t.js(new DayPilot.Card(e.data.card,n))}),e}),c.areas.push({left:0,width:5,top:0,bottom:0,backColor:i.barColor,cssClass:n.theme+"_card_bar"}),c})},o.updateSort=function(){var t=(new DayPilot.Date).toString();DayPilot.list(n.cards.list).each(function(e,n){var i=o.findSchedulerEventData(e);i&&(i.sort=[n,t])})},o.findSchedulerEventData=function(t){return DayPilot.list(i.events.list).find(function(e){return e.card===t})},o.loadSwimlanes=function(){var t=DayPilot.list(n.swimlanes.list);i.resources=t.map(function(t){var e={};return e.name=t.name,e.id=t.id,e.swimlane=t,t.collapsed&&(e.collapsed=!0,e.eventHeight=20,e.hideEvents=!0),e}),t.isEmpty()&&(i.resources=[{name:"",id:"*"}])},o.loadColumns=function(){var t=DayPilot.list(n.columns.list);i.days=t.length};var a={};a.active=null,a.div=null,a.update=function(){a.clear();var t=a.findPosition();a.draw(t)},a.clear=function(){DayPilot.de(a.div),a.div=null},a.draw=function(t){var e=0;if(t>=i.itline.length){var o=i.itline[i.itline.length-1];e=o.left+o.width-3}else e=i.itline[t].left;var r=document.createElement("div");r.style.position="absolute",r.style.left=e+"px",r.style.width="3px",r.style.top=0,r.style.height=i.headerHeight+"px",r.className=n.theme+"_columnmove_position",a.div=r,i.nav.timeHeader.appendChild(r)},a.findPosition=function(){if(n.coords.x<0)return 0;var t=DayPilot.list(i.itline).findIndex(function(t){var e=t.left+i.rowHeaderWidth,o=t.width;return n.coords.x<e+o/2});return-1===t?i.itline.length:t},this.Id=function(t){a.active=t},this.Hd=function(t){return n.columns.list[t.getDay()-1]},this.Jd=function(t){return DayPilot.list(n.swimlanes.list).find(function(e){return e.id===t})},this.message=function(t,e,n,o){i.message(t,e,n,o)},this.show=function(){n.visible=!0,i.show()},this.hide=function(){n.visible=!1,i.hide()},this.cards.add=function(t){var e=null;e=t&&t instanceof DayPilot.Card?t.data:t,t&&(n.cards.list.push(e),n.update())},this.cards.remove=function(t){t&&t instanceof DayPilot.Card&&t.data,t&&(DayPilot.rfa(n.cards.list,t),n.update())},this.cards.update=function(t){n.update()},this.Kd=function(t){DayPilot.list(n.swimlanes.list).isEmpty()||(n.swimlanes.list[t].collapsed=!n.swimlanes.list[t].collapsed),n.update()},this.init=function(){o.translate(),o.loadSwimlanes(),o.loadColumns(),o.loadCards(),i.init(),n.Pc(),this.z=!0},this.xd=!1,this.dispose=function(){i.dispose(),n.xd=!0},this.update=function(){if(n.xd)throw new DayPilot.Error("This DayPilot.Gantt instance has been disposed.");o.translate(),o.loadSwimlanes(),o.loadColumns(),o.loadCards(),i.update()},this.Pc=function(){DayPilot.re(document,"mouseup",n.Ld),DayPilot.re(document,"mousemove",n.Md)},this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){n.Jc.scope&&n.Jc.scope.$apply()},this.ld=null,this.md=function(t){var e={cards:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?n.cards.list=t.list:n.cards.list=t)}},columns:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?n.columns.list=t.list:n.columns.list=t)}},swimlanes:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?n.swimlanes.list=t.list:n.swimlanes.list=t)}}};this.ld=e,n.columns.list=[],n.swimlanes.list=[],n.cards.list=[];for(var i in t)if(e[i]){var o=e[i];o.data=t[i],o.preInit&&o.preInit()}else n[i]=t[i]},this.kd=function(){var t=this.ld;for(var e in t){var n=t[e];n.postInit&&n.postInit()}},this.internal={},this.internal.loadOptions=n.md,this.md(e),this.Lc=function(){var t=dp.nav.top;return!!t&&t.offsetWidth>0&&t.offsetHeight>0},this.Mc=function(){var t=n,e=t.Lc;e()||(t.Nc=setInterval(function(){e()&&(t.update(),clearInterval(t.Nc))},100))},this.Md=function(t){n.coords=DayPilot.mo3(i.nav.top,t),a.active&&a.update()},this.Ld=function(t){if(a.active){var e=a.active.source,i=a.findPosition(),o=n.Hd(e.start),r=new DayPilot.Args;r.column=new DayPilot.Column(o,n),r.position=i,r.previous=null,r.next=null;for(var l=null,s=r.position;0!==s&&!l;)o!==n.columns.list[s-1]&&(l=n.columns.list[s-1]),s-=1;l&&(r.previous=new DayPilot.Column(l,n));var c=null;for(s=r.position;s<n.columns.list.length-1&&!c;)o!==n.columns.list[s]&&(c=n.columns.list[s]),s+=1;if(c&&(r.next=new DayPilot.Column(c,n)),"function"==typeof n.onColumnMove&&n.onColumnMove(r),!r.preventDefault.value){if("Update"===n.columnMoveHandling){DayPilot.rfa(n.columns.list,r.column.data);var u=0;r.next?u=DayPilot.indexOf(n.columns.list,r.next.data):r.previous&&(u=DayPilot.indexOf(n.columns.list,r.previous.data)+1),n.columns.list.splice(u,0,r.column.data),n.update()}"function"==typeof n.onColumnMoved&&n.onColumnMove(r)}a.active=null,a.clear()}}},DayPilot.Card=function(t,e){if(t instanceof DayPilot.Event){var n=t;this.data=n.data.card,this.wrapped=t}else this.data=t;this.control=e},DayPilot.Column=function(t,e){this.data=t,this.control=e},DayPilot.Swimlane=function(t,e){this.data=t,this.control=e},function(){var t=DayPilot.am();t&&t.directive("daypilotKanban",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,n){return e.replaceWith(this.template.replace("{{id}}",n.id)),function(e,n,i){var o=new DayPilot.Kanban(n[0]);o.Jc.scope=e,o.init();var a=i.id;a&&(e[a]=o);var r=i.publishAs;r&&(0,t(r).assign)(e,o);for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?function(n){o[n]=function(o){var a=t(i[n]);e.$apply(function(){a(e,{args:o})})}}(l):function(n){o[n]=function(o){t(i[n])(e,{args:o})}}(l)}var c=e.$watch,u=i.config||i.daypilotConfig;c.call(e,u,function(t,e){o.md(t),o.update()},!0)}}}}])}())}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){if(void 0===DayPilot.Menu){var t=function(){},e={};e.mouse=null,e.menu=null,e.handlersRegistered=!1,e.hideTimeout=null,e.waitingSubmenu=null,DayPilot.Menu=function(n){var i=this,o=null;this.v="2826",this.zIndex=10,this.cssClassPrefix="menu_default",this.cssOnly=!0,this.menuTitle=null,this.showMenuTitle=!1,this.hideOnMouseOut=!1,this.theme=null,this.onShow=null,this.n=function(){},n&&DayPilot.isArray(n)&&(this.items=n),this.show=function(n,a){var a=a||{},r=null;if(n?"string"==typeof n.id||"number"==typeof n.id?r=n.id:"function"==typeof n.id?r=n.id():"function"==typeof n.value&&(r=n.value()):r=null,void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),a.submenu||e.menuClean(),this.n.submenu=null,null!==e.mouse){i.cssOnly||(i.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0."));var l=null;if(n&&n.isRow&&n.$.row.task?(l=new DayPilot.Task(n.$.row.task,n.calendar),l.menuType="resource"):l=n&&n.isEvent&&n.data.task?new DayPilot.Task(n,n.calendar):n,"function"==typeof i.onShow){var s={};if(s.source=l,s.menu=i,s.preventDefault=function(){s.preventDefault.value=!0},i.onShow(s),s.preventDefault.value)return}var c=document.createElement("div");if(c.style.position="absolute",c.style.top="0px",c.style.left="0px",c.style.display="none",c.style.overflow="hidden",c.style.zIndex=this.zIndex+1,c.className=this.applyCssClass("main"),c.onclick=function(t){t.cancelBubble=!0,this.parentNode.removeChild(this)},this.hideOnMouseOut&&(c.onmousemove=function(t){clearTimeout(e.hideTimeout)},c.onmouseout=function(t){i.delayedHide()}),!this.items||0===this.items.length)throw"No menu items defined.";if(this.showMenuTitle){var u=document.createElement("div");u.innerHTML=this.menuTitle,u.className=this.applyCssClass("title"),c.appendChild(u)}for(var d=0;d<this.items.length;d++){var h=this.items[d],f=document.createElement("div");if(DayPilot.Util.addClass(f,this.applyCssClass("item")),h.items&&DayPilot.Util.addClass(f,this.applyCssClass("item_haschildren")),void 0!==h&&!h.hidden){if("-"===h.text){var p=document.createElement("div");f.appendChild(p)}else{var v=document.createElement("a");if(v.style.position="relative",v.style.display="block",h.cssClass&&DayPilot.Util.addClass(v,h.cssClass),h.disabled)DayPilot.Util.addClass(v,i.applyCssClass("item_disabled"));else{if(h.onclick||h.onClick){v.item=h,v.onclick=function(t,e){return function(n){if("function"==typeof t.onClick){var i={};if(i.item=t,i.source=e.source,i.originalEvent=n,i.preventDefault=function(){i.preventDefault.value=!0},t.onClick(i),i.preventDefault.value)return}t.onclick&&t.onclick.call(e,n)}}(h,v);var g=function(t,n){return function(i){i.stopPropagation(),i.preventDefault();var o=function(){window.setTimeout(function(){n.source.calendar.internal.touch.active=!1},500)};if("function"==typeof t.onClick){var a={};if(a.item=t,a.originalEvent=i,a.preventDefault=function(){a.preventDefault.value=!0},t.onClick(a),a.preventDefault.value)return void o()}t.onclick&&t.onclick.call(n,i),e.menuClean(),o()}};v.ontouchstart=function(t){t.stopPropagation(),t.preventDefault(),v.source.calendar.internal.touch.active=!0},v.ontouchend=g(h,v)}if(h.onclick)t();else if(h.href)v.href=h.href.replace(/\x7B0\x7D/gim,r),h.target&&v.setAttribute("target",h.target);else if(h.command){var m=function(t,e){return function(n){var i=e.source,o=t;o.action=o.action?o.action:"CallBack";var a=i.calendar||i.root;if(i instanceof DayPilot.Link)return void a.internal.linkMenuClick(o.command,i,o.action);if(i instanceof DayPilot.Selection)return void a.internal.timeRangeMenuClick(o.command,i,o.action);if(i instanceof DayPilot.Event)return void a.internal.eventMenuClick(o.command,i,o.action);if(i instanceof DayPilot.Selection)return void a.internal.timeRangeMenuClick(o.command,i,o.action);if(i instanceof DayPilot.Task)return void("resource"===i.menuType?a.internal.resourceHeaderMenuClick(o.command,e.menuSource,o.action):a.internal.eventMenuClick(o.command,e.menuSource,o.action));switch(i.menuType){case"resource":return void a.internal.resourceHeaderMenuClick(o.command,i,o.action);case"selection":return void a.internal.timeRangeMenuClick(o.command,i,o.action);default:return void a.internal.eventMenuClick(o.command,i,o.action)}n.preventDefault()}};v.onclick=m(h,v),v.ontouchend=m(h,v)}}v.source=l,v.menuSource=n;var y=document.createElement("span");if(y.className=i.applyCssClass("item_text"),y.innerHTML=h.text,v.appendChild(y),h.image){var b=document.createElement("img");b.src=h.image,b.style.position="absolute",b.style.top="0px",b.style.left="0px",v.appendChild(b)}if(h.icon){var w=document.createElement("span");w.className=i.applyCssClass("item_icon");var D=document.createElement("i");D.className=h.icon,w.appendChild(D),v.appendChild(w)}var C=function(t,n){return function(){var o=n.source,a=t,r=e.waitingSubmenu;if(r){if(r.parent===a)return;clearTimeout(r.timeout),e.waitingSubmenu=null}e.waitingSubmenu={},e.waitingSubmenu.parent=a,e.waitingSubmenu.timeout=setTimeout(function(){if(e.waitingSubmenu=null,(!i.n.submenu||i.n.submenu.item!==a)&&(i.n.submenu&&i.n.submenu.item!==a&&(DayPilot.Util.removeClass(i.n.submenu.link.parentNode,i.applyCssClass("item_haschildren_active")),i.n.submenu.menu.hide(),i.n.submenu=null),a.items)){var r=i.cloneOptions();r.items=a.items,i.n.submenu={},i.n.submenu.menu=new DayPilot.Menu(r),i.n.submenu.menu.show(o,{submenu:!0,parentLink:n,parentItem:t}),i.n.submenu.item=a,i.n.submenu.link=n,DayPilot.Util.addClass(n.parentNode,i.applyCssClass("item_haschildren_active"))}},300)}};v.onmouseover=C(h,v),f.appendChild(v)}c.appendChild(f)}}var k=function(t){window.setTimeout(function(){e.menuClean(),DayPilot.MenuBar.deactivate()},100)};c.onclick=k,c.ontouchend=k,c.onmousedown=function(t){t=t||window.event,t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation()},c.oncontextmenu=function(){return!1},document.body.appendChild(c),i.n.visible=!0,i.n.source=n,c.style.display="";var x=c.offsetHeight,P=c.offsetWidth;c.style.display="none";var _=document.documentElement.clientHeight,S=document.documentElement.clientWidth;if(function(){var t="number"==typeof a.x?a.x:e.mouse.x+1,n="number"==typeof a.y?a.y:e.mouse.y+1;if(e.mouse.clientY>_-x&&0!==_){var i=e.mouse.clientY-(_-x)+5;c.style.top=n-i+"px"}else c.style.top=n+"px";if(e.mouse.clientX>S-P&&0!==S){var o=e.mouse.clientX-(S-P)+5;c.style.left=t-o+"px"}else c.style.left=t+"px"}(),a.parentLink){var A=a.parentLink,E=parseInt(new DayPilot.StyleReader(c).get("border-top-width")),T=DayPilot.abs(a.parentLink.parentNode),R=T.x+A.offsetWidth,M=T.y-E;R+P>S&&(R=Math.max(0,T.x-P));var H=document.body.scrollTop+document.documentElement.scrollTop;M+x-H>_&&(M=Math.max(0,_-x+H)),c.style.left=R+"px",c.style.top=M+"px"}c.style.display="",this.addShadow(c),this.n.div=c,a.submenu||(DayPilot.Menu.active=this),function(){var t=a.initiator;if(t){var e=t.div,n=t.e,i=t.area,r=DayPilot.Areas.createArea(e,n,i);e.appendChild(r),o=r}}()}},this.applyCssClass=function(t){var e=this.theme||this.cssClassPrefix,n=this.cssOnly?"_":"";return e?e+n+t:""},this.cloneOptions=function(){for(var t={},e=["cssOnly","cssClassPrefix","useShadow","zIndex"],n=0;n<e.length;n++){var i=e[n];t[i]=this[i]}return t},this.hide=function(){this.n.submenu&&this.n.submenu.menu.hide(),this.removeShadow(),this.n.div&&this.n.div.parentNode===document.body&&document.body.removeChild(this.n.div),o&&(DayPilot.de(o),o=null),i.n.visible=!1,i.n.source=null},this.delayedHide=function(){e.hideTimeout=setTimeout(function(){i.hide()},200)},this.cancelHideTimeout=function(){clearTimeout(e.hideTimeout)},this.init=function(t){e.mouseMove(t)},this.addShadow=function(t){},this.removeShadow=function(){if(this.n.shadows){for(var t=0;t<this.n.shadows.length;t++)document.body.removeChild(this.n.shadows[t]);this.n.shadows=[]}};var a=DayPilot.isArray(n)?null:n;if(a)for(var r in a)this[r]=a[r]},DayPilot.MenuBar=function(t,e){var n=this,e=e||{},i=e.items;this.theme="menubar_default",this.nav={},this.elements={},this.elements.items=DayPilot.list(),this.Nd=null,this.Od=function(t){return this.theme+"_"+t},this.ma=function(){this.nav.top=document.getElementById(t);var e=this.nav.top;e.className=this.Od("main"),DayPilot.list(i).each(function(t){var i=document.createElement("span");i.innerHTML=t.text,i.className=n.Od("item"),i.data=t,i.onclick=function(){t.children&&n.Pd(i)},i.onmousedown=function(t){t.stopPropagation()},i.onmouseover=function(){n.active&&n.active.item!==t&&n.Pd(i)},e.appendChild(i),n.elements.items.push(i)})},this.Qd=function(){var t=n.Od("item_active");n.elements.items.each(function(e){DayPilot.Util.removeClass(e,t)}),n.active&&n.active.menu&&n.active.menu.hide(),n.active=null},this.Rd=function(t){return!!n.active&&n.active.item===t.data},this.Pd=function(t){if(!n.Rd(t)){n.Qd();var e=t.data,i=n.active={};i.item=e,i.div=t;var o=n.Od("item_active");DayPilot.Util.addClass(t,o),e.children&&(i.menu=new DayPilot.Menu({items:e.children}),i.menu.show(null,{x:t.offsetLeft,y:t.offsetTop+t.offsetHeight})),DayPilot.MenuBar.active=n}},this.init=function(){this.ma()}},DayPilot.MenuBar.deactivate=function(){DayPilot.MenuBar.active&&(DayPilot.MenuBar.active.Qd(),DayPilot.MenuBar.active=null)},e.menuClean=function(){void 0!==DayPilot.Menu.active&&DayPilot.Menu.active&&(DayPilot.Menu.active.hide(),DayPilot.Menu.active=null)},e.mouseDown=function(t){void 0!==e&&(e.menuClean(),DayPilot.MenuBar.deactivate())},e.mouseMove=function(t){void 0!==e&&(e.mouse=e.mousePosition(t))},e.touchMove=function(t){void 0!==e&&(e.mouse=e.touchPosition(t))},e.touchStart=function(t){void 0!==e&&(e.mouse=e.touchPosition(t))},e.touchEnd=function(t){},e.touchPosition=function(t){if(!t||!t.touches)return null;var e=t.touches[0],n={};return n.x=e.pageX,n.y=e.pageY,n.clientX=e.clientX,n.clientY=e.clientY,n},e.mousePosition=function(t){var e=0,n=0,t=t||window.event;t.pageX||t.pageY?(e=t.pageX,n=t.pageY):(t.clientX||t.clientY)&&(e=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,n=t.clientY+document.body.scrollTop+document.documentElement.scrollTop);var i={};return i.x=e,i.y=n,i.clientY=t.clientY,i.clientX=t.clientX,i},DayPilot.Menu.touchPosition=function(t){t.touches&&(e.mouse=e.touchPosition(t))},e.handlersRegistered||(DayPilot.re(document,"mousemove",e.mouseMove),DayPilot.re(document,"mousedown",e.mouseDown),DayPilot.re(document,"touchmove",e.touchMove),DayPilot.re(document,"touchstart",e.touchStart),DayPilot.re(document,"touchend",e.touchEnd),e.handlersRegistered=!0),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot&&(DayPilot={}),function(){DayPilot.ModalStatic={},DayPilot.ModalStatic.list=[],DayPilot.ModalStatic.hide=function(){if(this.list.length>0){var t=this.list.pop();t&&t.hide()}},DayPilot.ModalStatic.remove=function(t){for(var e=DayPilot.ModalStatic.list,n=0;n<e.length;n++)if(e[n]===t)return void e.splice(n,1)},DayPilot.ModalStatic.close=function(t){DayPilot.ModalStatic.result(t),DayPilot.ModalStatic.hide()},DayPilot.ModalStatic.result=function(t){var e=DayPilot.ModalStatic.list;e.length>0&&(e[e.length-1].result=t)},DayPilot.ModalStatic.displayed=function(t){for(var e=DayPilot.ModalStatic.list,n=0;n<e.length;n++)if(e[n]===t)return!0;return!1},DayPilot.ModalStatic.stretch=function(){if(this.list.length>0){var t=this.list[this.list.length-1];t&&t.stretch()}},DayPilot.ModalStatic.last=function(){var t=DayPilot.ModalStatic.list;return t.length>0?t[t.length-1]:null};var t=function(){var t=document.createElement("style");t.setAttribute("type","text/css"),t.styleSheet||t.appendChild(document.createTextNode("")),(document.head||document.getElementsByTagName("head")[0]).appendChild(t);var e=!!t.styleSheet,n={};return n.rules=[],n.commit=function(){try{e&&(t.styleSheet.cssText=this.rules.join("\n"))}catch(t){}},n.add=function(n,i,o){if(e)return void this.rules.push(n+"{"+i+"}");if(t.sheet.insertRule)void 0===o&&(o=t.sheet.cssRules.length),t.sheet.insertRule(n+"{"+i+"}",o);else{if(!t.sheet.addRule)throw"No CSS registration method found";t.sheet.addRule(n,i,o)}},n},e=new t;e.add(".modal_default_main","border: 10px solid #ccc;"),e.add(".modal_default_inner","padding: 10px;"),e.add(".modal_default_input","padding: 10px 0px;"),e.add(".modal_default_buttons","padding: 10px 0px;"),e.add(".modal_default_background","opacity: 0.3; background-color: #000;"),e.add(".modal_min_main","border: 1px solid #ccc;"),e.add(".modal_min_background","opacity: 0.3; background-color: #000;"),e.commit(),DayPilot.Modal=function(t){this.autoStretch=!0,this.autoStretchFirstLoadOnly=!1,this.className=null,this.theme="modal_default",this.disposeOnClose=!0,this.dragDrop=!0,this.loadingHtml=null,this.maxHeight=null,this.scrollWithPage=!0,this.useIframe=!0,this.zIndex=null,this.left=null,this.width=500,this.top=20,this.height=200,this.closed=null,this.onClosed=null,this.onShow=null;var e=this;this.id="_"+(new Date).getTime()+"n"+10*Math.random(),this.Sd=!1,this.Td=null,this.Ud=null,this.showHtml=function(t){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.div||this.Vd(),this.ad(),this.useIframe){var e=function(t,e){return function(){t.setInnerHTML(t.id+"iframe",e)}};window.setTimeout(e(this,t),0)}else t.nodeType?this.div.appendChild(t):this.div.innerHTML=t;this.ad(),this.Wd(),this.Xd()},this.Yd=function(){return this.corners&&"rounded"===this.corners.toLowerCase()},this.showUrl=function(t){if(DayPilot.ModalStatic.displayed(this))throw"This modal dialog is already displayed.";if(this.useIframe){this.div||this.Vd();var n=this.loadingHtml;n&&(this.iframe.src="about:blank",this.setInnerHTML(this.id+"iframe",n)),this.re(this.iframe,"load",this.Zd),this.iframe.src=t,this.ad(),this.Wd(),this.Xd()}else e.$d({url:t,success:function(t){var n=t.request.responseText;e.showHtml(n)},error:function(t){e.showHtml("Error loading the modal dialog")}})},this.Xd=function(){if("function"==typeof e.onShow){var t={};t.root=e._d(),e.onShow(t)}},this._d=function(){return e.iframe?e.iframe.contentWindow.document:e.div},this.$d=function(t){var e=new XMLHttpRequest;if(e){var n=t.method||"GET",i=t.success||function(){},o=t.error||function(){},a=t.data,r=t.url;e.open(n,r,!0),e.setRequestHeader("Content-type","text/plain"),e.onreadystatechange=function(){if(4===e.readyState)if(200===e.status||304===e.status){var t={};t.request=e,i(t)}else if(o){var t={};t.request=e,o(t)}else window.console&&console.log("HTTP error "+e.status)},4!==e.readyState&&("object"==typeof a&&(a=JSON.stringify(a)),e.send(a))}},this.ad=function(){var t=window,n=document,i=t.pageYOffset?t.pageYOffset:n.documentElement&&n.documentElement.scrollTop?n.documentElement.scrollTop:n.body.scrollTop;this.theme&&(this.hideDiv.className=this.theme+"_background"),this.zIndex&&(this.hideDiv.style.zIndex=this.zIndex),this.hideDiv.style.display="",window.setTimeout(function(){e.hideDiv.onclick=function(){e.hide({backgroundClick:!0})}},500),this.theme?this.div.className=this.theme+"_main":this.div.className="",this.className&&(this.div.className+=" "+this.className),this.left?this.div.style.left=this.left+"px":this.div.style.marginLeft="-"+Math.floor(this.width/2)+"px",this.div.style.position="absolute",this.div.style.boxSizing="content-box",this.div.style.top=i+this.top+"px",this.div.style.width=this.width+"px",this.zIndex&&(this.div.style.zIndex=this.zIndex),this.height&&(this.useIframe||!this.autoStretch?this.div.style.height=this.height+"px":this.div.style.height=""),this.useIframe&&this.height&&(this.iframe.style.height=this.height+"px"),this.div.style.display="",DayPilot.ModalStatic.list.push(this)},this.Zd=function(){e.iframe.contentWindow.modal=e,e.autoStretch&&e.stretch()},this.stretch=function(){var t=function(){return e.ae().y},n=function(){return e.ae().x};if(this.useIframe){for(var i=n()-40,o=this.width;o<i&&this.be();o+=10)this.div.style.width=o+"px",this.div.style.marginLeft="-"+Math.floor(o/2)+"px";for(var a=this.maxHeight||t()-2*this.top,r=this.height;r<a&&this.ce();r+=10)this.iframe.style.height=r+"px",this.div.style.height=r+"px";this.autoStretchFirstLoadOnly&&this.ue(this.iframe,"load",this.Zd)}else this.div.style.height=""},this.be=function(){for(var t=this.iframe.contentWindow.document,e="BackCompat"===t.compatMode?t.body:t.documentElement,n=e.scrollWidth,i=t.body.children,o=0;o<i.length;o++){var a=i[o].offsetLeft+i[o].offsetWidth;n=Math.max(n,a)}return n>e.clientWidth},this.ce=function(){for(var t=this.iframe.contentWindow.document,e="BackCompat"===t.compatMode?t.body:t.documentElement,n=e.scrollHeight,i=t.body.children,o=0;o<i.length;o++){var a=i[o].offsetTop+i[o].offsetHeight;n=Math.max(n,a)}return n>e.clientHeight},this.ae=function(){var t=document;if("CSS1Compat"===t.compatMode&&t.documentElement&&t.documentElement.clientWidth){var e=t.documentElement.clientWidth,n=t.documentElement.clientHeight;return{x:e,y:n}}var e=t.body.clientWidth,n=t.body.clientHeight;return{x:e,y:n}},this.Wd=function(){this.Sd||(this.re(window,"resize",this.ee),this.re(window,"scroll",this.fe),this.dragDrop&&(this.re(document,"mousemove",this.ge),this.re(document,"mouseup",this.je)),this.Sd=!0)},this.ke=function(t){t.target===e.div&&(e.div.style.cursor="move",e.le(),e.Ud=e.mc(t||window.event),e.Td={x:e.div.offsetLeft,y:e.div.offsetTop})},this.ge=function(t){if(e.Ud){var t=t||window.event,n=e.mc(t),i=n.x-e.Ud.x,o=n.y-e.Ud.y;e.div.style.marginLeft="0px",e.div.style.top=e.Td.y+o+"px",e.div.style.left=e.Td.x+i+"px"}},this.je=function(t){e.Ud&&(e.me(),e.div.style.cursor=null,e.Ud=null)},this.le=function(){if(this.useIframe){var t=document.createElement("div");t.style.backgroundColor="#ffffff",t.style.filter="alpha(opacity=80)",t.style.opacity="0.80",t.style.width="100%",t.style.height=this.height+"px",t.style.position="absolute",t.style.left="0px",t.style.top="0px",this.div.appendChild(t),this.mask=t}},this.me=function(){this.useIframe&&(this.div.removeChild(this.mask),this.mask=null)},this.ee=function(){e.ne},this.fe=function(){e.ne},this.ne=function(){if(e.hideDiv&&e.div&&"none"!==e.hideDiv.style.display&&"none"!==e.div.style.display){var t=window.pageYOffset?window.pageYOffset:document.documentElement&&document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop;e.scrollWithPage||(e.div.style.top=t+e.top+"px")}},this.re=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},this.ue=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},this.mc=function(t){return t.pageX||t.pageY?{x:t.pageX,y:t.pageY}:{x:t.clientX+document.documentElement.scrollLeft,y:t.clientY+document.documentElement.scrollTop}},this.abs=function(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t.offsetParent;)t=t.offsetParent,e.x+=t.offsetLeft,e.y+=t.offsetTop;return e},this.Vd=function(){var t=document.createElement("div");t.id=this.id+"hide",t.style.position="fixed",t.style.left="0px",t.style.top="0px",t.style.right="0px",t.style.bottom="0px",t.oncontextmenu=function(){return!1},t.onmousedown=function(){return!1},document.body.appendChild(t);var e=document.createElement("div");e.id=this.id+"popup",e.style.position="fixed",e.style.left="50%",e.style.top="0px",e.style.backgroundColor="white",e.style.width="50px",e.style.height="50px",this.dragDrop&&(e.onmousedown=this.ke);var n=null;this.useIframe&&(n=document.createElement("iframe"),n.id=this.id+"iframe",n.name=this.id+"iframe",n.frameBorder="0",n.style.width="100%",n.style.height="50px",e.appendChild(n)),document.body.appendChild(e),this.div=e,this.iframe=n,this.hideDiv=t},this.setInnerHTML=function(t,n){var i=window.frames[t],o=i.contentWindow||i.document||i.contentDocument;o.document&&(o=o.document),null==o.body&&o.write("<body></body>"),n.nodeType?o.body.appendChild(n):o.body.innerHTML=n,e.autoStretch&&(e.autoStretchFirstLoadOnly&&e.oe||(e.stretch(),e.oe=!0))},this.close=function(t){this.result=t,this.hide()},this.hide=function(t){t=t||{};var n={};n.backgroundClick=!!t.backgroundClick,n.result=this.result,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof this.onClose&&(this.onClose(n),n.preventDefault.value)||(this.div&&(this.div.style.display="none",this.hideDiv.style.display="none",this.useIframe||(this.div.innerHTML=null)),window.focus(),DayPilot.ModalStatic.remove(this),"function"==typeof this.onClosed?this.onClosed(n):this.closed&&this.closed(),this.result=null,!this.disposeOnClose||!e.div)||(e.div.parentNode.removeChild(e.div),e.div=null)},this.pe=function(){if(t)for(var e in t)this[e]=t[e]},this.pe()},DayPilot.Modal.alert=function(t,e){e=e||{},e.height=e.height||40,e.useIframe=!1;var n=e.okText||"OK";return e.cancelText,DayPilot.getPromise(function(i,o){e.onClosed=function(t){i(t)};var a=new DayPilot.Modal(e),r=document.createElement("div");r.className=a.theme+"_inner";var l=document.createElement("div");l.className=a.theme+"_content",l.innerHTML=t;var s=document.createElement("div");s.className=a.theme+"_buttons";var c=document.createElement("button");c.innerText=n,c.className=a.theme+"_ok",c.onclick=function(t){parent.DayPilot.ModalStatic.close("OK")},s.appendChild(c),r.appendChild(l),r.appendChild(s),a.showHtml(r),c.focus()})},DayPilot.Modal.confirm=function(t,e){e=e||{},e.height=e.height||40,e.useIframe=!1;var n=e.okText||"OK",i=e.cancelText||"Cancel";return DayPilot.getPromise(function(o,a){e.onClosed=function(t){o(t)};var r=new DayPilot.Modal(e),l=document.createElement("div");l.className=r.theme+"_inner";var s=document.createElement("div");s.className=r.theme+"_content",s.innerHTML=t;var c=document.createElement("div");c.className=r.theme+"_buttons";var u=document.createElement("button");u.innerText=n,u.className=r.theme+"_ok",u.onclick=function(t){parent.DayPilot.ModalStatic.close("OK")};var d=document.createTextNode(" "),h=document.createElement("button");h.innerText=i,h.className=r.theme+"_cancel",h.onclick=function(t){parent.DayPilot.ModalStatic.close()},c.appendChild(u),c.appendChild(d),c.appendChild(h),l.appendChild(s),l.appendChild(c),r.showHtml(l),u.focus()})},DayPilot.Modal.prompt=function(t,e,n){"object"==typeof e&&(n=e),n=n||{},n.height=n.height||40,n.useIframe=!1;var i=n.okText||"OK",o=n.cancelText||"Cancel",a=e||"";return DayPilot.getPromise(function(e,r){n.onClosed=function(t){e(t)};var l=new DayPilot.Modal(n),s=document.createElement("div");s.className=l.theme+"_inner";var c=document.createElement("div");c.className=l.theme+"_content",c.innerHTML=t;var u=document.createElement("div");u.className=l.theme+"_input";var d=document.createElement("input");d.innerText=a,d.style.width="100%",d.onkeydown=function(t){switch(t.keyCode){case 13:parent.DayPilot.ModalStatic.close(this.value);break;case 27:parent.DayPilot.ModalStatic.close()}},u.appendChild(d);var h=document.createElement("div");h.className=l.theme+"_buttons";var f=document.createElement("button");f.innerText=i,f.className=l.theme+"_ok",f.onclick=function(t){parent.DayPilot.ModalStatic.close(d.value)};var p=document.createTextNode(" "),v=document.createElement("button");v.innerText=o,v.className=l.theme+"_cancel",v.onclick=function(t){parent.DayPilot.ModalStatic.close()},h.appendChild(f),h.appendChild(p),h.appendChild(v),s.appendChild(c),s.appendChild(u),s.appendChild(h),l.showHtml(s),d.focus()})},DayPilot.Modal.close=function(t){if(!(parent&&parent.DayPilot&&parent.DayPilot.ModalStatic))throw"Unable to close DayPilot.Modal dialog.";parent.DayPilot.ModalStatic.close(t)},DayPilot.Modal.closeSerialized=function(){for(var t=DayPilot.Modal.opener()||DayPilot.ModalStatic.last(),e=t._d(),n=e.querySelectorAll("input, textarea, select"),i={},o=0;o<n.length;o++){var a=n[o],r=a.name;if(r){var l=a.value;i[r]=l}}DayPilot.Modal.close(i)},DayPilot.Modal.opener=function(){return parent&&parent.DayPilot&&parent.DayPilot.ModalStatic&&parent.DayPilot.ModalStatic.list[parent.DayPilot.ModalStatic.list.length-1]},void 0===DayPilot.getPromise&&(DayPilot.getPromise=function(t){return"undefined"!=typeof Promise?new Promise(t):(DayPilot.Promise=function(t){var e=this;this.then=function(e,n){return e=e||function(){},n=n||function(){},t(e,n),DayPilot.getPromise(t)},this.catch=function(n){return e.then(null,n),DayPilot.getPromise(t)}},new DayPilot.Promise(t))})}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){var t=function(){};if(void 0===DayPilot.Month){var e={};DayPilot.Month=function(n,i){this.v="2826",this.nav={};var o=this;this.id=n,this.isMonth=!0,this.api=2,this.z=!1,this.hideUntilInit=!0,this.startDate=new DayPilot.Date,this.width=null,"function"==typeof DayPilot.Bubble?this.bubble=new DayPilot.Bubble:this.bubble=null,this.cssClassPrefix="month_default",this.cellHeight=100,this.cellMarginBottom=0,this.allowMultiSelect=!0,this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.doubleClickTimeout=300,this.eventEndSpec="DateTime",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.headerBackColor="#ECE9D8",this.headerFontColor="#000000",this.headerFontFamily="Tahoma",this.headerFontSize="10pt",this.headerHeight=20,this.heightSpec="Auto",this.weekStarts=0,this.innerBorderColor="#cccccc",this.borderColor="black",this.eventHeight=25,this.cellHeaderHeight=16,this.clientState={},this.afterRender=function(){},this.backColor="#FFFFD5",this.nonBusinessBackColor="#FFF4BC",this.cellHeaderBackColor="",this.cellHeaderFontColor="#000000",this.cellHeaderFontFamily="Tahoma",this.cellHeaderFontSize="10pt",this.cssOnly=!0,this.eventBackColor="White",this.eventBorderColor="Black",this.eventCorners="Regular",this.eventFontColor="#000000",this.eventFontFamily="Tahoma",this.eventFontSize="11px",this.cellWidth=14.285,this.lineSpace=1,this.locale="en-us",this.messageHideAfter=5e3,this.notifyCommit="Immediate",this.visible=!0,this.eventMoveToPosition=!1,this.eventTextLayer="Top",this.eventStartTime=!1,this.eventEndTime=!1,this.eventStartEndWidth=60,this.eventTextAlignment=null,this.eventTextLeftIndent=20,this.showWeekend=!0,this.cellMode=!1,this.shadowType="Fill",this.tapAndHoldTimeout=300,this.timeFormat="Auto",this.eventTimeFontColor="gray",this.eventTimeFontFamily="Tahoma",this.eventTimeFontSize="8pt",this.viewType="Month",this.weeks=1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventDoubleClickHandling="Enabled",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.headerClickHandling="Enabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeDoubleClickHandling="Enabled",this.onEventFilter=null,this.backendUrl=null,this.cellEvents=[],this.elements={},this.elements.events=[],this.s={},this.s.events={},this.events={},this.A=0,this.members={},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties"],this.J=function(t,e){var t=DayPilot.Util.parseJSON(t);if(t.BubbleGuid){var n=t.BubbleGuid,i=this.bubbles[n];return delete this.bubbles[n],o.W(),void(void 0!==t.Result.BubbleHTML&&i.updateView(t.Result.BubbleHTML,i))}if(t.CallBackRedirect)return void(document.location.href=t.CallBackRedirect);if(void 0!==t.ClientState&&(o.clientState=t.ClientState),"None"===t.UpdateType)return o.X(t.CallBackData,!0),void(t.Message&&o.message(t.Message));if(t.VsUpdate){var a=document.createElement("input");a.type="hidden",a.name=o.id+"_vsupdate",a.id=a.name,a.value=t.VsUpdate,o.qe.innerHTML="",o.qe.appendChild(a)}o.events.list=t.Events,void 0!==t.TagFields&&(o.tagFields=t.TagFields),void 0!==t.SortDirections&&(o.sortDirections=t.SortDirections),"Full"===t.UpdateType&&(o.cellProperties=t.CellProperties,o.headerProperties=t.HeaderProperties,o.startDate=t.StartDate,void 0!==t.ShowWeekend&&(o.showWeekend=t.ShowWeekend),o.headerBackColor=t.HeaderBackColor?t.HeaderBackColor:o.headerBackColor,o.backColor=t.BackColor?t.BackColor:o.backColor,o.nonBusinessBackColor=t.NonBusinessBackColor?t.NonBusinessBackColor:o.nonBusinessBackColor,o.locale=t.Locale?t.Locale:o.locale,o.timeFormat=t.TimeFormat?t.TimeFormat:o.timeFormat,void 0!==t.WeekStarts&&(o.weekStarts=t.WeekStarts),o.hashes=t.Hashes),o.multiselect.clear(!0),o.multiselect.initList=t.SelectedEvents,o.L(),o.se(),o.aa(),"Full"===t.UpdateType&&(o.te(),o.ve()),o.ia(),o.ma(),o.na(),o.X(t.CallBackData,!0),o.qa(),t.Message&&o.message(t.Message)},this.X=function(t,e){var n=function(t,e){return function(){if(o.ra()){if("function"==typeof o.onAfterRender){var n={};n.isCallBack=e,n.data=t,o.onAfterRender(n)}}else o.afterRender&&o.afterRender(t,e)}};window.setTimeout(n(t,e),0)},this.ra=function(){return 2===o.api},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.aa=function(){if(this.events.list){if("function"==typeof this.onBeforeEventRender)for(var t=this.events.list.length,e=0;e<t;e++)this.Qc(e);this.cellMode?this.we():this.xe()}},this.W=function(){},this.xe=function(){if(this.events.list){for(var t=0;t<this.events.list.length;t++){var e=this.events.list[t],n=null;if("function"==typeof o.onBeforeEventRender&&(n=o.s.events[t]),n){if(n.hidden)continue}else if(e.hidden)continue;var i=new DayPilot.Date(e.start),a=new DayPilot.Date(e.end);if(a=o.ye(a),!(i.getTime()>a.getTime()))for(var r=0;r<this.rows.length;r++){var l=this.rows[r];if(l.belongsHere(i,a)){var s=new DayPilot.Event(e,o);if("function"==typeof o.onEventFilter&&o.events.Xc){var c={};if(c.filter=o.events.Xc,c.visible=!0,c.e=s,o.onEventFilter(c),!c.visible)break}l.events.push(s),"function"==typeof this.onBeforeEventRender&&(s.cache=this.s.events[t])}}}for(var u=0;u<this.rows.length;u++){var l=this.rows[u];l.events.sort(this.Zc);for(var d=0;d<this.rows[u].events.length;d++){var h=l.events[d],f=l.getStartColumn(h),p=l.getWidth(h);l.putIntoLine(h,f,p,u)}}}},this.we=function(){this.cellEvents=[];for(var t=0;t<this.ze();t++){this.cellEvents[t]=[];for(var e=0;e<this.rows.length;e++){var n={},i=this.firstDate.addDays(7*e+t);n.start=i,n.end=i.addDays(1),n.events=[],this.cellEvents[t][e]=n}}for(var a=0;a<this.events.list.length;a++){var r=this.events.list[a],l=null;if("function"==typeof o.onBeforeEventRender&&(l=o.s.events[a]),l){if(l.hidden)continue}else if(r.hidden)continue;var s=new DayPilot.Date(r.start),c=new DayPilot.Date(r.start);if(c=o.ye(c),!(s.getTime()>c.getTime()))for(var t=0;t<this.ze();t++)for(var e=0;e<this.rows.length;e++){var n=this.cellEvents[t][e];if(s.getTime()>=n.start.getTime()&&s.getTime()<n.end.getTime()){var u=new DayPilot.Event(r,o);if("function"==typeof o.onEventFilter&&o.events.Xc){var d={};if(d.filter=o.events.Xc,d.visible=!0,d.e=u,o.onEventFilter(d),!d.visible)continue}n.events.push(u),"function"==typeof this.onBeforeEventRender&&(u.cache=this.s.events[a])}}}for(var t=0;t<this.ze();t++)for(var e=0;e<this.rows.length;e++){var n=this.cellEvents[t][e];n.events.sort(this.Zc)}},this.L=function(){for(var t=0;t<this.elements.events.length;t++){var e=this.elements.events[t];e.event=null,e.click=null,e.parentNode.removeChild(e)}this.elements.events=[]},this.na=function(){this.s.events={},this.cellMode?this.Ae():this.Be(),this.multiselect.redraw()},this.Ae=function(){this.elements.events=[];for(var t=0;t<this.ze();t++)for(var e=0;e<this.rows.length;e++)for(var n=this.cellEvents[t][e],i=(this.cells[t][e],0);i<n.events.length;i++){var o=n.events[i];o.part.colStart=t,o.part.colWidth=1,o.part.row=e,o.part.line=i,o.part.startsHere=!0,o.part.endsHere=!0,this.Nb(o)}},this.Be=function(){this.elements.events=[];for(var t=0;t<this.rows.length;t++)for(var e=this.rows[t],n=0;n<e.lines.length;n++)for(var i=e.lines[n],o=0;o<i.length;o++)this.Nb(i[o])},this.Yc=function(t,e){if(!(t&&e&&t.start&&e.start))return 0;var n=t.start().ticks-e.start().ticks;return 0!==n?n:e.end().ticks-t.end().ticks},this.Zc=function(t,e){if(!t||!e)return 0;if(!(t.data&&e.data&&t.data.sort&&e.data.sort&&0!==t.data.sort.length&&0!==e.data.sort.length))return o.Yc(t,e);for(var n=0,i=0;0===n&&void 0!==t.data.sort[i]&&void 0!==e.data.sort[i];)n=t.data.sort[i]===e.data.sort[i]?0:"number"==typeof t.data.sort[i]&&"number"==typeof e.data.sort[i]?t.data.sort[i]-e.data.sort[i]:o.$c(t.data.sort[i],e.data.sort[i],o.sortDirections[i]),i++;return n},this.$c=function(t,e,n){var i="desc"!==n,o=i?-1:1,a=-o;if(null===t&&null===e)return 0;if(null===e)return a;if(null===t)return o;var r=[];return r[0]=t,r[1]=e,r.sort(),t===r[0]?o:a},this.Ce=function(t,n,i,o,a,r){a||(a=0);var l=o;this.shadow={},this.shadow.list=[],this.shadow.start={x:t,y:n},this.shadow.width=o,this.eventMoveToPosition&&(l=1,this.shadow.position=i);var s=7*n+t-a;s<0&&(l+=s,t=0,n=0);for(var c=a;c>=7;)n--,c-=7;c>t?c>t+(7-this.ze())?(n--,t=t+7-c):(l=l-c+t,t=0):t-=c,n<0&&(n=0,t=0);var u=null;for(e.resizingEvent?u="w-resize":e.movingEvent&&(u="move"),this.nav.top.style.cursor=u;l>0&&n<this.rows.length;){var d=Math.min(this.ze()-t,l),h=this.rows[n],f=this.De(n),p=h.getHeight();this.eventMoveToPosition&&(f=this.Ee(n,i),p=2);var v=document.createElement("div");v.setAttribute("unselectable","on"),v.style.position="absolute",v.style.left=this.Fe()*t+"%",v.style.width=this.Fe()*d+"%",v.style.top=f+"px",v.style.height=p+"px",v.style.cursor=u;var g=document.createElement("div");g.setAttribute("unselectable","on"),v.appendChild(g),v.className=this.p("_shadow"),g.className=this.p("_shadow_inner"),this.nav.events.appendChild(v),this.shadow.list.push(v),l-=d+7-this.ze(),t=0,n++}},this.Ge=function(){this.shadow&&(this.nav.events,DayPilot.de(this.shadow.list),this.shadow=null,this.nav.top.style.cursor="")},this.Ee=function(t,e){for(var n=0,i=0;i<t;i++)n+=this.rows[i].getHeight();return n+=this.cellHeaderHeight,n+=e*l.lineHeight()},this.He=function(t,e){return this.firstDate.addDays(7*e+t)},this.Qc=function(t){var e=this.s.events,n=this.events.list[t],i={};for(var o in n)i[o]=n[o];if("function"==typeof this.onBeforeEventRender){var a={};a.e=i,a.data=i,this.onBeforeEventRender(a)}e[t]=i},this.Nb=function(t){var e=this.cellMode,n=t.part.row,i=t.part.line,r=t.part.colStart,s=t.part.colWidth,c=t.cache||t.data,u=e?0:this.Fe()*r,d=e?100:this.Fe()*s,h=e?i*l.lineHeight():this.Ee(n,i),f=document.createElement("div");f.setAttribute("unselectable","on"),f.style.height=l.eventHeight()+"px",f.style.position="relative",f.style.overflow="hidden",f.className=this.p("_event"),c.cssClass&&DayPilot.Util.addClass(f,c.cssClass),f.event=t,e?(f.style.marginRight="2px",f.style.marginBottom="2px"):(f.style.width=d+"%",f.style.position="absolute",f.style.left=u+"%",f.style.top=h+"px"),this.showToolTip&&c.toolTip&&!this.bubble&&(f.title=c.toolTip),f.onclick=this.Ie,f.ondblclick=this.Je,f.oncontextmenu=this.Ke,f.onmousedown=this.Qb,f.onmousemove=this.Ob,f.onmouseout=this.Pb,f.ontouchstart=a.onEventTouchStart,f.ontouchmove=a.onEventTouchMove,f.ontouchend=a.onEventTouchEnd,t.part.startsHere||DayPilot.Util.addClass(f,this.p("_event_continueleft")),t.part.endsHere||DayPilot.Util.addClass(f,this.p("_event_continueright"));var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.p("_event_inner"),c.fontColor&&(p.style.color=c.fontColor),t.client.innerHTML()?p.innerHTML=t.client.innerHTML():p.innerHTML=t.text(),c.backColor&&(p.style.background=c.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(p.style.filter="")),f.appendChild(p);var v=this.qc.locale(),g=o.eventStartEndWidth;if(this.eventStartTime){var m="Clock12Hours"===o.qc.timeFormat()?t.start().toString("h tt",v):t.start().toString("H",v),y={left:5,top:3,width:g,bottom:2,v:"Visible",html:m,css:o.p("_event_timeleft")},b=DayPilot.Areas.createArea(f,t,y);f.appendChild(b),p.style.paddingLeft=g+"px"}if(this.eventEndTime){var m="Clock12Hours"===o.qc.timeFormat()?t.end().toString("h tt",v):t.end().toString("H",v),y={right:5,top:3,width:g,bottom:2,v:"Visible",html:m,css:o.p("_event_timeright")},b=DayPilot.Areas.createArea(f,t,y);f.appendChild(b),p.style.paddingRight=g+"px"}if(c.areas)for(var w=c.areas,D=0;D<w.length;D++){var y=w[D];if("Visible"===y.v){var b=DayPilot.Areas.createArea(f,t,y);f.appendChild(b)}}this.elements.events.push(f),e?this.cells[r][n].body.appendChild(f):this.nav.events.appendChild(f),o.multiselect.wb(f.event)&&o.multiselect.add(f.event,!0);var C=f;if(o.ra()){if("function"==typeof o.onAfterEventRender){var k={};k.e=C.event,k.div=C,o.onAfterEventRender(k)}}else o.afterEventRender&&o.afterEventRender(C.event,C)},this.Ie=function(t){a.start||o.Fa(this,t)},this.Je=function(t){o.Ja(this,t)},this.Ob=function(t){var n=this,i=n.event;if(void 0!==e&&!e.movingEvent&&!e.resizingEvent){var a=DayPilot.mo3(n,t);if(a){!function(){var t=n;if(!t.active){var e=[],a=i.cache||i.data;"Disabled"===o.eventDeleteHandling||a.deleteDisabled||e.push({action:"JavaScript",v:"Hover",w:17,h:17,top:2,right:2,css:o.p("_event_delete"),js:function(t){o.Oa(t)}});var r=t.event.cache?t.event.cache.areas:t.event.data.areas;r&&r.length>0&&(e=e.concat(r)),DayPilot.Areas.showAreas(t,t.event,null,e)}}(),o.Le(n.event).each(function(t){DayPilot.Util.addClass(t,o.p("_event_hover"))});var r=6;if(!o.cellMode&&a.x<=r&&i.client.resizeEnabled()?i.part.startsHere?(n.style.cursor="w-resize",n.dpBorder="left"):n.style.cursor="not-allowed":!o.cellMode&&n.clientWidth-a.x<=r&&i.client.resizeEnabled()?i.part.endsHere?(n.style.cursor="e-resize",n.dpBorder="right"):n.style.cursor="not-allowed":n.style.cursor="default",void 0!==DayPilot.Bubble&&o.bubble&&"Disabled"!==o.eventHoverHandling)if(e.movingEvent||e.resizingEvent)DayPilot.Bubble.hideActive();else{var l=this.Rc&&a.x===this.Rc.x&&a.y===this.Rc.y;l||(this.Rc=a,o.bubble.showEvent(n.event))}}}},this.Pb=function(t){var e=this;void 0!==DayPilot.Bubble&&o.bubble&&o.bubble.hideOnMouseOut(),e.style.cursor="",o.Le(e.event).each(function(t){DayPilot.Util.removeClass(t,o.p("_event_hover"))}),DayPilot.Areas.hideAreas(e,t)},this.Ke=function(){var t=this;return o.Ka(t.event),!1},this.Qb=function(t){if(!a.start){var n=this,i=n.event,r=i.part.row,l=i.part.colStart,s=i.part.line,c=i.part.colWidth;t=t||window.event;var u=DayPilot.Util.mouseButton(t);if(t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),u.left)if(void 0!==DayPilot.Bubble&&o.bubble&&DayPilot.Bubble.hideActive(),e.movingEvent=null,"w-resize"===this.style.cursor||"e-resize"===this.style.cursor){var d={};d.start={},d.start.x=l,d.start.y=r,d.event=n.event,d.width=DayPilot.DateUtil.daysSpan(d.event.start(),d.event.end())+1,d.direction=this.style.cursor,e.resizingEvent=d}else if("move"===this.style.cursor||i.client.moveEnabled()){o.Ge();var h=DayPilot.mo3(o.nav.events,t);if(!h)return;var f=o.Me(h.x,h.y);if(!f)return;var p=DayPilot.DateUtil.daysDiff(i.start(),o.rows[r].start),v=7*f.y+f.x-(7*r+l);p&&(v+=p);var g={};g.start={},g.start.x=l,g.start.y=r,g.start.line=s,g.offset=o.eventMoveToPosition?0:v,g.colWidth=c,g.event=n.event,g.coords=h,e.movingEvent=g}}},this.temp={},this.temp.getPosition=function(){if(!o.coords)return null;var t=o.Me(o.coords.x,o.coords.y);if(!t)return null;var e=new DayPilot.Date(o.He(t.x,t.y)),t={};return t.start=e,t.end=e.addDays(1),t},this.Rb={};var a=o.Rb;a.active=!1,a.start=!1,a.timeouts=[],a.onEventTouchStart=function(t){if(!a.active&&!a.start){a.clearTimeouts(),a.start=!0,a.active=!1;var e=this;if(e.event.client.moveEnabled()){var n=o.tapAndHoldTimeout;a.timeouts.push(window.setTimeout(function(){a.active=!0,a.start=!1;var n=a.relativeCoords(t);a.startMoving(e,n),t.preventDefault()},n))}t.stopPropagation()}},a.onEventTouchMove=function(t){a.clearTimeouts(),a.start=!1},a.onEventTouchEnd=function(t){a.clearTimeouts(),a.start&&o.Ga(this,t),window.setTimeout(function(){a.start=!1,a.active=!1},500)},a.onMainTouchStart=function(t){if(!a.active&&!a.start){a.clearTimeouts(),a.start=!0,a.active=!1;var e=o.tapAndHoldTimeout;a.timeouts.push(window.setTimeout(function(){a.active=!0,a.start=!1,t.preventDefault();var e=a.relativeCoords(t);a.startRange(e)},e))}},a.onMainTouchMove=function(t){if(a.clearTimeouts(),a.start=!1,a.active){t.preventDefault();var e=a.relativeCoords(t);if(a.moving)return void a.updateMoving(e);a.range&&a.updateRange(e)}},a.onMainTouchEnd=function(t){if(a.clearTimeouts(),a.active){if(a.moving){var e=(a.moving,a.moving.event),n=o.shadow.start,i=o.shadow.position,r=a.moving.offset;o.Ge(),a.moving=null,o.Ta(e,n.x,n.y,r,t,i)}if(a.range){var l=a.range,n=new DayPilot.Date(o.He(l.from.x,l.from.y)),s=n.addDays(l.width);a.range=null,o.$a(n,s)}}window.setTimeout(function(){a.start=!1,a.active=!1},500)},a.clearTimeouts=function(){for(var t=0;t<a.timeouts.length;t++)clearTimeout(a.timeouts[t]);a.timeouts=[]},a.relativeCoords=function(t){var e=o.nav.events,n=t.touches[0].pageX,i=t.touches[0].pageY,a=DayPilot.abs(e);return{x:n-a.x,y:i-a.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},a.startMoving=function(t,e){o.Ge();var n=t.event,i=o.Me(e.x,e.y);if(i){var r=DayPilot.DateUtil.daysDiff(n.start(),o.rows[n.part.row].start),l=7*i.y+i.x-(7*n.part.row+n.part.colStart);r&&(l+=r);var s={};s.start={},s.start.x=n.part.colStart,s.start.y=n.part.row,s.start.line=n.part.line,s.offset=o.eventMoveToPosition?0:l,s.colWidth=n.part.colWidth,s.event=n,s.coords=e,a.moving=s,a.updateMoving(e)}},a.updateMoving=function(t){var e=o.Me(t.x,t.y);if(e){var n=o.Ne(e);o.Ge();var i=a.moving.event,r=a.moving.offset,l=o.cellMode?1:DayPilot.DateUtil.daysSpan(i.start(),i.end())+1;l<1&&(l=1),o.Ce(e.x,e.y,n,l,r,i)}},a.startRange=function(t){var e=o.Me(t.x,t.y);if(e){o.Ge();var n={};n.start={},n.start.x=e.x,n.start.y=e.y,n.x=e.x,n.y=e.y,n.width=1,a.range=n,a.updateRange(t)}},a.updateRange=function(t){var e=o.Me(t.x,t.y);if(e){o.Ge();var n=a.range.start,i=7*n.y+n.x,r=7*e.y+e.x,l=Math.abs(r-i)+1;l<1&&(l=1);var s=i<r?n:e;a.range.width=l,a.range.from={x:s.x,y:s.y},o.Ce(s.x,s.y,0,l,0,null)}},this.isWeekend=function(t){return 0===t.dayOfWeek()||6===t.dayOfWeek()},this.Oe=function(){var t=this.startDate.lastDayOfMonth();if(this.showWeekend)return t;for(;this.isWeekend(t);)t=t.addDays(-1);return t},this.se=function(){if("string"==typeof this.startDate&&(this.startDate=new DayPilot.Date(this.startDate)),"Month"===this.viewType?this.startDate=this.startDate.firstDayOfMonth():this.startDate=this.startDate.getDatePart(),this.firstDate=this.startDate.firstDayOfWeek(l.weekStarts()),!this.showWeekend){for(var t=this.startDate.addMonths(-1).getMonth(),e=new DayPilot.Date(this.firstDate).addDays(6);this.isWeekend(e);)e=e.addDays(-1);e.getMonth()===t&&(this.firstDate=this.firstDate.addDays(7))}var n;if(this.startDate,"Month"===this.viewType){var i=this.Oe(),a=DayPilot.DateUtil.daysDiff(this.firstDate,i)+1;n=Math.ceil(a/7)}else n=this.weeks;this.days=7*n,this.rows=[];for(var r=0;r<n;r++){var s={};s.start=this.firstDate.addDays(7*r),s.end=s.start.addDays(this.ze()),s.events=[],s.lines=[],s.index=r,s.minHeight=this.cellHeight,s.calendar=this,s.belongsHere=function(t,e){return e.getTime()===t.getTime()&&t.getTime()===this.start.getTime()||!(e.getTime()<=this.start.getTime()||t.getTime()>=this.end.getTime())},s.getPartStart=function(t){return DayPilot.DateUtil.max(this.start,t.start())},s.getPartEnd=function(t){return DayPilot.DateUtil.min(this.end,t.rawend())},s.getStartColumn=function(t){var e=this.getPartStart(t);return DayPilot.DateUtil.daysDiff(this.start,e)},s.getWidth=function(t){return DayPilot.DateUtil.daysSpan(this.getPartStart(t),this.getPartEnd(t))+1},s.putIntoLine=function(t,e,n,i){for(var o=this,a=0;a<this.lines.length;a++){var r=this.lines[a];if(r.isFree(e,n))return r.addEvent(t,e,n,i,a),a}var r=[];return r.isFree=function(t,e){for(var n=!0,i=0;i<this.length;i++){var o=this[i];t+e-1<o.part.colStart||t>o.part.colStart+o.part.colWidth-1||(n=!1)}return n},r.addEvent=function(t,e,n,i,a){t.part.colStart=e,t.part.colWidth=n,t.part.row=i,t.part.line=a,t.part.startsHere=o.start.getTime()<=t.start().getTime(),t.part.endsHere=o.end.getTime()>=t.end().getTime(),this.push(t)},r.addEvent(t,e,n,i,this.lines.length),this.lines.push(r),this.lines.length-1},s.getStart=function(){for(var t=0,e=0;e<o.rows.length&&e<this.index;e++)t+=o.rows[e].getHeight()},s.getHeight=function(){return Math.max(this.lines.length*l.lineHeight()+o.cellHeaderHeight+o.cellMarginBottom,this.calendar.cellHeight)},this.rows.push(s)}this.Pe=this.firstDate.addDays(7*n)},this.Qe=function(){switch(this.heightSpec){case"Auto":for(var t=l.headerHeight(),e=0;e<this.rows.length;e++)t+=this.rows[e].getHeight();return t;case"Fixed":return this.height}},this.Re=function(t,e){return 7*e.y+e.x-(7*t.y+t.x)+1},this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){o.Jc.scope&&o.Jc.scope.$apply()},this.debug=new DayPilot.Debug(this),this.Wb=function(){var t=this.nav.top;this.nav.top.dp=this,t.setAttribute("unselectable","on"),t.style.MozUserSelect="none",t.style.KhtmlUserSelect="none",t.style.WebkitUserSelect="none",t.style.WebkitTapHighlightColor="rgba(0,0,0,0)",t.style.WebkitTouchCallout="none",t.style.position="relative",this.width&&(t.style.width=this.width),t.onselectstart=function(t){return!1},t.className=this.p("_main"),this.hideUntilInit&&(t.style.visibility="hidden"),this.visible||(t.style.display="none"),t.onmousemove=this.bc,t.ontouchstart=a.onMainTouchStart,t.ontouchmove=a.onMainTouchMove,t.ontouchend=a.onMainTouchEnd,this.qe=document.createElement("div"),this.qe.style.display="none",this.nav.top.appendChild(this.qe);var e=document.createElement("div");e.style.position="relative",e.style.height=l.headerHeight()+"px",e.oncontextmenu=function(){return!1},this.nav.top.appendChild(e),this.nav.header=e;var n=document.createElement("div");n.style.zoom="1";var i=document.createElement("div");i.style.position="relative",n.appendChild(i),this.nav.top.appendChild(n),this.nav.scrollable=n,this.nav.events=i},this.bc=function(t){o.coords=DayPilot.mo3(o.nav.events,t);var n=o.coords;if(n){var i=o.Me(n.x,n.y);if(i)if(e.resizingEvent){o.Ge();var a,r,l=e.resizingEvent;if(l.start,"w-resize"===l.direction){r=i;var s=l.event.rawend();s.getDatePart().getTime()===s.getTime()&&(s=s.addDays(-1));var c=o.Se(s);a=o.Re(i,c)}else r=o.Se(l.event.start()),a=o.Re(r,i);a<1&&(a=1),o.Ce(r.x,r.y,0,a)}else if(e.movingEvent){if(o.debug.message("mousemove/moving start coords: "+e.movingEvent.coords.x+" "+e.movingEvent.coords.y),o.debug.message("mousemove/current coords: "+n.x+" "+n.y),n.x===e.movingEvent.coords.x&&n.y===e.movingEvent.coords.y)return;var u=o.Ne(i);o.Ge();var d=e.movingEvent.event,h=e.movingEvent.offset,a=o.cellMode?1:DayPilot.DateUtil.daysSpan(d.start(),d.rawend())+1;a<1&&(a=1),o.Ce(i.x,i.y,u,a,h,d)}else if(e.timeRangeSelecting){e.cancelCellClick=!0,o.Ge();var r=e.timeRangeSelecting,f=7*r.y+r.x,p=7*i.y+i.x,a=Math.abs(p-f)+1;a<1&&(a=1);var v=f<p?r:i;e.timeRangeSelecting.from={x:v.x,y:v.y},e.timeRangeSelecting.width=a,e.timeRangeSelecting.moved=!0,o.Ce(v.x,v.y,0,a,0,null)}}},this.Ne=function(t){for(var e=t.relativeY,n=o.rows[t.y],i=o.cellHeaderHeight,a=l.lineHeight(),r=n.lines.length,s=0;s<n.lines.length;s++)if(n.lines[s].isFree(t.x,1)){r=s;break}var c=Math.floor((e-i+a/2)/a),c=Math.min(r,c),c=Math.max(0,c);return c},this.message=function(t,e,n,i){if(null!==t){var a,e=e||this.messageHideAfter||2e3,r=.8,s=l.headerHeight();if(this.nav.message)a=o.nav.message;else{a=document.createElement("div"),a.setAttribute("unselectable","on"),a.style.position="absolute",a.style.right="0px",a.style.left="0px",a.style.top=s+"px",a.style.opacity=r,a.style.filter="alpha(opacity=80)",a.style.display="none",a.onmousemove=function(){a.messageTimeout&&!a.status&&clearTimeout(a.messageTimeout)},a.onmouseout=function(){"none"!==o.nav.message.style.display&&(a.messageTimeout=setTimeout(o.Da,500))};var c=document.createElement("div");c.setAttribute("unselectable","on"),c.onclick=function(){o.nav.message.style.display="none"},c.className=this.p("_message"),a.appendChild(c);var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.className=this.p("_message_close"),u.onclick=function(){o.nav.message.style.display="none"},a.appendChild(u),this.nav.top.appendChild(a),this.nav.message=a}var d=function(){o.nav.message.style.opacity=r,o.nav.message.firstChild.innerHTML=t;var n=function(){a.messageTimeout=setTimeout(o.Da,e)};DayPilot.fade(o.nav.message,.2,n)};clearTimeout(a.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(o.nav.message,-.2,d):d()}},this.message.show=function(t){o.message(t)},this.message.hide=function(){o.Da()},this.Da=function(){var t=function(){o.nav.message.style.display="none"};DayPilot.fade(o.nav.message,-.2,t)},this.O=function(t){"Parent100Pct"===o.heightSpec&&o.ia()},this.ia=function(){var t=this.nav.scrollable;"Parent100Pct"===this.heightSpec||"Fixed"===this.heightSpec?(t.style.top=this.headerHeight+"px",t.style.bottom="0px",t.style.left="0px",t.style.right="0px",t.style.overflow="auto",t.style.position="absolute"):t.style.position="relative","Parent100Pct"===this.heightSpec?(this.nav.top.style.height="100%",this.nav.top.clientHeight):this.nav.top.style.height=this.Qe()+"px";for(var e=0;e<this.cells.length;e++)for(var n=0;n<this.cells[e].length;n++)this.cells[e][n].style.top=this.De(n)+"px",this.cells[e][n].style.height=this.rows[n].getHeight()+"px";this.Te()},this.Me=function(t,e){for(var n=Math.floor(this.nav.top.clientWidth/this.ze()),i=Math.min(Math.floor(t/n),this.ze()-1),o=null,a=0,r=0,l=0,s=0;s<this.rows.length;s++){if(r+=this.rows[s].getHeight(),e<r){a=e-l,o=s;break}l=r}null===o&&(o=this.rows.length-1);var c={};return c.x=i,c.y=o,c.relativeY=a,c},this.Se=function(t){for(var e=DayPilot.DateUtil.daysDiff(this.firstDate,t),n={x:0,y:0};e>=7;)n.y++,e-=7;return n.x=e,n},this.Te=function(){var t=DayPilot.sw(this.nav.scrollable);this.nav.header.style.marginRight=t+"px"};var r=null;this.ve=function(){var t=this.nav.header,e=this.nav.events;this.cells=[];for(var n=0;n<this.ze();n++){this.cells[n]=[];var i=this.headerProperties?this.headerProperties[n]:null,a=n+l.weekStarts();if(a>6&&(a-=7),!i){var i={};i.html=l.locale().dayNames[a]}if("function"==typeof o.onBeforeHeaderRender){var s={};s.header={},s.header.dayOfWeek=a;var c=["html","backColor","cssClass"];DayPilot.Util.copyProps(i,s.header,c),o.onBeforeHeaderRender(s),DayPilot.Util.copyProps(s.header,i,c)}var u=document.createElement("div");u.setAttribute("unselectable","on"),u.style.position="absolute",u.style.left=this.Fe()*n+"%",u.style.width=this.Fe()+"%",u.style.top="0px",u.style.height=l.headerHeight()+"px",function(t){u.onclick=function(){o.La(t)}}(a);var d=document.createElement("div");d.setAttribute("unselectable","on"),d.className=this.p("_header_inner"),d.innerHTML=i.html,u.appendChild(d),u.className=this.p("_header"),i&&(i.cssClass&&DayPilot.Util.addClass(u,i.cssClass),i.backColor&&(d.style.background=i.backColor)),t.appendChild(u);for(var h=0;h<this.rows.length;h++)this.Ue(n,h,e)}if(!DayPilot.contains(this.nav.top.childNodes,r)&&DayPilot.Util.isNullOrUndefined(void 0)){var f=document.createElement("div");f.style.position="absolute",f.style.padding="2px",f.style.top="0px",f.style.left="0px",f.style.backgroundColor="#FF6600",f.style.color="white",f.innerHTML="DEMO",r=f,this.nav.top.appendChild(f)}},this.te=function(){for(var t=0;t<this.cells.length;t++)for(var e=0;e<this.cells[t].length;e++)this.cells[t][e].onclick=null;this.nav.header.innerHTML="",this.nav.events.innerHTML=""},this.Ue=function(e,n,i){var a=this.rows[n],r=this.firstDate.addDays(7*n+e),s=this.cellProperties?this.cellProperties[n*this.ze()+e]:null,c=null;if(s)c=s.headerHtml;else{var u=r.getDay();c=1===u?l.locale().monthNames[r.getMonth()]+" "+u:u+""}if(!s){var s={};s.business=!o.isWeekend(r),s.headerHtml=c}if("function"==typeof o.onBeforeCellRender){var d={};d.cell={},d.cell.areas=null,d.cell.backColor=null,d.cell.backImage=null,d.cell.backRepeat=null,d.cell.business=o.isWeekend(r),d.cell.headerHtml=c,d.cell.headerBackColor=null,d.cell.cssClass=null,d.cell.html=null,d.cell.start=r,d.cell.end=d.cell.start.addDays(1),DayPilot.Util.copyProps(s,d.cell),o.onBeforeCellRender(d),DayPilot.Util.copyProps(d.cell,s,["areas","backColor","backImage","backRepeat","business","headerHtml","headerBackColor","cssClass","html"])}var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.position="absolute",h.style.cursor="default",h.style.left=this.Fe()*e+"%",h.style.width=this.Fe()+"%",h.style.top=this.De(n)+"px",h.style.height=a.getHeight()+"px",h.d=r,h.x=e,h.y=n,h.props=s;var f=this.startDate.addMonths(-1).getMonth(),p=this.startDate.addMonths(1).getMonth(),v=this.startDate.getMonth(),g=document.createElement("div");g.setAttribute("unselectable","on"),h.appendChild(g),g.className=this.p("_cell_inner"),g.className=this.p("_cell_inner"),r.getMonth()===v?h.className=this.p("_cell"):r.getMonth()===f?h.className=this.p("_cell")+" "+this.p("_previous"):r.getMonth()===p?h.className=this.p("_cell")+" "+this.p("_next"):t(),s&&(s.cssClass&&DayPilot.Util.addClass(h,s.cssClass),s.business&&DayPilot.Util.addClass(h,this.p("_cell_business")),s.backColor&&(g.style.backgroundColor=s.backColor),s.backImage&&(g.style.backgroundImage="url('"+s.backImage+"')"),s.backRepeat&&(g.style.backgroundRepeat=s.backRepeat)),h.onmousedown=this.gb,h.onmousemove=this.jb,h.onmouseout=this.ib,h.oncontextmenu=this.Ve,h.onclick=this.We,h.ondblclick=this.Xe;var m=document.createElement("div");if(m.setAttribute("unselectable","on"),m.style.height=this.cellHeaderHeight+"px",s&&s.headerBackColor&&(m.style.background=s.headerBackColor),m.className=this.p("_cell_header"),m.innerHTML=s.headerHtml,g.appendChild(m),s&&s.html){var y=document.createElement("div");y.setAttribute("unselectable","on"),y.style.height=a.getHeight()-this.cellHeaderHeight+"px",y.style.overflow="hidden",y.innerHTML=s.html,g.appendChild(y)}if(this.cellMode){var b=document.createElement("div");b.setAttribute("unselectable","on"),b.style.height=this.cellHeight-this.cellHeaderHeight+"px",b.style.overflow="auto",b.style.position="relative";var w=document.createElement("div");w.setAttribute("unselectable","on"),w.style.paddingTop="1px",w.style.paddingBottom="1px",b.appendChild(w),g.appendChild(b),h.body=w,h.scrolling=b}if(h.props)for(var D=h.props.areas||[],C=0;C<D.length;C++){var k=D[C],x=k.v||"Visible";if("Visible"===x){var P=DayPilot.Areas.createArea(h,h.props,k);h.appendChild(P)}}this.cells[e][n]=h,i.appendChild(h),"function"==typeof o.onAfterCellRender&&(d.cell.div=h,d.cell.divHeader=m,o.onAfterCellRender(d))},this.jb=function(){var t=this;t.props&&DayPilot.Areas.showAreas(t,t.props)},this.ib=function(t){var e=this;e.props&&DayPilot.Areas.hideAreas(e,t)},this.Ve=function(){var t=this.d;return function(t){var e=new DayPilot.Date(t),n=e.addDays(1),i=new DayPilot.Selection(e,n,null,o);o.contextMenuSelection&&o.contextMenuSelection.show(i)}(t),!1},this.Xe=function(){var t=this.d;if(o.timeouts){for(var e in o.timeouts)window.clearTimeout(o.timeouts[e]);o.timeouts=null}if("Disabled"!==o.timeRangeDoubleClickHandling){var n=new DayPilot.Date(t),i=n.addDays(1);o._a(n,i)}},this.We=function(){if(!e.cancelCellClick){var t=this.d,n=function(t){var e=new DayPilot.Date(t),n=e.addDays(1);o.$a(e,n)};if("Disabled"!==o.timeRangeSelectedHandling&&"Disabled"===o.timeRangeDoubleClickHandling)return void n(t);o.timeouts||(o.timeouts=[]);var i=function(t){return function(){n(t)}};o.timeouts.push(window.setTimeout(i(t),o.doubleClickTimeout))}},this.gb=function(t){var n=this,i=n.x,a=n.y;if(e.cancelCellClick=!1,n.scrolling){var r=DayPilot.mo3(n.scrolling,t),l=DayPilot.sw(n.scrolling),s=n.scrolling.offsetWidth;if(r.x>s-l)return}"Disabled"!==o.timeRangeSelectedHandling&&(o.Ge(),e.timeRangeSelecting={root:o,x:i,y:a,from:{x:i,y:a},width:1})},this.ze=function(){return this.showWeekend?7:5},this.Fe=function(){return this.showWeekend?14.285:20},this.Ye=function(t){return 6===t.getUTCDay()||0===t.getUTCDay()?this.nonBusinessBackColor:this.backColor},this.De=function(t){for(var e=0,n=0;n<t;n++)e+=this.rows[n].getHeight();return e},this.clearSelection=function(){this.Ge()},this.D=function(t,e,n){var i={};i.action=t,i.parameters=n,i.data=e,i.header=this.E();var a="JSON"+DayPilot.JSON.stringify(i);__doPostBack(o.uniqueID,a)},this.F=function(t,e,n,i){if(!this.q())return void o.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");void 0===i&&(i="CallBack");var a={};a.action=t,a.type=i,a.parameters=e,a.data=n,a.header=this.E();var r="JSON"+DayPilot.JSON.stringify(a);this.backendUrl?DayPilot.request(this.backendUrl,this.H,r,this.I):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,r,this.J,null,this.callbackError,!0)},this.q=function(){return!!this.backendUrl||!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.I=function(t){if("function"==typeof o.onAjaxError){var e={};e.request=t,o.onAjaxError(e)}else"function"==typeof o.ajaxError&&o.ajaxError(t)},this.H=function(t){o.J(t.responseText)},this.E=function(){var t={};return t.v=this.v,t.control="dpm",t.id=this.id,t.visibleStart=new DayPilot.Date(this.firstDate),t.visibleEnd=t.visibleStart.addDays(this.days),t.clientState=this.clientState,t.cssClassPrefix=o.cssClassPrefix,t.startDate=o.startDate,t.showWeekend=this.showWeekend,t.headerBackColor=this.headerBackColor,t.backColor=this.backColor,t.nonBusinessBackColor=this.nonBusinessBackColor,t.locale=this.locale,t.timeFormat=this.timeFormat,t.weekStarts=this.weekStarts,t.viewType=this.viewType,t.weeks=this.weeks,t.selected=o.multiselect.events(),t.hashes=o.hashes,t},this.visibleStart=function(){return new DayPilot.Date(this.firstDate)},this.visibleEnd=function(){return o.visibleStart().addDays(o.days)},this.Pa=function(t,e,n,i){if("PostBack"===t)o.postBack2(e,n,i);else if("CallBack"===t)o.F(e,n,i,"CallBack");else if("Immediate"===t)o.F(e,n,i,"Notify");else if("Queue"===t)o.queue.add(new DayPilot.Action(this,e,n,i));else{if("Notify"!==t)throw"Invalid event invocation type";"Notify"===l.notifyType()?o.F(e,n,i,"Notify"):o.queue.add(new DayPilot.Action(o,e,n,i))}},this.Wa=function(t,e){var n=o.Xa(e),i={};i.args=t,i.guid=n,o.F("Bubble",i)},this.Xa=function(t){var e=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[e]=t,e},this.eventClickPostBack=function(t,e){this.D("EventClick",e,t)},this.eventClickCallBack=function(t,e){this.F("EventClick",t,e)},this.Fa=function(t,n){e.movingEvent=null,e.resizingEvent=null;var n=n||window.event;if(n.ctrlKey,n.metaKey,n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation(),void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),"Disabled"===o.eventDoubleClickHandling)return void o.Ga(t,n);if(o.timeouts){for(var i in o.timeouts)window.clearTimeout(o.timeouts[i]);o.timeouts=[]}else o.timeouts=[];var a=function(t,e){return function(){o.Ga(t,e)}};o.timeouts.push(window.setTimeout(a(t,n),o.doubleClickTimeout))},this.Ga=function(t,e){var n=t.event;if(n.client.clickEnabled()){var i=e.ctrlKey,a=e.metaKey;if(o.ra()){var r={};if(r.e=n,r.div=t,r.originalEvent=e,r.meta=e.metaKey,r.ctrl=e.ctrlKey,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventClick&&(o.onEventClick(r),r.preventDefault.value))return;switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(n);break;case"CallBack":o.eventClickCallBack(n);break;case"Select":o.Ia(t,n,i,a);break;case"ContextMenu":var l=n.client.contextMenu();l?l.show(n):o.contextMenu&&o.contextMenu.show(n);break;case"Bubble":o.bubble&&o.bubble.showEvent(n)}"function"==typeof o.onEventClicked&&o.onEventClicked(r)}else switch(o.eventClickHandling){case"PostBack":o.eventClickPostBack(n);break;case"CallBack":o.eventClickCallBack(n);break;case"JavaScript":o.onEventClick(n);break;case"Select":o.Ia(t,n,i,a);break;case"ContextMenu":var l=n.client.contextMenu();l?l.show(n):o.contextMenu&&o.contextMenu.show(n);break;case"Bubble":o.bubble&&o.bubble.showEvent(n)}}},this.Oa=function(t){if(o.ra()){var e={};if(e.e=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDelete&&(o.onEventDelete(e),e.preventDefault.value))return;switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(t);break;case"CallBack":o.eventDeleteCallBack(t);break;case"Update":o.events.remove(t)}"function"==typeof o.onEventDeleted&&o.onEventDeleted(e)}else switch(o.eventDeleteHandling){case"PostBack":o.eventDeletePostBack(t);break;case"CallBack":o.eventDeleteCallBack(t);break;case"JavaScript":o.onEventDelete(t)}},this.eventDeletePostBack=function(t,e){this.D("EventDelete",t,e)},this.eventDeleteCallBack=function(t,e){this.F("EventDelete",t,e)},this.eventDoubleClickPostBack=function(t,e){this.D("EventDoubleClick",e,t)},this.eventDoubleClickCallBack=function(t,e){this.F("EventDoubleClick",t,e)},this.Ja=function(t,e){if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),o.timeouts){for(var n in o.timeouts)window.clearTimeout(o.timeouts[n]);o.timeouts=null}var e=e||window.event,i=t.event;if(o.ra()){var a={};if(a.e=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventDoubleClick&&(o.onEventDoubleClick(a),a.preventDefault.value))return;switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(i);break;case"CallBack":o.eventDoubleClickCallBack(i);break;case"Select":o.Ia(t,i,e.ctrlKey,e.metaKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(i)}"function"==typeof o.onEventDoubleClicked&&o.onEventDoubleClicked(a)}else switch(o.eventDoubleClickHandling){case"PostBack":o.eventDoubleClickPostBack(i);break;case"CallBack":o.eventDoubleClickCallBack(i);break;case"JavaScript":o.onEventDoubleClick(i);break;case"Select":o.Ia(t,i,e.ctrlKey,e.metaKey);break;case"Bubble":o.bubble&&o.bubble.showEvent(i)}},this.Ia=function(t,e,n,i){o.bb(t,e,n,i)},this.eventSelectPostBack=function(t,e,n){var i={};i.e=t,i.change=e,this.D("EventSelect",n,i)},this.eventSelectCallBack=function(t,e,n){var i={};i.e=t,i.change=e,this.F("EventSelect",i,n)},this.bb=function(t,e,n,i){var a=o.multiselect,r=a.isSelected(e);if(n||i||!r||1!==a.list.length)if(o.ra()){a.previous=a.events();var l={};if(l.e=e,l.selected=a.isSelected(e),l.ctrl=n,l.meta=i,l.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventSelect&&(o.onEventSelect(l),l.preventDefault.value))return;switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(e,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),o.eventSelectCallBack(e,s);break;case"Update":a.fb(t,n)}"function"==typeof o.onEventSelected&&(l.change=a.isSelected(e)?"selected":"deselected",l.selected=a.isSelected(e),o.onEventSelected(l))}else{a.previous=a.events(),a.fb(t,n);var s=a.isSelected(e)?"selected":"deselected";switch(o.eventSelectHandling){case"PostBack":o.eventSelectPostBack(e,s);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),o.eventSelectCallBack(e,s);break;case"JavaScript":o.onEventSelect(e,s)}}},this.eventRightClickPostBack=function(t,e){this.D("EventRightClick",e,t)},this.eventRightClickCallBack=function(t,e){this.F("EventRightClick",t,e)},this.Ka=function(t){if(this.event=t,!t.client.rightClickEnabled())return!1;if(o.ra()){var e={};if(e.e=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventRightClick&&(o.onEventRightClick(e),e.preventDefault.value))return;switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(t);break;case"CallBack":o.eventRightClickCallBack(t);break;case"ContextMenu":var n=t.client.contextMenu();n?n.show(t):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(t)}"function"==typeof o.onEventRightClicked&&o.onEventRightClicked(e)}else switch(o.eventRightClickHandling){case"PostBack":o.eventRightClickPostBack(t);break;case"CallBack":o.eventRightClickCallBack(t);break;case"JavaScript":o.onEventRightClick(t);break;case"ContextMenu":var n=t.client.contextMenu();n?n.show(t):o.contextMenu&&o.contextMenu.show(this.event);break;case"Bubble":o.bubble&&o.bubble.showEvent(t)}return!1},this.eventMenuClickPostBack=function(t,e,n){var i={};i.e=t,i.command=e,this.D("EventMenuClick",n,i)},this.eventMenuClickCallBack=function(t,e,n){var i={};i.e=t,i.command=e,this.F("EventMenuClick",i,n)},this.Ya=function(t,e,n){switch(n){case"PostBack":o.eventMenuClickPostBack(e,t);break;case"CallBack":o.eventMenuClickCallBack(e,t)}},this.eventMovePostBack=function(t,e,n,i,o){if(!e)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=t,a.newStart=e,a.newEnd=n,a.position=o,this.D("EventMove",i,a)},this.eventMoveCallBack=function(t,e,n,i,o){if(!e)throw"newStart is null";if(!n)throw"newEnd is null";var a={};a.e=t,a.newStart=e,a.newEnd=n,a.position=o,this.F("EventMove",a,i)},this.Ta=function(t,e,n,i,a,r){var l=t.start().getTimePart(),s=t.rawend().getDatePart();s.getTime()!==t.rawend().getTime()&&(s=s.addDays(1));var c=DayPilot.DateUtil.diff(t.rawend(),s),u=this.He(e,n);u=u.addDays(-i);var d=DayPilot.DateUtil.daysSpan(t.start(),t.rawend())+1,h=u.addDays(d),f=u.addTime(l),p=h.addTime(c);if(p=o.Ze(p),o.ra()){var v={};if(v.e=t,v.newStart=f,v.newEnd=p,v.position=r,v.ctrl=!1,a&&(v.ctrl=a.ctrlKey),v.shift=!1,a&&(v.shift=a.shiftKey),v.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventMove&&(o.onEventMove(v),v.preventDefault.value))return;switch(o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,f,p,null,r);break;case"CallBack":o.eventMoveCallBack(t,f,p,null,r);break;case"Notify":o.eventMoveNotify(t,f,p,null,r);break;case"Update":t.start(f),t.end(p),o.events.update(t)}"function"==typeof o.onEventMoved&&o.onEventMoved(v)}else switch(o.eventMoveHandling){case"PostBack":o.eventMovePostBack(t,f,p,null,r);break;case"CallBack":o.eventMoveCallBack(t,f,p,null,r);break;case"JavaScript":o.onEventMove(t,f,p,a.ctrlKey,a.shiftKey,r);break;case"Notify":o.eventMoveNotify(t,f,p,null,r)}},this.eventMoveNotify=function(t,e,n,i,a){var r=new DayPilot.Event(t.copy(),this);t.start(e),t.end(n),t.commit(),o.update(),this.Va("Notify",r,e,n,i,a)},this.Va=function(t,e,n,i,o,a){var r={};r.e=e,r.newStart=n,r.newEnd=i,r.position=a,this.Pa(t,"EventMove",r,o)},this.eventResizePostBack=function(t,e,n,i){if(!e)throw"newStart is null";if(!n)throw"newEnd is null";var o={};o.e=t,o.newStart=e,o.newEnd=n,this.D("EventResize",i,o)},this.eventResizeCallBack=function(t,e,n,i){if(!e)throw"newStart is null";if(!n)throw"newEnd is null";var o={};o.e=t,o.newStart=e,o.newEnd=n,this.F("EventResize",o,i)},this.Ra=function(t,e,n){var i=t.start().getTimePart(),a=t.rawend().getDatePart();a!=t.rawend()&&(a=a.addDays(1));var r=DayPilot.DateUtil.diff(t.rawend(),a),l=this.He(e.x,e.y),s=l.addDays(n),c=l.addTime(i),u=s.addTime(r);if(u=o.Ze(u),o.ra()){var d={};if(d.e=t,d.newStart=c,d.newEnd=u,d.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onEventResize&&(o.onEventResize(d),d.preventDefault.value))return;switch(o.eventResizeHandling){case"PostBack":o.eventResizePostBack(t,c,u);break;case"CallBack":o.eventResizeCallBack(t,c,u);break;case"Notify":o.eventResizeNotify(t,c,u);break;case"Update":t.start(c),t.end(u),o.events.update(t)}"function"==typeof o.onEventResized&&o.onEventResized(d)}else switch(o.eventResizeHandling){case"PostBack":o.eventResizePostBack(t,c,u);break;case"CallBack":o.eventResizeCallBack(t,c,u);break;case"JavaScript":o.onEventResize(t,c,u);break;case"Notify":o.eventResizeNotify(t,c,u)}},this.eventResizeNotify=function(t,e,n,i){var a=new DayPilot.Event(t.copy(),this);t.start(e),t.end(n),t.commit(),o.update(),this.Sa("Notify",a,e,n,i)},this.Sa=function(t,e,n,i,o){var a={};a.e=e,a.newStart=n,a.newEnd=i,this.Pa(t,"EventResize",a,o)},this.timeRangeSelectedPostBack=function(t,e,n){var i={};i.start=t,i.end=e,this.D("TimeRangeSelected",n,i)},this.timeRangeSelectedCallBack=function(t,e,n){var i={};i.start=t,i.end=e,this.F("TimeRangeSelected",i,n)},this.$a=function(t,e){if(e=o.Ze(e),o.ra()){var n={};if(n.start=t,n.end=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeSelect&&(o.onTimeRangeSelect(n),n.preventDefault.value))return;switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,e),o.clearSelection();break;case"CallBack":o.timeRangeSelectedCallBack(t,e),o.clearSelection()}"function"==typeof o.onTimeRangeSelected&&o.onTimeRangeSelected(n)}else switch(o.timeRangeSelectedHandling){case"PostBack":o.timeRangeSelectedPostBack(t,e),o.clearSelection();break;case"CallBack":o.timeRangeSelectedCallBack(t,e),o.clearSelection();break;case"JavaScript":o.onTimeRangeSelected(t,e)}},this.timeRangeMenuClickPostBack=function(t,e,n){var i={};i.selection=t,i.command=e,this.D("TimeRangeMenuClick",n,i)},this.timeRangeMenuClickCallBack=function(t,e,n){var i={};i.selection=t,i.command=e,this.F("TimeRangeMenuClick",i,n)},this.Za=function(t,e,n){switch(n){case"PostBack":o.timeRangeMenuClickPostBack(e,t);break;case"CallBack":o.timeRangeMenuClickCallBack(e,t)}},this.headerClickPostBack=function(t,e){this.D("HeaderClick",e,t)},this.headerClickCallBack=function(t,e){this.F("HeaderClick",t,e)},this.La=function(t){var e=(this.data,{day:t});if(o.ra()){var n={};if(n.header={},n.header.dayOfWeek=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onHeaderClick&&(o.onHeaderClick(n),n.preventDefault.value))return;switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(e);break;case"CallBack":o.headerClickCallBack(e)}"function"==typeof o.onHeaderClicked&&o.onHeaderClicked(n)}else switch(o.headerClickHandling){case"PostBack":o.headerClickPostBack(e);break;case"CallBack":o.headerClickCallBack(e);break;case"JavaScript":o.onHeaderClick(e)}},this.timeRangeDoubleClickPostBack=function(t,e,n){var i={};i.start=t,i.end=e,this.D("TimeRangeDoubleClick",n,i)},this.timeRangeDoubleClickCallBack=function(t,e,n){var i={};i.start=t,i.end=e,this.F("TimeRangeDoubleClick",i,n)},this._a=function(t,e){if(o.ra()){var n={};if(n.start=t,n.end=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof o.onTimeRangeDoubleClick&&(o.onTimeRangeDoubleClick(n),n.preventDefault.value))return;switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(t,e);break;case"CallBack":o.timeRangeDoubleClickCallBack(t,e)}"function"==typeof o.onTimeRangeDoubleClicked&&o.onTimeRangeDoubleClicked(n)}else switch(o.timeRangeDoubleClickHandling){case"PostBack":o.timeRangeDoubleClickPostBack(t,e);break;case"CallBack":o.timeRangeDoubleClickCallBack(t,e);break;case"JavaScript":o.onTimeRangeDoubleClick(t,e)}},this.commandCallBack=function(t,e){this.$e();var n={};n.command=t,this.F("Command",n,e)},this.commandPostBack=function(t,e){this.$e();var n={};n.command=t,this.D("Command",n,e)},this._c=function(t){for(var e=0;e<o.elements.events.length;e++){var n=o.elements.events[e];if(n.event===t||n.event.data===t.data)return n}return null},this.Le=function(t){var e={};e.list=[],e.each=function(t){if(t)for(var e=0;e<this.list.length;e++)t(this.list[e])};for(var n=0;n<this.elements.events.length;n++){var i=this.elements.events[n];i.event.data===t.data&&e.list.push(i)}return e},this.fd=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.className=this.p(t),document.body.appendChild(e);var n=e.offsetHeight,i=e.offsetWidth;document.body.removeChild(e);var o={};return o.height=n,o.width=i,o},this.qc={};var l=this.qc;l.clearCache=function(){delete o.s.eventHeight,delete o.s.headerHeight},l.lineHeight=function(){return l.eventHeight()+o.lineSpace},l.rounded=function(){return"Rounded"===o.eventCorners},l.loadFromServer=function(){return!(!o.backendUrl||void 0!==o.events.list&&o.events.list)},l.locale=function(){return DayPilot.Locale.find(o.locale)},l.getWeekStart=function(){return o.showWeekend?o.weekStarts:1},l.weekStarts=function(){if(!o.showWeekend)return 1;if("Auto"===o.weekStarts){var t=l.locale();return t?t.weekStarts:0}return o.weekStarts},l.notifyType=function(){var t;if("Immediate"===o.notifyCommit)t="Notify";else{if("Queue"!==o.notifyCommit)throw"Invalid notifyCommit value: "+o.notifyCommit;t="Queue"}return t},l.eventHeight=function(){if(o.s.eventHeight)return o.s.eventHeight;var t=o.fd("_event_height").height;return t||(t=o.eventHeight),o.s.eventHeight=t,t},l.headerHeight=function(){if(o.s.headerHeight)return o.s.headerHeight;var t=o.fd("_header_height").height;return t||(t=o.headerHeight),o.s.headerHeight=t,t},l.timeFormat=function(){return"Auto"!==o.timeFormat?o.timeFormat:l.locale().timeFormat},this.multiselect={},this.multiselect.initList=[],this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.ub=function(){var t=o.multiselect;return DayPilot.JSON.stringify(t.events())},this.multiselect.events=function(){var t=o.multiselect,e=[];e.ignoreToJSON=!0;for(var n=0;n<t.list.length;n++)e.push(t.list[n]);return e},this.multiselect.vb=function(){},this.multiselect.fb=function(t,e){var n=o.multiselect;if(n.isSelected(t.event))if(o.allowMultiSelect)if(e)n.remove(t.event,!0);else{var i=n.list.length;n.clear(!0),i>1&&n.add(t.event,!0)}else n.clear(!0);else o.allowMultiSelect&&e?n.add(t.event,!0):(n.clear(!0),n.add(t.event,!0));n.redraw(),n.vb()},this.multiselect.wb=function(t){var e=o.multiselect;return e.xb(t,e.initList)},this.multiselect.yb=function(){for(var t=o.multiselect,e=[],n=0;n<t.list.length;n++){var i=t.list[n];e.push(i.value())}alert(e.join("\n"))},this.multiselect.add=function(t,e){var n=o.multiselect;-1===n.indexOf(t)&&n.list.push(t),e||n.redraw()},this.multiselect.remove=function(t,e){var n=o.multiselect,i=n.indexOf(t);-1!==i&&n.list.splice(i,1)},this.multiselect.clear=function(t){var e=o.multiselect;e.list=[],t||e.redraw()},this.multiselect.redraw=function(){for(var t=o.multiselect,e=0;e<o.elements.events.length;e++){var n=o.elements.events[e];t.isSelected(n.event)?t.Ab(n):t.Bb(n)}},this.multiselect.Ab=function(t){var e=o.multiselect,n=o.p("_selected"),t=e.Cb(t);DayPilot.Util.addClass(t,n),e.divs.push(t)},this.multiselect.Cb=function(t){return t},this.multiselect.Eb=function(){for(var t=o.multiselect,e=0;e<t.divs.length;e++){var n=t.divs[e];t.Bb(n,!0)}t.divs=[]},this.multiselect.Bb=function(t,e){var n=o.multiselect,i=o.p("_selected"),a=n.Cb(t);if(a&&a.className&&-1!==a.className.indexOf(i)&&(a.className=a.className.replace(i,"")),!e){var r=DayPilot.indexOf(n.divs,t);-1!==r&&n.divs.splice(r,1)}},this.multiselect.isSelected=function(t){return o.multiselect.xb(t,o.multiselect.list)},this.multiselect.indexOf=function(t){return DayPilot.indexOf(o.multiselect.list,t)},this.multiselect.xb=function(t,e){if(!e)return!1;for(var n=0;n<e.length;n++){var i=e[n];if(t===i)return!0;if("function"==typeof i.value){if(null!==i.value()&&null!==t.value()&&i.value()===t.value())return!0;if(null===i.value()&&null===t.value()&&i.recurrentMasterId()===t.recurrentMasterId()&&t.start().toStringSortable()===i.start())return!0}else{if(null!==i.value&&null!==t.value()&&i.value===t.value())return!0;if(null===i.value&&null===t.value()&&i.recurrentMasterId===t.recurrentMasterId()&&t.start().toStringSortable()===i.start)return!0}}return!1},this.events.forRange=function(t,e){return t=new DayPilot.Date(t),e=new DayPilot.Date(e),DayPilot.list(o.events.list).filter(function(n){var i=new DayPilot.Date(n.start),o=new DayPilot.Date(n.end);return DayPilot.Util.overlaps(t,e,i,o)}).map(function(t){return new DayPilot.Event(t,o)})},this.events.find=function(t){if(!o.events.list||void 0===o.events.list.length)return null;for(var e=o.events.list.length,n=0;n<e;n++)if(o.events.list[n].id===t)return new DayPilot.Event(o.events.list[n],o);return null},this.events.findRecurrent=function(t,e){if(!o.events.list||void 0===o.events.list.length)return null;for(var n=o.events.list.length,i=0;i<n;i++)if(o.events.list[i].recurrentMasterId===t&&o.events.list[i].start.getTime()===e.getTime())return new DayPilot.Event(o.events.list[i],o);return null},this.events.update=function(t,e){var n={};n.oldEvent=new DayPilot.Event(t.copy(),o),n.newEvent=new DayPilot.Event(t.temp(),o);var i=new DayPilot.Action(o,"EventUpdate",n,e);return t.commit(),o.z&&o.update(),o.Jc.notify(),i},this.events.remove=function(t,e){var n={};n.e=new DayPilot.Event(t.data,o);var i=new DayPilot.Action(o,"EventRemove",n,e),a=DayPilot.indexOf(o.events.list,t.data);return o.events.list.splice(a,1),o.z&&o.update(),o.Jc.notify(),i},this.events.add=function(t,e){t.calendar=o,o.events.list||(o.events.list=[]),o.events.list.push(t.data);var n={};n.e=t;var i=new DayPilot.Action(o,"EventAdd",n,e);return o.z&&o.update(),o.Jc.notify(),i},this.events.filter=function(t){o.events.Xc=t,o.ad()},this.events.load=function(t,e,n){var i=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof n&&n(e)},a=function(t){var n,a=t.request;try{n=DayPilot.Util.parseJSON(a.responseText)}catch(t){var r={};return r.exception=t,void i(r)}if(DayPilot.isArray(n)){var l={};if(l.preventDefault=function(){this.preventDefault.value=!0},l.data=n,"function"==typeof e&&e(l),l.preventDefault.value)return;o.events.list=n,o.z&&o.update()}};DayPilot.ajax({method:"POST",data:{start:o.visibleStart().toString(),end:o.visibleEnd().toString()},url:t,success:a,error:i})},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(t){if(t){if(!t.isAction)throw"DayPilot.Action object required for queue.add()";o.queue.list.push(t)}},this.queue.notify=function(t){var e={};e.actions=o.queue.list,o.F("Notify",e,t,"Notify"),o.queue.list=[]},this.queue.clear=function(){o.queue.list=[]},this.queue.pop=function(){return o.queue.list.pop()},this.Ze=function(t){return"DateTime"===o.eventEndSpec?t:t.getDatePart().ticks===t.ticks?t.addDays(-1):t.getDatePart()},this.ye=function(t){return"DateTime"===o.eventEndSpec?t:t.getDatePart().addDays(1)},this._e=function(t){return"DateTime"===o.eventEndSpec?t:t.getDatePart()},this.qa=function(t){if(t&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.A>=this.autoRefreshMaxCount)){this.$e();var e=this.autoRefreshInterval;if(!e||e<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){o.Oc()},1e3*this.autoRefreshInterval)}},this.$e=function(){this.autoRefreshTimeout&&window.clearTimeout(this.autoRefreshTimeout)},this.Oc=function(){if(!e.eventResizing&&!e.eventMoving&&!e.timeRangeSelecting){var t=!1;if("function"==typeof this.onAutoRefresh){var n={};n.i=this.A,n.preventDefault=function(){this.preventDefault.value=!0},o.onAutoRefresh(n),n.preventDefault.value&&(t=!0)}!t&&this.q()&&this.commandCallBack(this.autoRefreshCommand),this.A++}this.A<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){o.Oc()},1e3*this.autoRefreshInterval))},this.ad=function(t){if(this.cells){var t=t||{},e=!t.eventsOnly;o.cssOnly||(o.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),o.L(),o.se(),o.aa(),e&&(o.qc.clearCache(),o.te(),o.ve()),o.ia(),o.ma(),o.na(),this.visible?this.show():this.hide()}},this.update=function(){this.ad()},this.dispose=function(){var t=o;t.nav.top&&(t.$e(),t.L(),t.nav.top.removeAttribute("style"),t.nav.top.removeAttribute("class"),t.nav.top.innerHTML="",t.nav.top.dp=null,t.nav.top.onmousemove=null,t.nav.top.ontouchstart=null,t.nav.top.ontouchmove=null,t.nav.top.ontouchend=null,t.nav.top=null,DayPilot.ue(window,"resize",t.O),e.unregister(t))},this.Pc=function(){e.globalHandlers||(e.globalHandlers=!0,DayPilot.re(document,"mouseup",e.gMouseUp)),DayPilot.re(window,"resize",this.O),window.eval("var lh=location.hostname;if(!~lh.indexOf('daypilot.org')&&lh!=='localhost')setTimeout(function(){alert('You are using a trial version of DayPilot Pro.')},100000*(Math.random()*6+6));")},this.ma=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.show=function(){o.visible=!0,o.nav.top.style.display=""},this.hide=function(){o.visible=!1,o.nav.top.style.display="none"},this.hd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Month() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Month: The placeholder element not found: '"+n+"'."}},this.jd=function(){this.hd(),this.se(),this.Wb(),this.ve(),this.ia(),this.Pc(),this.qa(),this.F("Init"),e.register(this)},this.init=function(){if(this.hd(),!this.nav.top.dp){var t=l.loadFromServer();if(o.cssOnly||(o.cssOnly=!0,window.console&&window.console.log&&window.console.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),t)return this.jd(),void(this.z=!0);this.se(),this.aa(),this.Wb(),this.ve(),this.ma(),this.na(),this.ia(),this.Pc(),this.messageHTML&&this.message(this.messageHTML),this.X(null,!1),this.qa(),e.register(this),this.z=!0,this.kd()}},this.ld=null,this.md=function(t){var e={events:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?o.events.list=t.list:o.events.list=t)}}};this.ld=e;for(var n in t)if(e[n]){var i=e[n];i.data=t[n],i.preInit&&i.preInit()}else o[n]=t[n]},this.kd=function(){var t=this.ld;for(var e in t){var n=t[e];n.postInit&&n.postInit()}},this.internal={},this.internal.initialized=function(){return o.z},this.internal.invokeEvent=this.Pa,this.internal.eventMenuClick=this.Ya,this.internal.timeRangeMenuClick=this.Za,this.internal.bubbleCallBack=this.Wa,this.internal.findEventDiv=this._c,this.internal.adjustEndIn=this.ye,this.Init=this.init,this.md(i)},e.register=function(t){e.registered||(e.registered=[]);for(var n=0;n<e.registered.length;n++)if(e.registered[n]===t)return;e.registered.push(t)},e.unregister=function(t){var n=e.registered;if(n){var i=DayPilot.indexOf(n,t);-1!==i&&n.splice(i,1),0===n.length&&(n=null)}n||(DayPilot.ue(document,"mouseup",e.gMouseUp),e.globalHandlers=!1)},e.gMouseUp=function(t){if(e.movingEvent){var n=e.movingEvent;if(e.movingEvent=null,!(n.event&&n.event.calendar&&n.event.calendar.shadow&&n.event.calendar.shadow.start))return;var i=n.event.calendar,o=n.event,a=i.shadow.start,r=i.shadow.position,l=n.offset;i.Ge();var t=t||window.event;return i.Ta(o,a.x,a.y,l,t,r),t.cancelBubble=!0,t.stopPropagation&&t.stopPropagation(),!1}if(e.resizingEvent){var n=e.resizingEvent;if(e.resizingEvent=null,!(n.event&&n.event.calendar&&n.event.calendar.shadow&&n.event.calendar.shadow.start))return;var i=n.event.calendar,o=n.event,a=i.shadow.start,s=i.shadow.width;return i.Ge(),i.Ra(o,a,s),t.cancelBubble=!0,!1}if(e.timeRangeSelecting){if(e.timeRangeSelecting.moved){var c=e.timeRangeSelecting,i=c.root,a=new DayPilot.Date(i.He(c.from.x,c.from.y)),u=a.addDays(c.width);i.$a(a,u)}e.timeRangeSelecting=null}},"undefined"!=typeof jQuery&&function(t){t.fn.daypilotMonth=function(t){var e=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Month(this.id,t);n.init(),this.daypilot=n,e||(e=n)}});return 1===this.length?e:n}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotMonth",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,n){return e.replaceWith(this.template.replace("{{id}}",n.id)),function(e,n,i){var o=new DayPilot.Month(n[0]);o.Jc.scope=e,o.init();var a=i.id;a&&(e[a]=o);var r=i.publishAs;r&&(0,t(r).assign)(e,o);for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?function(n){o[n]=function(o){var a=t(i[n]);e.$apply(function(){a(e,{args:o})})}}(l):function(n){o[n]=function(o){t(i[n])(e,{args:o})}}(l)}var c=e.$watch,u=i.config||i.daypilotConfig,d=i.events||i.daypilotEvents;c.call(e,u,function(t,e){for(var n in t)o[n]=t[n];o.update()},!0),c.call(e,d,function(t){o.events.list=t,o.ad({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.Navigator&&(DayPilot.Navigator=function(t,e){this.v="2826";var n=this;this.id=t,this.api=2,this.isNavigator=!0,this.autoFocusOnClick=!0,this.weekStarts="Auto",this.selectMode="day",this.titleHeight=20,this.dayHeaderHeight=20,this.bound=null,this.cellWidth=20,this.cellHeight=20,this.cssOnly=!0,this.cssClassPrefix="navigator_default",this.freeHandSelectionEnabled=!1,this.selectionStart=(new DayPilot.Date).getDatePart(),this.selectionEnd=null,this.selectionDay=null,this.showMonths=1,this.skipMonths=1,this.command="navigate",this.year=(new DayPilot.Date).getYear(),this.month=(new DayPilot.Date).getMonth()+1,this.showWeekNumbers=!1,this.weekNumberAlgorithm="Auto",this.rowsPerMonth="Six",this.orientation="Vertical",this.locale="en-us",this.visible=!0,this.timeRangeSelectedHandling="Bind",this.visibleRangeChangedHandling="Enabled",this.onVisibleRangeChange=null,this.onVisibleRangeChanged=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.nav={},this.s={},this.af=function(){this.root.dp=this,this.cssOnly?this.root.className=this.p("_main"):this.root.className=this.p("main"),"Horizontal"===this.orientation?(this.root.style.width=this.showMonths*(7*a.cellWidth()+this.bf())+"px",this.root.style.height=6*this.cellHeight+this.titleHeight+this.dayHeaderHeight+"px"):this.root.style.width=7*a.cellWidth()+this.bf()+"px",this.root.style.position="relative",this.visible||(this.root.style.display="none");var t=document.createElement("input");t.type="hidden",t.name=n.id+"_state",t.id=t.name,this.root.appendChild(t),this.state=t,this.startDate?this.startDate=new DayPilot.Date(this.startDate).firstDayOfMonth():this.startDate=DayPilot.Date.fromYearMonthDay(this.year,this.month),this.calendars=[],this.selected=[],this.months=[]},this.ra=function(){return 2===n.api},this.te=function(){this.root.innerHTML=""},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.cf=function(t,e){var n=this.cssOnly?this.p("_"+e):this.p(e);DayPilot.Util.addClass(t,n)},this.df=function(t,e){var n=this.cssOnly?this.p("_"+e):this.p(e);DayPilot.Util.removeClass(t,n)},this.ve=function(t,e){var i={};i.cells=[],i.days=[],i.weeks=[];var o=this.startDate.addMonths(t),r=e.before,l=e.after,s=o.firstDayOfMonth(),c=s.firstDayOfWeek(a.weekStarts()),u=s.addMonths(1),d=DayPilot.DateUtil.daysDiff(c,u),h="Auto"===this.rowsPerMonth?Math.ceil(d/7):6;i.rowCount=h;var f=(new DayPilot.Date).getDatePart(),p=7*a.cellWidth()+this.bf();i.width=p;var v=this.cellHeight*h+this.titleHeight+this.dayHeaderHeight;i.height=v;var g=document.createElement("div");if(g.style.width=p+"px",g.style.height=v+"px","Horizontal"===this.orientation)g.style.position="absolute",g.style.left=p*t+"px",g.style.top="0px",i.top=0,i.left=p*t;else{g.style.position="relative";var m=t>0?n.months[t-1].top+n.months[t-1].height:0;i.top=m,i.left=0}this.cssOnly?g.className=this.p("_month"):g.className=this.p("month"),g.style.cursor="default",g.style.MozUserSelect="none",g.style.KhtmlUserSelect="none",g.style.WebkitUserSelect="none",g.month=i,this.root.appendChild(g);var y=this.titleHeight+this.dayHeaderHeight,b=document.createElement("div");b.style.position="absolute",b.style.left="0px",b.style.top="0px",b.style.width=a.cellWidth()+"px",b.style.height=this.titleHeight+"px",b.style.lineHeight=this.titleHeight+"px",b.setAttribute("unselectable","on"),this.cssOnly?b.className=this.p("_titleleft"):b.className=this.p("titleleft"),e.left&&(b.style.cursor="pointer",b.innerHTML="<span>&lt;</span>",b.onclick=this.ef),g.appendChild(b),this.tl=b;var w=document.createElement("div");w.style.position="absolute",w.style.left=a.cellWidth()+"px",w.style.top="0px",w.style.width=5*a.cellWidth()+this.bf()+"px",w.style.height=this.titleHeight+"px",w.style.lineHeight=this.titleHeight+"px",w.setAttribute("unselectable","on"),this.cssOnly?w.className=this.p("_title"):w.className=this.p("title"),w.innerHTML=a.locale().monthNames[o.getMonth()]+" "+o.getYear(),g.appendChild(w),this.ti=w;var D=document.createElement("div");D.style.position="absolute",D.style.left=6*a.cellWidth()+this.bf()+"px",D.style.top="0px",D.style.width=a.cellWidth()+"px",D.style.height=this.titleHeight+"px",D.style.lineHeight=this.titleHeight+"px",D.setAttribute("unselectable","on"),this.cssOnly?D.className=this.p("_titleright"):D.className=this.p("titleright"),e.right&&(D.style.cursor="pointer",D.innerHTML="<span>&gt;</span>",D.onclick=this.gf),g.appendChild(D),this.tr=D;var C=this.bf();if(this.showWeekNumbers)for(var k=0;k<h;k++){var x=c.addDays(7*k),P=null;switch(this.weekNumberAlgorithm){case"Auto":P=1===a.weekStarts()?x.weekNumberISO():x.weekNumber();break;case"US":P=x.weekNumber();break;case"ISO8601":P=x.weekNumberISO();break;default:throw"Unknown weekNumberAlgorithm value."}var _=document.createElement("div");_.style.position="absolute",_.style.left="0px",_.style.top=k*this.cellHeight+y+"px",_.style.width=a.cellWidth()+"px",_.style.height=this.cellHeight+"px",_.style.lineHeight=this.cellHeight+"px",_.setAttribute("unselectable","on"),this.cssOnly?_.className=this.p("_weeknumber"):_.className=this.p("weeknumber"),_.innerHTML="<span>"+P+"</span>",g.appendChild(_),i.weeks.push(_)}for(var S=0;S<7;S++){i.cells[S]=[];var _=document.createElement("div");_.style.position="absolute",_.style.left=S*a.cellWidth()+C+"px",_.style.top=this.titleHeight+"px",_.style.width=a.cellWidth()+"px",_.style.height=this.dayHeaderHeight+"px",_.style.lineHeight=this.dayHeaderHeight+"px",_.setAttribute("unselectable","on"),this.cssOnly?_.className=this.p("_dayheader"):_.className=this.p("dayheader"),_.innerHTML="<span>"+this.hf(S)+"</span>",g.appendChild(_),i.days.push(_);for(var k=0;k<h;k++){var x=c.addDays(7*k+S),A=this.if(x)&&"none"!==this.jf(),E=x.firstDayOfMonth()===o,T=x<o,R=x>=o.addMonths(1);if("month"===this.jf())A=A&&E;else if("day"===this.jf())A=A&&(E||r&&T||l&&R);else if("week"===this.jf()){var M=x.firstDayOfMonth()===o;A=A&&(M||r&&T||l&&R)}var H=document.createElement("div");i.cells[S][k]=H;var B=n.kf(S,k),O=B.x,N=B.y;H.day=x,H.x=S,H.y=k,H.left=O,H.top=N,H.isCurrentMonth=E,H.isNextMonth=R,H.isPrevMonth=T,H.showBefore=r,H.showAfter=l,this.cssOnly?H.className=this.p(E?"_day":"_dayother"):H.className=this.p(E?"day":"dayother"),n.cf(H,"cell"),x.getTime()===f.getTime()&&E&&this.cf(H,"today"),0!==x.dayOfWeek()&&6!==x.dayOfWeek()||this.cf(H,"weekend"),H.style.position="absolute",H.style.left=O+"px",H.style.top=N+"px",H.style.width=a.cellWidth()+"px",H.style.height=this.cellHeight+"px",H.style.lineHeight=this.cellHeight+"px";var I=document.createElement("div");I.style.position="absolute",this.cssOnly?I.className=x.getTime()===f.getTime()&&E?this.p("_todaybox"):this.p("_daybox"):I.className=x.getTime()===f.getTime()&&E?this.p("todaybox"):this.p("daybox"),n.cf(I,"cell_box"),I.style.left="0px",I.style.top="0px",I.style.right="0px",I.style.bottom="0px",H.appendChild(I);var j=null;if(this.cells&&this.cells[x.toStringSortable()]&&(j=this.cells[x.toStringSortable()]),"function"==typeof n.onBeforeCellRender){var U={};U.cell=j||{},U.cell.day=x,U.cell.isCurrentMonth=E,U.cell.isToday=x.getTime()===f.getTime()&&E,U.cell.isWeekend=0===x.dayOfWeek()||6===x.dayOfWeek(),j?(U.cell.html=j.html||x.getDay(),U.cell.cssClass=j.css):(U.cell.html=x.getDay(),U.cell.cssClass=null),n.onBeforeCellRender(U),j=U.cell}if(j&&DayPilot.Util.addClass(H,j.cssClass||j.css),E||r&&T||l&&R){var F=document.createElement("div");F.innerHTML=x.getDay(),F.style.position="absolute",F.style.left="0px",F.style.top="0px",F.style.right="0px",F.style.bottom="0px",n.cf(F,"cell_text"),H.style.cursor="pointer",H.isClickable=!0,j&&j.html&&(F.innerHTML=j.html),H.appendChild(F)}H.setAttribute("unselectable","on"),H.onclick=this.lf,g.appendChild(H),A&&(n.mf(g,S,k),this.selected.push(H))}}var L=document.createElement("div");L.style.position="absolute",L.style.left="0px",L.style.top=y-2+"px",L.style.width=7*a.cellWidth()+this.bf()+"px",L.style.height="1px",L.style.fontSize="1px",L.style.lineHeight="1px",this.cssOnly?L.className=this.p("_line"):L.className=this.p("line"),g.appendChild(L),this.months.push(i)},this.kf=function(t,e){var n=this.titleHeight+this.dayHeaderHeight,i=this.bf();return{x:t*a.cellWidth()+i,y:e*this.cellHeight+n}},this.mf=function(t,e,i){var o=t.month.cells[e][i];n.cf(o,"select")},this.nf=function(t,e,i){var o=t.month.cells[e][i];n.df(o,"select")},this.bf=function(){return this.showWeekNumbers?a.cellWidth():0},this.of=function(){if(this.items)for(var t=0;t<this.showMonths;t++)for(var e=0;e<7;e++)for(var n=0;n<6;n++){var i=this.months[t].cells[e][n];i&&(1===this.items[i.day.toStringSortable()]?this.cf(i,"busy"):this.df(i,"busy"))}},this.pf=function(){var t={};t.startDate=n.startDate,t.selectionStart=n.selectionStart,t.selectionEnd=n.selectionEnd.addDays(1),n.state.value=DayPilot.JSON.stringify(t)},this.jf=function(){return(this.selectMode||"").toLowerCase()},this.qf=function(){var t=this.selectionDay||this.selectionStart;t||(t=DayPilot.Date.today());var t=new DayPilot.Date(t);switch(this.jf()){case"day":this.selectionDay=t,this.selectionEnd=t;break;case"week":this.selectionDay=t,this.selectionStart=t.firstDayOfWeek(a.weekStarts()),this.selectionEnd=this.selectionStart.addDays(6);break;case"month":this.selectionDay=t,this.selectionStart=t.firstDayOfMonth(),this.selectionEnd=this.selectionStart.lastDayOfMonth();break;case"none":this.selectionEnd=t;break;default:throw"Unknown selectMode value."}},this.select=function(t,e){var n=!0,i=!0;"object"==typeof e?(e.dontFocus&&(n=!1),e.dontNotify&&(i=!1)):"boolean"==typeof e&&(n=!e);var o=this.selectionStart,a=this.selectionEnd;this.selectionStart=new DayPilot.Date(t).getDatePart(),this.selectionDay=this.selectionStart;var r=!1;if(n){var l=this.startDate;(this.selectionStart<this.rf()||this.selectionStart>=this.sf())&&(l=this.selectionStart.firstDayOfMonth()),l.toStringSortable()!==this.startDate.toStringSortable()&&(r=!0),this.startDate=l}this.qf(),this.te(),this.af(),this.tf(),this.of(),this.pf(),!i||o.equals(this.selectionStart)&&a.equals(this.selectionEnd)||this.$a(),r&&this.uf()},this.update=function(){n.cssOnly||(n.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.te(),this.af(),this.qf(),this.tf(),this.aa(),this.of(),this.pf(),this.visible?this.show():this.hide()},this.F=function(t,e,n){var i={};i.action=t,i.parameters=n,i.data=e,i.header=this.E();var o="JSON"+DayPilot.JSON.stringify(i);this.backendUrl?DayPilot.request(this.backendUrl,this.H,o,this.I):WebForm_DoCallback(this.uniqueID,o,this.J,null,this.callbackError,!0)},this.I=function(t){if("function"==typeof n.onAjaxError){var e={};e.request=t,n.onAjaxError(e)}else"function"==typeof n.ajaxError&&n.ajaxError(t)},this.H=function(t){n.J(t.responseText)},this.D=function(t,e,i){var o={};o.action=t,o.parameters=i,o.data=e,o.header=this.E();var a="JSON"+DayPilot.JSON.stringify(o);__doPostBack(n.uniqueID,a)},this.E=function(){var t={};return t.v=this.v,t.startDate=this.startDate,t.selectionStart=this.selectionStart,t.showMonths=this.showMonths,t},this.vf=function(t,e){"refresh"===t&&this.uf()},this.hf=function(t){var e=t+a.weekStarts();return e>6&&(e-=7),a.locale().dayNamesShort[e]},this.if=function(t){return null!==this.selectionStart&&null!==this.selectionEnd&&this.selectionStart.getTime()<=t.getTime()&&t.getTime()<=this.selectionEnd.getTime()},this.wf=function(t){for(var e=0;e<n.months.length;e++){var i=n.months[e];if(!i)return null;if(t.x<i.left||i.width<t.x)return null;if(n.months[e].height,i.top<=t.y&&t.y<i.top+i.height)return e}return null},this.xf=function(t){var e=DayPilot.mo3(n.nav.top,t),i=n.wf(e);if(null===i)return null;var o=n.months[i],a=this.titleHeight+this.dayHeaderHeight;if(o.top<=e.y&&e.y<o.top+a)return{month:i,x:0,y:0,coords:e,header:!0};for(var r=0;r<o.cells.length;r++)for(var l=0;l<o.cells[r].length;l++){var s=o.cells[r][l],c=s.top+o.top,u=s.left+o.left;if(u<=e.x&&e.x<u+n.cellWidth&&c<=e.y&&e.y<c+n.cellHeight)return{month:i,x:r,y:l,coords:e}}return null},this.yf=function(t){if(n.freeHandSelectionEnabled){var e=n.xf(t);e&&!e.header&&(i.start=e),n.months[e.month].cells[e.x][e.y],t.preventDefault()}},this.zf=function(t){if(i.start){var e=n.xf(t);if(i.end)i.end=e;else if(e){var o=3,a=DayPilot.distance(i.start.coords,e.coords);a>o&&(i.end=e)}i.end&&(i.clear(),i.draw())}},this.Af={};var i=this.Af;i.start=null,i.drawCell=function(t){var e=n.months[t.month],o=n.kf(t.x,t.y),a=e.top+o.y,r=e.left+o.x,l=document.createElement("div");l.style.position="absolute",l.style.left=r+"px",l.style.top=a+"px",l.style.height=n.cellHeight+"px",l.style.width=n.cellWidth+"px",l.style.backgroundColor="#ccc",l.style.opacity=.5,l.style.cursor="default",n.nav.preselection.appendChild(l),i.cells.push(l)},i.clear=function(){if(i.cells){for(var t=0;t<i.cells.length;t++)n.nav.preselection.removeChild(i.cells[t]);i.cells=[]}},i.draw=function(){var t=i.ordered(),e=new o(t.start),a=t.end;if(a){if(a===i.end&&a.header&&a.month>0){a.month-=1;var r=n.months[a.month];a.x=6,a.y=r.rowCount-1}for(i.cells=[];!e.is(a);){i.drawCell(e);var l=new o(e).next();if(!l)return;e.month=l.month,e.x=l.x,e.y=l.y}i.drawCell(e)}},i.ordered=function(){var t=i.start,e=i.end,n={};return!e||new o(t).before(e)?(n.start=t,n.end=e):(n.start=e,n.end=t),n};var o=function(t,e,i){if(t instanceof o)return t;if("object"==typeof t){var a=t;this.month=a.month,this.x=a.x,this.y=a.y}else this.month=t,this.x=e,this.y=i;this.is=function(t){return this.month===t.month&&this.x===t.x&&this.y===t.y},this.next=function(){var t=this;if(t.x<6)return{month:t.month,x:t.x+1,y:t.y};var e=n.months[t.month];return t.y<e.rowCount-1?{month:t.month,x:0,y:t.y+1}:t.month<n.months.length-1?{month:t.month+1,x:0,y:0}:null},this.visible=function(){var t=this.cell();return!!t.isCurrentMonth||!(!t.isPrevMonth||!t.showBefore)||!(!t.isNextMonth||!t.showAfter)},this.nextVisible=function(){for(var t=this;!t.visible();){var e=t.next();if(!e)return null;t=new o(e)}return t},this.previous=function(){var t=this;if(t.x>0)return{month:t.month,x:t.x-1,y:t.y};if(n.months[t.month],t.y>0)return{month:t.month,x:6,y:t.y-1};if(t.month>0){var e=n.months[t.month-1];return{month:t.month-1,x:6,y:e.rowCount-1}}return null},this.previousVisible=function(){for(var t=this;!t.visible();){var e=t.previous();if(!e)return null;t=new o(e)}return t},this.cell=function(){return n.months[this.month].cells[this.x][this.y]},this.date=function(){return this.cell().day},this.before=function(t){return this.date()<new o(t).date()}};this.lf=function(t){var e=this.parentNode,i=this.parentNode.month,o=this.x,a=this.y,r=i.cells[o][a].day;if(i.cells[o][a].isClickable){n.clearSelection(),n.selectionDay=r;var r=n.selectionDay;switch(n.jf()){case"none":n.selectionStart=r,n.selectionEnd=r;break;case"day":if(n.autoFocusOnClick){var l=r;if(r<n.rf()||r>=n.sf())return void n.select(r)}var s=i.cells[o][a];n.mf(e,o,a),n.selected.push(s),n.selectionStart=s.day,n.selectionEnd=s.day;break;case"week":if(n.autoFocusOnClick){var l=i.cells[0][a].day,c=i.cells[6][a].day;if(l.firstDayOfMonth()===c.firstDayOfMonth()&&(l<n.rf()||c>=n.sf()))return void n.select(r)}for(var u=0;u<7;u++)n.mf(e,u,a),n.selected.push(i.cells[u][a]);n.selectionStart=i.cells[0][a].day,n.selectionEnd=i.cells[6][a].day;break;case"month":if(n.autoFocusOnClick){var l=r;if(r<n.rf()||r>=n.sf())return void n.select(r)}for(var l=null,c=null,a=0;a<6;a++)for(var o=0;o<7;o++){var s=i.cells[o][a];s&&s.day.getYear()===r.getYear()&&s.day.getMonth()===r.getMonth()&&(n.mf(e,o,a),n.selected.push(s),null===l&&(l=s.day),c=s.day)}n.selectionStart=l,n.selectionEnd=c;break;default:throw"unknown selectMode"}n.pf(),n.$a()}},this.$a=function(t){var e=n.selectionStart,i=n.selectionEnd.addDays(1),o=DayPilot.DateUtil.daysDiff(e,i),a=n.selectionDay;if(t=t||{},n.ra()){var r={};if(r.start=e,r.end=i,r.day=a,r.days=o,r.mode=t.mode||n.selectMode,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onTimeRangeSelect&&(n.onTimeRangeSelect(r),r.preventDefault.value))return;switch(n.timeRangeSelectedHandling){case"Bind":var l=DayPilot.Util.evalVariable(n.bound);if(l){var s={};s.start=e,s.end=i,s.days=o,s.day=a,l.commandCallBack(n.command,s)}break;case"None":break;case"PostBack":n.timeRangeSelectedPostBack(e,i,a)}"function"==typeof n.onTimeRangeSelected&&n.onTimeRangeSelected(r)}else switch(n.timeRangeSelectedHandling){case"Bind":var l=DayPilot.Util.evalVariable(n.bound);if(l){var s={};s.start=e,s.end=i,s.days=o,s.day=a,l.commandCallBack(n.command,s)}break;case"JavaScript":n.onTimeRangeSelected(e,i,a);break;case"None":break;case"PostBack":n.timeRangeSelectedPostBack(e,i,a)}},this.timeRangeSelectedPostBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.day=i,this.D("TimeRangeSelected",n,o)},this.gf=function(t){n.Bf(n.skipMonths)},this.ef=function(t){n.Bf(-n.skipMonths)},this.Bf=function(t){this.startDate=this.startDate.addMonths(t),this.te(),this.af(),this.tf(),this.pf(),this.uf(),this.of()},this.rf=function(){return n.startDate.firstDayOfMonth()},this.sf=function(){return n.startDate.firstDayOfMonth().addMonths(this.showMonths)},this.visibleStart=function(){return n.startDate.firstDayOfMonth().firstDayOfWeek(a.weekStarts())},this.visibleEnd=function(){return n.startDate.firstDayOfMonth().addMonths(this.showMonths-1).firstDayOfWeek(a.weekStarts()).addDays(42)},this.uf=function(){var t=this.visibleStart(),e=this.visibleEnd();if(n.ra()){var i={};if(i.start=t,i.end=e,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof n.onVisibleRangeChange&&(n.onVisibleRangeChange(i),i.preventDefault.value))return;switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null)}"function"==typeof n.onVisibleRangeChanged&&n.onVisibleRangeChanged(i)}else switch(this.visibleRangeChangedHandling){case"CallBack":this.visibleRangeChangedCallBack(null);break;case"PostBack":this.visibleRangeChangedPostBack(null);break;case"JavaScript":this.onVisibleRangeChanged(t,e)}},this.visibleRangeChangedCallBack=function(t){var e={};this.F("Visible",t,e)},this.visibleRangeChangedPostBack=function(t){var e={};this.D("Visible",t,e)},this.J=function(t,e){var t=DayPilot.Util.parseJSON(t);n.items=t.Items,n.cells=t.Cells,n.cells?n.update():n.of()},this.tf=function(){for(var t=0;t<this.showMonths;t++){var e=this.Cf(t);this.ve(t,e)}this.root.style.height=this.Qe()+"px",this.nav.preselection=document.createElement("div"),this.nav.preselection.style.position="absolute",this.nav.preselection.style.left="0px",this.nav.preselection.style.top="0px",this.root.appendChild(this.nav.preselection)},this.Qe=function(){if("Horizontal"===this.orientation){for(var t=0,e=0;e<this.months.length;e++){var n=this.months[e];n.height>t&&(t=n.height)}return t}for(var i=0,e=0;e<this.months.length;e++){var n=this.months[e];i+=n.height}return i},this.Cf=function(t){if(this.internal.showLinks)return this.internal.showLinks;var e={};return e.left=0===t,e.right=0===t,e.before=0===t,e.after=t===this.showMonths-1,"Horizontal"===this.orientation&&(e.right=t===this.showMonths-1),e},this.Jc={},this.Jc.scope=null,this.Jc.notify=function(){n.Jc.scope&&n.Jc.scope.$apply()},this.internal={},this.internal.initialized=function(){return n.z},this.qc={};var a=this.qc;a.locale=function(){return DayPilot.Locale.find(n.locale)},a.weekStarts=function(){if("Auto"===n.weekStarts){var t=a.locale();return t?t.weekStarts:0}return n.weekStarts},a.cellWidth=function(){if(n.s.cellWidth)return n.s.cellWidth;var t=n.fd("_cell_dimensions").width;return t||(t=n.cellWidth),n.s.cellWidth=t,t},this.clearSelection=function(){for(var t=0;t<this.selected.length;t++){var e=this.selected[t];n.nf(e.parentNode,e.x,e.y)}this.selected=[]},this.gd=function(){return!(!this.backendUrl||void 0!==n.items&&n.items)},this.events={},this.aa=function(){if(DayPilot.isArray(this.events.list)){this.items={};for(var t=0;t<this.events.list.length;t++){var e=this.events.list[t],n=this.Df(e);for(var i in n)this.items[i]=1}}},this.fd=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.className=this.p(t);var i=n.root||document.body;i.appendChild(e);var o=e.offsetHeight,a=e.offsetWidth;i.removeChild(e);var r={};return r.height=o,r.width=a,r},this.Df=function(t){for(var e=new DayPilot.Date(t.start),n=new DayPilot.Date(t.end),i={},o=e.getDatePart();o.getTime()<n.getTime();)i[o.toStringSortable()]=1,o=o.addDays(1);return i},this.show=function(){n.visible=!0,n.root.style.display=""},this.hide=function(){n.visible=!1,n.root.style.display="none"},this.hd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Navigator() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Navigator: The placeholder element not found: '"+t+"'."}this.root=this.nav.top},this.init=function(){this.hd(),this.root.dp||(n.cssOnly||(n.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),this.qf(),this.af(),this.tf(),this.aa(),this.of(),this.P(),this.Ef(),this.Pc(),this.gd()&&this.uf(),this.z=!0)},this.Ef=function(){n.nav.top.onmousedown=this.yf,n.nav.top.onmousemove=this.zf},this.Pc=function(){DayPilot.re(document,"mouseup",n.Ld)},this.Ld=function(t){if(i.start&&i.end){var e=DayPilot.mo3(n.nav.top,t);if(e.x===i.start.coords.x&&e.y===i.start.coords.y)return i.start=null,void i.clear();i.clear();var a=i.ordered();a.start=new o(a.start).nextVisible(),a.end=new o(a.end).previousVisible(),n.selectionDay=new o(a.start).date(),n.selectionStart=n.selectionDay,n.selectionEnd=new o(a.end).date(),i.start=null,i.end=null,n.te(),n.af(),n.tf(),n.of(),n.pf(),n.$a({mode:"freehand"})}i.start=null,i.end=null},this.dispose=function(){var t=n;t.root&&(t.root.removeAttribute("style"),t.root.removeAttribute("class"),t.root.dp=null,t.root.innerHTML=null,t.root=null)},this.P=function(){this.root.dispose=this.dispose},this.Init=this.init},"undefined"!=typeof jQuery&&function(t){t.fn.daypilotNavigator=function(t){var e=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Navigator(this.id);this.daypilot=n;for(var i in t)n[i]=t[i];n.Init(),e||(e=n)}});return 1===this.length?e:n}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotNavigator",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,n){return e.replaceWith(this.template.replace("{{id}}",n.id)),function(e,n,i){var o=new DayPilot.Navigator(n[0]);o.Jc.scope=e,o.init();var a=i.id;a&&(e[a]=o);var r=i.publishAs;r&&(0,t(r).assign)(e,o);for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?function(n){o[n]=function(o){var a=t(i[n]);e.$apply(function(){a(e,{args:o})})}}(l):function(n){o[n]=function(o){t(i[n])(e,{args:o})}}(l)}var c=e.$watch,u=i.config||i.daypilotConfig,d=i.events||i.daypilotEvents;c.call(e,u,function(t,e){for(var n in t)o[n]=t[n];o.update()},!0),c.call(e,d,function(t){o.events.list=t,o.aa(),o.of()},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded())}(),void 0===DayPilot)var DayPilot={};if(void 0===DayPilot.Global&&(DayPilot.Global={}),function(){function t(t){for(var e=t.touches[0].clientX,n=t.touches[0].clientY,i=document.elementFromPoint(e,n);i&&i.parentNode;)if(i=i.parentNode,i.daypilotMainD)return i.calendar;return!1}function e(t){var e=t.touches[0].pageX,n=t.touches[0].pageY,i={};return i.x=e,i.y=n,i}if(void 0===DayPilot.Scheduler){var n=function(){var t=navigator.userAgent;return t.indexOf("Mozilla/5.0")>-1&&t.indexOf("Android ")>-1&&t.indexOf("AppleWebKit")>-1&&!(t.indexOf("Chrome")>-1)}(),i={},o=function(){};DayPilot.Scheduler=function(t,s){function c(t,e){return 1-t/e}this.v="2826";var u=this;this.id=t,this.isScheduler=!0,this.hideUntilInit=!0,this.api=2,this.allowDefaultContextMenu=!1,this.allowEventOverlap=!0,this.allowMultiMove=!1,this.allowMultiRange=!1,this.allowMultiResize=!1,this.allowMultiSelect=!0,this.multiSelectRectangle="Disabled",this.autoRefreshCommand="refresh",this.autoRefreshEnabled=!1,this.autoRefreshInterval=60,this.autoRefreshMaxCount=20,this.autoScroll="Drag",this.blockOnCallBack=!1,this.navigatorBackSync=null,this.beforeCellRenderCaching=!0,"function"==typeof DayPilot.Bubble?(this.bubble=new DayPilot.Bubble,this.cellBubble=new DayPilot.Bubble,this.resourceBubble=new DayPilot.Bubble):(this.bubble=null,this.cellBubble=null,this.resourceBubble=null),this.businessBeginsHour=9,this.businessEndsHour=18,this.businessWeekends=!1,this.cellDuration=60,this.cellGroupBy="Day",this.cellStacking=!1,this.cellStackingAutoHeight=!1,this.cellWidth=40,this.cellWidthMin=1,this.cellWidthSpec="Fixed",this.cellsMarkBusiness=!0,this.eventMarginLeft=0,this.eventMarginRight=0,this.eventMarginBottom=0,this.groupConcurrentEvents=!1,this.groupConcurrentEventsLimit=1,this.Ff=!0,this.Gf=!1,this.cellSweeping=!0,this.cellSweepingCacheSize=1e3,this.crosshairColor="Gray",this.crosshairOpacity=20,this.crosshairType="Header",this.xd=!1,this.doubleClickTimeout=300,this.dragOutAllowed=!1,this.durationBarHeight=3,this.durationBarVisible=!0,this.durationBarMode="Duration",this.durationBarDetached=!1,this.days=1,this.drawBlankCells=!0,this.dynamicEventRendering="Progressive",this.dynamicEventRenderingMargin=50,this.dynamicEventRenderingMarginX=null,this.dynamicEventRenderingMarginY=null,this.dynamicEventRenderingCacheSweeping=!1,this.dynamicEventRenderingCacheSize=200,this.dynamicLoading=!1,this.eventBorderColor="#000000",this.eventBackColor="#FFFFFF",this.eventEditMinWidth=100,this.eventEndSpec="DateTime",this.eventFontFamily="Tahoma, Arial",this.eventFontSize="8pt",this.eventFontColor="#000000",this.eventHeight=25,this.eventMoveMargin=5,this.eventMoveToPosition=!1,this.eventMoveSkipNonBusiness=!1,this.eventResizeMargin=5,this.eventStackingLineHeight=100,this.eventTapAndHoldHandling="Move",this.eventTextWrappingEnabled=!1,this.eventUpdateInplaceOptimization=!1,this.Hf=!1,this.headerFontColor="#000000",this.headerFontFamily="Tahoma, Arial",this.headerFontSize="8pt",this.headerHeight=20,this.heightSpec="Auto",this.height=300,this.hideBorderFor100PctHeight=!1,this.hourFontFamily="Tahoma, Arial",this.hourFontSize="10pt",this.hourNameBackColor="#ECE9D8",this.hourNameBorderColor="#ACA899",this.If=10,this.Jf=30,this.initEventEnabled=!0,this.jointEventsResize=!0,this.jointEventsMove=!0,this.layout="Auto",this.linkCreateHandling="Disabled",this.linkBottomMargin=10,this.linkPointSize=10,this.locale="en-us",this.loadingLabelText="Loading...",this.loadingLabelVisible=!0,this.overrideWheelScrolling=!1,this.messageBarPosition="Top",this.messageHideAfter=5e3,this.messageHideOnMouseOut=!0,this.multiMoveVerticalMode="Disabled",this.moveBy="Full",this.notifyCommit="Immediate",this.progressiveRowRendering=!0,this.progressiveRowRenderingPreload=25,this.tapAndHoldTimeout=300,this.timeHeaders=[{groupBy:"Default"},{groupBy:"Cell"}],this.treePreventParentUsage=!1,this.treeAutoExpand=!0,this.rowCreateHeight=null,this.rowCreateHtml="New row...",this.rowHeaderColumnDefaultWidth=80,this.rowHeaderHideIconEnabled=!1,this.rowHeaderWidth=80,this.rowHeaderScrolling=!1,this.rowHeaderSplitterWidth=3,this.rowHeaderWidthAutoFit=!0,this.rowHeaderWidthMarginRight=0,this.rowHeaderCols=null,this.rowMarginBottom=0,this.rowMarginTop=0,this.rowMinHeight=0,this.scale="CellDuration",this.scrollDelayDynamic=500,this.scrollDelayEvents=200,this.scrollDelayCells=0,this.scrollDelayFloats=0,this.scrollStep=null,this.scrollX=0,this.scrollY=0,this.selectedRows=[],this.showBaseTimeHeader=!0,this.showNonBusiness=!0,this.showToolTip=!0,this.snapToGrid=!0,this.startDate=DayPilot.Date.today(),this.syncResourceTree=!1,this.timeHeaderTextWrappingEnabled=!1,this.treeEnabled=!1,this.treeIndent=20,this.treeImageMarginLeft=5,this.treeImageMarginTop=5,this.timeFormat="Auto",this.useEventBoxes="Always",this.viewType="Resources",this.visible=!0,this.watchWidthChanges=!0,this.weekStarts="Auto",this.width=null,this.floatingEvents=!0,this.floatingTimeHeaders=!0,this.eventCorners="Regular",this.separators=[],this.cornerHtml="",this.Kf=!0,this.Lf=-1,this.Mf=-1,this.eventClickHandling="Enabled",this.eventDeleteHandling="Disabled",this.eventHoverHandling="Bubble",this.eventDoubleClickHandling="Disabled",this.eventEditHandling="Update",this.eventMoveHandling="Update",this.eventResizeHandling="Update",this.eventRightClickHandling="ContextMenu",this.eventSelectHandling="Update",this.resourceCollapseHandling="Enabled",this.resourceExpandHandling="Enabled",this.rowClickHandling="Enabled",this.rowDoubleClickHandling="Disabled",this.rowCreateHandling="Disabled",this.rowEditHandling="Update",this.rowHeaderColumnResizedHandling="Update",this.rowSelectHandling="Update",this.rowMoveHandling="Disabled",this.timeRangeClickHandling="Enabled",this.timeRangeDoubleClickHandling="Disabled",this.timeRangeSelectedHandling="Enabled",this.timeRangeRightClickHandling="ContextMenu",this.eventMovingStartEndEnabled=!1,this.eventMovingStartEndFormat="MMMM d, yyyy",this.timeRangeSelectingStartEndEnabled=!1,this.timeRangeSelectingStartEndFormat="MMMM d, yyyy",this.eventResizingStartEndEnabled=!1,this.eventResizingStartEndFormat="MMMM d, yyyy",this.cssOnly=!0,this.cssClassPrefix="scheduler_default",this.eventVersionsEnabled=!1,this.eventVersionHeight=25,this.eventVersionMargin=2,this.eventVersionPosition="Above",this.backendUrl=null,1===u.api&&(this.onEventMove=function(){},this.onEventResize=function(){},this.onResourceExpand=function(){},this.onResourceCollapse=function(){}),this.onEventClick=null,this.onEventClicked=null,this.onEventMove=null,this.onEventMoved=null;this.onEventMoving=null,this.onEventResize=null,this.onEventResized=null,this.onEventResizing=null,this.onEventRightClick=null,this.onEventRightClicked=null,this.onEventMouseOver=null,this.onEventMouseOut=null,this.onRowClick=null,this.onRowClicked=null,this.onTimeRangeClick=null,this.onTimeRangeClicked=null,this.onTimeRangeDoubleClick=null,this.onTimeRangeDoubleClicked=null,this.onTimeRangeSelect=null,this.onTimeRangeSelected=null,this.onTimeRangeSelecting=null,this.onTimeRangeRightClick=null,this.onTimeRangeRightClicked=null,this.onRowHeaderResized=null,this.onCellMouseOver=null,this.onCellMouseOut=null,this.onGridMouseDown=null,this.onBeforeCellRender=null,this.onBeforeEventRender=null,this.onBeforeTimeHeaderRender=null,this.onBeforeResHeaderRender=null,this.onBeforeRowHeaderRender=null,this.onBeforeCellExport=null,this.onBeforeEventExport=null,this.onBeforeTimeHeaderExport=null,this.onBeforeRowHeaderExport=null,this.onEventFilter=null,this.onRowFilter=null,this.onRectangleEventSelecting=null,this.onRectangleEventSelect=null,this.onRectangleEventSelected=null,this.onDimensionsChanged=null,this.onAfterUpdate=null,this.A=0,this.Nf=-1,this.rowlist=DayPilot.list(),this.itline=DayPilot.list(),this.timeline=null,this.events={},this.cells={},this.elements={},this.elements.events=[],this.elements.bars=[],this.elements.text=[],this.elements.cells=[],this.elements.linesVertical=[],this.elements.separators=[],this.elements.range=[],this.elements.breaks=[],this.elements.links=[],this.elements.linkpoints=[],this.elements.rectangle=[],this.elements.hover=[],this.s={},this.s.cells=[],this.s.linesVertical={},this.s.linesHorizontal={},this.s.timeHeaderGroups=[],this.s.timeHeader={},this.s.pixels=[],this.s.breaks=[],this.s.events=[],this.clientState={},this.members={},this.members.obsolete=["Init","cleanSelection","cssClassPrefix","getHScrollPosition","setHScrollPosition","getVScrollPosition","setVScrollPosition","showBaseTimeHeader"],this.members.ignoreFilter=function(t){return 0===t.indexOf("div")},this.members.ignore=["internal","nav","debug","temp","elements","members","cellProperties","itline","rowlist","timeHeader","timeouts"],this.members.noCssOnly=["eventCorners","eventFontColor","eventFontFamily","eventFontSize","headerFontColor","headerFontFamily","headerFontSize","hourFontFamily","hourFontSize","hourNameBackColor","hourNameBorderColor","loadingLabelBackColor","loadingLabelFontColor","loadingLabelFontFamily","loadingLabelFontSize","shadow","timeBreakColor"],this.nav={},this.J=function(t,e){var t=DayPilot.Util.parseJSON(t);if(u.onScrollCalled=!1,t.CallBackRedirect)return void(document.location.href=t.CallBackRedirect);if("function"==typeof u.onCallBackResult){var n={};if(n.result=t,n.preventDefault=function(){n.preventDefault.value=!0},u.onCallBackResult(n),n.preventDefault.value)return u.Ua(),u.W(),u.qa(),t.Message&&u.message&&u.message(t.Message),u.X(t.CallBackData,!0),u.Of(),void u.Pf()}if(t.BubbleGuid){var i=t.BubbleGuid,o=this.bubbles[i];return delete this.bubbles[i],u.W(),void 0!==t.Result.BubbleHTML&&o&&o.updateView(t.Result.BubbleHTML,o),void u.Of()}if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),void 0!==t.ClientState&&(null===t.ClientState?u.clientState={}:u.clientState=t.ClientState),"None"===t.UpdateType)return u.W(),u.Of(),t.Message&&u.message(t.Message),void u.X(t.CallBackData,!0);if(t.VsUpdate){var a=document.createElement("input");a.type="hidden",a.name=u.id+"_vsupdate",a.id=a.name,a.value=t.VsUpdate,u.qe.innerHTML="",u.qe.appendChild(a)}void 0!==t.TagFields&&(u.tagFields=t.TagFields),void 0!==t.SortDirections&&(u.sortDirections=t.SortDirections),u.s.drawArea=null,"Full"===t.UpdateType&&(u.resources=t.Resources,u.colors=t.Colors,u.palette=t.Palette,u.dirtyColors=t.DirtyColors,u.cellProperties=t.CellProperties,u.cellConfig=t.CellConfig,u.separators=t.Separators,u.timeline=t.Timeline,u.timeHeader=t.TimeHeader,u.timeHeaders=t.TimeHeaders,void 0!==t.Links&&(u.links.list=t.Links),void 0!==t.RowHeaderColumns&&(u.rowHeaderColumns=t.RowHeaderColumns),u.startDate=t.StartDate?new DayPilot.Date(t.StartDate):u.startDate,u.days=t.Days?t.Days:u.days,u.cellDuration=t.CellDuration?t.CellDuration:u.cellDuration,u.cellGroupBy=t.CellGroupBy?t.CellGroupBy:u.cellGroupBy,u.cellWidth=t.CellWidth?t.CellWidth:u.cellWidth,void 0!==t.Scale&&(u.scale=t.Scale),u.viewType=t.ViewType?t.ViewType:u.viewType,u.hourNameBackColor=t.HourNameBackColor?t.HourNameBackColor:u.hourNameBackColor,void 0!==t.ShowNonBusiness&&(u.showNonBusiness=t.ShowNonBusiness),u.businessBeginsHour=t.BusinessBeginsHour?t.BusinessBeginsHour:u.businessBeginsHour,u.businessEndsHour=t.BusinessEndsHour?t.BusinessEndsHour:u.businessEndsHour,void 0!==t.DynamicLoading&&(u.dynamicLoading=t.DynamicLoading),void 0!==t.TreeEnabled&&(u.treeEnabled=t.TreeEnabled),u.backColor=t.BackColor?t.BackColor:u.backColor,u.nonBusinessBackColor=t.NonBusinessBackColor?t.NonBusinessBackColor:u.nonBusinessBackColor,u.locale=t.Locale?t.Locale:u.locale,void 0!==t.TimeZone&&(u.timeZone=t.TimeZone),u.timeFormat=t.TimeFormat?t.TimeFormat:u.timeFormat,u.rowHeaderCols=t.RowHeaderCols?t.RowHeaderCols:u.rowHeaderCols,void 0!==t.DurationBarMode&&(u.durationBarMode=t.DurationBarMode),u.cornerBackColor=t.CornerBackColor?t.CornerBackColor:u.cornerBackColor,void 0!==t.CornerHTML&&(u.cornerHtml=t.CornerHTML),u.hashes=t.Hashes,u.Qf(),u.Rf(),u.Sf(),u._()),"Scroll"!==t.Action&&u.aa(t.Events),"Full"===t.UpdateType&&(u.Tf(),u.Uf()),u.Vf(),u.ma(),u.Wf(),u.s.drawArea=null,"Scroll"!==t.Action?(u.Xf(),u.ba(),"Auto"!==u.heightSpec&&"Max"!==u.heightSpec||u.ia(),u.Yf(),u.L(),u.Zf(),u.multiselect.clear(!0),u.multiselect.$f(t.SelectedEvents),u._f(),u.ag(),u.na()):(u.multiselect.clear(!0),u.multiselect.$f(t.SelectedEvents),u.bg(t.Events)),"HoldForever"!==u.timeRangeSelectedHandling&&u.cg(),"Full"===t.UpdateType&&(u.setScroll(t.ScrollX,t.ScrollY),u.pf()),u.dg(),u.Ua(),t.SelectedRows&&u.eg(t.SelectedRows),u.W(),"Full"===t.UpdateType&&-1!==navigator.appVersion.indexOf("MSIE 7.")&&window.setTimeout(function(){u.Tf(),u.ia()},0),u.qa(),t.Message&&u.message&&u.message(t.Message),u.X(t.CallBackData,!0),u.Of(),u.Pf(),"Full"!==t.UpdateType||"Scroll"===t.Action||u.onScrollCalled||setTimeout(function(){u.fg()},0)},this.Ua=function(){if(u.todo&&u.todo.del){var t=u.todo.del;t.parentNode.removeChild(t),u.todo.del=null}},this.X=function(t,e){var n=function(t,e){return function(){if(u.ra()){if("function"==typeof u.onAfterRender){var n={};n.isCallBack=e,n.isScroll=!1,n.data=t,u.onAfterRender(n)}}else u.afterRender&&u.afterRender(t,e)}};window.setTimeout(n(t,e),0)},this.scrollTo=function(t,e,n){u.gg.enabled?(u.gg.scrollToRequested=t,setTimeout(function(){var t=u.gg.scrollToRequested;t&&u.hg(t,e,n)},0)):u.hg(t,e,n)},this.hg=function(t,e,n){if(t){if("Days"===u.viewType){var i=u.ig(new DayPilot.Date(t));if(!i)return;return void setTimeout(function(){var t=i.top;u.nav.scroll.scrollTop=t},100)}var o;if(t instanceof DayPilot.Date)o=this.getPixels(t).left;else if("string"==typeof t)o=this.getPixels(new DayPilot.Date(t)).left;else{if("number"!=typeof t)throw"Invalid scrollTo() parameter. Accepted parameters: string (ISO date), number (pixels), DayPilot.Date object";o=t}var a=this.jg.clientWidth,r=this.nav.scroll.clientWidth;switch(n=n||"left",n.toLowerCase()){case"left":break;case"middle":o-=r/2;break;case"right":o-=r}if(o<0&&(o=0),o>a-r&&(o=a-r),!e)return void u.kg(o);var l=Math.abs(u.nav.scroll.scrollLeft-o),s=l/a,c=50;if("number"==typeof e)c=e;else if("string"==typeof e)switch(e){case"fast":c=30;break;case"normal":c=50;break;case"slow":c=100;break;case"linear":c=Math.floor(100*s)}s>.6&&(c=Math.min(c,80)),this.lg(o,c)}},this.lg=function(t,e){function n(t){var e=t.next();return void 0===e?void(t.finished&&t.finished()):(u.setScrollX(e),window.clearTimeout(u.refreshTimeout),void setTimeout(function(){n(t)},t.delay))}var i={};i.steps=[],i.index=0,i.delay=10,i.next=function(){var t=i.steps[i.index];return i.index+=1,t},i.finished=function(){u.fg()};for(var o=u.getScrollX(),e=e||100,a=t-o,r=0;r<e;r++){var l=r/e,s=2*(l-.5)/(Math.pow(2*(l-.5),2)+1)+.5;i.steps.push(o+a*s)}i.steps.push(t),n(i)},this.scrollToResource=function(t){DayPilot.complete(function(){var e=u.mg(t);e&&setTimeout(function(){var t=e.top;u.nav.scroll.scrollTop=t},100)})},this.ng=function(){if(this.floatingTimeHeaders&&this.timeHeader){var t=this.og();if(t){this.pg();for(var e=t.pixels.left+h.shiftX,n=t.pixels.right+h.shiftX,i=[],o=0;o<this.timeHeader.length;o++)for(var a=0;a<this.timeHeader[o].length;a++){var r=this.timeHeader[o][a],l=r.left,s=r.left+r.width,c=null;if(l<e&&e<s&&(c={},c.x=a,c.y=o,c.marginLeft=e-l,c.marginRight=0,c.div=this.s.timeHeader[a+"_"+o],i.push(c)),l<n&&n<s){c||(c={},c.x=a,c.y=o,c.marginLeft=0,c.div=this.s.timeHeader[a+"_"+o],i.push(c)),c.marginRight=s-n;break}}for(var u=0;u<i.length;u++){var c=i[u];this.qg(c.div,c.marginLeft,c.marginRight)}}}},this.dg=function(){this.ng(),this.rg()},this.sg={};var d=this.sg;d.eventsInRectangle=function(t,e,n,i){var o=t,a=t+n,r=e,l=e+i;return DayPilot.list(u.elements.events).filter(function(t){var e=t.event,n=e.part.left,i=e.part.left+e.part.width,s=u.rowlist[e.part.dayIndex],c=s.top+e.part.top,d=c+e.part.height;if(DayPilot.Util.overlaps(n,i,o,a)&&DayPilot.Util.overlaps(c,d,r,l))return!0})},d.events=function(t){var e=[],t=t||"All",n=u.og();if(!n)return DayPilot.list(e);for(var i=n.pixels.left,o=n.pixels.right,a=0;a<u.elements.events.length;a++){var r=u.elements.events[a],l=r.event,s=l.part.left,c=l.part.left+l.part.width;switch(t){case"Left":s<i&&i<c&&e.push(r);break;case"All":DayPilot.Util.overlaps(s,c,i,o)&&e.push(r)}}return DayPilot.list(e).addProps({area:n})},this.rg=function(){if(this.floatingEvents){var t=d.events("Left");this.tg(),t.each(function(e){var n=t.area.pixels.left,i=e.event,o=i.part.left,a=n-o;u.ug(e,a,0)})}},this.elements.sections=[],this.elements.hsections=[],this.qg=function(t,e,n){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.className=this.p("_timeheader_float"),i.style.position="absolute",i.style.left=e+"px",i.style.right=n+"px",i.style.top="0px",i.style.bottom="0px",i.style.overflow="hidden";var o=document.createElement("div");o.className=this.p("_timeheader_float_inner"),o.setAttribute("unselectable","on"),t.cell.th.innerHTML&&(o.innerHTML=t.cell.th.innerHTML),i.appendChild(o),t.section=i,t.insertBefore(i,t.firstChild.nextSibling),t.firstChild.innerHTML="",this.elements.hsections.push(t)},this.pg=function(){for(var t=0;t<this.elements.hsections.length;t++){var e=this.elements.hsections[t],n=e.cell;n&&e.firstChild&&(e.firstChild.innerHTML=n.th.innerHTML),DayPilot.de(e.section),e.section=null}this.elements.hsections=[]},this.ug=function(t,e,n){var i=document.createElement("div");i.setAttribute("unselectable","on"),i.className=this.p(E.eventFloat),i.style.position="absolute",i.style.left=e+"px",i.style.right=n+"px",i.style.top="0px",i.style.bottom="0px",i.style.overflow="hidden";var o=document.createElement("div");o.className=this.p(E.eventFloatInner),o.setAttribute("unselectable","on"),o.innerHTML=t.event.client.html(),t.event.data.fontColor&&(o.style.color=t.event.data.fontColor),i.appendChild(o),t.section=i,t.insertBefore(i,t.firstChild.nextSibling),t.firstChild.innerHTML="";var a={offsetX:u.vg(o),eventDiv:t};DayPilot.Areas.attach(i,t.event,a),DayPilot.Areas.disable(t),this.elements.sections.push(t)},this.wg=null,this.vg=function(t){return null===u.wg&&(u.wg=parseInt(new DayPilot.StyleReader(t).get("padding-left"))),u.wg},this.tg=function(){for(var t=0;t<this.elements.sections.length;t++){var e=this.elements.sections[t],n=e.event;n&&(e.firstChild.innerHTML=n.client.html()),DayPilot.de(e.section),DayPilot.Areas.enable(e),e.section=null}this.elements.sections=[]},this.setScrollX=function(t){u.gg.enabled?(u.gg.scrollXRequested=t,setTimeout(function(){var t=u.gg.scrollXRequested;"number"==typeof t&&u.kg(t)},0)):u.kg(t)},this.kg=function(t){var e=u.nav.scroll,n=u.xg();e.clientWidth+t>n&&(t=n-e.clientWidth),u.divTimeScroll.scrollLeft=t,e.scrollLeft=t},this.setScrollY=function(t){u.gg.enabled?(u.gg.scrollYRequested=t,setTimeout(function(){var t=u.gg.scrollYRequested;"number"==typeof t&&u.yg(t)},0)):u.yg(t)},this.yg=function(t){var e=u.nav.scroll,n=u.Nf;e.clientHeight+t>n&&(t=n-e.clientHeight),u.divResScroll.scrollTop=t,e.scrollTop=t},this.setScroll=function(t,e){u.setScrollX(t),u.setScrollY(e)},this.message=function(t,e){if(null!==t){var n={};"object"==typeof arguments[1]&&(n=arguments[1],e=n.delay);var i,e=e||this.messageHideAfter||2e3,o=this.zg()+1,a=this.Ag()+M.splitterWidth(),r=DayPilot.sw(u.nav.scroll)+1,l=DayPilot.sh(u.nav.scroll)+1;if(this.nav.message)i=u.nav.message;else{i=document.createElement("div"),i.style.position="absolute",i.style.left=a+"px",i.style.right=r+"px",i.style.display="none",DayPilot.re(i,DayPilot.touch.start,function(t){u.nav.message.style.display="none",t.preventDefault(),t.stopPropagation()}),i.onmousemove=function(){u.messageHideOnMouseOut&&i.messageTimeout&&!i.status&&clearTimeout(i.messageTimeout)},i.onmouseout=function(){u.messageHideOnMouseOut&&"none"!==u.nav.message.style.display&&(i.messageTimeout=setTimeout(u.Da,500))};var s=document.createElement("div");s.onclick=function(){u.nav.message.style.display="none"},s.className=this.p("_message"),i.appendChild(s);var c=document.createElement("div");c.style.position="absolute",c.className=this.p("_message_close"),c.onclick=function(){u.nav.message.style.display="none"},i.appendChild(c),this.nav.top.appendChild(i),this.nav.message=i}var d=function(){var i=u.nav.message;i.firstChild.className=u.p("_message"),n.cssClass&&DayPilot.Util.addClass(i.firstChild,n.cssClass),u.nav.message.firstChild.innerHTML=t;var a=DayPilot.sw(u.nav.scroll)+1;u.nav.message.style.right=a+"px";var r=u.messageBarPosition||"Top";"Bottom"===r?(u.nav.message.style.bottom=l+"px",u.nav.message.style.top=""):"Top"===r&&(u.nav.message.style.bottom="",u.nav.message.style.top=o+"px");var s=function(){i.messageTimeout=setTimeout(u.Da,e)};DayPilot.fade(u.nav.message,.2,s)};clearTimeout(i.messageTimeout),"none"!==this.nav.message.style.display?DayPilot.fade(u.nav.message,-.2,d):d()}},this.Da=function(){if(u.nav.message){var t=function(){u.nav.message.style.display="none"};DayPilot.fade(u.nav.message,-.2,t)}},this.message.show=function(t){u.message(t)},this.message.hide=function(){u.Da()},this.Bg=null,this.ia=function(){if(this.nav.scroll){!function(){var t=u.xg();u.jg.style.height=u.Nf+"px",u.jg.style.width=t+"px","Auto"!==u.cellWidthSpec||u.Cg?t>u.nav.scroll.clientWidth?u.nav.scroll.style.overflowX="auto":u.nav.scroll.style.overflowX="hidden":(u.nav.scroll.style.overflowX="hidden",u.nav.scroll.scrollLeft=0)}();var t=1;null!==this.Bg&&(this.nav.top.style.border=this.Bg,this.Bg=null),"Parent100Pct"!==this.heightSpec&&"Max100Pct"!==this.heightSpec||(this.nav.top.style.height="100%",this.hideBorderFor100PctHeight&&(this.Bg=this.nav.top.style.border,this.nav.top.style.border="0 none"),this.height=parseInt(this.nav.top.clientHeight,10)-this.zg()-t),this.nav.scroll.style.height="30px";var e=this.Vb(),n=e+this.zg()+t;e>=0&&(this.nav.scroll.style.height=e+"px",this.Dg.style.height=e+"px"),this.nav.divider&&((!n||isNaN(n)||n<0)&&(n=0),this.nav.divider.style.height=n+"px"),"Parent100Pct"!==this.heightSpec&&(this.nav.top.style.height=n+"px"),u.nav.resScrollSpace&&(u.nav.resScrollSpace.style.height=e+20+"px");for(var i=0;i<this.elements.separators.length;i++)this.elements.separators[i].style.height=this.Nf+"px";for(var i=0;i<this.elements.linesVertical.length;i++)this.elements.linesVertical[i].style.height=this.Nf+"px";u.Eg()}},this.Rf=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart(),this.s.pixels=[],this.itline=DayPilot.list();var t="Auto"===this.cellWidthSpec;if(function(){if(t){var e=0;u.q()&&u.timeline?e=u.timeline.length:"Manual"===u.scale?e=u.timeline.length:(u.Fg(),e=u.itline.length,u.itline=DayPilot.list());var n=u.Gg();if(e>0&&n>0){var i=n/e;u.cellWidth=Math.max(i,u.cellWidthMin),u.Cg=i<u.cellWidthMin}}}(),this.q()&&this.timeline){if(this.timeline){this.itline=DayPilot.list();for(var e=null,n=0,i=0;i<this.timeline.length;i++){var o=this.timeline[i],a={};if(a.start=new DayPilot.Date(o.start),a.end=o.end?new DayPilot.Date(o.end):a.start.addMinutes(this.cellDuration),o.width)a.left=o.left||n,a.width=o.width||this.cellWidth,n+=a.width;else{var r=Math.floor(n+this.cellWidth),l=r-Math.floor(n);a.left=Math.floor(n),a.width=l,n+=this.cellWidth}a.breakBefore=e&&e.ticks!==a.start.ticks,e=a.end,this.itline.push(a)}}t&&this.Hg()}else{if(this.timeHeader=[],"Manual"===this.scale){this.itline=DayPilot.list();for(var n=0,e=null,i=0;i<this.timeline.length;i++){var o=this.timeline[i],a={};if(a.start=new DayPilot.Date(o.start),a.end=o.end?new DayPilot.Date(o.end):a.start.addMinutes(this.cellDuration),e&&a.start.ticks<e.ticks)throw"The timeline must be sequential";var s=o.width||this.cellWidth,r=Math.floor(n+s),l=r-Math.floor(n);a.left=Math.floor(n),a.width=l,n+=s,a.breakBefore=e&&e.ticks!==a.start.ticks,e=a.end,this.itline.push(a)}}else this.Fg();this.Ig()}},this.Jg={};var h=this.Jg;h.shiftX=0,h.active=!1,h.updateRowStarts=function(){DayPilot.list(u.rowlist).each(function(t,e){t.start=u.Aa(),t.data=null,u.Kg(e)})},h.isEnabled=function(){return u.temp.infiniteScrolling},h.shiftTo=function(t){var t=new DayPilot.Date(t),e=t.addDays(-u.Jf).getDatePart(),n=new DayPilot.Duration(e.getTime()-u.startDate.getDatePart().getTime()).totalDays();h.shiftStart(n,t)},h.shiftStart=function(t,e){var n;h.active=!0;var i=u.startDate,o=u.startDate.addDays(t);t>0&&(n=-u.getPixels(o).left),u.startDate=u.startDate.addDays(t),u.itline=DayPilot.list(),u.s.pixels=[],u.Fg(),h.updateRowStarts(),t<0&&(n=u.getPixels(i).left),u.timeHeader=[],u.Ig(),u.Uf(),u.cellProperties={},u.Yf(),u.Zf(),u.aa(),u.L(),void 0!==e?(u.scrollTo(new DayPilot.Date(e)),u.fg()):u.nav.scroll.scrollLeft+=n,u.na(),h.active=!1},this.Fg=function(){for(var t="Days"!==this.viewType?this.startDate.addDays(this.days):this.startDate.addDays(1),e=this.startDate,n=this.Lg(e),i=!1,o=0;n.ticks<=t.ticks&&n.ticks>e.ticks;){if(this.Mg(e,n)){var a=Math.floor(o+this.cellWidth),r=a-Math.floor(o),l={};l.start=e,l.end=n,l.left=Math.floor(o),l.width=r,l.breakBefore=i,this.itline.push(l),o+=this.cellWidth,i=!1}else i=!0;e=n,n=this.Lg(e)}},this.Hg=function(){if(this.timeHeader)for(var t=0;t<this.timeHeader.length;t++)for(var e=this.timeHeader[t],n=0;n<e.length;n++){var i=e[n];i.left=this.getPixels(new DayPilot.Date(i.start)).left;var o=this.getPixels(new DayPilot.Date(i.end)).left,a=o-i.left;i.width=a}},this.Ig=function(){var t=this.timeHeaders;if(t||(t=[{groupBy:this.cellGroupBy},{groupBy:"Cell"}]),this.itline.isEmpty()){this.timeHeader=[];for(var e=0;e<t.length;e++)this.timeHeader[e]=[]}else for(var n=u.Ng(),e=0;e<t.length;e++){var i=t[e].groupBy,o=t[e].format;"Default"===i&&(i=this.cellGroupBy);for(var a=[],r=this.Aa();r.ticks<n.ticks;){var l={};if(l.start=r,l.end=this.Og(l.start,i),l.start.ticks===l.end.ticks)break;l.left=this.getPixels(l.start).left;var s=this.getPixels(l.end).left,c=s-l.left;if(l.width=c,l.colspan=Math.ceil(c/(1*this.cellWidth)),l.innerHTML="string"==typeof o?l.start.toString(o,M.locale()):this.Pg(l,i),l.text=l.innerHTML,c>0){if("function"==typeof this.onBeforeTimeHeaderRender){var d={};d.start=l.start,d.end=l.end,d.text=l.innerHTML,d.html=l.innerHTML,d.toolTip=l.innerHTML,d.backColor=null,d.level=this.timeHeader.length,d.cssClass=null;var h={};h.header=d,this.onBeforeTimeHeaderRender(h),l.text=l.innerHTML,l.innerHTML=d.html,l.backColor=d.backColor,l.toolTip=d.toolTip,l.areas=d.areas,l.cssClass=d.cssClass}a.push(l)}r=l.end}this.timeHeader.push(a)}},this.Mg=function(t,e){if("function"==typeof this.onIncludeTimeCell){var n={};n.start=t,n.end=e,n.visible=!0;var i={};return i.cell=n,this.onIncludeTimeCell(i),n.visible}return!!this.showNonBusiness||this.isBusiness({start:t,end:e})},this.getPixels=function(t){var e=t.ticks,n=this.s.pixels[e];if(n)return n;var i=2218768416e5;if(0===this.itline.length||e<this.itline[0].start.ticks){var o={};return o.cut=!1,o.left=0,o.boxLeft=o.left,o.boxRight=o.left,o.i=null,o}for(var a=this.Qg(t),r=Math.max(a.i-1,0),l=r;l<this.itline.length;l++){var s=this.itline[l],c=s.start.ticks,u=s.end.ticks;if(c<e&&e<u){var d=e-c,o={};o.cut=!1,o.left=s.left+this.dd(s,d),o.boxLeft=s.left,o.boxRight=s.left+s.width,o.i=l;break}if(c===e){var o={};o.cut=!1,o.left=s.left,o.boxLeft=o.left,o.boxRight=o.left+s.width,o.i=l;break}if(u===e){var o={};o.cut=!1,o.left=s.left+s.width,o.boxLeft=o.left,o.boxRight=o.left,o.i=l+1;break}if(e<c&&e>i){var o={};o.cut=!0,o.left=s.left,o.boxLeft=o.left,o.boxRight=o.left,o.i=l;break}i=u}if(!o){var h=this.itline[this.itline.length-1],o={};o.cut=!0,o.left=h.left+h.width,o.boxLeft=o.left,o.boxRight=o.left,o.i=null}return this.s.pixels[e]=o,o},this.getDate=function(t,e,n){var i=this.Rg(t,n);if(!i)return null;var o=i.x,a=this.itline[o];if(!a)return null;var r=n&&!e?a.end:a.start;return e?r.addTime(this.Sg(i.cell,i.offset)):r},this.Rg=function(t,e){if(0===this.itline.length)return null;for(var n=0,i=0,o=0;o<this.itline.length;o++){var a=this.itline[o];if(n+=a.width||this.cellWidth,t<n||e&&t===n){var r={};return r.x=o,r.offset=t-i,r.cell=a,r}i=n}var a=u.itline.last(),r={};return r.x=this.itline.length-1,r.offset=a.width||this.cellWidth,r.cell=a,r},this.Tg=function(t){return this.Qg(t)},this.Ug=function(t){for(var e=new DayPilot.Date(t),n=0;n<this.itline.length;n++){var i=this.itline[n];if(i.start.ticks<=e.ticks&&e.ticks<i.end.ticks){var o={};return o.hidden=!1,o.current=i,o}if(e.ticks<i.start.ticks){var o={};return o.hidden=!0,o.previous=n>0?this.itline[n-1]:null,o.current=null,o.next=this.itline[n],o}}var o={};return o.past=!0,o.previous=this.itline[this.itline.length-1],o},this.Qg=function(t){var e=new DayPilot.Date(t),n=0,i=this.itline[0];if(e.ticks<i.start.ticks){var o={};return o.hidden=!0,o.previous=null,o.current=null,o.next=this.itline[0],o.i=-1,o}var a=this.itline.length-1,r=this.itline[a];if(e.ticks>r.end.ticks){var o={};return o.past=!0,o.previous=this.itline[this.itline.length-1],o.i=this.itline.length,o}for(var l=function(){for(var t,i=u.itline;n<=a;)if(t=Math.floor((n+a)/2),i[t].start.ticks>e.ticks)a=t-1;else{if(!(i[t].end.ticks<e.ticks))return t;n=t+1}return n}(),s=l;s<this.itline.length;s++){var c=this.itline[s];if(c.start.ticks<=e.ticks&&e.ticks<c.end.ticks){var o={};return o.hidden=!1,o.current=c,o.i=s,o}if(e.ticks<c.start.ticks){var o={};return o.hidden=!0,o.previous=s>0?this.itline[s-1]:null,o.current=null,o.next=this.itline[s],o.i=s,o}}var o={};return o.past=!0,o.previous=this.itline[this.itline.length-1],o.i=this.itline.length,o},this.dd=function(t,e){var n=t.width||this.cellWidth,i=t.end.ticks-t.start.ticks;return Math.floor(n*e/i)},this.Sg=function(t,e){var n=t.end.ticks-t.start.ticks,i=t.width||this.cellWidth;return Math.floor(e/i*n)},this.Ie=function(t){A.start||i.preventEventClick||(S={},u.Fa(this,t))},this.eventClickPostBack=function(t,e){this.D("EventClick",t,e)},this.eventClickCallBack=function(t,e){this.F("EventClick",t,e)},this.Fa=function(t,e){var n=t.event,e=e||window.event;if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),!n.client.doubleClickEnabled())return void u.Ga(t,e);u.timeouts.click||(u.timeouts.click=[]);var i=function(t,e){return function(){u.Ga(t,e)}};u.timeouts.click.push(window.setTimeout(i(t,e),u.doubleClickTimeout))},this.Vg=function(t){return u.itline[t]},this.Ga=function(t,e){if("boolean"==typeof e)throw"Invalid _eventClickSingle parameters";var n=t.event,i=e.ctrlKey,o=e.metaKey;if(n.client.clickEnabled())if(u.ra()){var a={};if(a.e=n,a.div=t,a.originalEvent=e,a.ctrl=i,a.meta=o,a.shift=e.shiftKey,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventClick&&(u.onEventClick(a),a.preventDefault.value))return;switch(u.eventClickHandling){case"PostBack":u.eventClickPostBack(n);break;case"CallBack":u.eventClickCallBack(n);break;case"Edit":u.Ha(t);break;case"Select":u.Ia(t,n,i,o);break;case"ContextMenu":var r=n.client.contextMenu();r?r.show(n):u.contextMenu&&u.contextMenu.show(n);break;case"Bubble":u.bubble&&u.bubble.showEvent(n);break;case"RectangleSelect":if("Disabled"!==u.multiSelectRectangle)return T.start(),!1}"function"==typeof u.onEventClicked&&u.onEventClicked(a)}else switch(u.eventClickHandling){case"PostBack":u.eventClickPostBack(n);break;case"CallBack":u.eventClickCallBack(n);break;case"JavaScript":u.onEventClick(n);break;case"Edit":u.Ha(t);break;case"Select":u.Ia(t,n,i,o);break;case"ContextMenu":var r=n.client.contextMenu();r?r.show(n):u.contextMenu&&u.contextMenu.show(n);break;case"Bubble":u.bubble&&u.bubble.showEvent(n);break;case"RectangleSelect":if("Disabled"!==u.multiSelectRectangle)return T.start(),!1}},this.Oa=function(t){if(u.ra()){var e={};if(e.e=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventDelete&&(u.onEventDelete(e),e.preventDefault.value))return;switch(u.eventDeleteHandling){case"PostBack":u.eventDeletePostBack(t);break;case"CallBack":u.eventDeleteCallBack(t);break;case"Update":u.events.remove(t)}"function"==typeof u.onEventDeleted&&u.onEventDeleted(e)}else switch(u.eventDeleteHandling){case"PostBack":u.eventDeletePostBack(t);break;case"CallBack":u.eventDeleteCallBack(t);break;case"JavaScript":u.onEventDelete(t)}},this.eventDeletePostBack=function(t,e){this.D("EventDelete",t,e)},this.eventDeleteCallBack=function(t,e){this.F("EventDelete",t,e)},this.setHScrollPosition=function(t){this.nav.scroll.scrollLeft=t},this.getScrollX=function(){return this.nav.scroll.scrollLeft},this.getHScrollPosition=this.getScrollX,this.getScrollY=function(){return this.nav.scroll.scrollTop},this.Ia=function(t,e,n,i){u.bb(t,e,n,i)},this.eventSelectPostBack=function(t,e,n){var i={};i.e=t,i.change=e,this.D("EventSelect",i,n)},this.eventSelectCallBack=function(t,e,n){var i={};i.e=t,i.change=e,this.F("EventSelect",i,n)},this.bb=function(t,e,n,i){var o=u.multiselect,a=o.isSelected(e);if(n||i||!a||1!==o.list.length)if(u.ra()){o.previous=o.events();var r={};if(r.e=e,r.selected=a,r.ctrl=n,r.meta=i,r.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventSelect&&(u.onEventSelect(r),r.preventDefault.value))return;switch(u.eventSelectHandling){case"PostBack":u.eventSelectPostBack(e,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),u.eventSelectCallBack(e,l);break;case"Update":o.fb(t,n,i)}"function"==typeof u.onEventSelected&&(r.change=o.isSelected(e)?"selected":"deselected",r.selected=o.isSelected(e),u.onEventSelected(r))}else{o.previous=o.events(),o.fb(t,n,i);var l=o.isSelected(e)?"selected":"deselected";switch(u.eventSelectHandling){case"PostBack":u.eventSelectPostBack(e,l);break;case"CallBack":"undefined"!=typeof WebForm_InitCallback&&(window.db="",window.eb=[],WebForm_InitCallback()),u.eventSelectCallBack(e,l);break;case"JavaScript":u.onEventSelect(e,l)}}},this.eventRightClickPostBack=function(t,e){this.D("EventRightClick",t,e)},this.eventRightClickCallBack=function(t,e){this.F("EventRightClick",t,e)},this.Ka=function(t){var e=this.event;if(t=t||window.event,t.cancelBubble=!0,!this.event.client.rightClickEnabled())return!1;if(u.ra()){var n={};if(n.e=e,n.div=this,n.originalEvent=t,n.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventRightClick&&(u.onEventRightClick(n),n.preventDefault.value))return!1;switch(u.eventRightClickHandling){case"PostBack":u.eventRightClickPostBack(e);break;case"CallBack":u.eventRightClickCallBack(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):u.contextMenu&&u.contextMenu.show(this.event);break;case"Bubble":u.bubble&&u.bubble.showEvent(e)}"function"==typeof u.onEventRightClicked&&u.onEventRightClicked(n)}else switch(u.eventRightClickHandling){case"PostBack":u.eventRightClickPostBack(e);break;case"CallBack":u.eventRightClickCallBack(e);break;case"JavaScript":u.onEventRightClick(e);break;case"ContextMenu":var i=e.client.contextMenu();i?i.show(e):u.contextMenu&&u.contextMenu.show(this.event);break;case"Bubble":u.bubble&&u.bubble.showEvent(e)}return!1},this.eventDoubleClickPostBack=function(t,e){this.D("EventDoubleClick",t,e)},this.eventDoubleClickCallBack=function(t,e){this.F("EventDoubleClick",t,e)},this.Ja=function(t){if(void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),u.timeouts.click){for(var e in u.timeouts.click)window.clearTimeout(u.timeouts.click[e]);u.timeouts.click=null}var t=t||window.event,n=this.event;if(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,u.ra()){var i={};if(i.e=n,i.originalEvent=t,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventDoubleClick&&(u.onEventDoubleClick(i),i.preventDefault.value))return;switch(u.eventDoubleClickHandling){case"PostBack":u.eventDoubleClickPostBack(n);break;case"CallBack":u.eventDoubleClickCallBack(n);break;case"Edit":u.Ha(this);break;case"Select":u.Ia(div,n,t.ctrlKey,t.metaKey);break;case"Bubble":u.bubble&&u.bubble.showEvent(n);break;case"ContextMenu":var o=n.client.contextMenu();o?o.show(n):u.contextMenu&&u.contextMenu.show(n)}"function"==typeof u.onEventDoubleClicked&&u.onEventDoubleClicked(i)}else switch(u.eventDoubleClickHandling){case"PostBack":u.eventDoubleClickPostBack(n);break;case"CallBack":u.eventDoubleClickCallBack(n);break;case"JavaScript":u.onEventDoubleClick(n);break;case"Edit":u.Ha(this);break;case"Select":u.Ia(div,n,t.ctrlKey,t.metaKey);break;case"Bubble":u.bubble&&u.bubble.showEvent(n);break;case"ContextMenu":var o=n.client.contextMenu();o?o.show(n):u.contextMenu&&u.contextMenu.show(n)}},this.eventResizePostBack=function(t,e,n,i){this.Sa("PostBack",t,e,n,i)},this.eventResizeCallBack=function(t,e,n,i){this.Sa("CallBack",t,e,n,i)},this.Sa=function(t,e,n,i,o){var a={};a.e=e,a.newStart=n,a.newEnd=i,this.Pa(t,"EventResize",a,o)},this.Ra=function(t,e,n){if("Disabled"!==this.eventResizeHandling)if(n=u.Ze(n),u.ra()){var i={},o=function(){if(P.hide(),!i.preventDefault.value){switch(e=i.newStart,n=i.newEnd,u.eventResizeHandling){case"PostBack":u.eventResizePostBack(t,e,n);break;case"CallBack":u.eventResizeCallBack(t,e,n);break;case"Notify":u.eventResizeNotify(t,e,n);break;case"Update":u.Wg(i)}"function"==typeof u.onEventResized&&u.onEventResized(i)}};i.e=t,i.async=!1,i.loaded=function(){o()},i.newStart=e,i.newEnd=n,i.preventDefault=function(){this.preventDefault.value=!0},i.multiresize=DayPilot.list(b.list);var a={};a.event=t,a.start=e,a.end=n,i.multiresize.splice(0,0,a),"function"==typeof u.onEventResize&&u.onEventResize(i),i.async?u.blockOnCallBack&&P.show():o()}else switch(u.eventResizeHandling){case"PostBack":u.eventResizePostBack(t,e,n);break;case"CallBack":u.eventResizeCallBack(t,e,n);break;case"JavaScript":u.onEventResize(t,e,n);break;case"Notify":u.eventResizeNotify(t,e,n);break;case"Update":u.Wg(i)}},this.eventMovePostBack=function(t,e,n,i,o,a){this.Va("PostBack",t,e,n,i,o,a)},this.eventMoveCallBack=function(t,e,n,i,o,a){this.Va("CallBack",t,e,n,i,o,a)},this.Va=function(t,e,n,i,o,a,r){var l=e&&!!e.preventDefault,s={};if(l){var c=e;s.e=c.e,s.newStart=c.newStart,s.newEnd=c.newEnd,s.newResource=c.newResource,s.position=c.position,s.multimove=[],c.multimove.each(function(t){var e={};if(e.e=t.event,e.newStart=t.start,e.newEnd=t.end,e.newResource=t.event.resource(),e.e===c.e||e.e.data.id==c.e.data.id)e.newResource=c.newResource;else if(w.rowoffset){var n=t.event.part.dayIndex+w.rowoffset;e.newResource=u.rowlist[n].id}s.multimove.push(e)})}else s.e=e,s.newStart=n,s.newEnd=i,s.newResource=o,s.position=r;this.Pa(t,"EventMove",s,a)},this.Xg=function(t,e,n){var i={};i.start=e.start,i.end=e.end,i.resource=e.resource,i.multirange=[],e.multirange.each(function(t){var e={};e.start=t.start,e.end=t.end,e.resource=t.resource,i.multirange.push(e)}),this.Pa(t,"TimeRangeSelected",i,n)},this.Pa=function(t,e,n,i){if("PostBack"===t)u.D(e,n,i);else if("CallBack"===t)u.F(e,n,i,"CallBack");else if("Immediate"===t)u.F(e,n,i,"Notify");else if("Queue"===t)u.queue.add(new DayPilot.Action(this,e,n,i));else{if("Notify"!==t)throw"Invalid event invocation type";"Notify"===M.notifyType()?u.F(e,n,i,"Notify"):u.queue.add(new DayPilot.Action(u,e,n,i))}},this.eventMoveNotify=function(t,e,n,i,o,a){if(t&&t.preventDefault){var r=t;r.old=new DayPilot.Event(r.e.copy(),u),r.multimove.each(function(t){t.old=new DayPilot.Event(t.event.copy(),u)}),u.Wg(r),r.e=r.old,delete r.old,r.multimove.each(function(t){t.event=t.old,delete t.old})}else{t=new DayPilot.Event(t.copy(),u);var l=u.events.Yg(t.data);t.start(e),t.end(n),t.resource(i),t.commit(),l=l.concat(u.events.Zg(t.data)),u.$g(l),u._g(),u.ah(l)}this.Va("Notify",t,e,n,i,o,a)},this.eventResizeNotify=function(t,e,n,i){var o=new DayPilot.Event(t.copy(),this),a=u.events.Yg(t.data);t.start(e),t.end(n),t.commit(),a=a.concat(u.events.Zg(t.data)),u.$g(a),u._g(),u.ah(a),this.Sa("Notify",o,e,n,i)},this.multiselect={},this.multiselect.list=[],this.multiselect.divs=[],this.multiselect.previous=[],this.multiselect.$f=function(t){u.multiselect.list=DayPilot.list(t).map(function(t){return new DayPilot.Event(t,u)})},this.multiselect.ub=function(){var t=u.multiselect;return DayPilot.JSON.stringify(t.events())},this.multiselect.events=function(){var t=u.multiselect,e=DayPilot.list();e.ignoreToJSON=!0;for(var n=0;n<t.list.length;n++)e.push(t.list[n]);return e},this.multiselect.vb=function(){},this.multiselect.fb=function(t,e,n){var i=u.multiselect;if(i.isSelected(t.event))if(u.allowMultiSelect)if(e||n)i.remove(t.event,!0);else{var o=i.list.length;i.clear(),o>1&&i.add(t.event,!0)}else i.clear();else u.allowMultiSelect&&(e||n)?i.add(t.event,!0):(i.clear(),i.add(t.event,!0));i.ad(t),i.vb()},this.multiselect.wb=function(t){var e=u.multiselect;return e.xb(t,e.initList)},this.multiselect.yb=function(){for(var t=u.multiselect,e=[],n=0;n<t.list.length;n++){var i=t.list[n];e.push(i.value())}alert(e.join("\n"))},this.multiselect.add=function(t,e){var n=u.multiselect;-1===n.indexOf(t)&&n.list.push(t),e||n.bh(t)},this.multiselect.remove=function(t,e){var n=u.multiselect,i=n.indexOf(t);-1!==i&&n.list.splice(i,1),e||n.bh(t)},this.multiselect.clear=function(t){var e=u.multiselect;e.list=[],t||e.redraw()},this.multiselect.redraw=function(){var t=u.multiselect;t.divs=[];for(var e=0;e<u.elements.events.length;e++){var n=u.elements.events[e];n.event&&n.event.isEvent&&(t.isSelected(n.event)?t.Ab(n):t.Bb(n))}},this.multiselect.ad=function(t){if(t){var e=u.multiselect;e.isSelected(t.event)?e.Ab(t):e.Bb(t)}},this.multiselect.bh=function(t){var e=u.multiselect,n=u._c(t);e.ad(n)},this.multiselect.Ab=function(t){var e=u.multiselect,n=u.p("_selected"),t=e.Cb(t);DayPilot.Util.addClass(t,n),e.divs.push(t)},this.multiselect.Cb=function(t){return t},this.multiselect.Eb=function(){for(var t=u.multiselect,e=0;e<t.divs.length;e++){var n=t.divs[e];t.Bb(n,!0)}t.divs=[]},this.multiselect.Bb=function(t,e){var n=u.multiselect,i=u.p("_selected");if(DayPilot.Util.removeClass(t,i),!e){var o=DayPilot.indexOf(n.divs,t);-1!==o&&n.divs.splice(o,1)}},this.multiselect.isSelected=function(t){return!!t&&!!t.isEvent&&u.multiselect.xb(t,u.multiselect.list)},this.multiselect.indexOf=function(t){for(var e=t.data,n=0;n<u.multiselect.list.length;n++)if(u.multiselect.list[n].data===e)return n;return-1},this.multiselect.xb=function(t,e){if(!e)return!1;for(var n=0;n<e.length;n++){var i=e[n];if(t===i)return!0;if("function"==typeof i.id){if(null!==i.id()&&null!==t.id()&&i.id()===t.id())return!0;if(null===i.id()&&null===t.id()&&i.recurrentMasterId()===t.recurrentMasterId()&&t.start().toStringSortable()===i.start().toStringSortable())return!0}else{if(null!==i.id&&null!==t.id()&&i.id===t.id())return!0;if(null===i.id&&null===t.id()&&i.recurrentMasterId===t.recurrentMasterId()&&t.start().toStringSortable()===i.start)return!0}}return!1},this.multiselect.startRectangle=function(){T.start()},this.ch=function(){this.Zf(),this.ag()},this.dh=function(){u.Tf(),u.Xf(),u.eh(),u.progressiveRowRendering&&u.fh()},this.ad=function(t){var t=t||{},e=!t.eventsOnly;u.cssOnly||(u.cssOnly=!0,DayPilot.Util.log("DayPilot: cssOnly = false mode is not supported since DayPilot Pro 8.0.")),e&&(this.q()||(u.timeHeader=null,u.cellProperties={}),u.gh={},u.Qf(),u.Rf(),t&&t.dontLoadResources||u.Sf(),u.events.hh(),u.qc.clearCache()),this.aa(),this.ih(),u.Tf(),e&&(u.cd(),u.jh(),u.Uf(),u.eg(u.selectedRows),u.kh()),u.Vf(),u.Xf(),u.eh(),u.ba(),p.hideLinkpoints(),this.L(),this.Yf(),this.Pf(),this._(),this._f(),this.ch(),u.ia(),t.immediateEvents||t.eventsOnly?u.na():setTimeout(function(){u.na()},100),this.visible?u.Kf!=u.visible&&this.show():this.hide(),this.Kf=this.visible,this.dg(),this.fg(),this.lh(),this.qa()},this.lh=function(){if("function"==typeof u.onAfterUpdate){var t={};u.onAfterUpdate(t)}},this.update=function(t){if(u.xd)throw"You are trying to update a DayPilot.Scheduler object that has been disposed already. Calling .dispose() destroys the object and makes it unusable.";f.request(t)};var f={};f.timeout=null,f.options=null,f.enabled=!1,f.request=function(t){f.enabled?(clearTimeout(f.timeout),f.mergeOptions(t),f.timeout=setTimeout(f.doit)):(f.mergeOptions(t),f.doit())},f.mergeOptions=function(t){if(t){f.options||(f.options={});for(var e in t)f.options[e]=t[e]}},f.doit=function(){var t=f.options;return f.options=null,t?(t.events?(u.events.list=t.events,u.z&&u.ad({eventsOnly:!0})):t.separators?(u.separators=t.separators,u.z&&u.ch()):t.rowHeaderColumns&&(u.rowHeaderColumns=t.rowHeaderColumns,u.z&&u.dh()),void u.X(null,!1)):void(u.z&&(u.ad({immediateEvents:!0}),u.X(null,!1)))},this.ah=function(t,e,n){t=DayPilot.ua(t);for(var i=0;i<t.length;i++){var o=t[i];u.mh(o)}if(this.nh){this.Vf(),this.Xf(),this.Yf(),this.Zf();for(var i=0;i<t.length;i++){var o=t[i];this.oh(o)}for(var i=0;i<t.length;i++){var o=t[i];this.ph(o)}this._f(),this.ag(),this.qh()}else{for(var i=0;i<t.length;i++){var o=t[i];e||this.oh(o),this.ph(o)}DayPilot.list(t).each(function(t){u.rh(t)}),u._f()}u.rg(),p.load(),u.multiselect.redraw(),n&&n(),this.Pf()},this.Ze=function(t){return"DateTime"===u.eventEndSpec?t:t.getDatePart().ticks===t.ticks?t.addDays(-1):t.getDatePart()},this.ye=function(t){return"DateTime"===u.eventEndSpec?t:t.getDatePart().addDays(1)},this._e=function(t){return"DateTime"===u.eventEndSpec?t:t.getDatePart()},this.Ta=function(t,e,n,i,o,a,r){if(u.uh=null,"Disabled"!==u.eventMoveHandling){n=u.Ze(n);var l={};l.e=t,l.newStart=e,l.newEnd=n,l.newResource=i,l.external=o,l.ctrl=!1,l.meta=!1,l.shift=!1,a&&(l.shift=a.shiftKey,l.ctrl=a.ctrlKey,l.meta=a.metaKey),l.multimove=DayPilot.list(w.list);var s={};if(s.event=t,s.start=e,s.end=n,s.overlapping=!1,s.resource=i,l.multimove.splice(0,0,s),l.position=r,l.preventDefault=function(){this.preventDefault.value=!0},u.ra()){var c=function(){if(P.hide(),l.preventDefault.value)return void u.vh();switch(e=l.newStart,n=l.newEnd,u.eventMoveHandling){case"PostBack":u.eventMovePostBack(l);break;case"CallBack":u.eventMoveCallBack(l);break;case"Notify":u.eventMoveNotify(l);break;case"Update":u.Wg(l)}u.vh(),"function"==typeof u.onEventMoved&&u.onEventMoved(l)};l.async=!1,l.loaded=function(){c()},"function"==typeof u.onEventMove&&u.onEventMove(l),l.async?u.blockOnCallBack&&P.show():c()}else{switch(u.eventMoveHandling){case"PostBack":u.eventMovePostBack(l);break;case"CallBack":u.eventMoveCallBack(l);break;case"JavaScript":u.onEventMove(t,e,n,i,o,!!a&&a.ctrlKey,!!a&&a.shiftKey,r);break;case"Notify":u.eventMoveNotify(l);break;case"Update":u.Wg(l)}u.vh()}}},this.Wg=function(t){var e=t.e,n=t.newStart,i=t.newEnd,o=t.newResource,a=t.external;e.start(n),e.end(i),e.resource(o),a?(e.commit(),u.events.add(e)):u.events.update(e),t.multimove&&!t.multimove.isEmpty()&&t.multimove.each(function(t){if(t.event!==e){if(t.event.start(t.start),t.event.end(t.end),w.rowoffset){var n=t.event.part.dayIndex+w.rowoffset,i=u.rowlist[n].id;t.event.resource(i)}t.event.commit(),u.events.update(t.event)}}),t.multiresize&&!t.multiresize.isEmpty()&&t.multiresize.each(function(t){t.event!==e&&(t.event.start(t.start),t.event.end(t.end),t.event.commit(),u.events.update(t.event))}),u.events.immediateRefresh(),u.Ua()},this.Wa=function(t,e){var n=u.Xa(e),i={};i.args=t,i.guid=n,u.F("Bubble",i)},this.Xa=function(t){var e=DayPilot.guid();return this.bubbles||(this.bubbles=[]),this.bubbles[e]=t,e},this.eventMenuClickPostBack=function(t,e,n){var i={};i.e=t,i.command=e,this.D("EventMenuClick",i,n)},this.eventMenuClickCallBack=function(t,e,n){var i={};i.e=t,i.command=e,this.F("EventMenuClick",i,n)},this.Ya=function(t,e,n){switch(n){case"PostBack":u.eventMenuClickPostBack(e,t);break;case"CallBack":u.eventMenuClickCallBack(e,t)}},this.timeRangeSelectedPostBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.D("TimeRangeSelected",o,i)},this.timeRangeSelectedCallBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.F("TimeRangeSelected",o,i)},this.wh=function(t){if(t){if(t.disabled)return void u.clearSelection();var e=u.xh(t);e&&u.$a(e.start,e.end,e.resource)}},this.$a=function(t,e,n){if("Disabled"!==u.timeRangeSelectedHandling){var i=e;e=u.Ze(i);var o={};if(o.start=t,o.end=e,o.resource=n,o.preventDefault=function(){this.preventDefault.value=!0},o.multirange=DayPilot.list(R.list).map(function(t){return u.xh(t)}),o.multirange.isEmpty()&&o.multirange.push({start:o.start,end:o.end,resource:o.resource}),u.ra()){if("function"==typeof u.onTimeRangeSelect){if(u.onTimeRangeSelect(o),o.preventDefault.value)return;t=o.start,e=o.end}switch(u.yh(u.rangeHold,t,e,o.multirange),u.zh(u.rangeHold),u.timeRangeSelectedHandling){case"PostBack":u.Xg("PostBack",o);break;case"CallBack":u.Xg("CallBack",o)}"function"==typeof u.onTimeRangeSelected&&u.onTimeRangeSelected(o)}else switch(u.timeRangeSelectedHandling){case"PostBack":u.Xg("PostBack",o);break;case"CallBack":u.Xg("CallBack",o);break;case"JavaScript":u.onTimeRangeSelected(t,e,n,o.multirange)}}},this.yh=function(t,e,n,i){if(t&&!(i&&i.length>1)){var o,a,r=u.ye(n),l=0;"Days"===u.viewType&&(l=u.ig(e).start.getTime()-u.Aa().getTime()),e.getTime()<u.itline[0].start.getTime()?t.start.x=0:(o=u.Tg(e.addTime(-l)),a=o.current||o.previous,t.start.x=DayPilot.indexOf(u.itline,a)),o=u.Tg(r.addSeconds(-1).addTime(-l)),o.past?t.end.x=u.itline.length-1:(a=o.current||o.next,t.end.x=DayPilot.indexOf(u.itline,a))}},this.ig=function(t){var e=t.getDatePart();return DayPilot.list(u.rowlist).find(function(t){return t.start.getDatePart()===e})},this.timeRangeDoubleClickPostBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.D("TimeRangeDoubleClick",o,i)},this.timeRangeDoubleClickCallBack=function(t,e,n,i){var o={};o.start=t,o.end=e,o.resource=n,this.F("TimeRangeDoubleClick",o,i)},this._a=function(t,e,n){if(e=u.Ze(e),u.ra()){var i={};if(i.start=t,i.end=e,i.resource=n,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onTimeRangeDoubleClick&&(u.onTimeRangeDoubleClick(i),i.preventDefault.value))return;switch(u.timeRangeDoubleClickHandling){case"PostBack":u.timeRangeDoubleClickPostBack(t,e,n);break;case"CallBack":u.timeRangeDoubleClickCallBack(t,e,n)}"function"==typeof u.onTimeRangeDoubleClicked&&u.onTimeRangeDoubleClicked(i)}else switch(u.timeRangeDoubleClickHandling){case"PostBack":u.timeRangeDoubleClickPostBack(t,e,n);break;case"CallBack":u.timeRangeDoubleClickCallBack(t,e,n);break;case"JavaScript":u.onTimeRangeDoubleClick(t,e,n)}},this.timeRangeMenuClickPostBack=function(t,e,n){var i={};i.selection=t,i.command=e,this.D("TimeRangeMenuClick",i,n)},this.timeRangeMenuClickCallBack=function(t,e,n){var i={};i.selection=t,i.command=e,this.F("TimeRangeMenuClick",i,n)},this.Za=function(t,e,n){switch(n){case"PostBack":u.timeRangeMenuClickPostBack(e,t);break;case"CallBack":u.timeRangeMenuClickCallBack(e,t)}},this.linkMenuClickPostBack=function(t,e,n){var i={};i.link=t,i.command=e,this.D("LinkMenuClick",i,n)},this.linkMenuClickCallBack=function(t,e,n){var i={};i.link=t,i.command=e,this.F("LinkMenuClick",i,n)},this.Ah=function(t,e,n){switch(n){case"PostBack":u.linkMenuClickPostBack(e,t);break;case"CallBack":u.linkMenuClickCallBack(e,t)}},this.rowMenuClickPostBack=function(t,e,n){var i={};i.resource=t,i.command=e,this.D("RowMenuClick",i,n)},this.resourceHeaderMenuClickPostBack=this.rowMenuClickPostBack,this.rowMenuClickCallBack=function(t,e,n){var i={};i.resource=t,i.command=e,this.F("RowMenuClick",i,n)},this.resourceHeaderMenuClickCallBack=this.rowMenuClickCallBack,this.Bh=function(t,e,n){switch(n){case"PostBack":u.rowMenuClickPostBack(e,t);break;case"CallBack":u.rowMenuClickCallBack(e,t)}},this.Ch=function(t,e){var n=u.Dh(t);n.data.name=e,n.data.html&&(n.data.html=e),u.rows.update(n)},this.Eh=function(t,e){if(e){var n={};if(n.text=e,n.preventDefault=function(){this.preventDefault.value=!0},"function"!=typeof u.onRowCreate||(u.onRowCreate(n),!n.preventDefault.value)){switch(u.rowCreateHandling){case"CallBack":u.rowCreateCallBack(n.text);break;case"PostBack":u.rowCreatePostBack(n.text)}"function"==typeof u.onRowCreated&&u.onRowCreated(n)}}},this.Fh=function(t,e,n){if(t.isNewRow)return void(n||u.Eh(t,e));var i=DayPilot.indexOf(u.rowlist,t),o=u.Dh(t,i);if(u.ra()){var a={};if(a.resource=o,a.row=o,a.newText=e,a.canceled=n,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowEdit&&(u.onRowEdit(a),a.preventDefault.value))return;if(!n){switch(u.rowEditHandling){case"PostBack":u.rowEditPostBack(o,e);break;case"CallBack":u.rowEditCallBack(o,e);break;case"Update":u.Ch(t,e)}"function"==typeof u.onRowEdited&&u.onRowEdited(a)}}else switch(u.rowEditHandling){case"PostBack":u.rowEditPostBack(o,e);break;case"CallBack":u.rowEditCallBack(o,e);break;case"JavaScript":u.onrowEdit(o,e)}},this.rowCreatePostBack=function(t,e){var n={};n.text=t,this.D("RowCreate",n,e)},this.rowCreateCallBack=function(t,e){var n={};n.text=t,this.F("RowCreate",n,e)},this.rowEditPostBack=function(t,e,n){var i={};i.resource=t,i.newText=e,this.D("RowEdit",i,n)},this.rowEditCallBack=function(t,e,n){var i={};i.resource=t,i.newText=e,this.F("RowEdit",i,n)},this.rowMovePostBack=function(t,e,n,i){var o={};o.source=t,o.target=e,o.position=n,this.D("RowMove",o,i)},this.rowMoveCallBack=function(t,e,n,i){var o={};o.source=t,o.target=e,o.position=n,this.F("RowMove",o,i)},this.rowMoveNotify=function(t,e,n,i){var o={};o.source=t,o.target=e,o.position=n,this.F("RowMove",o,i,"Notify")},this.rowClickPostBack=function(t,e){var n={};n.resource=t,this.D("RowClick",n,e)},this.resourceHeaderClickPostBack=this.rowClickPostBack,this.rowClickCallBack=function(t,e){var n={};n.resource=t,this.F("RowClick",n,e)},this.resourceHeaderClickCallBack=this.rowClickCallBack,this.Gh=function(t,e,n,i){if("Disabled"===u.rowDoubleClickHandling)return void u.Hh(t,e,n,i);u.timeouts.resClick||(u.timeouts.resClick=[]);var o=function(t,e,n,i){return function(){u.Hh(t,e,n,i)}};u.timeouts.resClick.push(window.setTimeout(o(t,e,n,i),u.doubleClickTimeout))},this.Hh=function(t,e,n,i){var o=u.resourceHeaderClickHandling||u.rowClickHandling;if(u.ra()){var a={};if(a.resource=t,a.row=t,a.ctrl=e,a.shift=n,a.meta=i,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowClick&&(u.onRowClick(a),a.preventDefault.value))return;if("function"==typeof u.onResourceHeaderClick&&(u.onResourceHeaderClick(a),a.preventDefault.value))return;switch(o){case"PostBack":u.rowClickPostBack(t);break;case"CallBack":u.rowClickCallBack(t);break;case"Select":u.Ih(t.$.row,e,n,i);break;case"Edit":u.Jh.edit(t.$.row)}"function"==typeof u.onRowClicked&&u.onRowClicked(a),"function"==typeof u.onResourceHeaderClicked&&u.onResourceHeaderClicked(a)}else switch(o){case"PostBack":u.rowClickPostBack(t);break;case"CallBack":u.rowClickCallBack(t);break;case"JavaScript":u.onRowClick(t);break;case"Select":u.Ih(t.$.row,e,n);break;case"Edit":u.Jh.edit(t.$.row)}},this.timeHeaderClickPostBack=function(t,e){var n={};n.header=t,this.D("TimeHeaderClick",n,e)},this.timeHeaderClickCallBack=function(t,e){var n={};n.header=t,this.F("TimeHeaderClick",n,e)},this.Kh=function(t){if(u.ra()){var e={};if(e.header=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onTimeHeaderClick&&(u.onTimeHeaderClick(e),e.preventDefault.value))return;switch(this.timeHeaderClickHandling){case"PostBack":u.timeHeaderClickPostBack(t);break;case"CallBack":u.timeHeaderClickCallBack(t)}"function"==typeof u.onTimeHeaderClicked&&u.onTimeHeaderClicked(e)}else switch(this.timeHeaderClickHandling){case"PostBack":u.timeHeaderClickPostBack(t);break;case"CallBack":u.timeHeaderClickCallBack(t);break;case"JavaScript":u.onTimeHeaderClick(t)}},this.resourceCollapsePostBack=function(t,e){var n={};n.resource=t,this.D("ResourceCollapse",n,e)},this.resourceCollapseCallBack=function(t,e){var n={};n.resource=t,this.F("ResourceCollapse",n,e)},this.Lh=function(t){if(u.ra()){var e={};if(e.resource=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onResourceCollapse&&(u.onResourceCollapse(e),e.preventDefault.value))return;switch(this.resourceCollapseHandling){case"PostBack":u.resourceCollapsePostBack(t);break;case"CallBack":u.resourceCollapseCallBack(t)}}else switch(this.resourceCollapseHandling){case"PostBack":u.resourceCollapsePostBack(t);break;case"CallBack":u.resourceCollapseCallBack(t);break;case"JavaScript":u.onResourceCollapse(t)}},this.resourceExpandPostBack=function(t,e){var n={};n.resource=t,this.D("ResourceExpand",n,e)},this.resourceExpandCallBack=function(t,e){var n={};n.resource=t,this.F("ResourceExpand",n,e)},this.Mh=function(t){if(u.ra()){var e={};if(e.resource=t,e.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onResourceExpand&&(u.onResourceExpand(e),e.preventDefault.value))return;switch(this.resourceExpandHandling){case"PostBack":u.resourceExpandPostBack(t);break;case"CallBack":u.resourceExpandCallBack(t)}}else switch(this.resourceExpandHandling){case"PostBack":u.resourceExpandPostBack(t);break;case"CallBack":u.resourceExpandCallBack(t);break;case"JavaScript":u.onResourceExpand(t)}},this.eventEditPostBack=function(t,e,n){var i={};i.e=t,i.newText=e,this.D("EventEdit",i,n)},this.eventEditCallBack=function(t,e,n){var i={};i.e=t,i.newText=e,this.F("EventEdit",i,n)},this.eventEditNotify=function(t,e,n,i){var o=new DayPilot.Event(t.copy(),this);t.text(e),u.events.update(t,null,i);var a={};a.e=o,a.newText=e,this.F("EventEdit",a,n,"Notify")},this.ab=function(t,e,n){if(u.ra()){var i={};if(i.e=t,i.newText=e,i.canceled=n,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onEventEdit&&(u.onEventEdit(i),i.preventDefault.value))return;if(!n)switch(u.eventEditHandling){case"PostBack":u.eventEditPostBack(t,e);break;case"CallBack":u.eventEditCallBack(t,e);break;case"Update":t.text(e),u.events.update(t,null,{inplace:!0})}"function"==typeof u.onEventEdited&&u.onEventEdited(i)}else switch(u.eventEditHandling){case"PostBack":u.eventEditPostBack(t,e);break;case"CallBack":u.eventEditCallBack(t,e);break;case"Notify":u.eventEditNotify(t,e,null,{inplace:!0});break;case"JavaScript":u.onEventEdit(t,e)}},this.commandCallBack=function(t,e){this.Nh("CallBack",t,e)},this.commandPostBack=function(t,e){this.Nh("PostBack",t,e)},this.Nh=function(t,e,n){var i={};i.command=e,this.Pa(t,"Command",i,n)},this.D=function(t,e,n){var i={};i.action=t,i.type="PostBack",i.parameters=e,i.data=n,i.header=this.E();var o="JSON"+DayPilot.JSON.stringify(i);__doPostBack(u.uniqueID,o)},this.F=function(t,e,n,i){if(!u.q())return void u.debug.message("Callback invoked without the server-side backend specified. Callback canceled.","warning");void 0===i&&(i="CallBack"),this.K(),u.G();var o={};o.action=t,o.type=i,o.parameters=e,o.data=n,o.header=this.E();var a,r=DayPilot.JSON.stringify(o);a="undefined"!=typeof Iuppiter&&Iuppiter.compress?"LZJB"+Iuppiter.Base64.encode(Iuppiter.compress(r)):"JSON"+r,this.Oh(o),this.backendUrl?DayPilot.request(this.backendUrl,this.H,a,this.I):"function"==typeof WebForm_DoCallback&&WebForm_DoCallback(this.uniqueID,a,this.J,null,this.callbackError,!0)},this.Oh=function(t){var e={};"function"==typeof u.onCallBackStart&&u.onCallBackStart(e)},this.Of=function(){var t={};"function"==typeof u.onCallBackEnd&&setTimeout(function(){u.onCallBackEnd(t)},0)},this.q=function(){return!!this.backendUrl||!!this.Ph()},this.Ph=function(){return!("function"!=typeof WebForm_DoCallback||!this.uniqueID)},this.I=function(t){if("function"==typeof u.onAjaxError){var e={};e.request=t,u.onAjaxError(e)}else"function"==typeof u.ajaxError&&u.ajaxError(t)},this.H=function(t){u.J(t.responseText)},this.E=function(){var t={};t.v=this.v,t.control="dps",t.id=this.id,t.startDate=u.startDate,t.days=u.days,t.cellDuration=u.cellDuration,t.cellGroupBy=u.cellGroupBy,t.cellWidth=u.cellWidth,t.cellWidthSpec=u.cellWidthSpec,t.viewType=u.viewType,t.hourNameBackColor=u.hourNameBackColor,t.showNonBusiness=u.showNonBusiness,t.businessBeginsHour=u.businessBeginsHour,t.businessEndsHour=u.businessEndsHour,t.weekStarts=u.weekStarts,t.treeEnabled=u.treeEnabled,t.locale=u.locale,t.timeZone=u.timeZone,t.tagFields=u.tagFields,t.timeHeaders=u.timeHeaders,t.cssClassPrefix=u.cssClassPrefix,t.durationBarMode=u.durationBarMode,t.showBaseTimeHeader=!0,t.rowHeaderColumns=u.rowHeaderColumns,t.rowMarginBottom=u.rowMarginBottom,t.rowMarginTop=u.rowMarginTop,t.rowMinHeight=u.rowMinHeight,t.scale=u.scale,t.clientState=u.clientState,this.nav.scroll&&(t.scrollX=this.nav.scroll.scrollLeft,t.scrollY=this.nav.scroll.scrollTop),t.selected=u.multiselect.events(),t.selectedRows=k.Qh(),t.hashes=u.hashes;var e=u.Rh(t.scrollX,t.scrollY),n=u.Sh(e),i=u.Th(e);if(t.rangeStart=n.start,t.rangeEnd=n.end,t.resources=i,t.dynamicLoading=u.dynamicLoading,t.separators=this.separators,this.syncResourceTree&&"Days"!=this.viewType&&(t.tree=this.Q()),this.syncLinks&&(t.links=this.Uh()),"Manual"===this.scale&&(t.timeline=this.Vh()),"function"==typeof u.onCallBackHeader){var o={};o.header=t,u.onCallBackHeader(o)}return t},this.Vh=function(){var t=[];return DayPilot.list(u.timeline).each(function(e){var n={};n.start=e.start,n.end=e.end,n.width=e.width,t.push(n)}),t},this.Uh=function(){var t=[],e=function(t){var e={};if(t.tags)for(var n in t.tags)e[n]=""+t.tags[n];return e};if(!DayPilot.isArray(u.links.list))return t;for(var n=0;n<u.links.list.length;n++){var i=u.links.list[n],o={};o.id=i.id,o.from=i.from,o.to=i.to,o.type=i.type,o.tags=e(i),t.push(o)}return t},this.getViewPort=function(){var t=this.nav.scroll.scrollLeft-h.shiftX,e=this.nav.scroll.scrollTop,n={};if("Days"!==u.viewType){var i=u.Rh(t,e),o=u.Sh(i),a=u.Th(i);n.start=o.start,n.end=o.end,n.resources=a}else{var i=u.Rh(t,e),o=u.Wh(i);n.start=o.start,n.end=o.end,n.resources=[]}return n},this.Rh=function(t,e){var n={};n.start={},n.end={},n.start.x=Math.floor(t/u.cellWidth),n.end.x=Math.floor((t+u.nav.scroll.clientWidth)/u.cellWidth),n.start.y=u.Xh(e).i,n.end.y=u.Xh(e+u.nav.scroll.clientHeight).i;var i=this.itline.length;return n.end.x>=i&&(n.end.x=i-1),n},this.Sh=function(t){var e={};if(this.itline.length<=0)return e.start=this.startDate,e.end=this.startDate,e;if(!this.itline[t.start.x])throw"Internal error: area.start.x is null.";return e.start=this.itline[t.start.x].start,e.end=this.itline[t.end.x].end,e},this.Th=function(t){if(!t)var t=this.Rh(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var e=[];e.ignoreToJSON=!0;for(var n=t.start.y;n<=t.end.y;n++){var i=u.rowlist[n];i&&!i.hidden&&e.push(i.id)}return e},this.Wh=function(t){if(!t)var t=this.Rh(this.nav.scroll.scrollLeft,this.nav.scroll.scrollTop);var e={};if(0===u.rowlist.length)return e;var n=u.itline[u.itline.length-1].end.getTime()-u.itline[0].start.getTime();return e.start=u.rowlist[t.start.y]&&u.rowlist[t.start.y].start,e.end=u.rowlist[t.end.y]&&u.rowlist[t.end.y].start.addTime(n),e},this.Q=function(){var t=[];t.ignoreToJSON=!0;for(var e=0;e<this.rowlist.length;e++){var n=this.rowlist[e];if(!(n.level>0||n.isNewRow)){var i=this.U(e);t.push(i)}}return t},this.V=function(t){var e=[];e.ignoreToJSON=!0;for(var n=0;n<t.length;n++){var i=t[n];u.rowlist[i].isNewRow||e.push(u.U(i))}return e},this.U=function(t){var e=this.rowlist[t];if("function"==typeof u.onGetNodeState){var n={};if(n.row=e,n.preventDefault=function(){n.preventDefault.value=!0},n.result={},u.onGetNodeState(n),n.preventDefault.value)return n.result}var i={};return i.Value=e.id,i.BackColor=e.backColor,i.Name=e.name,i.InnerHTML=e.html,i.ToolTip=e.toolTip,i.Expanded=e.expanded,i.Children=this.V(e.children),i.Loaded=e.loaded,i.IsParent=e.isParent,i.Columns=this.Yh(e),e.start.getTime()!==u.Aa().getTime()&&(i.Start=e.start),e.minHeight!==u.rowMinHeight&&(i.MinHeight=e.minHeight),e.marginBottom!==u.rowMarginBottom&&(i.MarginBottom=e.marginBottom),e.marginTop!==u.rowMarginTop&&(i.MarginTop=e.marginTop),e.eventHeight!==u.eventHeight&&(i.EventHeight=e.eventHeight),i},this.Yh=function(t){if(!t.columns||0===t.columns.length)return null;var e=[];e.ignoreToJSON=!0;for(var n=0;n<t.columns.length;n++){var i={};i.InnerHTML=t.columns[n].html,e.push(i)}return e},this.p=function(t){var e=this.theme||this.cssClassPrefix;return e?e+t:""},this.cd=function(){u.nav.top.className!==u.p("_main")&&(u.nav.top.className=u.p("_main"),u.nav.dh1.className=u.p("_divider_horizontal"),u.nav.dh2.className=u.p("_divider_horizontal"),u.divResScroll.className=u.p("_rowheader_scroll"),u.nav.divider.className=u.p("_divider")+" "+u.p("_splitter"),u.nav.scroll.className=u.p("_scrollable"),u.jg.className=u.p("_matrix"),u.nav.loading.className=u.p("_loading"))},this.P=function(){this.nav.top.dispose=this.dispose},this.dispose=function(){var t=u;if(t.Zh&&!t.xd){t.xd=!0,t.K(),clearInterval(t.Nc),clearInterval(t.$h);for(var e in t.timeouts){var n=t.timeouts[e];DayPilot.isArray(n)?DayPilot.list(n).each(function(t){clearTimeout(t)}):clearTimeout(n)}t.L(),t.divBreaks=null,t.divCells=null,t.divCorner=null,t.divCrosshair=null,t.divEvents=null,t.divHeader&&(t.divHeader.rows=null),t.divHeader=null,t.divLines=null,t.divNorth=null,t.divRange=null,t.divResScroll=null,t.divSeparators=null,t.divSeparatorsAbove=null,t.divStretch=null,t.divTimeScroll=null,t.Dg=null,t.qe=null,t.jg.calendar=null,t.jg=null,t.nav.loading=null,t.nav.top.onmousemove=null,t.nav.top.dispose=null,t.nav.top.ontouchstart=null,t.nav.top.ontouchmove=null,t.nav.top.ontouchend=null,t.nav.top.removeAttribute("style"),t.nav.top.removeAttribute("class"),t.nav.top.innerHTML="",t.nav.top.dp=null,t.nav.top=null,t.nav.scroll.onscroll=null,t.nav.scroll.root=null,t.nav.scroll=null,t._h&&(t._h.dispose(),t._h=null),t.daypilot&&delete t.daypilot,DayPilot.ue(window,"resize",t.ee),i.unregister(t),D=null;for(var e in t)t[e]=null}},this.sa=function(t){var e=u.jg,n=u.ai(t),o=t.event,a=o;if(!u.bi(n.rowIndex)){var r=o.part.height||u.qc.eventHeight(),l=o.part&&o.part.top&&u.rowlist[o.part.dayIndex]?o.part.top+u.rowlist[o.part.dayIndex].top:n.top,s=n.left,c=a.cache&&void 0!==a.cache.moveVDisabled?!a.cache.moveVDisabled:!a.data.moveVDisabled,d=a.cache&&void 0!==a.cache.moveHDisabled?!a.cache.moveHDisabled:!a.data.moveHDisabled;!c&&i.moving&&(l=u.rowlist[a.part.dayIndex].top),!d&&i.moving&&(s=o.part.left);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.style.position="absolute",h.style.width=n.width+"px",h.style.height=r+"px",h.style.left=s+"px",h.style.top=l+"px",h.style.zIndex=101,h.style.overflow="hidden";var f=document.createElement("div");return h.appendChild(f),h.className=this.p("_shadow"),f.className=this.p("_shadow_inner"),e.appendChild(h),h.calendar=u,h}},this.Xh=function(t){for(var e,n={},i=0,o=0,a=this.rowlist.length,r=0;r<a;r++){var l=this.rowlist[r];if(!l.hidden&&(o+=l.height,t<o||r===a-1)){i=o-l.height,e=l;break}}return n.top=i,n.bottom=o,n.i=r,n.element=e,n},this.links={};var p={};this.ci=p,p.clear=function(){u.divLinksAbove.innerHTML="",u.divLinksBelow.innerHTML="",u.elements.links=[]},p.showLinkpoints=function(){d.events().each(function(t){p.showLinkpoint(t)})},p.showLinkpoint=function(t){var e=u.linkPointSize,n=e/2,i=t.event.part.left,o=u.rowlist[t.event.part.dayIndex].top+t.event.part.top,a=t.event.part.height,r=t.event.part.right,l=DayPilot.Util.div(u.divLinkpoints,i-n,o-n+a/2,e,e);l.className=u.p("_linkpoint"),l.style.boxSizing="border-box",l.coords={x:i,y:o+a/2},l.type="Start",l.event=t.event,p.activateLinkpoint(l),u.elements.linkpoints.push(l);var s=DayPilot.Util.div(u.divLinkpoints,r-n,o-n+a/2,e,e);s.className=u.p("_linkpoint"),s.style.boxSizing="border-box",s.coords={x:r,y:o+a/2},s.type="Finish",s.event=t.event,p.activateLinkpoint(s),u.elements.linkpoints.push(s)},p.activateLinkpoint=function(t){t.onmousedown=function(e){var e=e||window.event;return l.source=t,l.calendar=u,p.showLinkpoints(),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation(),!1},t.onmousemove=function(e){DayPilot.Util.addClass(t,u.p("_linkpoint_hover")),p.clearHideTimeout()},t.onmouseout=function(e){l.source&&l.source.event===t.event||DayPilot.Util.removeClass(t,u.p("_linkpoint_hover"))},t.onmouseup=function(e){if(l.source){var n=l.source.type+"To"+t.type,i=l.source.event.id(),o=t.event.id(),a={};if(a.from=i,a.to=o,a.type=n,a.id=null,a.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onLinkCreate&&(u.onLinkCreate(a),a.preventDefault.value))return;var r=function(){u.links.list.push({from:i,to:o,type:n,id:a.id}),p.load()};switch(u.linkCreateHandling){case"Update":r();break;case"CallBack":u.di(a);break;case"PostBack":u.ei(a);break;case"Notify":r(),u.fi(a)}"function"==typeof u.onLinkCreated&&u.onLinkCreated(a)}}},p.hideLinkpoints=function(){u.divLinkpoints.innerHTML="",u.elements.linkpoints=[]},p.hideTimeout=null,p.hideLinkpointsWithDelay=function(){p.hideTimeout=setTimeout(function(){p.hideLinkpoints()},100)},p.clearHideTimeout=function(){p.hideTimeout&&(clearTimeout(p.hideTimeout),p.hideTimeout=null)},p.load=function(){if(p.clear(),DayPilot.isArray(u.links.list))for(var t=0;t<u.links.list.length;t++){var e=u.links.list[t];p.drawLinkId(e.from,e.to,e)}},p.drawLinkId=function(t,e,n){var i=u.events.find(t),o=u.events.find(e);p.drawLink(i,o,n)},p.drawLink=function(t,e,n){var i=u._c(t),o=u._c(e);if(i&&o){var a,r,l=n.type||"FinishToStart",s=u.rowlist[i.event.part.dayIndex].top,c=u.rowlist[o.event.part.dayIndex].top;switch(l){case"FinishToStart":a={x:i.event.part.right,y:s+i.event.part.top},r={x:o.event.part.left,y:c+o.event.part.top},a.y>r.y&&a.x<r.x&&(r.y+=o.event.part.height,r.bottom=!0);break;case"StartToFinish":a={x:i.event.part.left,y:s+i.event.part.top},r={x:o.event.part.right,y:c+o.event.part.top};break;case"StartToStart":a={x:i.event.part.left,y:s+i.event.part.top},r={x:o.event.part.left,y:c+o.event.part.top};break;case"FinishToFinish":a={x:i.event.part.right,y:s+i.event.part.top},r={x:o.event.part.right,y:c+o.event.part.top}}p.drawLinkXy(a,r,n)}},p.clearShadow=function(){u.divLinkShadow.innerHTML="",u.elements.linkshadow=[]},p.drawShadow=function(t,e){if(p.clearShadow(),DayPilot.browser.ielt9)p.drawShadowOldStyle(t,e);else{var n=u.divLinkShadow,i=DayPilot.line(t.x,t.y,e.x,e.y,!0);n.appendChild(i),u.elements.linkshadow.push(i)}},p.drawShadowOldStyle=function(t,e){var n=Math.min(t.x,e.x),i=2,o=u.divLinkShadow,a="black",r=DayPilot.Util.div(o,n,t.y,t.x-n,i);r.style.backgroundColor=a,u.elements.linkshadow.push(r);var l=DayPilot.Util.div(o,n,t.y,i,e.y-t.y);l.style.backgroundColor=a,u.elements.linkshadow.push(l);var s=DayPilot.Util.div(o,n,e.y,e.x-n,i);s.style.backgroundColor=a,u.elements.linkshadow.push(s);var c=DayPilot.Util.div(o,e.x-6,e.y-5,0,0);c.style.borderColor="transparent transparent transparent black",c.style.borderStyle="solid",c.style.borderWidth="6px",u.elements.linkshadow.push(c)},p.drawLinkXy=function(t,e,n){var i=u.eventHeight/2,o=n.width||1,a=n.type||"FinishToStart",r=n.color,l=n.style,s=n.layer||"Above",c="Above"===s,d=u.divLinksAbove,h=u.eventHeight,f=u.linkBottomMargin,p=function(t,e){r&&(t.style["border"+e+"Color"]=r),l&&(t.style["border"+e+"Style"]=l)},v=[],g=function(t,e){u.elements.links.push(t),y(t),m(t),t.divs=v,e||v.push(t)},m=function(t){t.oncontextmenu=function(t){if(t=t||window.event,u.contextMenuLink){var e=new DayPilot.Link(n,u);u.contextMenuLink.show(e)}t.cancelBubble=!0,t.preventDefault&&t.preventDefault()}},y=function(t){t.onmouseenter=function(){DayPilot.Util.addClass(t.divs,u.p("_link_hover"))},t.onmouseleave=function(){DayPilot.Util.removeClass(t.divs,u.p("_link_hover"))}};if("FinishToStart"===a)if(t.y>e.y||t.y==e.y&&e.bottom)if(t.x<e.x){var b=t.x,w=t.y+h-f,D=e.x+i,C=e.y,k=DayPilot.Util.div(d,b,w,D-t.x,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,n.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,D,w,o,C-w);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,n.cssClass),p(x,"Right"),g(x);var P;r?(P=DayPilot.Util.div(d,D-5+Math.floor(o/2),C-5,0,0),t.y<e.y?P.style.borderColor=r+" transparent transparent transparent":P.style.borderColor="transparent transparent "+r+" transparent",P.style.borderStyle="solid",P.style.borderWidth="5px"):(P=DayPilot.Util.div(d,D-6+Math.floor(o/2),C-6,6,6),t.y<e.y?P.className=u.p("_link_arrow_down"):P.className=u.p("_link_arrow_up"),DayPilot.Util.addClass(P,n.cssClass)),g(P,!0)}else{var _=5,S=e.y+h+_,k=DayPilot.Util.div(d,t.x,t.y+h-f,i+o,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,n.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,t.x+i,t.y+h-f,o,S-(t.y+h-f));x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,n.cssClass),p(x,"Right"),g(x);var A=DayPilot.Util.div(d,e.x-i,S,t.x+2*i+o-e.x,o);A.style.boxSizing="border-box",A.style.borderBottomWidth=o+"px",A.className=u.p("_link_horizontal"),DayPilot.Util.addClass(A,n.cssClass),p(A,"Bottom"),g(A);var E=DayPilot.Util.div(d,e.x-i,S,o,e.y-S+h-f);E.style.boxSizing="border-box",E.style.borderRightWidth=o+"px",E.className=u.p("_link_vertical"),DayPilot.Util.addClass(E,n.cssClass),p(E,"Right"),g(E);var T=DayPilot.Util.div(d,e.x-i,e.y+h-f,i,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,n.cssClass)),g(P,!0)}else if(t.y===e.y)if(t.x<e.x){var b=t.x,w=t.y+h-f,D=e.x,k=DayPilot.Util.div(d,b,w,D-t.x,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,n.cssClass),p(k,"Bottom"),g(k);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,n.cssClass)),g(P,!0)}else{var _=5,S=e.y+h+_,k=DayPilot.Util.div(d,t.x,t.y+h-f,i+o,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,n.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,t.x+i,t.y+h-f,o,S-(t.y+h-f));x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,n.cssClass),p(x,"Right"),g(x);var A=DayPilot.Util.div(d,e.x-i,S,t.x+2*i+o-e.x,o);A.style.boxSizing="border-box",A.style.borderBottomWidth=o+"px",A.className=u.p("_link_horizontal"),DayPilot.Util.addClass(A,n.cssClass),p(A,"Bottom"),g(A);var E=DayPilot.Util.div(d,e.x-i,S,o,e.y-S+h-f);E.style.boxSizing="border-box",E.style.borderRightWidth=o+"px",E.className=u.p("_link_vertical"),DayPilot.Util.addClass(E,n.cssClass),p(E,"Right"),g(E);var T=DayPilot.Util.div(d,e.x-i,e.y+h-f,i,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,n.cssClass)),g(P,!0)}else if(t.x>e.x){var c=5,S=e.y-c,k=DayPilot.Util.div(d,t.x,t.y+h-f,i+o,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,n.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,t.x+i,t.y+h-f,o,S-(t.y+h-f));x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,n.cssClass),p(x,"Right"),g(x);var A=DayPilot.Util.div(d,e.x-i,S,t.x+2*i+o-e.x,o);A.style.boxSizing="border-box",A.style.borderBottomWidth=o+"px",A.className=u.p("_link_horizontal"),DayPilot.Util.addClass(A,n.cssClass),p(A,"Bottom"),g(A);var E=DayPilot.Util.div(d,e.x-i,S,o,e.y-S+h-f);E.style.boxSizing="border-box",E.style.borderRightWidth=o+"px",E.className=u.p("_link_vertical"),DayPilot.Util.addClass(E,n.cssClass),p(E,"Right"),g(E);var T=DayPilot.Util.div(d,e.x-i,e.y+h-f,i,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderWidth="6px",P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,n.cssClass)),g(P,!0)}else{var b=t.x,w=t.y+h-f,D=e.x+i,C=e.y,k=DayPilot.Util.div(d,b,w,D-t.x,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,n.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,D,w,o,C-w);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,n.cssClass),p(x,"Right"),g(x);var P;r?(P=DayPilot.Util.div(d,D-5+Math.floor(o/2),C-5,0,0),t.y<e.y?P.style.borderColor=r+" transparent transparent transparent":P.style.borderColor="transparent transparent "+r+"transparent",P.style.borderStyle="solid",P.style.borderWidth="5px"):(P=DayPilot.Util.div(d,D-6+Math.floor(o/2),C-6,6,6),t.y<e.y?P.className=u.p("_link_arrow_down"):P.className=u.p("_link_arrow_up"),DayPilot.Util.addClass(P,n.cssClass)),g(P,!0)}else if("StartToFinish"===a){var c=5,S=e.y-c,k=DayPilot.Util.div(d,e.x,e.y+h-f,i+o,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,n.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,e.x+i,e.y+h-f,o,S-(e.y+h-f)+0);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,n.cssClass),p(x,"Right"),g(x);var A=DayPilot.Util.div(d,t.x-i,S,e.x+2*i+o-t.x,o);A.style.boxSizing="border-box",A.style.borderBottomWidth=o+"px",A.className=u.p("_link_horizontal"),DayPilot.Util.addClass(A,n.cssClass),p(A,"Bottom"),g(A);var E=DayPilot.Util.div(d,t.x-i,S,o,t.y+h-f-S+0);E.style.boxSizing="border-box",E.style.borderRightWidth=o+"px",E.className=u.p("_link_vertical"),DayPilot.Util.addClass(E,n.cssClass),p(E,"Right"),g(E);var T=DayPilot.Util.div(d,t.x-i,t.y+h-f,i,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderColor="transparent "+r+" transparent transparent",P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_left"),DayPilot.Util.addClass(P,n.cssClass)),g(P,!0)}else if("StartToStart"===a){var R=Math.min(t.x,e.x)-i,k=DayPilot.Util.div(d,R,t.y+h-f,t.x-R,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,n.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,R,t.y+h-f,o,e.y-t.y);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,n.cssClass),p(x,"Right"),g(x);var T=DayPilot.Util.div(d,R,e.y+h-f,e.x-R,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderColor="transparent transparent transparent "+r,P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_right"),DayPilot.Util.addClass(P,n.cssClass)),g(P,!0)}else if("FinishToFinish"===a){var M=Math.max(e.x,t.x)+i,k=DayPilot.Util.div(d,t.x,t.y+h-f,M-t.x,o);k.style.boxSizing="border-box",k.style.borderBottomWidth=o+"px",k.className=u.p("_link_horizontal"),DayPilot.Util.addClass(k,n.cssClass),p(k,"Bottom"),g(k);var x=DayPilot.Util.div(d,M,t.y+h-f,o,e.y-t.y);x.style.boxSizing="border-box",x.style.borderRightWidth=o+"px",x.className=u.p("_link_vertical"),DayPilot.Util.addClass(x,n.cssClass),p(x,"Right"),g(x);var T=DayPilot.Util.div(d,e.x,e.y+h-f,M-e.x,o);T.style.boxSizing="border-box",T.style.borderBottomWidth=o+"px",T.className=u.p("_link_horizontal"),DayPilot.Util.addClass(T,n.cssClass),p(T,"Bottom"),g(T);var P;r?(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,0,0),P.style.borderColor="transparent "+r+" transparent transparent",P.style.borderStyle="solid",P.style.borderWidth="6px"):(P=DayPilot.Util.div(d,e.x-6,e.y+h-f-5,6,6),P.className=u.p("_link_arrow_left"),DayPilot.Util.addClass(P,n.cssClass)),g(P,!0)}},this.di=function(t,e){var n={};n.from=t.from,n.to=t.to,n.type=t.type,u.F("LinkCreate",n,e)},this.fi=function(t,e){var n={};n.from=t.from,n.to=t.to,n.type=t.type,u.F("LinkCreate",n,e,"Notify")},this.ei=function(t,e){var n={};n.from=t.from,n.to=t.to,n.type=t.type,u.D("LinkCreate",n,e)},this.gi=function(t){var e=0,n=0,i=0;if(t>this.rowlist.length-1)throw"Row index too high (DayPilotScheduler._getRowByIndex)";for(var o=0;o<=t;o++){var a=this.rowlist[o];a.hidden||(n+=a.height,i++)}e=n-a.height;var r={};return r.top=e,r.height=a.height,r.bottom=n,r.i=i-1,r.data=a,r},this.gd=function(){return!(!this.backendUrl||void 0!==u.events.list&&u.events.list)},this.events.find=function(t){if(!u.events.list||void 0===u.events.list.length)return null;for(var e=u.events.list.length,n=0;n<e;n++)if(u.events.list[n].id===t)return new DayPilot.Event(u.events.list[n],u);return null},this.events.all=function(){for(var t=[],e=0;e<u.events.list.length;e++){var n=new DayPilot.Event(u.events.list[e],u);t.push(n)}return DayPilot.list(t)},this.events.filter=function(t){u.events.Xc=t,u.ad({eventsOnly:!0})},this.events.edit=function(t){var e=u._c(t);return e||DayPilot.list(u.events.hi.rows).isEmpty()?void u.Ha(e):void setTimeout(function(){u.Ha(u._c(t))})},this.events.load=function(t,e,n){var i=function(t){var e={};e.exception=t.exception,e.request=t.request,"function"==typeof n&&n(e)},o=function(t){var n,o=t.request;try{n=DayPilot.Util.parseJSON(o.responseText)}catch(t){var a={};return a.exception=t,void i(a)}if(DayPilot.isArray(n)){var r={};if(r.preventDefault=function(){this.preventDefault.value=!0},r.data=n,"function"==typeof e&&e(r),r.preventDefault.value)return;u.events.list=n,u.z&&u.update()}};DayPilot.ajax({method:"POST",contentType:"application/json",data:{start:u.visibleStart().toString(),end:u.visibleEnd().toString()},url:t,success:o,error:i})},this.events.findRecurrent=function(t,e){if(!u.events.list||void 0===u.events.list.length)return null;for(var n=u.events.list.length,i=0;i<n;i++)if(u.events.list[i].recurrentMasterId===t&&u.events.list[i].start.getTime()===e.getTime())return new DayPilot.Event(u.events.list[i],u);return null},this.events.Yg=function(t){for(var e=[],n=0;n<u.rowlist.length;n++){var i=u.rowlist[n];if(!i.isNewRow){u.Kg(n);for(var o=0;o<i.events.length;o++)if(i.events[o].data===t||i.events[o].data.id==t.id){e.push(n),i.events.splice(o,1);break}}}return e},this.events.ii=function(t){for(var e=0;e<u.rowlist.length;e++){var n=u.rowlist[e];if(!n.isNewRow){u.Kg(e);for(var i=0;i<n.events.length;i++)if(n.events[i].data===t)return n.events[i]}}return null},this.events.Zg=function(t){var e=[],n=u.ji()||"Days"===u.viewType,i=DayPilot.indexOf(u.events.list,t);u.Qc(i);for(var o=0;o<u.rowlist.length;o++){var a=u.rowlist[o];if(!a.isNewRow){u.Kg(o);var r=u.ki(t,a);if(r&&("function"==typeof u.onBeforeEventRender&&(r.cache=u.s.events[i]),e.push(o),!n))break}}return e},this.events.update=function(t,e,n){var i={};i.oldEvent=new DayPilot.Event(t.copy(),u),i.newEvent=new DayPilot.Event(t.temp(),u);var n=n||{},o=new DayPilot.Action(u,"EventUpdate",i,e);if(DayPilot.list(u.events.list).find(function(e){var n=e instanceof DayPilot.Event?e.data:e;return n===t.data||n.id==t.data.id})){if(u.Jc.scope)u.Jc.notify(function(){t.commit()});else if(u.gg.skip=!0,(u.eventUpdateInplaceOptimization||n.inplace)&&i.oldEvent.resource()===i.newEvent.resource()&&i.oldEvent.start()===i.newEvent.start()&&i.oldEvent.end()===i.newEvent.end()){t.commit();var a=u._c(t);if(a){var r=a.event.part;u.li(a),DayPilot.rfa(u.elements.events,a),t.part=r}u.events.Yg(t.data);var l=u.events.Zg(t.data);u.$g(l);var s=u.events.ii(t.data);s&&u.Nb(s)}else{var l=u.events.Yg(t.data);t.commit(),l=l.concat(u.events.Zg(t.data)),u.events.mi(l)}return o}},this.events.remove=function(t,e){var n={};n.e=new DayPilot.Event(t.data,u);var i=new DayPilot.Action(u,"EventRemove",n,e),o=DayPilot.indexOf(u.events.list,t.data);if(o>=0&&u.events.list.splice(o,1),u.Jc.scope)u.Jc.notify();else{u.gg.skip=!0;var a=u.events.Yg(t.data);u.events.mi(a)}return i},this.events.add=function(t,e){t.calendar=u,u.events.list||(u.events.list=[]),DayPilot.list(u.events.list).find(function(e){var n=e instanceof DayPilot.Event?e.data:e;return n===t.data||n.id==t.data.id})||u.events.list.push(t.data);var n=new DayPilot.Action(u,"EventAdd",i,e);if(!u.z)return n;if(u.Jc.scope)u.Jc.notify();else{u.gg.skip=!0;var i={};i.e=t;var o=u.events.Zg(t.data);u.events.mi(o)}return n},this.events.hi={rows:[]},this.events.ni=null,this.events.hh=function(){clearTimeout(u.events.ni),u.events.hi.rows=[]},this.events.mi=function(t){clearTimeout(u.events.ni);var e=u.events.hi.rows;DayPilot.list(t).each(function(t){e.push(t)}),u.events.hi.rows=DayPilot.ua(e);var n=u.events.immediateRefresh;u.events.ni=setTimeout(n,0)},this.events.immediateRefresh=function(){clearTimeout(u.events.ni);var t=u.events.hi.rows;u.events.hi.rows=[],u.$g(t),u._g(),u.z&&("Gantt"===u.viewType?u.update():(u.ah(t),u.ia(),u.oi()))},this.gg={},this.gg.enabled=!1,this.gg.skip=!1,this.gg.skipUpdate=function(){return u.gg.skip},this.gg.skipped=function(){u.gg.skip=!1},this.queue={},this.queue.list=[],this.queue.list.ignoreToJSON=!0,this.queue.add=function(t){if(t){if(!t.isAction)throw"DayPilot.Action object required for queue.add()";u.queue.list.push(t)}},this.queue.notify=function(t){var e={};e.actions=u.queue.list,u.F("Notify",e,t,"Notify"),u.queue.list=[]},this.queue.clear=function(){u.queue.list=[]},this.queue.pop=function(){return u.queue.list.pop()},this.cells.find=function(t,e){var n=u.getPixels(new DayPilot.Date(t));if(!n)return g();var i=n.i,o=u.mg(e);if(!o)return g();var a=o.index;return this.findXy(i,a)},this.cells.findByPixels=function(t,e){var n=u.Rg(t);if(!n)return g();var t=n.x,i=u.Xh(e);if(!i)return g();var e=i.i;return this.findXy(t,e)},this.cells.all=function(){for(var t=[],e=u.itline.length,n=u.rowlist.length,i=0;i<e;i++)for(var o=0;o<n;o++){var a=u.cells.findXy(i,o);t.push(a[0])}return g(t)},this.cells.pi=function(t,e){var n=u.Vg(t),i=u.rowlist[e],o=i.start.getTime()-u.Aa().getTime(),a=n.start.addTime(o),r=n.end.addTime(o),l={};l.x=t,l.y=e,l.i=t+"_"+e,i.id,l.resource=i.id,l.start=n.start,l.end=n.end,l.calendar=u,l.isParent=i.children&&i.children.length,l.update=function(){if(!u.rowlist[l.y].hidden){var t=u.s.cells[l.i];u.qi(t);var e=u.og();e.xStart<=l.x&&l.x<=e.xEnd&&e.yStart<=l.y&&l.y<=e.yEnd&&u.Ue(l.x,l.y)}},l.utilization=function(t){return i.sections||i.calculateUtilization(),i.sections.forRange(a,r).maxSum(t)},l.events=function(){return i.events.forRange(a,r)},l.div=u.s.cells[l.i];var s=u.ri(t,e);return l.properties=s,l},this.cells.findXy=function(t,e){if(DayPilot.isArray(t)){for(var n=[],i=0;i<t.length;i++){var o=t[i];n.push(u.cells.pi(o.x,o.y))}return g(n)}return null===t||null===e?g():g(u.cells.pi(t,e))};var v=function(t){var e=DayPilot.list();if(DayPilot.isArray(t))for(var n=0;n<t.length;n++)e.push(t[n]);else"object"==typeof t&&e.push(t);return e};this.si=function(t){var e=DayPilot.list();if(DayPilot.isArray(t))for(var n=0;n<t.length;n++)e.push(t[n]);else"object"==typeof t&&e.push(t);return e.cssClass=function(t){return this.each(function(e){e.properties.cssClass=DayPilot.Util.addClassToString(e.properties.cssClass,t),e.update()}),this},e.removeClass=function(t){return this.each(function(e){e.properties.cssClass=DayPilot.Util.removeClassFromString(e.properties.cssClass,t),e.update()}),this},e.addClass=e.cssClass,e.html=function(t){return this.each(function(e){e.properties.html=t,e.update()}),this},e.invalidate=function(){return this.each(function(t){delete u.gh[t.i]}),this},e};var g=this.si;this.Jc={},this.Jc.scope=null,this.Jc.notify=function(t){u.Jc.scope&&DayPilot.Util.safeApply(u.Jc.scope,t)},this.debug=new DayPilot.Debug(this),this.ui=function(t){if("Days"!==u.viewType)throw"Checking row start when viewType !== 'Days'";for(var e=0;e<u.rowlist.length;e++){var n=u.rowlist[e],i=n.element?n.element.data:n.data,o=i.start;if(t.getTime()>=o.getTime()&&t.getTime()<o.addDays(1).getTime())return o}return null},this.vi=function(t){var e=u.Aa();if(t.ticks===e.ticks)return t;var n=e;if(t.ticks<e.ticks){for(var i=this.itline[0].end.ticks-this.itline[0].start.ticks;n.ticks>t.ticks;)n=n.addTime(-i);return n}if("Days"===u.viewType){var o=this.ui(t),a=o.getTime()-u.Aa().getTime(),r=this.Tg(t.addTime(-a));if(r.current)return r.current.start.addTime(a);if(r.past)return r.previous.end.addTime(a);throw"getBoxStart(): time not found"}var r=this.Tg(t);if(r.current)return r.current.start;if(r.past)return r.previous.end;if(r.hidden){var l=r.next.start.getTime()-t.getTime(),s=r.next.end.getTime()-r.next.start.getTime(),c=Math.ceil(l/s)*s;return r.next.start.addTime(-c)}throw"getBoxStart(): time not found"},this.wi=function(t){var e=this.Xh(u.coords.y),n=t.event;if("function"!=typeof n.end)throw"e.end function is not defined";if(!n.end())throw"e.end() returns null";var o=DayPilot.DateUtil.diff(n.rawend(),n.start());o=Math.max(o,1);var a=M.useBox(o),r=n.data&&"Milestone"===n.data.type,l=u.eventHeight,s=0,c=u.coords.x;if(r&&(c+=l/2),"Manual"===u.scale){var d=function(){var t=u.getDate(u.coords.x,!0,!0),e=t.addTime(-o),n=u.getPixels(e).boxLeft,i=u.getPixels(t).boxRight,t=Math.min(i,u.coords.x);return t-n}(),h=Math.min(i.moveOffsetX?i.moveOffsetX:0,d);c=u.coords.x-h}var f=0,p="Days"===this.viewType||this.xi();if(p&&!n.part.external&&(f=this.rowlist[n.part.dayIndex].start.getTime()-this.Aa().getTime()),a&&!r){var v=u.Tg(n.start()),g=!v.hidden&&!v.past;s=n.start().getTime()-this.vi(n.start().addTime(-f)).addTime(f).getTime(),g&&(s=function(t,e){var n=u.yi(u.Tg(t).current),i=u.yi(u.Rg(c).cell);if(n>1.2*i){for(var o=e>0?1:-1,e=Math.abs(e);e>=i;)e-=i;e*=o}return e}(n.start(),s))}var m=i.moving?i.moving.event.calendar:u;m!==u&&m.zi()!==u.zi()&&(s=0);var y=0;if(i.moveDragStart&&"Manual"!==u.scale&&m===u){if(a){var b=n.start().addTime(-f),w=this.vi(b);if(u.eventMoveSkipNonBusiness){var D=u.Ai(w,e.i);if(!D)throw new DayPilot.Exception("No next cell found");D.start>w&&(w=D.start)}if(y=i.moveDragStart.getTime()-w.getTime(),u.eventMoveSkipNonBusiness){var C=u.Bi(w,i.moveDragStart);y-=C}var k=60*u.zi()*1e3;y=Math.floor(y/k)*k}else if(y=i.moveDragStart.getTime()-n.start().addTime(-f).getTime(),u.eventMoveSkipNonBusiness){var C=u.Bi(n.start().addTime(-f),i.moveDragStart);y-=C}if(u.eventMoveSkipNonBusiness){var x=u.getDate(u.coords.x,!0);y=u.Ci(x,y,e.i)}}else y=0;this.eventMoveToPosition&&(y=0);var P=this.getDate(c,!0).addTime(-y).addTime(f);i.resizing&&(P=n.start()),this.snapToGrid&&(P=this.vi(P.addTime(-f)).addTime(f)),P=P.addTime(s);var _=P.addTime(o),S=P,A=_;if(p){S=P.addTime(-f),A=S.addTime(o);var E=e.element.data.start.getTime()-this.Aa().getTime();P=S.addTime(E),_=P.addTime(o)}!function(){if(u.eventMoveSkipNonBusiness){var t=e.i,i=u.Di(n),o=i,a=u.Ai(S,t);if(!a)throw new DayPilot.Exception("No next cell found");var r=DayPilot.indexOf(u.itline,a);if(a.start>P)P=a.start;else{if((i-=a.end.getTime()-S.getTime())<=0)return _=P.addTime(o),void(A=_.addTime(-f));r+=1}S=P.addTime(-f);for(var l=r;l<u.itline.length;l++)if(u.ri(l,t).business){var s=u.itline[l],c=s.start.addTime(f),d=s.end.addTime(f),h=d.getTime()-c.getTime();if(i<=h)return _=c.addTime(i),void(A=_.addTime(-f));i-=h}_=c.addTime(i),A=_.addTime(-f)}}();var T=this.getPixels(S),R=this.getPixels(A),H=a?T.boxLeft:T.left,B=a?R.boxRight-H:R.left-H;r&&(B=l,H-=B/2);var O={};return O.top=e.top,O.left=H,O.row=e.element,O.rowIndex=e.i,O.width=B,O.start=P,O.end=_,O.relativeY=u.coords.y-e.top,O},this.ai=function(t){var e=this.Xh(u.coords.y),n=t.event;if("function"!=typeof n.end)throw"e.end function is not defined";if(!n.end())throw"e.end() returns null";var o=DayPilot.DateUtil.diff(n.rawend(),n.start());o=Math.max(o,1);var a=M.useBox(o),r=n.data&&"Milestone"===n.data.type,l=u.eventHeight,s=0,c=u.coords.x;if(r&&(c+=l/2),"Manual"===u.scale){var d=function(){var t=u.getDate(u.coords.x,!0,!0),e=t.addTime(-o),n=u.getPixels(e).boxLeft,i=u.getPixels(t).boxRight,t=Math.min(i,u.coords.x);return t-n}(),h=Math.min(i.moveOffsetX?i.moveOffsetX:0,d);c=u.coords.x-h}var f=0,p="Days"===this.viewType||this.xi();if(p&&!n.part.external&&(f=this.rowlist[n.part.dayIndex].start.getTime()-this.Aa().getTime()),a&&!r){var v=u.Tg(n.start()),g=!v.hidden&&!v.past;s=n.start().getTime()-this.vi(n.start().addTime(-f)).addTime(f).getTime(),g&&(s=function(t,e){var n=u.yi(u.Tg(t).current),i=u.yi(u.Rg(c).cell);if(n>1.2*i){for(var o=e>0?1:-1,e=Math.abs(e);e>=i;)e-=i;e*=o}return e}(n.start(),s))}var m=i.moving?i.moving.event.calendar:u;m!==u&&m.zi()!==u.zi()&&(s=0);var y=0;if(i.moveDragStart&&"Manual"!==u.scale&&m===u)if(a){var b=n.start().addTime(-f),w=this.vi(b);y=i.moveDragStart.getTime()-w.getTime();var D=60*u.zi()*1e3;y=Math.floor(y/D)*D}else y=i.moveDragStart.getTime()-n.start().addTime(-f).getTime();else y=0;this.eventMoveToPosition&&(y=0);var C=this.getDate(c,!0).addTime(-y).addTime(f);i.resizing&&(C=n.start()),this.snapToGrid&&(C=this.vi(C.addTime(-f)).addTime(f)),C=C.addTime(s);var k=C.addTime(o),x=C,P=k;if(p){x=C.addTime(-f),P=x.addTime(o);var _=e.element.data.start.getTime()-this.Aa().getTime();C=x.addTime(_),k=C.addTime(o)}if(i.moveDragStart&&u.eventMoveSkipNonBusiness){var S=e.i,A=i.moveDragStart.addTime(f);this.snapToGrid&&(A=this.vi(A.addTime(-f)).addTime(f));var E=u.Ei(n.start(),A,n.part.dayIndex),o=u.Di(n),T=u.getDate(c,!0);u.snapToGrid&&(T=u.getDate(c));var h=u.Fi(T,E,S);C=T.addTime(-h).addTime(f),this.snapToGrid&&(C=this.vi(C.addTime(-f)).addTime(f)),s=u.Ei(this.vi(n.start().addTime(-f)).addTime(f),n.start(),S),C=C.addTime(s),k=u.Gi(C,o,S),x=C.addTime(-f),P=k.addTime(-f)}var R=this.getPixels(x),H=this.getPixels(P),B=a?R.boxLeft:R.left,O=a?H.boxRight-B:H.left-B;r&&(O=l,B-=O/2);var N={};return N.top=e.top,N.left=B,N.row=e.element,N.rowIndex=e.i,N.width=O,N.start=C,N.end=k,N.relativeY=u.coords.y-e.top,N},this.Bi=function(t,e){var n=u.Tg(t),i=u.Tg(e),o=null,a=0;n.hidden&&(o=t);for(var r=n.i;r<=i.i;r++){var l=u.itline[r];o&&o<l.start&&(a+=l.start.getTime()-o.getTime()),o=l.end}return a},this.Gi=function(t,e,n){var i=e,o=u.rowlist[n],a=o.data.start.getTime()-u.Aa().getTime(),r=t.addTime(-a),l=u.Ai(r,n);if(!l)throw new DayPilot.Exception("No next cell found");var s=DayPilot.indexOf(u.itline,l);if(l.start>t);else{if((i-=l.end.getTime()-r.getTime())<=0)return t.addTime(e);s+=1}for(var c=s;c<u.itline.length;c++)if(u.ri(c,n).business){var d=u.itline[c],h=d.start.addTime(a),f=d.end.addTime(a),p=f.getTime()-h.getTime();if(i<=p)return h.addTime(i);i-=p}return h.addTime(i)},this.Ei=function(t,e,n){var i=u.rowlist[n],o=i.data.start.getTime()-u.Aa().getTime(),a=(u.Tg(t),t.addTime(-o)),r=e.addTime(-o),l=u.Ai(a,n);if(!l)throw new DayPilot.Exception("No next cell found");var s=0,c=DayPilot.indexOf(u.itline,l);if(l.start<=r){if(e<l.end.addTime(o))return l.start>a?e.getTime()-l.start.addTime(o).getTime():e.getTime()-t.getTime();s+=a>l.start?l.end.getTime()-a.getTime():l.end.getTime()-l.start.getTime(),c+=1}for(var d=c;d<u.itline.length;d++)if(u.ri(d,n).business){var h=u.itline[d],f=h.start.addTime(o),p=h.end.addTime(o),v=p.getTime()-f.getTime();if(e<f)return s;if(e<p)return s+=e.getTime()-f.getTime();s+=v}var g=e-u.itline.last().end.addTime(o);return s+=Math.min(0,g)},this.Di=function(t){var e=t.part.dayIndex;return u.Ei(t.start(),t.rawend(),e)},this.Ci=function(t,e,n){var i=0,o=e,a=u.Tg(t);if(!a.current)throw new DayPilot.Exception("Current cell not found.");if(t.addTime(-e)>a.current.start)return e;i+=t.getTime()-a.current.start.getTime(),o-=t.getTime()-a.current.start.getTime();var r=DayPilot.indexOf(u.itline,a.current);r-=1;for(var l=a.current.start;r>=0;){var a=u.itline[r];l>a.end&&(i+=l.getTime()-a.end.getTime()),l=a.start;var s=a.end.getTime()-a.start.getTime();if(o<=s)return i+=o;i+=s,o-=s,r-=1}throw new DayPilot.Exception("Unable to backward calculate offset in visible timeline")},this.Fi=function(t,e,n){var i=0,o=e,a=u.Tg(t);if(!a.current)throw new DayPilot.Exception("Current cell not found.");var r=DayPilot.indexOf(u.itline,a.current);if(u.ri(r,n).business){if(t.addTime(-e)>=a.current.start)return e}else if(0===e||t.addTime(-e)>=a.current.start)return t.getTime()-u.Ai(t,n).start.getTime();i+=t.getTime()-a.current.start.getTime(),o-=t.getTime()-a.current.start.getTime(),r-=1;for(var l=a.current.start;r>=0;){var a=u.itline[r];l>a.end&&(i+=l.getTime()-a.end.getTime()),l=a.start;var s=a.end.getTime()-a.start.getTime();if(u.ri(r,n).business){if(o<=s)return i+=o;i+=s,o-=s}else i+=s;r-=1}throw new DayPilot.Exception("Unable to calculate backward offset in visible timeline")},this.Ai=function(t,e){var n=u.Tg(t),i=0;if(n.past)return null;if(n.current)i=n.i;else{if(!n.next)return null;i=DayPilot.indexOf(u.itline,n.next)}for(var o=i;o<u.itline.length;o++)if(u.Hi(o,e))return u.itline[o];return null},this.Hi=function(t,e){return u.ri(t,e).business},this.zi=function(){switch(this.scale){case"CellDuration":return this.cellDuration;case"Minute":return 1;case"Hour":return 60;case"Day":return 1440;case"Week":return 10080;case"Month":return 43200;case"Year":return 525600;case"Manual":if(u.itline.length>0){var t=u.itline[0];return(t.end.getTime()-t.start.getTime())/6e4}return u.cellDuration}throw"can't guess cellDuration value"},this.yi=function(t){return t.end.ticks-t.start.ticks},this.bi=function(t){return this.treePreventParentUsage&&this.Ii(t)},this.Ii=function(t){var e=this.rowlist[t];return!!e.isParent||!!(this.treeEnabled&&e.children&&e.children.length>0)},this.Ji={},this.Ki=function(){if(u.treeAutoExpand){var t=this.ai(i.moving),e=t.rowIndex,n=this.Ii(e),o=this.Ji;if(o.timeout&&o.y!==e&&(clearTimeout(o.timeout),o.timeout=null),n){o.y=e;var a=!u.rowlist[o.y].expanded;!o.timeout&&a&&(o.timeout=setTimeout(function(){!u.rowlist[o.y].expanded&&(u.Li(o.y),u.Mi()),o.timeout=null},500))}}},this.Bc=function(){var t=i.resizingShadow.width,e=i.resizingShadow.left,n=i.resizingEvent,o=i.resizing.dpBorder,a=u.rowlist[n.part.dayIndex],r=0;r=a.start.getTime()-u.Aa().getTime();var l=null,s=null,c=!u.snapToGrid;"left"===o?(l=u.getDate(e,c).addTime(r),s=n.rawend()):"right"===o&&(l=n.start(),s=u.getDate(e+t,c,!0).addTime(r)),i.resizingShadow.start=l,i.resizingShadow.end=s,b.update()},this.exportAs=function(t,e){var n=m.generate(t,e);return new DayPilot.Export(n)},this.export=this.exportAs,this.Ni={};var m=this.Ni;m.getWidth=function(){var t=m.Oi;switch(t){case"viewport":return u.nav.top.offsetWidth;case"full":return u.xg()+m.getRowHeaderWidth();case"range":return u.getPixels(m.getRangeEnd()).boxRight-u.getPixels(m.getRangeStart()).boxLeft+m.getRowHeaderWidth();default:throw"Unsupported export mode: "+t}},m.getHeight=function(){var t=m.Oi;switch(t){case"viewport":return u.nav.top.offsetHeight-DayPilot.sh(u.nav.scroll)-1;case"full":return u.Pi()+u.zg()-DayPilot.sh(u.nav.scroll);case"range":var e=m.getRows();if(0===e.length)return u.zg();var n=e.first(),i=e.last();return i.top-n.top+i.height+u.zg();default:throw"Unsupported export mode: "+t}},m.getRangeStart=function(){var t=m.Qi.dateFrom||u.Aa();return new DayPilot.Date(t)},m.getRangeEnd=function(){var t=m.Qi.dateTo||u.Ng();return new DayPilot.Date(t)},m.getRangeResStart=function(){return m.Qi.resourceFrom?u.mg(m.Qi.resourceFrom):u.rowlist.find(function(t){return!t.hidden})},m.getRangeResEnd=function(){return m.Qi.resourceTo?u.mg(m.Qi.resourceTo):u.rowlist.last()},m.getRowHeaderWidth=function(){return u.Ag()},m.getTimeHeaderHeight=function(){return u.zg()},m.getCanvas=function(){return m.canvas()},m.getRectangles=function(){var t=m.getRowHeaderWidth(),e=m.getTimeHeaderHeight(),n={};n.main={x:0,y:0,w:m.getWidth(),h:m.getHeight()},n.corner={x:0,y:0,w:t,h:e},n.grid={x:t,y:e,w:m.getWidth()-t,h:m.getHeight()-e};var i=n.grid.w,o=u.itline.last();o&&o.left+o.width<n.grid.w&&(i=o.left+o.width);var a=n.grid.h,r=u.rowlist.last();return r&&r.top+r.height<n.grid.h&&(a=r.top+r.height),n.gridContent={x:t,y:e,w:i,h:a},n},m.getRows=function(){var t,e,n,i,o=m.Oi,a=DayPilot.list();switch(o){case"viewport":t=u.Ri,e=t+u.nav.scroll.offsetHeight,n=u.Xh(t).i,i=u.Xh(e).i;break;case"full":t=0,n=0,i=u.rowlist.length;break;case"range":var r=m.getRangeResStart(),l=m.getRangeResEnd();if(!r)throw"Resource specified using resourceFrom option not found during export.";if(!l)throw"Resource specified using resourceTo option not found during export.";n=r.index,i=l.index}i<u.rowlist.length&&(i+=1);for(var s=n;s<i;s++){var c=u.rowlist[s];c.hidden||a.push(c)}return a.offset=n,a},m.getEvents=function(){var t=m.Oi;switch(t){case"full":var e=DayPilot.list();return DayPilot.list(u.rowlist).each(function(t){t.hidden||DayPilot.list(t.events).each(function(t){e.push(t)})}),e;case"viewport":return d.events().map(function(t){return t.event});case"range":var e=DayPilot.list(),n=m.getRangeStart(),i=m.getRangeEnd();return m.getRows().each(function(t){DayPilot.list(t.events).filter(function(t){return DayPilot.Util.overlaps(t.start(),t.end(),n,i)}).each(function(t){e.push(t)})}),e;default:throw"Unsupported export mode: "+t}},m.getTimeline=function(){var t=m.Oi;switch(t){case"full":return DayPilot.list(u.itline).addProps({offset:0});case"viewport":return m.getViewportTimeline();case"range":return m.getRangeTimeline();default:throw"Unsupported export mode: "+t}},m.getRangeTimeline=function(){var t=DayPilot.list();if(u.itline&&u.itline.length>0){var e=u.Tg(m.getRangeStart()).i,n=u.Tg(m.getRangeEnd()).i,i=u.Si();n=Math.min(n,i-1),e=Math.max(e,0);for(var o=e;o<=n;o++){var a=u.itline[o];t.push(a)}t.offset=e}return t},m.getViewportTimeline=function(){var t=DayPilot.list();if(u.itline&&u.itline.length>0){var e=u.Ti,n=e+u.Ui,i=u.Rg(e).x,o=u.Rg(n,!0).x,a=u.Si();o=Math.min(o,a),i=Math.max(i,0);for(var r=i;r<=o;r++){var l=u.itline[r];t.push(l)}t.offset=i}return t},m.getTimeHeader=function(t){if("full"===m.Oi)return DayPilot.list(u.timeHeader[t]);var e,n,i=DayPilot.list();e=m.getViewportOffsetStart(),n=e+m.getViewportOffsetWidth();var o=u.Vi(t,e),a=u.Vi(t,n);a||(a={x:u.timeHeader[t].length-1});for(var r=o.x;r<=a.x;r++){var l=u.timeHeader[t][r];i.push(l)}return i},m.fakeDurationBar=function(){var t=document.createElement("div");t.style.display="none",t.className=u.p(E.event);var e=document.createElement("div");e.className=u.p(E.eventBar);var n=document.createElement("div");return n.className=u.p(E.eventBarInner),document.body.appendChild(t),e.appendChild(n),t.appendChild(e),t},m.fakeCell=function(){var t=document.createElement("div");t.style.display="none",t.className=u.p("_cell"),t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px";var e=document.createElement("div");return e.className=u.p("_cell_inner"),t.appendChild(e),u.divCells.appendChild(t),t},m.fakeRowHeader=function(){var t=document.createElement("div");t.style.display="none",t.className=u.p("_rowheader"),t.style.position="absolute",t.style.top="-2000px",t.style.left="-2000px";var e=document.createElement("div");return e.className=u.p("_rowheader_inner"),t.appendChild(e),u.divResScroll.appendChild(t),t},m.fakeExpand=function(){var t=document.createElement("div");return t.style.display="none",t.className=u.p("_tree_image_expand"),document.body.appendChild(t),t},m.extractUrl=function(t){var e=/url\((")?([^"].*[^"])\1\)/.exec(t);return e?e[2]:null},m.getImages=function(){var t={},e=m.fakeExpand();return t.expand=m.extractUrl(new DayPilot.StyleReader(e).get("background-image")),e.className=u.p("_tree_image_collapse"),t.collapse=m.extractUrl(new DayPilot.StyleReader(e).get("background-image")),e.className=u.p("_tree_image_no_children"),t.nochildren=m.extractUrl(new DayPilot.StyleReader(e).get("background-image")),DayPilot.de(e),t},m.getFont=function(t){return new DayPilot.StyleReader(t).getFont()},m.getViewportOffsetStart=function(){switch(m.Oi){case"full":return 0;case"viewport":return u.nav.scroll.scrollLeft;case"range":return u.getPixels(m.getRangeStart()).boxLeft}},m.getViewportOffsetTop=function(){switch(m.Oi){case"full":return 0;case"viewport":return u.nav.scroll.scrollTop;case"range":return m.getRangeResStart().top}},m.getViewportOffsetWidth=function(){switch(m.Oi){case"full":return u.xg();case"viewport":return u.nav.scroll.offsetWidth;case"range":return u.getPixels(m.getRangeEnd()).boxRight-m.getViewportOffsetStart()}},m.excelBoard=function(){var t=new DayPilot.Excel,e=t.worksheets.create("Scheduler"),n=new DayPilot.StyleReader(u.nav.corner).get("background-color"),i=new DayPilot.StyleReader(u.nav.top).get("border-top-color"),o=DayPilot.list(u.elements.events).map(function(t){return t.firstChild}).last(),a=new DayPilot.StyleReader(o).get("border-right-color");t.styles.getDefault().setBackColor("#ffaaaa");var r=t.styles.create();r.setHorizontalAlignment("Center"),r.setBackColor(n),r.setBorderColor(i);var l=t.styles.create();l.setVerticalAlignment("Top"),l.setBackColor(n),l.setBorderColor(i);var s=t.styles.create();s.setVerticalAlignment("Top"),s.setBackColor("#ff0000"),s.setBorderColor(a),e.enableGridlines(!1),e.cell(0,0).setRowspan(u.timeHeader.length).setStyle(r),e.cell(10,10).setText("hi there"),DayPilot.list(u.timeHeader).each(function(t,n){var i={x:1,y:0};m.getTimeHeader(n,"full").each(function(t,o){var a=t.colspan;e.cell(o+i.x,n+i.y).setText(t.innerHTML).setColspan(a).setStyle(r)})}),DayPilot.list(u.rowlist).each(function(t,n){for(var i={x:0,y:1},o="",a=0;a<t.level;a++)o+="  ";e.cell(i.x,n+i.y).setText(o+t.html).setRowspan(t.lines.length).setStyle(l)});var c={x:0,y:u.timeHeader.length},d=c.y;return DayPilot.list(u.rowlist).each(function(t,n){DayPilot.list(t.lines).each(function(t,i){var o=c.x;DayPilot.list(t).each(function(t){var i=u.Tg(t.start()).i,a=u.Tg(t.end()).i,r=1+a-i;e.cell(i+o,n+d).setText(t.client.html()).setColspan(r).setStyle(s),o+=r-1})}),d+=t.lines.length-1}),t},m.Qi=null,m.Oi=null,m.generate=function(t,e){"object"==typeof t&&(e=t,t=null);var e=e||{},t=t||e.format||"svg",n=e.scale||1;if("xls"===t)return m.excelBoard();if("config"!==t){"jpg"===t.toLowerCase()&&(t="jpeg");var i=e.area||"viewport";m.Qi=e,m.Oi=i,m.getRows().each(function(t){u.Wi(t)});var o,a=m.getWidth(),r=m.getHeight();switch(t.toLowerCase()){case"svg":o=new DayPilot.Svg(a,r);break;case"png":o=new DayPilot.Canvas(a,r,"image/png",n);break;case"jpeg":o=new DayPilot.Canvas(a,r,"image/jpeg",n,e.quality);break;default:throw"Export format not supported: "+t}var l=m.getRectangles(),s=m.getImages(),c=new DayPilot.StyleReader(u.nav.top).get("background-color"),d=new DayPilot.StyleReader(u.nav.corner).get("background-color"),h=new DayPilot.StyleReader(u.nav.top).get("border-top-color"),f=new DayPilot.StyleReader(u.nav.divider).get("background-color"),p=DayPilot.list(u.elements.events).map(function(t){return t.firstChild}).last(),v=new DayPilot.StyleReader(p).get("border-right-color"),g=m.getFont(p),y=new DayPilot.StyleReader(p).get("color"),b=new DayPilot.StyleReader(p).get("background-color");b=DayPilot.Util.isTransparentColor(b)?"white":b;var w=m.fakeDurationBar(),D=new DayPilot.StyleReader(w.firstChild).get("background-color"),C=new DayPilot.StyleReader(w.firstChild.firstChild).get("background-color");DayPilot.de(w);var k=m.fakeCell(),x=new DayPilot.StyleReader(k).get("background-color");DayPilot.Util.addClass(k,u.p("_cell_business"));var P=new DayPilot.StyleReader(k).get("background-color"),_=m.getFont(k),S=new DayPilot.StyleReader(k).get("color");DayPilot.de(k);var A=DayPilot.Util.firstPropValue(u.s.linesVertical),E=new DayPilot.StyleReader(A).get("background-color"),T=u.s.timeHeader["0_0"],R=m.getFont(T),M=new DayPilot.StyleReader(T).get("color"),B=new DayPilot.StyleReader(T).get("background-color"),O=m.fakeRowHeader(),N=m.getFont(O),I=new DayPilot.StyleReader(O).get("color"),j=new DayPilot.StyleReader(O).get("background-color");if(DayPilot.de(O),u.rowHeaderColumns&&u._h&&u._h.blocks[0])var U=u._h.blocks[0].section.firstChild,F=new DayPilot.StyleReader(U).getFont(),L=new DayPilot.StyleReader(U).get("color");var z=m.getViewportOffsetStart(),W=m.getViewportOffsetTop();o.fillRect(l.main,"white"),o.fillRect(l.main,c),o.fillRect(l.corner,d);var V=l.corner.x;DayPilot.list(u.rowHeaderColumns).each(function(t,e){var n=u.rowHeaderCols[e],i={};i.x=V,i.w=n+1,i.y=l.corner.h-u._h.height,i.h=u._h.height+1;var a=3,r=DayPilot.Util.copyProps(i);r.x+=a,r.w-=a,o.text(r,t.title,F,L),o.rect(i,h),V+=n});var J="function"==typeof u.onBeforeTimeHeaderExport;DayPilot.list(u.timeHeader).each(function(t,e){m.getTimeHeader(e,i).each(function(t){var n=l.grid.x+t.left-z,i=t.width,a=H.timeHeader(e),r=a.top,s=a.height,c=t.innerHTML,d=t.backColor;if(J){var f={};f.header={},f.header.start=t.start,f.header.end=t.end,f.header.level=e,f.header.text=t.text,f.header.html=t.innerHTML,f.text=t.innerHTML,f.backColor=t.backColor,u.onBeforeTimeHeaderExport(f),c=f.text,d=f.backColor}var p=Math.max(0,l.grid.x-n);n+=p,i-=p;var p=Math.max(0,n+i-(l.grid.x+l.grid.w));i-=p;var v={x:n,y:r,w:i+1,h:s+1};d=d||B,o.fillRect(v,d),o.rect(v,h),o.text(v,c,R,M,"center")})}),m.getTimeline().each(function(t){var e=l.grid.x+t.left-z;(e+=Math.max(0,l.grid.x-e))!==l.grid.x&&o.line(e,l.grid.y+1,e,l.grid.y+l.grid.h-2,E)});var q="function"==typeof u.onBeforeCellExport;m.getRows().each(function(t,e,n){var e=t.index;m.getTimeline().each(function(n,i,a){var i=a.offset+i,r=u.ri(i,e),s=r.business,c=u.Xi(i,e),d=r.html,h="left",f=r.backColor||(s?P:x);q&&(c||(c={},c.cell=u.cells.findXy(i,e)[0]),c.text=d,c.horizontalAlignment=h,c.backColor=f,u.onBeforeCellExport(c),d=c.text,h=c.horizontalAlignment,f=c.backColor);var p=l.grid.y+t.top-W;p+=Math.max(0,l.grid.y-p);var v=l.grid.x+n.left-z;v+=Math.max(0,l.grid.x-v);var g={x:v,y:p,w:n.width,h:t.height};o.fillRect(g,f);var m={};m.x=g.x+1,m.y=g.y+1,m.w=g.w-2,m.h=g.h-2,d&&o.text(m,d,_,S,h)})}),m.getRows().each(function(t){var e=l.grid.y+t.top-W;(e+=Math.max(0,l.grid.y-e))!==l.grid.y&&o.line(l.gridContent.x+1,e,l.gridContent.x+l.gridContent.w-1,e,E)});var G="function"==typeof u.onBeforeRowHeaderRender,Y="function"==typeof u.onBeforeRowHeaderExport;return m.getRows().each(function(t){var e=l.grid.y+t.top-W;e+=Math.max(0,l.grid.y-e);var n=10,i=t.level*u.treeIndent+u.treeImageMarginLeft,a={x:0,y:e,w:l.grid.x+1,h:t.height+1},r=t;G&&(r=u.Yi(t).row);var c={};c.text=r.html,c.backColor=r.backColor||j,c.fontSize=N.size,c.fontFamily=N.family,c.fontStyle=N.style,c.fontColor=I,c.borderColor=h,c.horizontalAlignment="left",Y&&(c.row=u.Dh(t),u.onBeforeRowHeaderExport(c));var d={x:i,y:e+u.treeImageMarginTop,w:10,h:10},f=u.treeEnabled?i+n+3:i,p={x:f,y:e,w:a.w-(i+n),h:t.height+1};if(o.fillRect(a,c.backColor),o.text(p,c.text,{size:c.fontSize,family:c.fontFamily,style:c.fontStyle},c.fontColor,c.horizontalAlignment),o.rect(a,c.borderColor),u.treeEnabled){var v=null;v=DayPilot.list(t.children).isEmpty()?s.nochildren:t.expanded?s.collapse:s.expand,o.image(d,v)}if(u.rowHeaderCols){var i=a.x;DayPilot.list(u.rowHeaderCols).each(function(t,e){if(0!==e){var n=r.columns[e-1],l=DayPilot.Util.copyProps(a);l.x=i,l.w=t;var s=3,u=DayPilot.Util.copyProps(l);u.x+=s,u.w-=s;var d=n.html||"",h=n.backColor||c.backColor;o.fillRect(l,h),d&&o.text(u,d,{size:c.fontSize,family:c.fontFamily,style:c.fontStyle},c.fontColor,c.horizontalAlignment),o.rect(l,c.borderColor)}i+=t})}}),m.getEvents().each(function(t){var e=u.rowlist[t.part.dayIndex].top,n=t.part.width,i=t.part.barWidth,a=t.client&&t.client.barVisible&&t.client.barVisible(),r=l.grid.y+e+t.part.top-W;r+=Math.max(0,l.grid.y-r);var s=l.grid.x+t.part.left-z,c=Math.max(0,l.grid.x-s);s+=c,n-=c,i-=c;var d=t.cache||t.data,h=d.barColor||C,f=d.barBackColor||D,p=d.backColor||b,m=d.fontColor||y,w=5,k=2,x={};x.e=t,x.text=t.text?t.text():t.client.html(),x.fontSize=g.size,x.fontFamily=g.family,x.fontStyle=g.style,x.fontColor=m,x.backColor=p,x.borderColor=v,x.horizontalAlignment="left",x.barHeight=w,"function"==typeof u.onBeforeEventExport&&u.onBeforeEventExport(x);var P={x:s,y:r,w:n,h:t.part.height},_={x:s,y:r,w:n,h:x.barHeight},S={x:s+t.part.barLeft,y:r,w:i,h:w};t.part.height,o.fillRect(P,x.backColor),o.text(P,x.text,{size:x.fontSize,family:x.fontFamily,style:x.fontStyle},x.fontColor,x.horizontalAlignment,k),o.rect(P,x.borderColor),a&&(o.fillRect(_,f),i>0&&o.fillRect(S,h)),DayPilot.list(d.areas).each(function(e){var n=e.left;e.start&&(n=u.getPixels(new DayPilot.Date(e.start)).left-t.part.left);var i=e.width||e.w;e.right?i=t.part.width-e.right-n:e.end&&(i=u.getPixels(new DayPilot.Date(e.end)).left-e.left-t.part.left+1);var a=e.top,l=e.height||e.h;"number"==typeof e.bottom&&(l=t.part.height-e.bottom-a);var c={x:s+n,y:r+a,w:i,h:l};o.fillRect(c,e.backColor),o.text(c,e.html,{size:x.fontSize,family:x.fontFamily,style:x.fontStyle},e.fontColor||x.fontColor,null,e.padding)})}),o.rect(l.main,h),o.line(l.grid.x,0,l.grid.x,l.main.h,f),o.line(0,l.grid.y,l.main.w,l.grid.y,f),o}},this.Zi={};var y=this.Zi;y.findJointDivs=function(t){var e=t.data.join;return e?DayPilot.list(u.elements.events).filter(function(n){return n.event.data.join===e&&n.event!==t}):DayPilot.list()},this.$i={};var b=this.$i;b.divs=[],b.list=[],b.forbidden=!1,b.additional=function(){var t=DayPilot.list(),e=u.multiselect.isSelected(i.resizing.event),n=u.allowMultiResize,t=DayPilot.list();if(e&&n&&(t=DayPilot.list(u.multiselect.divs).filter(function(t){return t!==i.resizing})),u.jointEventsResize){var o=y.findJointDivs(i.resizingEvent);t=t.concat(o)}return t},b.update=function(){b.clear(),b.draw()},b.clear=function(){DayPilot.de(b.divs),b.divs=[]},b.draw=function(){if(i.resizing){var t=i.resizingEvent,e=i.resizingShadow,n=e.start.getTime()-t.start().getTime(),o=e.end.getTime()-t.end().getTime(),a=0;if(b.list=[],b.forbidden=!1,b.invalid=!1,b.rowoffset=a,b.additional().each(function(t){if(t.event){var e=t.event,i=u.rowlist[e.part.dayIndex+a];if(!i)return void(b.invalid=!0);var r=e.part.top+i.top,l=e.part.height,s=e.start().addTime(n),c=e.end().addTime(o),d={};d.event=e,d.start=s,d.end=c,d.overlapping=!1,b.list.push(d);var h=u.getPixels(s),f=u.getPixels(c),p=DayPilot.DateUtil.diff(e.rawend(),e.start());p=Math.max(p,1);var v=M.useBox(p),g=v?h.boxLeft:h.left,m=v?f.boxRight-g:f.left-g,y=document.createElement("div");y.style.position="absolute",y.style.left=g+"px",y.style.top=r+"px",y.style.height=l+"px",y.style.width=m+"px",y.style.zIndex=101,y.style.overflow="hidden",y.className=u.p("_shadow"),y.info=d;var w=document.createElement("div");w.className=u.p("_shadow_inner"),y.appendChild(w),u.jg.appendChild(y),b.divs.push(y)}}),b.invalid){var r=u.p("_shadow_overlap");return void DayPilot.list(b.divs).each(function(t){DayPilot.Util.addClass(t,r)})}DayPilot.list(b.divs).each(function(t){if(t.info){var e=t,n=t.info,o=t.info.event,r=u.rowlist[o.part.dayIndex+a],l=u.getPixels(n.start),s=u.getPixels(n.end),c=l.left,d=s.left-c,h=DayPilot.list(b.list).map(function(t){return t.event.data}).add(i.resizing.event.data);u._i(e,r,c,d,h),e.overlapping&&(n.overlapping=!0,b.forbidden=!0)}})}},this.aj={},this.aj.modifiedProps=function(){var t=new DayPilot.Scheduler,e=DayPilot.Util.members(u,2),n=[];return n.push("<div id='dp'></div>"),n.push("<script>"),n.push("var dp = new DayPilot.Scheduler('dp');"),e.properties.each(function(e){var i,o,a=e.name,r=a.split(".");if(r.length>1){var l=r[0],s=r[1];i=DayPilot.JSON.stringify(t[l][s]),o=DayPilot.JSON.stringify(u[l][s])}else i=DayPilot.JSON.stringify(t[a]),o=DayPilot.JSON.stringify(u[a]);i!==o&&n.push("dp."+a+" = "+o+";")}),e.events.each(function(t){var e=t.name;"function"==typeof u[e]&&n.push("dp."+e+" = "+u[e].toString()+";")}),n.push("dp.init();"),n.push("<\/script>"),n.join("\n")},this.bj={};var w=this.bj;w.divs=[],w.list=[],w.forbidden=!1,w.verticalAll=function(){return"All"===u.multiMoveVerticalMode},w.additional=function(){var t=DayPilot.list(),e=u.multiselect.isSelected(i.movingEvent),n=u.allowMultiMove,t=DayPilot.list();if(e&&n&&(t=DayPilot.list(u.multiselect.divs).filter(function(t){return t!==i.moving&&t!==S.moving})),u.jointEventsMove){var o=y.findJointDivs(i.movingEvent);t=t.concat(o)}return t},w.update=function(){w.clear(),w.draw()},w.draw=function(){if(i.moving){var t=i.movingEvent,e=i.movingShadow.start,n=e.getTime()-t.start().getTime(),o=t.part.dayIndex,a=DayPilot.indexOf(u.rowlist,i.movingShadow.row),r=a-o;if(w.verticalAll()||(r=0),w.list=[],w.forbidden=!1,w.invalid=!1,w.rowoffset=r,w.additional().each(function(t){if(t.event){var e=t.event,i=u.rowlist[e.part.dayIndex+r];if(!i)return void(w.invalid=!0);var o=e.part.top+i.top,a=e.part.height;r&&(o=i.top,a=i.height);var l=e.start().addTime(n),s=e.end().addTime(n),c={};c.event=e,c.start=l,c.end=s,c.resource=i.id,c.overlapping=!1,w.list.push(c);var d=u.getPixels(l),h=u.getPixels(s),f=DayPilot.DateUtil.diff(e.rawend(),e.start());f=Math.max(f,1);var p=M.useBox(f),v=p?d.boxLeft:d.left,g=p?h.boxRight-v:h.left-v,m=document.createElement("div");m.style.position="absolute",m.style.left=v+"px",m.style.top=o+"px",m.style.height=a+"px",m.style.width=g+"px",m.style.zIndex=101,m.style.overflow="hidden",m.className=u.p("_shadow"),m.info=c;var y=document.createElement("div");y.className=u.p("_shadow_inner"),m.appendChild(y),u.jg.appendChild(m),w.divs.push(m)}}),w.invalid){var l=u.p("_shadow_overlap");return void DayPilot.list(w.divs).each(function(t){DayPilot.Util.addClass(t,l)})}DayPilot.list(w.divs).each(function(t){if(t.info){var e=t,n=t.info,o=t.info.event,a=u.rowlist[o.part.dayIndex+r],l=u.getPixels(n.start),s=u.getPixels(n.end),c=l.left,d=s.left-c,h=DayPilot.list(w.list).map(function(t){return t.event.data}).add(i.movingEvent.data);u._i(e,a,c,d,h),e.overlapping&&(n.overlapping=!0,w.forbidden=!0)}})}},w.clear=function(){DayPilot.de(w.divs),w.divs=[]},this.cj=function(){var t=u.coords,e=i.resizing.dpBorder,n=i.resizing.event,o=n.part.left;"right"==e&&(o+=n.part.width);var a,r,l=i.resizing.event.calendar.cellWidth,s=i.resizing.event.part.width,c=i.resizing.event.part.left,d=0,h=t.x-o;if("right"===e){if(a=c,u.snapToGrid){var f=u.Rg(s+c+h).cell;(r=f.left+f.width-c)<l&&(r=l)}else r=s+h;var p=u.xg();c+r>p&&(r=p-c),i.resizingShadow.left=c,i.resizingShadow.width=r}else{if("left"!==e)throw"Invalid dpBorder.";u.snapToGrid?(h>=s&&(h=s),(a=Math.floor((c+h+0)/l)*l)<d&&(a=d)):a=c+h,r=s-(a-c);var v=c+s,g=l;u.snapToGrid?"Never"===u.useEventBoxes&&(g=s<l?s:1):g=1,r<g&&(r=g,a=v-r),i.resizingShadow.left=a,i.resizingShadow.width=r}!function(){var t=i.resizing.event,e=u.rowlist[t.part.dayIndex],n=a,o=r;u._i(i.resizingShadow,e,n,o,t.data)}(),u.dj()},this.Mi=function(){if(this.nav.scroll,u.coords&&i.moving){u.Da();var t=i.movingShadow,e=this.ai(i.moving);if(!u.bi(e.rowIndex)){var n=i.movingEvent,o=0,a=0;!function(){if(u.cellStacking){var t=e.relativeY,n=u.Rg(e.left).x,i=e.row,r=i.evColumns[n],l=r.events.find(function(e){return t<e.part.top+e.part.height+u.eventMarginBottom});l||(l=r.events.last()),l&&(a=l.part.top,o=DayPilot.indexOf(r.events,l),t-l.part.top>l.part.height/2&&(a=l.part.top+l.part.height+u.eventMarginBottom/2,o+=1))}else{for(var t=e.relativeY,i=e.row,s=0,c=u.qc.eventHeight(),d=i.lines.length,h=0;h<i.lines.length;h++)if(i.lines[h].isFree(e.left,u.cellWidth)){d=h;break}var f=Math.floor((t-s+c/2)/c),f=Math.min(d,f),f=Math.max(0,f);o=f,a=u.rowMarginTop+o*(u.qc.eventHeight()+u.eventMarginBottom)+u.eventMarginBottom/2}}(),a>0&&(a-=3);var r=n.cache&&void 0!==n.cache.moveVDisabled?!n.cache.moveVDisabled:!n.data.moveVDisabled,l=n.cache&&void 0!==n.cache.moveHDisabled?!n.cache.moveHDisabled:!n.data.moveHDisabled,s=!w.additional().isEmpty();if(s&&"Disabled"===u.multiMoveVerticalMode&&(r=!1),r)if(this.bi(e.rowIndex)){var c=t.row,d=1;if(!c)return;d=e.rowIndex<c.index?1:-1;for(var h=e.rowIndex;h!==c.index;h+=d){var f=this.rowlist[h];if(!this.bi(h)&&!f.hidden){t.style.top=f.top+"px",t.style.height=Math.max(f.height,0)+"px",t.row=f,u.eventMoveToPosition&&(o=d>0?0:f.lines.length-1,t.style.top=e.top+a+"px",t.style.height="3px",t.line=o);break}}}else t.row=e.row,t.style.height=Math.max(e.row.height,0)+"px",t.style.top=e.top+"px",u.eventMoveToPosition&&(t.style.top=e.top+a+"px",t.style.height="3px",t.line=o);else{for(var c=u.rowlist[n.part.dayIndex],p=c.lines.length,h=0;h<c.lines.length;h++)if(c.lines[h].isFree(e.left,u.cellWidth)){p=h;break}if(s||(t.style.height=Math.max(c.height,0)+"px",t.style.top=c.top+"px"),t.row=c,u.eventMoveToPosition&&!s)if(e.row===c)t.style.top=c.top+a+"px",t.style.height="3px",t.line=o;else{var v=e.rowIndex>c.index&&p>0?p*u.qc.eventHeight()-3:0;t.style.top=c.top+v+"px",t.style.height="3px",t.line=0}}l?(t.style.left=e.left+"px",u.eventMoveToPosition?t.style.width=u.cellWidth+"px":t.style.width=e.width+"px",t.start=e.start,t.end=e.end):(t.style.left=n.part.left+"px",t.start=n.start(),t.end=n.rawend(),e.left=n.part.left),function(){var i=t.row,o=n.data,a=e.width,r=e.left,l=DayPilot.list(w.list).map(function(t){return t.event.data}).add(o);u._i(t,i,r,a,l)}(),function(){var e=u.uh;if(!e||e.start.getTime()!==t.start.getTime()||e.end.getTime()!==t.end.getTime()||e.resource!==t.row.id){w.update();var r=!!i.drag&&n.part.external,l={};l.start=t.start,l.end=u.Ze(t.end),l.duration=new DayPilot.Duration(l.start,l.end),l.e=n,l.external=r,l.resource=t.row.id,l.html=null,l.row=u.Dh(t.row),l.position=t.line,l.overlapping=t.overlapping||w.forbidden,l.allowed=!0,l.left={},l.left.html=l.start.toString(u.eventMovingStartEndFormat,M.locale()),l.left.enabled=u.eventMovingStartEndEnabled,l.left.space=5,l.left.width=null,l.right={},l.right.html=l.end.toString(u.eventMovingStartEndFormat,M.locale()),l.right.enabled=u.eventMovingStartEndEnabled,l.right.space=5,l.right.width=null,l.multimove=DayPilot.list(w.list),l.shift=u.coords.shift,l.ctrl=u.coords.ctrl,l.meta=u.coords.meta,l.alt=u.coords.alt;var s={};s.event=n,s.start=l.start,s.end=l.end,s.overlapping=l.overlapping,s.resource=l.resource,l.multimove.splice(0,0,s),u.uh=l;var c={start:l.start,end:l.end,resource:l.resource};if("function"==typeof u.onEventMoving&&u.onEventMoving(l),t.allowed=l.allowed,l.start!==c.start||l.end!==c.end){var d=l.start,h=u.ye(l.end);t.start=d,t.end=h;var f=DayPilot.DateUtil.diff(d,h);f=Math.max(f,1);var p=M.useBox(f),v=p?u.getPixels(d).boxLeft:u.getPixels(d).left,g=p?u.getPixels(h).boxRight:u.getPixels(h).left;t.style.left=v+"px",t.style.width=g-v+"px"}if(l.resource!==c.resource){var m=u.mg(l.resource);m&&(t.row=m,t.style.height=Math.max(m.height,0)+"px",t.style.top=m.top+"px",u.eventMoveToPosition&&(t.style.top=m.top+a+"px",t.style.height="3px",t.line=o))}l.html?t.firstChild.innerHTML=l.html:t.firstChild.innerHTML="",u.ej(t,l),DayPilot.Util.addClass(i.moving,u.p(E.eventMovingSource)),u.fj(i.movingShadow,l)}}()}}},this._i=function(t,e,n,i,o){if(!u.allowEventOverlap){!function(){t.overlapping=!1;for(var a=0;a<e.lines.length;a++)if(!e.lines[a].isFree(n,i,o))return void(t.overlapping=!0);if(u.allowMultiRange){var r=e.index;DayPilot.list(R.list).some(function(e){var o=e.div,a=parseInt(o.style.left),l=parseInt(o.style.width),s=e.start.y;return t!==o&&s===r&&DayPilot.Util.overlaps(n,n+i,a,a+l)})&&(t.overlapping=!0)}}();var a=t.overlapping,r=u.p("_shadow_overlap");a?DayPilot.Util.addClass(t,r):DayPilot.Util.removeClass(t,r)}},this.ej=function(t,e){var n=u.p("_shadow_forbidden");!e.allowed||w.invalid?DayPilot.Util.addClass(t,n):DayPilot.Util.removeClass(t,n)},this.fj=function(t,e){this.gj();var n={};n.left=parseInt(t.style.left),n.top=parseInt(t.style.top),n.right=n.left+parseInt(t.style.width);var i=e.left.width||10,o=document.createElement("div");if(o.style.position="absolute",o.style.left=n.left-i-e.left.space+"px",o.style.top=n.top+"px",o.style.height=u.eventHeight+"px",o.style.overflow="hidden",o.style.boxSizing="border-box",o.innerHTML=e.left.html,o.className=this.p("_event_move_left"),o.onmousemove=u.hj,e.left.enabled)if(u.divHover.appendChild(o),e.left.width)o.style.width=i+"px";else{o.style.whiteSpace="nowrap";var a=o.offsetWidth,r=n.left-a-e.left.space;o.style.width=a+"px",o.style.left=r+"px";var l=u.nav.scroll.scrollLeft;r<l&&u.divHover.removeChild(o);var s=u.ij()+(r-l);s>0&&(o.style.left=s+"px",o.style.top=n.top-u.nav.scroll.scrollTop+u.zg()+"px",u.nav.top.appendChild(o),u.elements.hover.push(o))}var i=e.right.width||10,c=document.createElement("div");if(c.style.position="absolute",c.style.left=n.right+e.right.space+"px",c.style.top=n.top+"px",c.style.height=u.eventHeight+"px",c.style.overflow="hidden",c.style.boxSizing="border-box",e.right.width?c.style.width=e.right.width+"px":c.style.whiteSpace="nowrap",c.innerHTML=e.right.html,c.className=this.p("_event_move_right"),c.onmousemove=u.hj,e.right.enabled){u.divHover.appendChild(c);var d=u.nav.scroll.scrollWidth;n.right+e.right.space+c.offsetWidth>=d&&u.divHover.removeChild(c)}},this.gj=function(){u.divHover.innerHTML="",DayPilot.de(u.elements.hover),u.elements.hover=[]},this.jj=function(){var t=u.rowHeaderColumnDefaultWidth;this.rowHeaderColumns&&(this.rowHeaderCols=DayPilot.Util.propArray(this.rowHeaderColumns,"width",t))},this.ij=function(){var t=0;if(this.jj(),this.rowHeaderCols)for(var e=0;e<this.rowHeaderCols.length;e++)t+=this.rowHeaderCols[e];else t=this.rowHeaderWidth;return t},this.kj=function(){return this.lj(u.progressiveRowRenderingPreload)},this.lj=function(t){var t=t||0,e=0,n=u.rowlist.length;if(u.progressiveRowRendering){var i=u.og();e=i.yStart,n=i.yEnd+1,e=Math.max(0,e-t),n=Math.min(u.rowlist.length,n+t)}return{start:e,end:n}},this.mj=function(){if(this.Lc()){var t=!1,e=0;if(this.rowHeaderWidthAutoFit){var n=this.divHeader;if(!n)return;if(!n.rows)return;for(var i=[],o=u.kj(),a=o.start;a<o.end;a++){var r=n.rows[a];if(r&&!r.hidden&&!r.autofitDone){r.autofitDone=!0;for(var l=0;l<r.cells.length;l++){var s=r.cells[l].firstChild.firstChild;if(s&&s.style){var c=s.style.width,d=s.style.right;s.style.position="absolute",s.style.width="auto",s.style.right="auto",s.style.whiteSpace="nowrap";var h=s.offsetWidth+2;s.style.position="",s.style.width=c,s.style.right=d,s.style.whiteSpace="",void 0===i[l]&&(i[l]=0),i[l]=Math.max(i[l],h)}}}}if(this.jj(),this.rowHeaderCols)for(var a=0;a<i.length;a++)this.rowHeaderCols[a]&&(i[a]>this.rowHeaderCols[a]&&(this.rowHeaderCols[a]=i[a],t=!0),e+=this.rowHeaderCols[a]);else e=this.rowHeaderWidth,this.rowHeaderWidth<i[0]+u.rowHeaderWidthMarginRight&&(e=i[0]+u.rowHeaderWidthMarginRight,t=!0)}t&&(this._h&&(this._h.widths=this.rowHeaderCols,this._h.updateWidths(),DayPilot.Util.updatePropsFromArray(this.rowHeaderColumns,"width",this.rowHeaderCols)),this.rowHeaderScrolling||(this.rowHeaderWidth=e),this.eh(),this.nj())}},this.Tf=function(){this.oj=!0,this.jj();var t=this.ij(),e=this.divHeader;if(e?(e.innerHTML="",DayPilot.puc(e)):(e=document.createElement("div"),e.onmousemove=function(){u.R()},this.divHeader=e),e.style.width=t+"px",e.style.height=u.Nf+"px",e.rows=[],u.progressiveRowRendering)o();else for(var n=this.rowlist.length,i=0;i<n;i++)u.pj(i);u.qj(),this.divResScroll.appendChild(e),this.rowHeaderWidthAutoFit&&this.mj()},this.fh=function(){if(u.progressiveRowRendering){for(var t=this.kj(),e=0;e<u.rowlist.length;e++)t.start<=e&&e<t.end?u.pj(e):u.rj(e);if(this.rowHeaderWidthAutoFit){var n=u.Ag();if(this.mj(),u.Ag()!==n){var i=this.cellWidth;this.Qf(),this.cellWidth!==i&&(u.Rf(),u.Uf(),u.ia(),u.aa(),u.sj())}}}},this.qj=function(){var t=u.divHeader,e=document.createElement("div");e.style.position="absolute",t.appendChild(e),u.nav.resScrollSpace=e,e.setAttribute("unselectable","on");var n=document.createElement("div");n.style.position="relative",n.style.height="100%",n.className=this.p("_rowheader"),e.appendChild(n);var i=this.ij(),e=u.nav.resScrollSpace;e.style.width=i+"px",e.style.top=this.Nf+"px",e.style.height=u.divResScroll.clientHeight+20+"px"},this.rj=function(t){var e=u.divHeader.rows[t];e&&(DayPilot.de(e.cells),u.divHeader.rows[t]=null)},this.mh=function(t){this.rj(t),this.pj(t)},this.pj=function(t){var e=u.divHeader,n=this.divHeader;if(!n.rows[t]){var i=this.rowHeaderCols,o=i?this.rowHeaderCols.length:0,r=this.ij(),l=this.rowlist[t];if(l&&!l.hidden){var s=this.Yi(l);n.rows[t]={},n.rows[t].cells=[];var c=document.createElement("div");c.style.position="absolute",c.style.top=l.top+"px",c.row=l,c.index=t;var d=s.row,h=i?i[0]:this.rowHeaderWidth;c.style.width=h+"px",c.style.border="0px none",d.toolTip&&(c.title=d.toolTip),c.setAttribute("unselectable","on"),c.onmousemove=u.tj,c.onmouseout=u.uj,c.onmouseup=u.vj,c.oncontextmenu=u.wj,c.onclick=u.xj,c.ondblclick=u.yj;var f=document.createElement("div");f.style.width=h+"px",f.setAttribute("unselectable","on"),f.className=this.p("_rowheader"),d.cssClass&&DayPilot.Util.addClass(f,d.cssClass),d.backColor&&(f.style.background=d.backColor),f.style.height=l.height+"px",f.style.overflow="hidden",f.style.position="relative";var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.p("_rowheader_inner"),f.appendChild(p);var v="Disabled"!==this.rowMoveHandling,g=10,m=d.areas||[];v&&!d.moveDisabled&&m.push({v:"Hover",w:g,bottom:0,top:0,left:0,css:u.p("_rowmove_handle"),action:"Move"});var y=u.Dh(l);DayPilot.Areas.attach(f,y,{areas:m,allowed:function(){return!a.row}});var b=document.createElement("div");if(b.style.position="absolute",b.style.bottom="0px",b.style.width="100%",b.style.height="1px",b.className=this.p(E.resourcedivider),f.appendChild(b),function(){if(u.treeEnabled&&!l.isNewRow){var e=l.level*u.treeIndent+u.treeImageMarginLeft;v&&(e+=g);var n=10,i=document.createElement("div");i.style.width="10px",i.style.height="10px",i.style.backgroundRepeat="no-repeat",i.style.position="absolute",i.style.left=e+"px",i.style.top=u.treeImageMarginTop+"px",l.loaded||0!==l.children.length?l.children.length>0?(l.expanded?i.className=u.p("_tree_image_collapse"):i.className=u.p("_tree_image_expand"),i.style.cursor="pointer",i.index=t,i.onclick=function(t){u.Li(this.index),t=t||window.event,t.cancelBubble=!0}):i.className=u.p("_tree_image_no_children"):(i.className=u.p("_tree_image_expand"),i.style.cursor="pointer",i.index=t,i.onclick=function(t){u.zj(this.index),t=t||window.event,t.cancelBubble=!0}),p.appendChild(i)}var o=document.createElement("div");u.treeEnabled&&(o.style.marginLeft=e+n+"px"),o.innerHTML=d.html,c.textDiv=o,c.cellDiv=f,p.appendChild(o)}(),c.appendChild(f),e.appendChild(c),n.rows[t].cells.push(c),l.columns&&0!==l.columns.length)for(var w=h,D=1;D<o;D++){var C=d.columns[D-1]||{},c=document.createElement("div");c.style.position="absolute",c.style.top=l.top+"px",c.style.left=w+"px",e.appendChild(c),n.rows[t].cells.push(c),c.row=l,c.index=t,d.toolTip&&(c.title=d.toolTip),c.setAttribute("unselectable","on"),c.onmousemove=u.tj,c.onmouseout=u.uj,c.onmouseup=u.vj,c.oncontextmenu=u.wj,c.onclick=u.xj,c.ondblclick=u.yj;var f=document.createElement("div"),k=i[D];w+=k;var x=C.backColor||d.backColor;x&&(f.style.backgroundColor=x),f.style.width=k+"px",f.style.height=l.height+"px",f.style.overflow="hidden",f.style.position="relative",f.setAttribute("unselectable","on"),DayPilot.Util.addClass(f,this.p("_rowheader")),DayPilot.Util.addClass(f,this.p("_rowheadercol")),DayPilot.Util.addClass(f,this.p("_rowheadercol"+D)),d.cssClass&&DayPilot.Util.addClass(f,d.cssClass),C.cssClass&&DayPilot.Util.addClass(f,C.cssClass);var p=document.createElement("div");p.setAttribute("unselectable","on"),p.className=this.p("_rowheader_inner"),f.appendChild(p);var b=document.createElement("div");b.style.position="absolute",b.style.bottom="0px",b.style.width="100%",b.style.height="1px",b.className=this.p("_resourcedivider"),f.appendChild(b);var P=document.createElement("div"),_=C.html||"";P.innerHTML=_,c.textDiv=P,c.cellDiv=f,p.appendChild(P),DayPilot.Areas.attach(f,y,{areas:C.areas,allowed:function(){return!a.row}}),c.appendChild(f)}else c.colSpan=o>0?o:1,f.style.width=r+"px"}}},this.wj=function(){var t=this.row;return t.contextMenu&&t.contextMenu.show(u.Dh(t)),!1},this.xj=function(t){if(!k.cancelClick){var e=this.row,n=u.Dh(e,this.index);return e.isNewRow?void u.Jh.edit(e):void u.Gh(n,t.ctrlKey,t.shiftKey,t.metaKey)}},this.yj=function(t){if(u.timeouts.resClick){for(var e in u.timeouts.resClick)window.clearTimeout(u.timeouts.resClick[e]);u.timeouts.resClick=null}var n=this.row,i=u.Dh(n,this.index);if(u.ra()){var o={};if(o.resource=i,o.row=i,o.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowDoubleClick&&(u.onRowDoubleClick(o),o.preventDefault.value))return;switch(u.rowDoubleClickHandling){case"PostBack":u.rowDoubleClickPostBack(i);break;case"CallBack":u.rowDoubleClickCallBack(i);break;case"Select":u.Ih(n,t.ctrlKey,t.shiftKey,t.metaKey);break;case"Edit":u.Jh.edit(n)}"function"==typeof u.onRowDoubleClicked&&u.onRowDoubleClicked(o)}else switch(u.rowDoubleClickHandling){case"PostBack":u.rowDoubleClickPostBack(i);break;case"CallBack":u.rowDoubleClickCallBack(i);break;case"JavaScript":u.onRowDoubleClick(i);break;case"Select":u.Ih(n,t.ctrlKey,t.shiftKey,t.metaKey);break;case"Edit":u.Jh.edit(n)}},this.rowDoubleClickPostBack=function(t,e){var n={};n.resource=t,this.D("RowDoubleClick",n,e)},this.rowDoubleClickCallBack=function(t,e){var n={};n.resource=t,this.F("RowDoubleClick",n,e)},this.Aj=function(t){var e={};e.start=this.cell.start,e.level=this.cell.level,e.end=this.cell.end,e.end||(e.end=new DayPilot.Date(e.start).addMinutes(u.cellDuration)),u.Kh(e)},this.Dh=function(t){return new DayPilot.Row(t,u)},this.Kg=function(t){var e=this.rowlist[t];if(e.events||e.resetEvents(),!e.data){e.data={},e.data.start=new DayPilot.Date(e.start),e.data.startTicks=e.data.start.getTime();var n=this.Ng().getTime()-this.Aa().getTime();e.data.end=M.isResourcesView()?e.data.start.addTime(n):e.data.start.addDays(1),e.data.endTicks=e.data.end.getTime(),e.data.offset=e.start.getTime()-this.Aa().getTime(),e.data.i=t}},this.aa=function(t){if(t?this.events.list=t:this.events.list||(this.events.list=[]),null!=this.events.list&&!DayPilot.isArray(this.events.list))throw"DayPilot.Scheduler.events.list expects an array object";D.prepareRows(!0);for(var e,n=this.events.list,i=n.length,o="function"==typeof this.onBeforeEventRender,a="Resources"===u.viewType,r=0;r<i;r++){var l=n[r];if(l){if(l instanceof DayPilot.Event)throw"DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.";o&&this.Qc(r),"*"===l.resource?e=u.rowlist:a?e=DayPilot.list(D.rowcache[l.resource]).concat(D.rowcache["*"]):"Days"===u.viewType?e=u.rowlist:"Gantt"===u.viewType&&(e=D.rowcache[l.id]);for(var s=0;e&&s<e.length;s++){var c=e[s],d=this.ki(l,c);d&&o&&(d.cache=this.s.events[r])}}}DayPilot.list(u.rowlist).each(function(t){u.Bj(t)}),this._g()},this.Cj=function(t){var e=[],n=[],i=null;if(t&&add){for(var o=t,i=[],a=0;a<o.length;a++){for(var r=o[a],l=!1,s=0;s<this.events.list.length;s++){var c=this.events.list[s];if(c.id===r.id&&c.start.toString()===r.start.toString()&&c.resource===r.resource){var d=u.events.Yg(c);n=n.concat(d),this.events.list[s]=r,l=!0;break}}l||i.push(r)}this.events.list=this.events.list.concat(i)}else t?this.events.list=t:this.events.list||(this.events.list=[]);var h=i||this.events.list;t?this.events.list=t:this.events.list||(this.events.list=[]);var h=this.events.list,f=h.length;if("function"==typeof this.onBeforeEventRender)for(var p=i?this.events.list.length-i.length:0,v=this.events.list.length,a=p;a<v;a++)this.Qc(a);var a,g,s,r,m,y=(this.ji(),!i||void 0===g.events);D.prepareRows(y);for(var s=0;h&&s<f;s++)if(!e[s]){var b=h[s];if(b){var d=[];d="*"===b.resource?u.rowlist:"Days"===u.viewType?u.rowlist:"Gantt"===u.viewType?D.rowcache[b.id]:D.rowcache[b.resource];for(var w=0;d&&w<d.length;w++){var g=d[w],m=this.ki(b,g);m&&("function"==typeof this.onBeforeEventRender&&(m.cache=this.s.events[s+p]),n.push(g.index))}}}for(var a=0;a<this.rowlist.length;a++){var g=this.rowlist[a];this.Bj(g)}return this._g(),DayPilot.ua(n)},this.Dj={};var D=this.Dj;D.rowCache={},D.prepareRows=function(t){D.rowcache={};for(var e=0;e<u.rowlist.length;e++){var n=u.rowlist[e];if(t&&n.resetEvents(),u.Kg(e),n.id){var i=n.id.toString();D.rowcache[i]||(D.rowcache[i]=DayPilot.list()),D.rowcache[i].push(n)}}},D.loadEvent=function(t){},this.ji=function(){var t={};if("Resources"!==u.viewType)return!1;for(var e=0;e<u.rowlist.length;e++){var n=u.rowlist[e],i=n.id;if(t[i])return!0;t[i]=!0}return!1},this.Qc=function(t){var e=this.s.events,n=this.events.list[t],i={};n instanceof DayPilot.Event&&(n=n.data);for(var o in n)i[o]=n[o];if("function"==typeof this.onBeforeEventRender){var a={};a.e=i,a.data=i,this.onBeforeEventRender(a)}e[t]=i},this.Bj=function(t){if(t.lines=[],t.sections=null,!t.isNewRow){if(this.sortDirections?t.events.sort(this.Zc):u.cellStacking||t.events.sort(this.Yc),u.cellStacking)return void _.loadRow(t);var e=u.groupConcurrentEvents;if(e)for(var n=0;n<t.blocks.length;n++)t.blocks[n].clear();DayPilot.list(t.events).each(function(e){if(!e.part.height)return t.eventHeight?void(e.part.height=t.eventHeight):void(e.part.height=M.eventHeight())});for(var i=0;i<t.events.length;i++){var o=t.events[i];t.putIntoLine(o),e&&t.putIntoBlock(o)}for(var a=0,n=0;n<t.lines.length;n++){var r=t.lines[n];r.top=a,a+=(r.height||t.eventHeight)*t.eventStackingLineHeight/100}if(e)for(var i=0;i<t.blocks.length;i++){var l=t.blocks[i];l.lines=[],l.events.sort(this.Zc);for(var s=0;s<l.events.length;s++){var o=l.events[s];l.putIntoLine(o)}l.lines.length<=u.groupConcurrentEventsLimit&&(l.expanded=!0);var c=DayPilot.list(l.events).map(function(t){return t.id()}).some(function(t){return DayPilot.contains(u.Ej,t)});c&&(l.expanded=!0);for(var a=0,n=0;n<l.lines.length;n++){var r=l.lines[n];r.top=a,a+=(r.height||t.eventHeight)*t.eventStackingLineHeight/100}}}},this.$g=function(t){t=DayPilot.ua(t);for(var e=0;e<t.length;e++){var n=t[e];u.Bj(u.rowlist[n])}if(u.cellStacking)_.calculateEventPositions();else for(var e=0;e<t.length;e++){var n=t[e],i=u.rowlist[n];u.Wi(i)}},this.xi=function(){var t="Manual"===u.scale?u.itline[0].start:u.startDate;return DayPilot.list(u.rowlist).some(function(e){return!!e.start&&e.start.getTime()!==new DayPilot.Date(t).getTime()})},this.ki=function(t,e){if(!e.hideEvents){var n=new DayPilot.Date(t.start),i=new DayPilot.Date(t.end);i=u.ye(i);var o=n.ticks,a=i.ticks;if(a<o)return null;var r=null;if("function"==typeof u.onBeforeEventRender){var l=DayPilot.indexOf(u.events.list,t);r=u.s.events[l]}if(r){if(r.hidden)return null}else if(t.hidden)return null;var s=!1;switch(this.viewType){case"Days":s=!(a<=e.data.startTicks||o>=e.data.endTicks)||o===a&&o===e.data.startTicks;break;case"Resources":s=(e.id===t.resource||"*"===e.id||"*"===t.resource)&&(!(a<=e.data.startTicks||o>=e.data.endTicks)||o===a&&o===e.data.startTicks);break;case"Gantt":s=e.id===t.id&&!(a<=e.data.startTicks||o>=e.data.endTicks)}if(!s)return null;var c=new DayPilot.Event(t,u);c.part.dayIndex=e.data.i,c.part.start=e.data.startTicks<o?n:e.data.start,c.part.end=e.data.endTicks>a?i:e.data.end;var d=this.getPixels(c.part.start.addTime(-e.data.offset)),h=this.getPixels(c.part.end.addTime(-e.data.offset));c.part.start===c.part.end&&(h=this.getPixels(c.part.end.addTime(-e.data.offset).addSeconds(1))),r&&r.height?c.part.height=r.height:t.height&&(c.part.height=t.height),c.part.Fj=function(){var t=this.height;if(u.eventVersionsEnabled&&!DayPilot.list(c.data.versions).isEmpty()){var e=c.versions.length;t+=e*u.eventVersionHeight,t+=e*u.eventVersionMargin}return t+u.eventMarginBottom};var f=d.left,p=h.left;if(c.part.startPixels=d,c.part.endPixels=h,f===p){if(d.cut||h.cut)return null;var v=(c.part.start.addTime(-e.data.offset).getTime()+c.part.end.addTime(-e.data.offset).getTime())/2;if(u.getPixels(new DayPilot.Date(Math.floor(v))).cut)return null}c.part.box=M.useBox(a-o);var g=u.eventHeight;if("Milestone"===t.type){var m=t.width||g;c.part.end=c.part.start,c.part.left=f-m/2,c.part.width=m,c.part.barLeft=0,c.part.barWidth=m}else if(c.part.box){var y=d.boxLeft,b=h.boxRight;c.part.left=y,c.part.width=b-y,c.part.barLeft=Math.max(f-c.part.left,0),c.part.barWidth=Math.max(p-f,1)}else c.part.left=f,c.part.width=Math.max(p-f,1),c.part.barLeft=0,c.part.barWidth=Math.max(p-f-1,1);if(u.eventVersionsEnabled&&u.Gj(c,e),"function"==typeof u.onEventFilter&&u.events.Xc){var w={};if(w.filter=u.events.Xc,w.visible=!0,w.e=c,u.onEventFilter(w),!w.visible)return null}return e.events.push(c),c}},this.Gj=function(t,e){t.versions=[];var n=t.data,i=DayPilot.list(n.versions);i.isEmpty()||i.each(function(n){var i=new DayPilot.Date(n.start),o=new DayPilot.Date(n.end),a=u.getPixels(i.addTime(-e.data.offset)),r=u.getPixels(o.addTime(-e.data.offset));i.ticks===o.ticks&&(r=u.getPixels(o.addTime(-e.data.offset).addTime(1)));var l=a.left,s=r.left;if(l===s&&(a.cut||r.cut))return null;var c={};c.left=l,c.continueLeft=i<e.data.start,c.right=s,c.continueRight=o>e.data.end,c.width=s-l,t.versions.push(c)})},this.Yc=function(t,e){if(!(t&&e&&t.start&&e.start))return 0;var n=t.start().ticks-e.start().ticks;return 0!==n?n:e.end().ticks-t.end().ticks},this.Zc=function(t,e){if(!t||!e)return 0;if(!(t.data&&e.data&&t.data.sort&&e.data.sort&&0!==t.data.sort.length&&0!==e.data.sort.length))return u.Yc(t,e);for(var n=0,i=0;0===n&&void 0!==t.data.sort[i]&&void 0!==e.data.sort[i];)n=t.data.sort[i]===e.data.sort[i]?0:"number"==typeof t.data.sort[i]&&"number"==typeof e.data.sort[i]?t.data.sort[i]-e.data.sort[i]:u.$c(t.data.sort[i],e.data.sort[i],u.sortDirections[i]),i++;return n},this.$c=function(t,e,n){var i="desc"!==n,o=i?-1:1,a=-o;if(null===t&&null===e)return 0;if(null===e)return a;if(null===t)return o;var r=[];return r[0]=t,r[1]=e,r.sort(),t===r[0]?o:a},this.Ih=function(t,e,n,i){if(u.ra()){var o=DayPilot.indexOf(u.rowlist,t),a=u.Dh(t,o),r=-1!==DayPilot.indexOf(k.selected,t),l=r?"deselected":"selected",s={};if(s.row=a,s.selected=r,s.ctrl=e,s.shift=n,s.meta=i,s.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowSelect&&(u.onRowSelect(s),s.preventDefault.value))return;var c=n&&!e&&!i;if(n||(k.Hj={row:t,index:o}),c){k.fixRowSelectLast();var d=k.Hj.index,h=o;k.selectRange(d,h)}switch(u.rowSelectHandling){case"PostBack":u.rowSelectPostBack(a,l);break;case"CallBack":u.rowSelectCallBack(a,l);break;case"Notify":!c&&k.select(t,e,n,i),u.rowSelectNotify(a,l);break;case"Update":!c&&k.select(t,e,n,i)}"function"==typeof u.onRowSelected&&(s.selected=-1!==DayPilot.indexOf(k.selected,t),u.onRowSelected(s))}else{k.select(t,e,n);var o=DayPilot.indexOf(u.rowlist,t),a=u.Dh(t,o),r=-1!==DayPilot.indexOf(k.selected,t),l=r?"deselected":"selected";switch(u.rowSelectHandling){case"PostBack":u.rowSelectPostBack(a,l);break;case"CallBack":u.rowSelectCallBack(a,l);break;case"Notify":u.rowSelectNotify(a,l);break;case"JavaScript":u.onRowSelect(a,l)}}},this.rowSelectPostBack=function(t,e,n){var i={};i.resource=t,i.change=e,this.D("RowSelect",i,n)},this.rowSelectCallBack=function(t,e,n){var i={};i.resource=t,i.change=e,this.F("RowSelect",i,n)},this.rowSelectNotify=function(t,e,n){var i={};i.resource=t,i.change=e,this.F("RowSelect",i,n,"Notify")},this.rows={},this.rows.selection={};var C=this.rows.selection;C.get=function(){var t=[];return DayPilot.list(k.selected).each(function(e){t.push(u.Dh(e))}),t},C.clear=function(){k.clearSelection()},C.add=function(t){if(!t||!t.isRow)throw"DayPilot.Scheduler.rows.selection.add(): DayPilot.Row object expected";DayPilot.list(k.selected).some(function(e){return e===t.$.row})||k.selected.push(t.$.row),k.Ij(),C.Jj()},C.remove=function(t){if(!t||!t.isRow)throw"DayPilot.Scheduler.rows.selection.remove(): DayPilot.Row object expected";C.isSelected(t)&&(k.unselect(t.$.row),DayPilot.rfa(k.selected,t.$.row)),C.Jj()},C.isSelected=function(t){if(!t||!t.isRow)throw"DayPilot.Scheduler.rows.selection.isSelected(): DayPilot.Row object expected";return-1!==DayPilot.indexOf(k.selected,t.$.row)},C.Jj=function(){u.selectedRows=DayPilot.list(k.selected).map(function(t){return t.id})},this.rows.all=function(){for(var t=[],e=0;e<u.rowlist.length;e++){var n=u.Dh(u.rowlist[e]);t.push(n)}return v(t)},this.rows.visible=function(){for(var t=[],e=0;e<u.rowlist.length;e++){var n=u.rowlist[e];if(!n.hidden){var n=u.Dh(u.rowlist[e]);t.push(n)}}return v(t)},this.rows.each=function(t){u.rows.all().each(t)},this.rows.filter=function(t){u.rows.Xc=t,u.z&&u.ad({immediateEvents:!0})},this.rows.find=function(t,e){var n=DayPilot.list(D.rowcache[t]),i=null;return i="string"==typeof e?n.find(function(t){return e===t.start.toString()}):n.first(),i?new DayPilot.Row(i,u):null},this.rows.load=function(t){DayPilot.ajax({method:"POST",url:t,success:function(t){var e=t.request,n=DayPilot.Util.parseJSON(e.responseText);DayPilot.isArray(n)&&(u.resources=n,u.z&&u.update())}})},this.rows.expand=function(t){for(var e=[],n=t||1,i=0;i<u.rowlist.length;i++){var o=u.rowlist[i],a=-1===n;o.level<n&&(a=!0),a&&!o.expanded&&o.children&&o.children.length>0&&e.push(o.index)}if(0!==e.length)if(1===e.length)u.Li(e[0]);else{for(var i=0;i<e.length;i++){var r=e[i],l=u.rowlist[r].resource;l.expanded=!0}u.ad()}},this.rows.expandAll=function(){u.rows.expand(-1)},this.rows.collapseAll=function(){u.rowlist.each(function(t){t.resource.expanded=!1}),u.ad()},this.rows.headerHide=function(){u.Kj=!0,u.Lj(),u.nj(),u.Eg()},this.rows.headerShow=function(){u.Kj=!1,u.Lj(),u.nj(),u.Eg()},this.rows.headerToggle=function(){u.Kj?u.rows.headerShow():u.rows.headerHide()},this.rows.edit=function(t){k.edit(t.$.row)},this.rows.remove=function(t){var e=t.$.row.resource,n=x.findParentArray(e);if(!n)throw"Cannot find source node parent";var i=DayPilot.indexOf(n,e);n.splice(i,1),u.update()},this.rows.update=function(t){if(!(t instanceof DayPilot.Row))throw new DayPilot.Exception("DayPilot.Scheduler.rows.update() expects a DayPilot.Row object.");var e=t.index,n=u.rowlist[e],i=t.data,o=t.parent()?t.parent().$.row:null,a=u.Mj(i),t=u.Nj(a,o);t.hidden=n.hidden,t.level=n.level,t.children=n.children,t.index=e,t.top=n.top,t.height=n.height,u.rowlist[e]=t,t.resetEvents(),u.Kg(e),u.Oj(t),u.Bj(t),u.mh(e),u.Yf(),u._f()},this.Oj=function(t){for(var e=u.events.list,n=e.length,i="function"==typeof u.onBeforeEventRender,o=0;o<n;o++){var a=e[o];if(a){if(a instanceof DayPilot.Event)throw new DayPilot.Exception("DayPilot.Scheduler: DayPilot.Event object detected in events.list array. Use raw event data instead.");if("Days"===u.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Days'.");if("Gantt"===u.viewType)throw new DayPilot.Exception(".rows.update() not supported for viewType = 'Gantt'.");if("*"===a.resource||"*"===t.id||a.resource===t.id){i&&this.Qc(o);var r=this.ki(a,t);r&&i&&(r.cache=this.s.events[o])}}}},this.Pj=function(){var t=a.source,e=a.target,n=a.position;if(k.resetMoving(),u.ra()){var i={};if(i.source=u.Dh(t),i.target=u.Dh(e),i.position=n,i.preventDefault=function(){this.preventDefault.value=!0},"function"==typeof u.onRowMove&&(u.onRowMove(i),i.preventDefault.value))return;switch(u.rowMoveHandling){case"Update":k.move(i);break;case"CallBack":u.rowMoveCallBack(i.source,i.target,i.position);break;case"PostBack":u.rowMovePostBack(i.source,i.target,i.position);break;case"Notify":k.move(i),u.rowMoveNotify(i.source,i.target,i.position)}"function"==typeof u.onRowMoved&&u.onRowMoved(i)}else{var t=u.Dh(t),e=u.Dh(e),n=n;switch(u.rowMoveHandling){case"CallBack":u.rowMoveCallBack(t,e,n);break;case"PostBack":u.rowMovePostBack(t,e,n);break;case"JavaScript":u.onRowMove(t,e,n)}}},this.eg=function(t){var e=DayPilot.list(t);k.selected=[],e.isEmpty()||(u.Ff=!1,u._()),e.each(function(t){var e=u.mg(t);e&&k.selected.push(e)}),k.Ij()},this.Jh={};var k=this.Jh;k.edit=function(t){k.Qj(t)},k.rowSelectLastSetDefault=function(){k.Hj={row:u.rowlist[0],index:0}},k.rowSelectSetLast=function(t){var e=DayPilot.indexOf(u.rowlist,t);if(-1===e)throw"DayPilot.Scheduler: Row not found when selecting a range";k.Hj={row:t,index:e}},k.fixRowSelectLast=function(){k.Hj||k.rowSelectLastSetDefault();var t=DayPilot.indexOf(u.rowlist,k.Hj.row);if(!(t>-1)){var e=u.mg(k.Hj.row.id);e?(t=DayPilot.indexOf(u.rowlist,e),k.Hj={row:e,index:t}):k.rowSelectLastSetDefault()}},k.createOverlay=function(t){var e=u.ij(),n=u.p("_rowmove_source"),i=DayPilot.Util.div(u.divHeader,0,t.top,e,t.height);i.className=n,t.moveOverlay=i},k.deleteOverlay=function(t){DayPilot.de(t.moveOverlay),t.moveOverlay=null},k.Qj=function(t){var e=k.Rj(t),n=e.cells[0];if(n.input)return n.input;DayPilot.Areas.disable(n.firstChild);var i=n.clientWidth;t.isNewRow&&(i=u.Ag());var a=document.createElement("textarea");a.style.position="absolute",a.style.top="0px",a.style.left="0px",a.style.width=i+"px",a.style.height=t.height+"px",a.style.border="0px none",a.style.overflow="hidden",a.style.boxSizing="border-box",a.style.resize="none",a.style.paddingLeft=t.level*u.treeIndent+"px";var r=n.textDiv;a.style.fontFamily=DayPilot.gs(r,"fontFamily")||DayPilot.gs(r,"font-family"),a.style.fontSize=DayPilot.gs(r,"fontSize")||DayPilot.gs(r,"font-size"),a.value=t.name||"",n.firstChild.appendChild(a),n.input=a;var l=function(){try{n.input.parentNode.removeChild(n.input)}catch(t){o()}n.input=null};return a.focus(),a.onblur=function(){a.onblur=null;var e=a.value;l(),DayPilot.Areas.enable(n.firstChild),u.Fh(t,e,a.canceled)},a.onkeydown=function(t){var e=window.event?event.keyCode:t.keyCode;return 27===e&&(a.canceled=!0,l()),13!==e||(a.onblur(),!1)},a.setSelectionRange?a.setSelectionRange(0,9999):a.select(),a},k.selected=[],k.select=function(t,e,n,i){var o=-1!==DayPilot.indexOf(k.selected,t);if(e||i){if(o)return k.unselect(t),void DayPilot.rfa(k.selected,t)}else o=!1,k.clearSelection();k.Sj(t),o||k.selected.push(t),C.Jj()},k.selectRange=function(t,e){k.clearSelection();for(var n=Math.min(t,e),i=Math.max(t,e),o=n;o<=i;o++){var a=u.rowlist[o];k.Sj(a),k.selected.push(a)}C.Jj()},k.Ij=function(){for(var t=0;t<k.selected.length;t++){var e=k.selected[t];k.Sj(e)}},k.Sj=function(t){var e=DayPilot.indexOf(u.rowlist,t);if(-1===e){var n=u.mg(t.id);if(!n)return;e=n.index}for(var i=u.p("_cell_selected"),o=[],a=0;a<u.itline.length;a++){var r={};r.x=a,r.y=e,o.push(r)}u.cells.findXy(o).addClass(i);for(var i=u.p("_rowheader_selected"),l=u.divHeader,e=0;e<l.rows.length;e++){var s=l.rows[e];if(s&&s.cells[0]&&s.cells[0].row===t)for(var c=0;c<s.cells.length;c++){var r=s.cells[c],d=r.firstChild;DayPilot.Util.addClass(d,i)}}},k.Qh=function(){var t=[];if(!k.selected)return t;for(var e=0;e<k.selected.length;e++){var n=k.selected[e],i=DayPilot.indexOf(u.rowlist,n),o=u.Dh(n,i);t.push(o.toJSON())}return t},k.unselect=function(t){for(var e=u.p("_cell_selected"),n=DayPilot.indexOf(u.rowlist,t),i=[],o=0;o<u.itline.length;o++){var a={};a.x=o,a.y=n,i.push(a)}u.cells.findXy(i).removeClass(e);var e=u.p("_rowheader_selected"),r=(u.divHeader,k.Rj(t));if(r)for(var l=0;l<r.cells.length;l++){var a=r.cells[l],s=a.firstChild;DayPilot.Util.removeClass(s,e)}},k.Hj=null,k.clearSelection=function(){for(var t=0;t<k.selected.length;t++){var e=k.selected[t];k.unselect(e)}k.selected=[],u.selectedRows=[]},k.Rj=function(t){for(var e=u.divHeader,n=0;n<e.rows.length;n++){var i=e.rows[n];if(i&&i.cells[0]&&i.cells[0].row===t)return i}return null},k.selectById=function(t){var e=u.mg(t);e&&k.select(e)},k.startMoving=function(t){var e=DayPilot.Global.rowmoving;e.row=t,e.cursor=u.divResScroll.style.cursor,u.divResScroll.style.cursor="move",k.createOverlay(t)},k.resetMoving=function(){u.divResScroll.style.cursor=a.cursor,DayPilot.de(a.div),k.deleteOverlay(a.row),DayPilot.Global.rowmoving=a={}},k.move=function(t){var e=t.source.$.row.resource,n=t.target.$.row.resource,i=t.position;if("forbidden"!==i){var o=x.findParentArray(e);if(!o)throw"Cannot find source node parent";var a=DayPilot.indexOf(o,e);o.splice(a,1);var r=x.findParentArray(n);if(!r)throw"Cannot find target node parent";var l=DayPilot.indexOf(r,n);switch(i){case"before":r.splice(l,0,e);break;case"after":r.splice(l+1,0,e);break;case"child":n.children||(n.children=[],n.expanded=!0),n.children.push(e)}u.update()}};var x={};x.findParentArray=function(t){return x.findInArray(u.resources,t)},x.findInArray=function(t,e){if(-1!==DayPilot.indexOf(t,e))return t;for(var n=0;n<t.length;n++){var i=t[n];if(i.children&&i.children.length>0){var o=x.findInArray(i.children,e);if(o)return o}}return null},this.Sf=function(){this.rowlist=DayPilot.list();var t=this.resources,e=this.q();e||("Gantt"===this.viewType?t=this.Tj():"Days"===this.viewType&&(t=this.Uj())),!e||"Days"!==this.viewType||t&&0!==t.length||(t=this.Uj());var n={};if(n.i=0,null!=t&&!DayPilot.isArray(t))throw"DayPilot.Scheduler.resources expects an array object";this.Vj(t,n,0,null,this.treeEnabled,!1),"Disabled"!==u.rowCreateHandling&&this.Wj()},this.Wj=function(){var t={};t.id="NEW",t.isNewRow=!0,t.html="",t.loaded=!0,t.start=this.startDate,t.children=[],t.height=u.eventHeight,t.marginBottom=0,t.marginTop=0,t.getHeight=function(){return u.rowCreateHeight?u.rowCreateHeight:u.eventHeight+u.rowMarginBottom+u.rowMarginTop},t.putIntoLine=function(){},t.resetEvents=function(){},this.rowlist.push(t)},this.Tj=function(){var t=[];if(this.Hf&&this.resources)for(var e=0;e<this.resources.length;e++)t.push(this.resources[e]);if(this.events.list){for(var e=0;e<this.events.list.length;e++){var n=this.events.list[e],i={};i.id=n.id,i.name=n.text,t.push(i)}return t}},this.Uj=function(){for(var t=[],e=u.Aa(),n=this.qc.locale(),i=0;i<this.days;i++){var o=e.addDays(i),a={};a.name=o.toString(n.datePattern,n),a.start=o,t.push(a)}return t},this.Aa=function(){return this.itline&&this.itline.length>0?this.itline[0].start:this.startDate},this.Ng=function(){if(this.itline&&this.itline.length>0){var t=u.itline[this.itline.length-1].end;return"Days"!==u.viewType?t:t.addDays(u.days-1)}return u.startDate.addDays(u.days)},this.Xj={},this.Xj,this.visibleStart=function(){return this.Aa()},this.visibleEnd=function(){return this.Ng()},this.Nj=function(t,e){var n={};if(n.backColor=t.backColor,n.cssClass=t.cssClass,n.expanded=t.expanded,n.name=t.name,n.html=t.html?t.html:n.name,n.eventHeight=void 0!==t.eventHeight?t.eventHeight:u.qc.eventHeight(),n.minHeight=void 0!==t.minHeight?t.minHeight:u.rowMinHeight,n.marginBottom=void 0!==t.marginBottom?t.marginBottom:u.rowMarginBottom,n.marginTop=void 0!==t.marginTop?t.marginTop:u.rowMarginTop,n.eventStackingLineHeight=void 0!==t.eventStackingLineHeight?t.eventStackingLineHeight:u.eventStackingLineHeight,n.loaded=!t.dynamicChildren,n.id=t.id||t.value,n.toolTip=t.toolTip,n.children=[],n.columns=[],n.start=t.start?new DayPilot.Date(t.start):this.Aa(),n.isParent=t.isParent,n.contextMenu=t.contextMenu?DayPilot.Util.evalVariable(t.contextMenu):this.contextMenuResource,n.areas=t.areas,n.moveDisabled=t.moveDisabled,n.bubbleHtml=t.bubbleHtml,n.tags=t.tags,n.task=t.task,n.swimlane=t.swimlane,n.hideEvents=t.hideEvents,n.height=n.eventHeight,n.resource=t.Yj,n.lines=[],n.blocks=[],n.isRow=!0,n.getHeight=function(){var t=0;if(u.groupConcurrentEvents)for(var e=0;e<this.blocks.length;e++){var n=this.blocks[e];t=Math.max(t,n.getHeight())}else if(this.lines.length>0){var i=this.lines.length-1,o=this.lines[i],a=o.height||this.eventHeight,r=o.top||0;t=r+a}return 0===t&&(t=this.eventHeight),t>this.minHeight?t:this.minHeight},n.resetEvents=function(){var t=this;t.events=[],t.events.forRange=function(e,n){for(var i=DayPilot.list(),o=0;o<t.events.length;o++){var a=t.events[o];DayPilot.Util.overlaps(a.start(),a.end(),e,n)&&i.push(a)}return i}},n.calculateUtilization=function(){function t(){for(var t=[],e=0;e<n.events.length;e++){var i=n.events[e];DayPilot.contains(t,i.start().toString())||t.push(i.start().toString()),DayPilot.contains(t,i.rawend().toString())||t.push(i.rawend().toString())}return t.sort(),t}function e(){for(var e=t(),i=[],o={start:n.data.start},a=0;a<e.length;a++)o.end=new DayPilot.Date(e[a]),i.push(o),o={start:new DayPilot.Date(e[a])};return o.end=n.data.end,i.push(o),i.forRange=function(t,e){for(var n=DayPilot.list(),i=0;i<this.length;i++){var o=this[i];DayPilot.Util.overlaps(t,e,o.start,o.end)&&n.push(o)}return n.maxSum=function(t){for(var e=0,n=0;n<this.length;n++){var i=this[n],o=i.sum(t);o>e&&(e=o)}return e},n},i}for(var n=this,i=n.sections=e(),o=0;o<i.length;o++){var a=i[o];a.events=[];for(var r=0;r<n.events.length;r++){var l=n.events[r];DayPilot.Util.overlaps(a.start,a.end,l.start(),l.rawend())&&a.events.push(l)}a.sum=function(t){for(var e=0,n=0;n<this.events.length;n++){var i=this.events[n],o=0;void 0===t?o=1:i.tag(t)?o=i.tag(t):i.data[t]&&(o=i.data[t]),"number"==typeof o&&(e+=o)}return e}}},n.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var n=this.lines[e];if(n.isFree(t.part.left,t.part.width))return n.add(t),e}var n=[];return n.height=0,n.add=function(t){this.push(t);var e=t.part.Fj();e>n.height&&(n.height=e)},n.isFree=function(t,e,n){for(var i=t+e-1,o=this.length,a=0;a<o;a++){var r=this[a];if(!(i<r.part.left||t>r.part.left+r.part.width-1)){if(DayPilot.contains(n,r.data))continue;return!1}}return!0},n.add(t),this.lines.push(n),this.lines.length-1},n.putIntoBlock=function(t){for(var e=0;e<this.blocks.length;e++){var n=this.blocks[e];if(-1!==DayPilot.indexOf(n.events,t))return;if(n.overlapsWith(t.part.left,t.part.width))return n.events.push(t),t.part.block=n,n.min=Math.min(n.min,t.part.left),n.max=Math.max(n.max,t.part.left+t.part.width),e}var n={};n.expanded=!1,n.row=this,n.events=[],n.lines=[],n.putIntoLine=function(t){for(var e=0;e<this.lines.length;e++){var n=this.lines[e];if(n.isFree(t.part.left,t.part.width))return n.add(t),e}var n=[];n.height=0,n.add=function(t){this.push(t),t.part.height>n.height&&(n.height=t.part.height)},n.isFree=function(t,e){for(var n=t+e-1,i=this.length,o=0;o<i;o++){var a=this[o];if(!(n<a.part.left||t>a.part.left+a.part.width-1))return!1}return!0},n.add(t),this.lines.push(n)},n.overlapsWith=function(t,e){return!(t+e-1<this.min||t>this.max-1)},n.getHeight=function(){if(!this.expanded)return u.eventHeight;if(this.lines.length>0){var t=this.lines.length-1,e=this.lines[t],n=e.height||u.eventHeight;return(e.top||0)+n}return u.eventHeight},n.clear=function(){n.events=[],n.min=null,n.max=null},n.events.push(t),t.part.block=n,n.min=t.part.left,n.max=t.part.left+t.part.width,this.blocks.push(n)},n.Zj=!1,n.$j=e,n._j=function(){this.hidden=!this.ak(),this.Zj=!1,this.$j&&this.$j._j()},n.ak=function(){return!this.$j||this.$j.ak()&&this.$j.expanded},t.columns)for(var i=0;i<t.columns.length;i++)n.columns.push(t.columns[i]);return n},this.ih=function(){u.rowlist.each(function(t){if("function"==typeof u.onRowFilter&&u.rows.Xc){var e=t.$j,n={};n.visible=!0,n.row=u.Dh(t),n.filter=u.rows.Xc,u.onRowFilter(n),t.Zj=!n.visible,n.visible?e&&e._j():t.hidden=!0}})},this.Vj=function(t,e,n,i,o,a){if(t)for(var r=0;r<t.length;r++)if(t[r]){var l={};if(l.level=n,l.hidden=a,l.index=e.i,!t[r].hidden){var s=this.Mj(t[r],l),c=u.Nj(s,i);if(a&&(c.hidden=!0),c.level=n,c.index=e.i,null!==i&&i.children.push(e.i),this.rowlist.push(c),e.i++,o&&s.children&&s.children.length){var d=a||!c.expanded;this.Vj(s.children,e,n+1,c,!0,d)}}}},this.Yi=function(t){if(t.isNewRow)return{row:{cssClass:u.p("_row_new"),moveDisabled:!0,html:u.rowCreateHtml||""}};var e={};if(e.row=this.Dh(t),DayPilot.Util.copyProps(t,e.row,["html","backColor","cssClass","toolTip","contextMenu","moveDisabled"]),e.row.columns=DayPilot.Util.createArrayCopy(t.columns,["html","backColor","cssClass","areas"]),e.row.areas=DayPilot.Util.createArrayCopy(t.areas),void 0===e.row.columns&&u.rowHeaderColumns&&u.rowHeaderColumns.length>0){r.columns=[];for(var n=0;n<u.rowHeaderColumns.length;n++)r.columns.push({})}return"function"==typeof this.onBeforeRowHeaderRender&&this.onBeforeRowHeaderRender(e),e},this.Mj=function(t,e){var n=this.bk(t,e);if("function"==typeof this.onBeforeResHeaderRender){var i={};i.resource=n,this.onBeforeResHeaderRender(i)}return n},this.bk=function(t,e){var n={};for(var i in e)n[i]=e[i];for(var i in t)n[i]=t[i];if(void 0===t.html&&(n.html=t.name),void 0===n.columns&&u.rowHeaderColumns&&u.rowHeaderColumns.length>0){n.columns=[];for(var o=0;o<u.rowHeaderColumns.length;o++)n.columns.push({})}return n.Yj=t,n},this.ck=function(){this.hd(),this.nav.top.dp=this,this.nav.top.innerHTML="",DayPilot.Util.addClass(this.nav.top,this.p("_main")),DayPilot.browser.ie9&&DayPilot.Util.addClass(this.nav.top,this.p("_browser_ie9")),DayPilot.browser.ie8&&DayPilot.Util.addClass(this.nav.top,this.p("_browser_ie8")),this.nav.top.style.MozUserSelect="none",this.nav.top.style.KhtmlUserSelect="none",this.nav.top.style.webkitUserSelect="none",this.nav.top.style.WebkitTapHighlightColor="rgba(0,0,0,0)",this.nav.top.style.WebkitTouchCallout="none",this.width&&(this.nav.top.style.width=this.width),"Parent100Pct"===this.heightSpec&&(this.nav.top.style.height="100%"),this.nav.top.style.lineHeight="1.2",this.nav.top.style.position="relative",this.visible||(this.nav.top.style.display="none"),this.nav.top.onmousemove=this.zf,this.nav.top.ontouchstart=A.onMainTouchStart,this.nav.top.ontouchmove=A.onMainTouchMove,this.nav.top.ontouchend=A.onMainTouchEnd,this.hideUntilInit&&this.backendUrl&&(this.nav.top.style.visibility="hidden");var t=this.Ag();if("DivBased"===this.qc.layout()){var e=document.createElement("div");e.style.position="absolute",e.style.left="0px",e.style.width=t+"px",e.appendChild(this.sc());var n=document.createElement("div");n.style.height="1px",n.className=this.p("_divider_horizontal"),e.appendChild(n),this.nav.dh1=n,e.appendChild(this.dk()),this.nav.left=e;var i=document.createElement("div");i.style.position="absolute",i.style.left=t+"px",i.style.width=M.splitterWidth()+"px",i.style.height=this.zg()+this.Vb()+"px",i.className=this.p("_divider")+" "+this.p("_splitter"),i.setAttribute("unselectable","on"),this.nav.divider=i,this.rowHeaderScrolling&&this.ek();var o=document.createElement("div");o.style.marginLeft=t+M.splitterWidth()+"px",o.style.marginRight="1px",o.style.position="relative",o.appendChild(this.fk()),this.nav.right=o;var a=document.createElement("div");a.style.height="1px",a.style.position="absolute",a.style.top=this.zg()+"px",a.style.width="100%",a.className=this.p("_divider_horizontal"),o.appendChild(a),this.nav.dh2=a,o.appendChild(this.gk());var r=document.createElement("div");r.style.clear="left",this.nav.top.appendChild(e),this.nav.top.appendChild(i),this.nav.top.appendChild(o),this.nav.top.appendChild(r)}else{var l=document.createElement("table");l.cellPadding=0,l.cellSpacing=0,l.border=0,l.style.position="absolute";var s=l.insertRow(-1);s.insertCell(-1).appendChild(this.sc()),s.insertCell(-1).appendChild(this.fk());var c=l.insertRow(-1);c.insertCell(-1).appendChild(this.dk()),c.insertCell(-1).appendChild(this.gk()),this.nav.top.appendChild(l)}if(this.qe=document.createElement("div"),this.qe.style.display="none",this.nav.top.appendChild(this.qe),this.Ph()){var u=document.createElement("input");u.type="hidden",u.id=this.id+"_state",u.name=this.id+"_state",this.nav.state=u,this.nav.top.appendChild(u)}var d=document.createElement("div");d.style.position="absolute",d.style.left=this.Ag()+M.splitterWidth()+5+"px",d.style.top=this.zg()+5+"px",d.style.display="none",d.innerHTML=this.loadingLabelText,DayPilot.Util.addClass(d,this.p("_loading")),this.nav.loading=d,this.nav.top.appendChild(d),this.hk()},this.zf=function(t){if(a.row){var e=DayPilot.mo3(u.divHeader,t),n=u.Xh(e.y),o=u.rowlist[n.i];if(o.isNewRow)return;var r=e.y-n.top,l=n.bottom-n.top,s=l/3,c=2*s,d=l/2,h="before",f=o.children&&o.children.length>0,p=function(){for(var t=n.i,e=o.level;t>=0;){var i=u.rowlist[t];if(t--,!(e<=i.level)){if(i===a.row)return!0;if(0===i.level)return!1;e=i.level}}return!1}(),v=u.treeEnabled;if(h=p||n.i===a.row.index?"forbidden":v?f?r<d?"before":"child":r<s?"before":r<c?"child":"after":f?"before":r<d?"before":"after",a.row.moveDisabled&&(h="forbidden"),a.calendar=u,a.source=a.row,a.target=u.rowlist[n.i],a.position=h,function(){return!a.last||a.last.target!==a.target||a.last.position!==a.position}()){if("function"==typeof u.onRowMoving){var g={};g.source=u.Dh(a.source),g.target=u.Dh(a.target),g.position=h,u.onRowMoving(g),a.position=g.position}}else a.last&&(a.position=a.last.position);a.last={},a.last.target=a.target,a.last.position=a.position,function(){a.div&&DayPilot.de(a.div);var t=n.top,e=a.position,i=u.rowlist[n.i],o=i.level,r=o*u.treeIndent;switch(e){case"before":t=n.top;break;case"child":t=n.top+d;break;case"after":t=n.bottom;break;case"forbidden":t=n.top+d}var l=u.ij()-r,s=document.createElement("div");s.style.position="absolute",s.style.left=r+"px",s.style.width=l+"px",s.style.top=t+"px",s.className=u.p("_rowmove_position_"+e),a.div=s,u.divResScroll.appendChild(s)}()}else if(i.splitting){var m=DayPilot.mo3(u.nav.top,t).x,y=u.ij(),b=Math.min(y,m-1);u.rowHeaderWidth=b,u.Kj=!1,u.Lj()}},this.ba=function(){var t=this.zg();this.nav.corner.style.height=t+"px",this.divTimeScroll.style.height=t+"px",this.divNorth.style.height=t+"px",this.nav.dh1&&this.nav.dh2&&(this.nav.dh1.style.top=t+"px",this.nav.dh2.style.top=t+"px"),this.nav.loading.style.top=t+5+"px",this.nav.scroll.style.top=t+1+"px"},this.Ag=function(){if(this.Kj)return 0;return this.rowHeaderScrolling?this.rowHeaderWidth:this.ij()},this.ek=function(){var t=this.nav.divider;t.style.cursor="col-resize",t.setAttribute("unselectable","on"),t.onmousedown=function(t){var e=i.splitting={};return e.cursor=u.nav.top.style.cursor,e.cleanup=function(){if(u.nav.top.style.cursor=e.cursor,"function"==typeof u.onRowHeaderResized){var t={};u.onRowHeaderResized(t)}},u.nav.top.style.cursor="col-resize",!1}},this.Lj=function(){var t=M.splitterWidth(),e=this.Ag();if(this.nav.corner.style.width=e+"px",this.divCorner.style.width=e+"px",this.divResScroll.style.width=e+"px","DivBased"===M.layout()&&(this.nav.left.style.width=e+"px",this.nav.divider.style.left=e-t+"px",this.nav.right.style.marginLeft=e+"px"),this.nav.message&&(this.nav.message.style.left=e+t+"px"),this.nav.loading&&(this.nav.loading.style.left=e+t+5+"px"),this.nav.hideIcon){var n=this.nav.hideIcon,i=u.p("_header_icon_show"),o=u.p("_header_icon_hide");n.style.left=e-1+"px",u.Kj?(DayPilot.Util.removeClass(n,o),DayPilot.Util.addClass(n,i)):(DayPilot.Util.removeClass(n,i),DayPilot.Util.addClass(n,o))}},this.ik=function(){this.jj();var t=this.ij(),e=function(t,e,n){if(t&&t.style){var i=t.firstChild;u.oj?(t.style.width=e+"px",i.style.width=e+"px","number"==typeof n&&(t.style.left=n+"px")):i.style.width=e+"px"}},n=this.divHeader;n.style.width=t+"px";for(var i=u.kj(),o=i.start;o<i.end;o++){var a=n.rows[o];if(a){var r=a.cells[0];if(r.colSpan>1){var r=a.cells[0];e(r,t)}else if(this.rowHeaderCols)for(var l=0,s=0;s<a.cells.length;s++){var c=this.rowHeaderCols[s],r=a.cells[s];e(r,c,l),l+=c}else{var c=this.rowHeaderWidth,r=a.cells[0];e(r,c)}}}u.nav.resScrollSpace&&(u.nav.resScrollSpace.style.width=t+"px"),this.S()},this.eh=function(){this.Lj(),this.ik()},this.jk=function(){var t=u.nav.corner,e=this.rowHeaderColumns,n=document.createElement("div");n.style.position="absolute",n.style.bottom="0px",n.style.left="0px",n.style.width="100%",n.style.height=M.headerHeight()+"px",n.style.overflow="hidden",u.nav.columnScroll=n;var i=document.createElement("div");i.style.position="absolute",i.style.bottom="0px",i.style.left="0px",i.style.width="5000px",i.style.height=M.headerHeight()+"px",i.style.overflow="hidden",i.className=this.p("_columnheader"),n.appendChild(i);var o=document.createElement("div");o.style.position="absolute",o.style.top="0px",o.style.bottom="0px",o.style.left="0px",o.style.right="0px",o.className=this.p("_columnheader_inner"),i.appendChild(o),u._h&&(u._h.dispose(),u._h=null);var a=new DayPilot.Splitter(o);a.widths=DayPilot.Util.propArray(e,"width",u.rowHeaderColumnDefaultWidth),a.height=M.headerHeight(),a.css.title=this.p("_columnheader_cell"),a.css.titleInner=this.p("_columnheader_cell_inner"),a.css.splitter=this.p("_columnheader_splitter"),a.titles=DayPilot.Util.propArray(e,"title"),a.updating=function(t){DayPilot.Util.updatePropsFromArray(u.rowHeaderColumns,"width",this.widths),u.eh(),u.cellWidthSpec},a.updated=function(t){if(u.nj(),u.ra()){if("function"==typeof u.onRowHeaderColumnResized){var e={};e.column=u.rowHeaderColumns[t.index],u.onRowHeaderColumnResized(e)}}else switch(u.rowHeaderColumnResizedHandling){case"CallBack":case"PostBack":break;case"JavaScript":if("function"==typeof u.onRowHeaderColumnResized){var e={};e.column=u.rowHeaderColumns[t.index],u.onRowHeaderColumnResized(e)}}},a.color="#000000",a.opacity=30,a.init(),t.appendChild(n),this._h=a},this.jh=function(){var t=this.nav.corner;t.innerHTML="",t.className=this.p("_corner");var e=document.createElement("div");if(e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.right="0px",e.style.bottom="0px",e.className=this.p("_corner_inner"),this.divCorner=e,e.innerHTML="&nbsp;",this.rowHeaderColumns&&this.rowHeaderColumns.length>0){var n=document.createElement("div");n.style.position="absolute",n.style.top="0px",n.style.left="0px",n.style.right="0px",n.style.bottom=M.headerHeight()+1+"px",t.appendChild(n);var i=document.createElement("div");i.style.position="absolute",i.style.left="0px",i.style.right="0px",i.style.height="1px",i.style.bottom=M.headerHeight()+"px",i.className=this.p("_divider"),t.appendChild(i),n.appendChild(e),this.jk()}else t.appendChild(e);var o=document.createElement("div");o.style.position="absolute",o.style.padding="2px",o.style.top="0px",o.style.left="1px",o.style.backgroundColor="#FF6600",o.style.color="white",o.innerHTML="DEMO",DayPilot.Util.isNullOrUndefined(void 0)&&t.appendChild(o)},this.hk=function(){if(this.rowHeaderHideIconEnabled){var t=3,e=this.Ag()+M.splitterWidth()-1,n=10,i=20,o=this.zg()+t,a=DayPilot.Util.div(this.nav.top,e,o,n,i);a.style.cursor="pointer",a.className=u.p("_header_icon"),DayPilot.Util.addClass(a,u.p("_header_icon_hide")),a.onclick=function(){u.rows.headerToggle()},this.nav.hideIcon=a}},this.kh=function(){u.nav.hideIcon&&(u.rowlist.length>0?u.nav.hideIcon.style.display="":u.nav.hideIcon.style.display="none")},this.sc=function(){var t=this.Ag(),e=document.createElement("div");return u.nav.corner=e,e.style.width=t+"px",e.style.height=this.zg()+"px",e.style.overflow="hidden",e.style.position="relative",e.setAttribute("unselectable","on"),e.onmousemove=function(){u.R()},e.oncontextmenu=function(){return!1},this.jh(),e},this.zg=function(){if(u.timeHeaders){var t=H.timeHeader(u.timeHeaders.length-1);return t.top+t.height}return this.timeHeader?u.timeHeader.length*M.headerHeight():0},this.kk=null,this.lk=function(){return u.scrollStep||u.eventHeight},this.dk=function(){var t=document.createElement("div");t.style.width=this.Ag()+"px",t.style.height=this.Vb()+"px",t.style.overflow="hidden",t.style.position="relative",t.className=u.p("_rowheader_scroll");var e=u.lk(),n=-1!==navigator.userAgent.indexOf("Mobile");return n&&(t.style.overflowY="auto"),t.onmousemove=function(){u.R()},t.onscroll=function(){if(u.nav.columnScroll&&u.rowHeaderScrolling&&(u.nav.columnScroll.scrollLeft=t.scrollLeft),u.kk&&clearTimeout(u.kk),n){var e=u.Pi()-u.nav.scroll.offsetHeight;t.scrollTop=Math.min(t.scrollTop,e),u.nav.scroll.scrollTop=t.scrollTop}else u.kk=setTimeout(function(){u.nav.scroll.scrollTop=t.scrollTop},500)},t.addEventListener("wheel",function(n){var i;i=u.overrideWheelScrolling?n.deltaY>0?e:-e:n.deltaY,u.nav.scroll.scrollTop=t.scrollTop+i,n.preventDefault&&n.preventDefault()},!1),t.oncontextmenu=function(){return!1},t.onmouseenter=function(){u.rowHeaderScrolling&&(t.style.overflowX="auto")},t.onmouseleave=function(){u.rowHeaderScrolling&&(t.style.overflowX="hidden")},this.divResScroll=t,this.Dg=t,t},this.mk=function(t){if("TableBased"===M.layout()){var e=parseInt(this.width,10),n=isNaN(e)||-1!==this.width.indexOf("%"),i=(/MSIE/i.test(navigator.userAgent),this.ij());n?this.nav.top&&this.nav.top.offsetWidth>0&&(t.style.width=this.nav.top.offsetWidth-6-i+"px"):t.style.width=e-i+"px"}},this.ee=function(t){u.Wf(),u.fg()},this.Wf=function(){"TableBased"===u.qc.layout()&&(u.mk(u.nav.scroll),u.mk(u.divTimeScroll)),u.ia(),u.nj(),u.nk(),u.s.drawArea=null},this.ok=null,this.$h=null,this.pk=function(){u.watchWidthChanges&&(u.$h||(this.$h=setInterval(function(){return u.nav&&u.nav.top?(u.ok||(u.ok={},u.ok.counter=0,u.ok.changed=!1,u.ok.width=u.nav.top.offsetWidth),u.ok.width!==u.nav.top.offsetWidth&&(u.ok.changed=!0,u.ok.counter=0,u.ok.width=u.nav.top.offsetWidth),u.ok.changed&&(u.ok.counter+=1),void(u.ok.changed&&u.ok.counter>2&&(u.ok.changed=!1,u.Wf(),u.fg()))):void clearInterval(u.$h)},20)))},this.nk=function(){var t=u.rangeHold;u.clearSelection(),u.rangeHold=t,u.zh(t,!0)},this.nj=function(){u.z&&"Auto"===u.cellWidthSpec&&(u.Qf(),u.Rf(),u.Uf(),u.Yf(),u._f(),u.Zf(),u.ag(),u.L(),u.aa(),u.na(),u.ia())},this.Qf=function(){if("Auto"===this.cellWidthSpec){var t=this.nav.top.clientWidth,e=this.Ag(),n=u.qk(),i=t-e-n;if(this.Si()){var o=i/this.Si();this.cellWidth=Math.max(o,u.cellWidthMin),u.Cg=o<u.cellWidthMin}}},this.qk=function(){return"Auto"===u.heightSpec?0:"Max"===u.heightSpec||"Fixed"===u.heightSpec||"Parent100Pct"===u.heightSpec?u.Pi()>u.height?DayPilot.sw(u.nav.scroll):0:DayPilot.sw(u.nav.scroll)},this.Gg=function(){var t=this.nav.top.clientWidth,e=this.Ag(),n=this.Vb(),i=this.Pi(),o="Auto"===u.heightSpec,a=0;return i>n&&!o&&(a=DayPilot.swa()),t-e-2-a},this.fk=function(){var t=document.createElement("div");t.style.overflow="hidden",t.style.position="absolute",t.style.display="block",t.style.top="0px",t.style.width="100%",t.style.height=this.zg()+"px",t.style.overflow="hidden",t.onmousemove=function(){u.R(),u.cellBubble&&u.cellBubble.delayedHide()},this.mk(t),this.divTimeScroll=t;var e=document.createElement("div");return e.style.width=this.Si()*this.cellWidth+5e3+"px",this.divNorth=e,t.appendChild(e),t},this.Vb=function(){var t=0,e=u.heightSpec;return"Fixed"===e||"Parent100Pct"===e?this.height?this.height:0:(t=u.Pi(),("Max"===e||"Max100Pct"===e)&&t>u.height?u.height:t)},this.rk=null,this.sk=0,this.tk=0,this.uk=0,this.Eg=function(){if("function"==typeof u.onHeightChanged||"function"==typeof u.onDimensionsChanged){u.rk&&clearTimeout(u.rk);var t=function(){var t=u.nav.top.offsetHeight,e=u.sk;u.sk=t;var n=u.nav.top.offsetWidth,i=u.tk;u.tk=n;var o=u.Ag(),a=u.uk;if(u.uk=o,"function"==typeof u.onHeightChanged&&t!==e){var r={};r.oldHeight=e,r.newHeight=t,u.onHeightChanged(r)}if("function"==typeof u.onDimensionsChanged&&(t!==e||n!==i||o!==a)){var r={};r.oldHeight=e,r.newHeight=t,r.oldWidth=i,r.newWidth=n,r.oldRowHeaderWidth=a,r.newRowHeaderWidth=o,u.onDimensionsChanged(r)}};u.rk=setTimeout(t,100)}},this.Pi=function(){var t;return-1!==this.Nf?(t=this.Nf,this.Nf>0&&"auto"===u.nav.scroll.style.overflowX&&(t+=DayPilot.sh(u.nav.scroll))):t=this.rowlist.length*this.qc.eventHeight(),t},this.R=function(){this.S(),this.vk(),this.wk()},this.gk=function(){var t=document.createElement("div");if(t.style.overflow="auto",t.style.overflowX="auto",t.style.overflowY="auto",t.style.position="absolute",t.style.height=this.Vb()+"px",t.style.top=this.zg()+1+"px",t.style.width="100%",t.className=this.p("_scrollable"),t.oncontextmenu=function(){return!1},this.mk(t),u.overrideWheelScrolling){var e=u.scrollStep;t.onwheel=function(n){var i=n.deltaY>0?e:-e;u.nav.scroll.scrollTop=t.scrollTop+i,n.preventDefault&&n.preventDefault()},t.onmousewheel=function(n){n=n||window.event;var i=n.wheelDelta<0?e:-e;u.nav.scroll.scrollTop=t.scrollTop+i,n.preventDefault&&n.preventDefault(),n.returnValue=!1}}this.nav.scroll=t,this.jg=document.createElement("div"),this.jg.style.MozUserSelect="none",this.jg.style.KhtmlUserSelect="none",this.jg.style.webkitUserSelect="none",this.jg.daypilotMainD=!0,this.jg.calendar=this,n&&(this.jg.style.webkitTransform="translateZ(0px)"),this.jg.style.position="absolute";var i=this.xg();return i>0&&!isNaN(i)&&(this.jg.style.width=i+"px"),this.jg.setAttribute("unselectable","on"),this.jg.onmousedown=this.xk,this.jg.onmousemove=this.hj,this.jg.onmouseup=this.yk,this.jg.oncontextmenu=this.zk,this.jg.ondblclick=this.Ak,this.jg.className=this.p("_matrix"),this.divStretch=document.createElement("div"),this.divStretch.style.position="absolute",this.divStretch.style.height="1px",this.jg.appendChild(this.divStretch),this.divCells=document.createElement("div"),this.divCells.style.position="absolute",this.divCells.oncontextmenu=this.zk,this.jg.appendChild(this.divCells),this.divLines=document.createElement("div"),this.divLines.style.position="absolute",this.divLines.oncontextmenu=this.zk,this.jg.appendChild(this.divLines),this.divBreaks=document.createElement("div"),this.divBreaks.style.position="absolute",this.divBreaks.oncontextmenu=this.zk,this.jg.appendChild(this.divBreaks),this.divSeparators=document.createElement("div"),this.divSeparators.style.position="absolute",this.divSeparators.oncontextmenu=this.zk,this.jg.appendChild(this.divSeparators),this.divLinksBelow=document.createElement("div"),this.divLinksBelow.style.position="absolute",this.jg.appendChild(this.divLinksBelow),this.divCrosshair=document.createElement("div"),this.divCrosshair.style.position="absolute",this.divCrosshair.ondblclick=this.Ak,this.jg.appendChild(this.divCrosshair),this.divRange=document.createElement("div"),this.divRange.style.position="absolute",this.divRange.oncontextmenu=this.zk,this.jg.appendChild(this.divRange),this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.jg.appendChild(this.divEvents),this.divSeparatorsAbove=document.createElement("div"),this.divSeparatorsAbove.style.position="absolute",this.divSeparatorsAbove.oncontextmenu=this.zk,this.jg.appendChild(this.divSeparatorsAbove),this.divLinksAbove=document.createElement("div"),this.divLinksAbove.style.position="absolute",this.jg.appendChild(this.divLinksAbove),this.divLinkShadow=document.createElement("div"),this.divLinkShadow.style.position="absolute",this.jg.appendChild(this.divLinkShadow),this.divLinkpoints=document.createElement("div"),this.divLinkpoints.style.position="absolute",this.jg.appendChild(this.divLinkpoints),this.divRectangle=document.createElement("div"),this.divRectangle.style.position="absolute",this.jg.appendChild(this.divRectangle),this.divHover=document.createElement("div"),this.divHover.style.position="absolute",this.jg.appendChild(this.divHover),t.appendChild(this.jg),t},this.Bk={};var P=this.Bk;P.create=function(){if(!u.nav.overlay){var t=document.createElement("div");t.style.position="absolute",t.style.left="0px",t.style.right="0px",t.style.top="0px",t.style.bottom="0px",t.className=u.p("_block"),u.nav.top.appendChild(t),u.nav.overlay=t}},P.show=function(){P.create(),u.nav.overlay.style.display=""},P.hide=function(){u.nav.overlay&&(u.nav.overlay.style.display="none")},this.G=function(t){u.loadingTimeout&&window.clearTimeout(u.loadingTimeout);var e=t?0:100;u.loadingTimeout=window.setTimeout(function(){u.loadingLabelVisible&&(u.nav.loading.innerHTML=u.loadingLabelText,u.nav.loading.style.display=""),u.blockOnCallBack&&P.show()},e)},this.W=function(){this.loadingTimeout&&window.clearTimeout(this.loadingTimeout),this.nav.loading.style.display="none",this.blockOnCallBack&&P.hide()},this.uiBlock=function(){P.show()},this.uiUnblock=function(){P.hide()},this.bd=function(){this.startDate=new DayPilot.Date(this.startDate).getDatePart()},this.fd=function(t){var e=document.createElement("div");e.style.position="absolute",e.style.top="-2000px",e.style.left="-2000px",e.className=this.p(t),document.body.appendChild(e);var n=e.offsetHeight,i=e.offsetWidth;document.body.removeChild(e);var o={};return o.height=n,o.width=i,o},this.qa=function(t){if(t&&(this.autoRefreshEnabled=!0),this.autoRefreshEnabled&&!(this.A>=this.autoRefreshMaxCount)){this.K();var e=this.autoRefreshInterval;if(!e||e<10)throw"The minimum autoRefreshInterval is 10 seconds";this.autoRefreshTimeout=window.setTimeout(function(){u.Oc()},1e3*this.autoRefreshInterval)}},this.K=function(){this.autoRefreshTimeout&&(window.clearTimeout(this.autoRefreshTimeout),this.autoRefreshTimeout=null)},this.autoRefreshStart=function(t){u.qa(t)},this.autoRefreshPause=function(){u.K()},this.Ck=function(){return!(i.resizing||i.moving||i.drag||i.range)},this.Oc=function(){if(u.Ck()){var t=!1;if("function"==typeof this.onAutoRefresh){var e={};e.i=this.A,e.preventDefault=function(){this.preventDefault.value=!0},u.onAutoRefresh(e),e.preventDefault.value&&(t=!0)}!t&&this.q()&&this.commandCallBack(this.autoRefreshCommand),this.A++}this.A<this.autoRefreshMaxCount&&(this.autoRefreshTimeout=window.setTimeout(function(){u.Oc()},1e3*this.autoRefreshInterval))},this.Pc=function(){i.globalHandlers||(i.globalHandlers=!0,DayPilot.re(document,"mousemove",i.gMouseMove),DayPilot.re(document,"mouseup",i.gMouseUp),DayPilot.re(document,"mousedown",i.gMouseDown),DayPilot.re(document,"touchmove",i.gTouchMove),DayPilot.re(document,"touchend",i.gTouchEnd),DayPilot.re(window,"keyup",i.gKeyUp)),DayPilot.re(window,"resize",this.ee)},this.Dk=function(){this.nav.scroll.root=this,this.nav.scroll.onscroll=this.fg,u.Ti=this.nav.scroll.scrollLeft,u.Ri=this.nav.scroll.scrollTop,u.Ui=this.divNorth.clientWidth,window.eval("var lh=location.hostname;if(!~lh.indexOf('daypilot.org')&&lh!=='localhost')setTimeout(function(){alert('You are using a trial version of DayPilot Pro.')},100000*(Math.random()*6+6));")},this.pf=function(){if(this.nav.state){var t={};t.scrollX=this.nav.scroll.scrollLeft,t.scrollY=this.nav.scroll.scrollTop;var e=u.Rh(t.scrollX,t.scrollY),n=u.Sh(e),i=u.Th(e);t.rangeStart=n.start,t.rangeEnd=n.end,t.resources=i,this.syncResourceTree&&(t.tree=this.Q()),this.nav.state.value=DayPilot.he(DayPilot.JSON.stringify(t))}},this.ag=function(){if(this.separators)for(var t=0;t<this.separators.length;t++)this.Vc(t)},this.Ek={},this.Ek.step=300,this.Ek.delay=10,this.Ek.mode="display",this.Ek.layers=!1,this.Wi=function(t){if(u.cellStacking)return void _.calculateEventPositionsRow(t);for(var e=this.durationBarDetached?-10:0,n=0,i=0;i<t.lines.length;i++){var o=t.lines[i];o.height=0,o.top=n;for(var a=0;a<o.length;a++){var r=o[a];if(r.part.top,!0){r.part.line=i,r.part.height||(r.part.height=t.eventHeight);var l=r.part.Fj();l>o.height&&(o.height=l),r.part.top=n+t.marginTop;var s="Above"===u.eventVersionPosition;if(u.eventVersionsEnabled&&!DayPilot.list(r.data.versions).isEmpty()){var c=(r.data.versions.length,r.part.top);s||(c+=r.part.height+u.eventVersionMargin),DayPilot.list(r.data.versions).each(function(t,e){if(r.versions[e]){var n=e*(u.eventVersionHeight+u.eventVersionMargin);r.versions[e].top=c+n,s&&(r.part.top+=u.eventVersionHeight,r.part.top+=u.eventVersionMargin)}})}r.part.top+=u.eventMarginBottom,r.part.detachedBarTop=r.part.top-e,r.part.right=r.part.left+r.part.width,r.part.fullTop=this.rowlist[r.part.dayIndex].top+r.part.top,r.part.fullBottom=r.part.fullTop+r.part.height}}n+=(o.height||t.eventHeight)*t.eventStackingLineHeight/100}};var _={};_.loadRow=function(t){t.evColumns=DayPilot.list(u.itline).map(function(t,e){return{events:DayPilot.list()}}),DayPilot.list(t.events).each(function(e){var n=e.start(),i=u.Tg(n);t.evColumns[i.i].events.push(e)})},_.calculateEventPositions=function(){var t=u.cellStackingAutoHeight,e=0;DayPilot.list(u.rowlist).each(function(n){var i=0;n.evColumns.each(function(e,o){var a=u.itline[o],r=u.rowMarginTop;e.events.each(function(e){e.part.left=a.left,e.part.width=a.width,e.part.top=r,e.part.height||(e.part.height=t?_.getEventAutoHeight(e)+u.durationBarHeight:n.eventHeight),r+=e.part.height+u.eventMarginBottom}),e.height=r,e.height>i&&(i=e.height)}),n.maxColumnHeight=i,n.top=e;var o=n.height;n.height=n.getHeight(),i>u.rowMarginTop&&(n.height=i+u.rowMarginBottom),o!==n.height&&(u.nh=!0),e+=n.height}),u.Nf=e},_.getEventAutoHeight=function(t){var e=t.client.html(),n=document.createElement("div");n.style.position="absolute",n.style.top="-2000px",n.style.left="-2000px",n.style.width=t.part.width+"px",n.className=u.p(E.event);var i=document.createElement("div");i.className=u.p(E.eventInner),i.innerHTML=e,i.style.position="static",i.style.overflow="auto",n.appendChild(i);var o=u.divEvents;o.appendChild(n);var a=n.offsetHeight;return o.removeChild(n),a},_.calculateEventPositionsRow=function(t){_.calculateEventPositions()},_.drawEventsWithoutCheckingOverflow=function(){DayPilot.list(u.rowlist).each(function(t){_.drawEventsRow(t)})},_.drawEvents=function(){_.drawEventsWithoutCheckingOverflow(),_.checkOverflow(),u.Xf(),u.ia()},_.checkOverflow=function(){if(u.cellStackingAutoHeight){var t=!1;DayPilot.list(u.elements.events).each(function(e){var n=e.firstChild,i=n.offsetHeight-n.clientHeight+e.offsetHeight-e.clientHeight,o=n.scrollHeight+i,a=e.event.part.height;e.event.part.height=o,a!==o&&(t=!0)}),t&&(u.L(),_.calculateEventPositions(),_.drawEventsWithoutCheckingOverflow(),u.Yf(),u._f())}},_.drawEventsRow=function(t){t.evColumns.each(function(t,e){t.events.each(function(t){u.Nb(t)})})},this.na=function(t){if(!u.xd){if(u.cellStacking)return void _.drawEvents();var e=this.Ek.step;this.Ek.layers&&(u.divEvents=document.createElement("div"),u.divEvents.style.position="absolute",u.jg.insertBefore(this.divEvents,this.divSeparatorsAbove)),"display"===this.Ek.mode?this.divEvents.style.display="none":"visibility"===this.Ek.mode&&(this.divEvents.style.visibility="hidden");for(var n="Progressive"===this.dynamicEventRendering,i=this.og(),o=i.pixels.top,a=i.pixels.bottom,r=0;r<this.rowlist.length;r++){var l=this.rowlist[r],s=l.top-this.dynamicEventRenderingMargin,c=s+l.height+2*this.dynamicEventRenderingMargin;if(!n||!(a<=s||o>=c)){this.Wi(l);for(var d=0;d<l.lines.length;d++)for(var h=l.lines[d],f=0;f<h.length;f++){var v=h[f],g=this.Nb(v);if(t&&g&&--e<=0)return this.divEvents.style.visibility="",this.divEvents.style.display="",void window.setTimeout(function(){u.na(t)},u.Ek.delay)}}}this.divEvents.style.display="",DayPilot.list(u.multiselect.list).isEmpty()||u.multiselect.redraw(),this.rg(),p.load()}},this.ph=function(t){var e=this.rowlist[t];if(u.cellStacking)return void _.drawEventsRow(e);this.divEvents=document.createElement("div"),this.divEvents.style.position="absolute",this.divEvents.style.display="none",this.jg.insertBefore(this.divEvents,this.divSeparatorsAbove),this.durationBarDetached,this.Wi(e);for(var n=0;n<e.lines.length;n++)for(var i=e.lines[n],o=0;o<i.length;o++){var a=i[o];this.Nb(a)}this.divEvents.style.display=""},this.L=function(){if(this.elements.events)for(var t=this.elements.events.length,e=0;e<t;e++){var n=this.elements.events[e];this.li(n)}this.elements.events=[]},this.oh=function(t){if(this.elements.events){for(var e=this.elements.events.length,n=[],i=0;i<e;i++){var o=this.elements.events[i];o.event.part.dayIndex===t&&(this.li(o),n.push(i))}for(var i=n.length-1;i>=0;i--)this.elements.events.splice(n[i],1)}},this.li=function(t){t.onclick=null,t.oncontextmenu=null,t.onmouseover=null,t.onmouseout=null,t.onmousemove=null,t.onmousedown=null,t.ondblclick=null,t.event&&(t.isBar||(t.event.rendered=null),t.event=null),t.related&&DayPilot.de(t.related),t.parentNode&&t.parentNode.removeChild(t)},this.Fk=function(t){t.event&&(t.event.rendered=!1),t.onclick=null,t.onmousedown=null,t.event=null,t.parentNode&&t.parentNode.removeChild(t)},this.Gk=function(t){if(t||(t=0),"Progressive"===this.dynamicEventRendering){this.divEvents.style.display="none";for(var e=[],n=0,i=this.elements.events.length,o=i-1;o>=0;o--){var a=this.elements.events[o];this.Hk(a.event)?t>0?(t--,e.unshift(a)):(this.li(a),n++):e.unshift(a)}this.elements.events=e,this.divEvents.style.display=""}},this.Ik=function(t){for(var e=[],n=0,i=this.og(),o=this.elements.cells.length,a=o-1;a>=0;a--){var r=this.elements.cells[a];i.xStart<r.coords.x&&r.coords.x<=i.xEnd&&i.yStart<r.coords.y&&r.coords.y<=i.yEnd?e.unshift(r):t>0?(t--,e.unshift(r)):(this.qi(r),n++)}},this.qi=function(t){if(t){var e=t.coords.x,n=t.coords.y;DayPilot.rfa(u.elements.cells,t),DayPilot.de(t),u.s.cells[e+"_"+n]=null}},this.Zf=function(){if(this.elements.separators)for(var t=0;t<this.elements.separators.length;t++){var e=this.elements.separators[t];DayPilot.de(e)}this.elements.separators=[]},this.Jk=function(){var t="Progressive"===this.dynamicEventRendering;if(!this.nav.scroll)return!1;for(var e=this.nav.scroll.scrollTop,n=e+this.nav.scroll.clientHeight,i=0;i<this.rowlist.length;i++){var o=this.rowlist[i],a=o.top,r=o.top+o.height;if(!t||!(n<=a||e>=r))for(var l=0;l<o.lines.length;l++)for(var s=o.lines[l],c=0;c<s.length;c++){var u=s[c];if(this.Kk(u))return!0}}return!1},this.Kk=function(t){if(t.rendered)return!1;var e="Progressive"===this.dynamicEventRendering,n=this.nav.scroll.scrollLeft,i=n+this.nav.scroll.clientWidth,o=t.part.left,a=t.part.left+t.part.width;return!e||!(i<=o||n>=a)},this.Hk=function(t){if(!t.rendered)return!0;var e=this.og(),n=e.pixels.top,i=e.pixels.bottom,o=e.pixels.left-this.dynamicEventRenderingMargin,a=e.pixels.right+this.dynamicEventRenderingMargin,r=t.part.left,l=t.part.right,s=t.part.fullTop,c=t.part.fullBottom;return a<=r||o>=l||i<=s||n>=c},this.Ej=DayPilot.list(),this.Lk=function(t){if(t.rendered)return!1;if(t.row.hidden)return!1;var e=t.min,n=t.max-t.min,i=u.eventHeight,o=t.row.top,a=document.createElement("div");a.style.position="absolute",a.style.left=e+"px",a.style.top=o+"px",a.style.width=n+"px",a.style.height=i+"px",a.className=u.p("_event_group"),a.style.cursor="pointer";var r={};r.group={},r.group.count=t.events.length,r.group.html="[+] "+t.events.length+" events","function"==typeof u.onBeforeGroupRender&&u.onBeforeGroupRender(r);var l=document.createElement("div");return l.innerHTML=r.group.html,a.appendChild(l),a.onmousedown=function(t){var t=t||window.event;t.cancelBubble=!0},a.onclick=function(t){var e=a.event;e.expanded=!0,u.Fk(a);var n=DayPilot.indexOf(u.elements.events,a);-1!==n&&u.elements.events.splice(n,1);var i=u.Ej;DayPilot.list(e.events).each(function(t){i.push(t.id())}),u._g(),u.ah(e.part.dayIndex),u.ia();var t=t||window.event;t.cancelBubble=!0},t.part={},t.part.left=e,t.part.width=n,t.part.height=u.eventHeight,t.part.dayIndex=DayPilot.indexOf(u.rowlist,t.row),t.part.top=0,t.part.isBlock=!0,t.client={},t.client.html=function(){return r.group.html},t.data={},a.event=t,this.elements.events.push(a),this.divEvents.appendChild(a),t.rendered=!0,!0},this.Nb=function(t){if(t.rendered)return!1;if(u.groupConcurrentEvents){var e=t.part.block;if(e.events.length>1&&!e.expanded)return u.Lk(e)}var n="Progressive"===this.dynamicEventRendering,i=this.og(),o=i.pixels.left-this.dynamicEventRenderingMargin,a=i.pixels.right+this.dynamicEventRenderingMargin,r=t.part.left,l=t.part.left+t.part.width;if(n&&(a<=r||o>=l))return!1;var s=t.part.dayIndex,c=t.part.width,d=t.part.height,h=t.cache||t.data;c=Math.max(0,c),d=Math.max(0,d);var f=this.rowlist[s];if(f.hidden)return!1;var p=f.top,v=this.durationBarDetached,g=document.createElement("div");if(g.related=[],v){var m=t.part.barLeft,y=t.part.barWidth;"PercentComplete"===this.durationBarMode&&(m=0,y=(h.complete||0)/100*c);var b=document.createElement("div");b.style.position="absolute",b.style.left=t.part.left+m+"px",b.style.top=p+t.part.detachedBarTop+"px",b.style.width=y+"px",b.style.height="5px",b.style.backgroundColor="black",b.type="detachedBar",g.related.push(b),this.divEvents.appendChild(b)}if(function(e){u.eventVersionsEnabled&&DayPilot.list(t.data.versions).each(function(n,i){if(n){var o=t.versions[i];if(o){var a=document.createElement("div");a.style.position="absolute",a.style.left=o.left+"px",a.style.top=p+o.top+"px",a.style.width=o.width+"px",a.style.height=u.eventVersionHeight+"px",a.className=u.p(E.event)+" "+u.p("_event_previous")+" "+u.p("_event_version"),n.toolTip&&(a.title=n.toolTip),n.cssClass&&DayPilot.Util.addClass(a,n.cssClass);var r=document.createElement("div");r.setAttribute("unselectable","on"),r.className=u.p(E.eventInner),r.innerHTML=n.html||n.text||"",n.backColor&&(r.style.background=n.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(r.style.filter="")),n.fontColor&&(r.style.color=n.fontColor),n.borderColor&&(r.style.borderColor=n.borderColor),n.backImage&&(r.style.backgroundImage="url("+n.backImage+")",n.backRepeat&&(r.style.backgroundRepeat=n.backRepeat)),a.appendChild(r),o.continueLeft&&DayPilot.Util.addClass(a,u.p("_event_continueleft")),o.continueRight&&DayPilot.Util.addClass(a,u.p("_event_continueright"));var l=u.durationBarVisible&&!n.barHidden,s=o.width;if(l&&s>0){var c=100*o.barLeft/s,d=Math.ceil(100*o.barWidth/s);"PercentComplete"===u.durationBarMode&&(c=0,d=n.complete||0);var h=document.createElement("div");h.setAttribute("unselectable","on"),h.className=u.p(E.eventBar),h.style.position="absolute",n.barBackColor&&(h.style.backgroundColor=n.barBackColor);var f=document.createElement("div");f.setAttribute("unselectable","on"),f.className=u.p(E.eventBarInner),f.style.left=c+"%",f.style.width=0<d&&d<=1?"1px":d+"%",n.barColor&&(f.style.backgroundColor=n.barColor),n.barImageUrl&&(f.style.backgroundImage="url("+n.barImageUrl+")"),h.appendChild(f),a.appendChild(h)}if(n.htmlLeft){var v=5,g=document.createElement("div");g.style.position="absolute",g.style.right=-(o.left-v)+"px",g.style.top=p+o.top+"px",g.style.height=u.eventHeight+"px",g.style.boxSizing="border-box",g.innerHTML=n.htmlLeft,g.className=u.p("_event_left"),g.type="divLeft",g.versionPart=o,e.related.push(g),u.divEvents.appendChild(g)}if(n.htmlRight){var v=5,m=document.createElement("div");m.style.position="absolute",m.style.left=o.left+o.width+v+"px",m.style.top=p+o.top+"px",m.style.height=u.eventHeight+"px",m.style.boxSizing="border-box",m.innerHTML=n.htmlRight,m.className=u.p("_event_right"),m.type="divRight",m.versionPart=o,e.related.push(m),u.divEvents.appendChild(m)}a.versionPart=o,a.type="version",e.related.push(a),u.divEvents.appendChild(a)}}})}(g),t.data.htmlLeft){var w=5,D=document.createElement("div");D.style.position="absolute",D.style.right=-(t.part.left-w)+"px",D.style.top=p+t.part.top+"px",D.style.height=u.eventHeight+"px",D.style.boxSizing="border-box",D.innerHTML=t.data.htmlLeft,D.className=u.p("_event_left"),D.type="divLeft",g.related.push(D),this.divEvents.appendChild(D)}if(t.data.htmlRight){var w=5,C=document.createElement("div");C.style.position="absolute",C.style.left=t.part.left+t.part.width+w+"px",C.style.top=p+t.part.top+"px",C.style.height=u.eventHeight+"px",C.style.boxSizing="border-box",C.innerHTML=t.data.htmlRight,C.className=u.p("_event_right"),C.type="divRight",g.related.push(C),this.divEvents.appendChild(C)}t.part.top,g.style.position="absolute",g.style.left=t.part.left+u.eventMarginLeft+"px",g.style.top=p+t.part.top+"px",g.style.width=c-u.eventMarginLeft-u.eventMarginRight+"px",g.style.height=d+"px",u.eventTextWrappingEnabled||(g.style.whiteSpace="nowrap"),g.style.overflow="hidden",g.className=this.p(E.event),"Milestone"===t.data.type&&DayPilot.Util.addClass(g,u.p("_task_milestone")),"Group"===t.data.type&&(DayPilot.Util.addClass(g,u.p("_task_parent")),DayPilot.Util.addClass(g,u.p("_task_group"))),h.cssClass&&DayPilot.Util.addClass(g,h.cssClass),"number"==typeof t.part.line&&DayPilot.Util.addClass(g,this.p(E.eventLine+t.part.line)),g.setAttribute("unselectable","on"),this.showToolTip&&!this.bubble&&(g.title=t.client.toolTip()||""),g.onmousemove=this.Ob,g.onmouseout=this.Pb,g.onmousedown=this.Qb,g.onmouseup=this.Mk,g.ontouchstart=A.onEventTouchStart,g.ontouchmove=A.onEventTouchMove,g.ontouchend=A.onEventTouchEnd,t.client.clickEnabled()&&(g.onclick=this.Ie),t.client.doubleClickEnabled()&&(g.ondblclick=this.Ja),g.oncontextmenu=this.Ka;var k=document.createElement("div");k.setAttribute("unselectable","on"),k.className=u.p(E.eventInner),k.innerHTML=t.client.innerHTML(),h.backColor&&(k.style.background=h.backColor,(DayPilot.browser.ie9||DayPilot.browser.ielt9)&&(k.style.filter="")),h.fontColor&&(k.style.color=h.fontColor),h.borderColor&&(k.style.borderColor=h.borderColor),h.backImage&&(k.style.backgroundImage="url("+h.backImage+")",h.backRepeat&&(k.style.backgroundRepeat=h.backRepeat)),g.appendChild(k);var x=t.start().getTime()===t.part.start.getTime(),P=t.rawend().getTime()===t.part.end.getTime();if(x||DayPilot.Util.addClass(g,this.p("_event_continueleft")),P||DayPilot.Util.addClass(g,this.p("_event_continueright")),t.client.barVisible()&&c>0){var m=100*t.part.barLeft/c,y=Math.ceil(100*t.part.barWidth/c);"PercentComplete"===this.durationBarMode&&(m=0,y=h.complete||0);var b=document.createElement("div");b.setAttribute("unselectable","on"),b.className=this.p(E.eventBar),b.style.position="absolute",h.barBackColor&&(b.style.backgroundColor=h.barBackColor);var _=document.createElement("div");_.setAttribute("unselectable","on"),_.className=this.p(E.eventBarInner),_.style.left=m+"%",_.style.width=0<y&&y<=1?"1px":y+"%",h.barColor&&(_.style.backgroundColor=h.barColor),h.barImageUrl&&(_.style.backgroundImage="url("+h.barImageUrl+")"),b.appendChild(_),g.appendChild(b)}if(g.row=s,h.areas)for(var S=0;S<h.areas.length;S++){var i=h.areas[S],T=i.v||"Visible";if("Visible"===T){(i.start||i.end)&&(i.left=u.getPixels(new DayPilot.Date(i.start)).left-t.part.left,i.width=u.getPixels(new DayPilot.Date(i.end)).left-i.left-t.part.left);var R=DayPilot.Areas.createArea(g,t,i);g.appendChild(R)}}if(this.elements.events.push(g),this.divEvents.appendChild(g),t.rendered=!0,g.event=t,u.multiselect.wb(g.event)&&(u.multiselect.add(g.event,!0),u.multiselect.ad(g)),u.ra()){if("function"==typeof u.onAfterEventRender){var M={};M.e=g.event,M.div=g,u.onAfterEventRender(M)}}else u.afterEventRender&&u.afterEventRender(g.event,g);return!0},this.ra=function(){return 2===u.api},this.qh=function(){for(var t=0;t<this.elements.events.length;t++){var e=this.elements.events[t],n=e.event,i=n.part.dayIndex,o=this.rowlist[i],a=o.top,r=a+n.part.top;e.style.top=r+"px",DayPilot.list(e.related).filter(function(t){return!!t.versionPart}).each(function(t){var e=t.versionPart;t.style.top=a+e.top+"px"}),DayPilot.list(e.related).filter(function(t){return!t.versionPart&&("divLeft"===t.type||"divRight"===t.type)}).each(function(t){t.style.top=r+"px"})}},this._c=function(t){if(!t)return null;for(var e=0;e<u.elements.events.length;e++){var n=u.elements.events[e];if(n.event===t||n.event.data===t.data)return n}return null},this.Pb=function(t){var e=this;DayPilot.Areas.hideAreas(e,t),DayPilot.Util.removeClass(e,u.p("_event_hover")),u.Nk(e),l.source||p.hideLinkpointsWithDelay(),u.bubble&&"Bubble"===u.eventHoverHandling&&u.bubble.hideOnMouseOut()},this.Ok=function(t){if("function"==typeof this.onEventMouseOver){var e={};e.div=t,e.e=t.event,this.onEventMouseOver(e)}},this.Nk=function(t){if("function"==typeof this.onEventMouseOut){var e={};e.div=t,e.e=t.event,this.onEventMouseOut(e)}},this.Ob=function(t){t=t||window.event,u.cellBubble&&u.cellBubble.delayedHide();for(var e=this;e&&!e.event;)e=e.parentNode;u.Pk(e,t);var n=e.event.cache?e.event.cache.deleteDisabled:e.event.data.deleteDisabled;if(!e.active){var i=[];if("Disabled"!==u.eventDeleteHandling&&!n){var o=u.durationBarVisible?u.durationBarHeight:0;i.push({action:"JavaScript",v:"Hover",w:17,h:17,top:o+2,right:2,css:u.p(E.eventDelete),js:function(t){u.Oa(t)}})}var a=e.event.cache?e.event.cache.areas:e.event.data.areas;a&&a.length>0&&(i=i.concat(a)),DayPilot.Areas.showAreas(e,e.event,null,i),DayPilot.Util.addClass(e,u.p("_event_hover")),u.Ok(e)}"Disabled"===u.linkCreateHandling||l.source||(p.clearHideTimeout(),p.hideLinkpoints(),u.Ck()&&p.showLinkpoint(e)),t.srcElement?t.srcElement.insideEvent=!0:t.insideEvent=!0},this.Qk={};var S=this.Qk;this.Mk=function(t){if(u.ionicEventClickFix){var e=S.originalMouse;if(e){var n=DayPilot.mc(t);e.x===n.x&&e.y===n.y&&(u.Ie.call(this,t),t.preventDefault(),t.stopPropagation())}}},this.Qb=function(t){if(u.R(),void 0!==DayPilot.Bubble&&DayPilot.Bubble.hideActive(),t=t||window.event,DayPilot.Util.mouseButton(t).left){var e=t.shiftKey;if("Disabled"!==u.multiSelectRectangle&&e)return T.start(),!1;"w-resize"===this.style.cursor||"e-resize"===this.style.cursor?(i.preventEventClick=!0,i.resizing=this,i.resizingEvent=this.event,i.originalMouse=DayPilot.mc(t),document.body.style.cursor=this.style.cursor,p.hideLinkpoints()):("move"===this.style.cursor||"Full"===u.moveBy&&this.event.client.moveEnabled())&&(S.start=!0,S.moving=this,S.movingEvent=this.event,S.originalMouse=DayPilot.mc(t),S.moveOffsetX=DayPilot.mo3(this,t).x,S.moveDragStart=u.getDate(u.coords.x,!0),p.hideLinkpoints())}return DayPilot.Menu&&DayPilot.Menu.active&&DayPilot.Menu.active.hide(),t.cancelBubble=!0,!1},this.Rb={};var A=u.Rb;A.active=!1,A.start=!1,A.timeouts=[],A.onEventTouchStart=function(t){if(!A.active&&!A.start){t.stopPropagation(),A.clearTimeouts(),A.start=!0,A.active=!1;var n=this,i=u.tapAndHoldTimeout;A.timeouts.push(window.setTimeout(function(){A.active=!0,A.start=!1,u.coords=A.relativeCoords(t),t.preventDefault();var i=n.event;switch(u.eventTapAndHoldHandling){case"Move":if(i.client.moveEnabled()){var o=e(t);A.startMoving(n,o)}break;case"ContextMenu":DayPilot.Menu&&DayPilot.Menu.touchPosition(t);var a=i.client.contextMenu();a?a.show(i):u.contextMenu&&u.contextMenu.show(i)}},i))}},A.onEventTouchMove=function(t){A.clearTimeouts(),A.start=!1},A.onEventTouchEnd=function(t){if(!DayPilot.Util.isMouseEvent(t)){if(A.clearTimeouts(),A.start){A.start=!1,t.preventDefault(),t.stopPropagation();var e=this;window.setTimeout(function(){u.Ga(e,t)})}window.setTimeout(function(){A.start=!1,A.active=!1},500)}},A.onMainTouchStart=function(t){if(!(A.active||A.start||t.touches.length>1||"Disabled"===u.timeRangeSelectedHandling)){A.clearTimeouts(),A.start=!0,A.active=!1;var e=u.tapAndHoldTimeout;A.timeouts.push(window.setTimeout(function(){A.active=!0,A.start=!1,t.preventDefault(),u.coords=A.relativeCoords(t),A.range=u.Rk()},e)),u.coords=A.relativeCoords(t)}},A.onMainTouchMove=function(t){if(A.clearTimeouts(),A.start=!1,i.resizing)return t.preventDefault(),void A.updateResizing();if(A.active){if(t.preventDefault(),u.coords=A.relativeCoords(t),i.moving)return void A.updateMoving();if(A.range){var e=A.range;e.end={x:Math.floor(u.coords.x/u.cellWidth)},u.zh(e)}}},A.onMainTouchEnd=function(t){if(A.clearTimeouts(),A.active){if(i.moving){t.preventDefault();var e=i.movingEvent,n=i.movingShadow.start,o=i.movingShadow.end,a="Days"!==u.viewType?i.movingShadow.row.id:null,r=!!i.drag,l=i.movingShadow.overlapping,s=!i.movingShadow.allowed;if(DayPilot.Util.removeClass(i.moving,u.p(u.Sk.eventMovingSource)),DayPilot.de(i.movingShadow),u.gj(),i.movingShadow.calendar=null,document.body.style.cursor="",i.moving=null,i.movingEvent=null,i.movingShadow=null,u.bj.clear(),l||s||u.bj.forbidden||u.bj.invalid)return;u.Ta(e,n,o,a,r)}if(A.range){var c=A.range;A.range=null;var d=u.elements.range2;d&&d.overlapping?u.clearSelection():u.wh(c)}}else if(A.start){if(u.coords.x<u.getScrollX())return;var c=u.Rk();u.zh(c);var d=u.elements.range2;d&&d.overlapping?u.clearSelection():u.wh(c)}window.setTimeout(function(){A.start=!1,A.active=!1},500)},A.clearTimeouts=function(){for(var t=0;t<A.timeouts.length;t++)clearTimeout(A.timeouts[t]);A.timeouts=[]},A.relativeCoords=function(t){var e=u.jg,n=t.touches[0].pageX,i=t.touches[0].pageY,o=DayPilot.abs(e);return{x:n-o.x,y:i-o.y,toString:function(){return"x: "+this.x+", y:"+this.y}}},A.startMoving=function(t,e){i.moving=t,i.movingEvent=t.event,i.originalMouse=e;var n=DayPilot.abs(t);i.moveOffsetX=e.x-n.x,i.moveDragStart=u.getDate(u.coords.x,!0),i.movingShadow=u.sa(t),u.Mi()},A.startResizing=function(t,e){i.resizing=t,i.resizingEvent=t.event,i.resizing.dpBorder=e,i.resizingShadow||(i.resizingShadow=u.sa(t)),u.cj()},A.updateResizing=function(){if(!i.resizingShadow){var t=i.resizing;i.resizingShadow=u.sa(t)}u.cj()},A.updateMoving=function(){if(i.movingShadow&&i.movingShadow.calendar!==u&&(i.movingShadow.calendar=null,DayPilot.de(i.movingShadow),i.movingShadow=null),!i.movingShadow){var t=i.moving;i.movingShadow=u.sa(t)}i.moving.target=u,u.Mi()},this.Pk=function(t,e){var n=this.eventResizeMargin,o=this.eventMoveMargin,a=t;if(void 0!==i){var r=DayPilot.mo3(t,e);if(r&&(u.eventOffset=r,!i.resizing&&!i.moving)){var l=a.event.part.start.toString()===a.event.start().toString(),s=a.event.part.end.toString()===a.event.rawend().toString();"Top"===u.moveBy&&r.y<=o&&a.event.client.moveEnabled()&&"Disabled"!==u.eventMoveHandling?t.style.cursor="move":("Top"===u.moveBy||"Full"===u.moveBy)&&r.x<=n&&a.event.client.resizeEnabled()&&"Disabled"!==u.eventResizeHandling?l?(t.style.cursor="w-resize",t.dpBorder="left"):t.style.cursor="not-allowed":"Left"===u.moveBy&&r.x<=o&&a.event.client.moveEnabled()&&"Disabled"!==u.eventMoveHandling?t.style.cursor="move":t.offsetWidth-r.x<=n&&a.event.client.resizeEnabled()&&"Disabled"!==u.eventResizeHandling?s?(t.style.cursor="e-resize",t.dpBorder="right"):t.style.cursor="not-allowed":i.resizing||i.moving||(a.event.client.clickEnabled()&&"Disabled"!==u.eventClickHandling?t.style.cursor="pointer":t.style.cursor="default"),void 0===DayPilot.Bubble||!u.bubble||"Bubble"!==u.eventHoverHandling||"default"!==t.style.cursor&&"pointer"!==t.style.cursor||this.Rc&&r.x===this.Rc.x&&r.y===this.Rc.y||(this.Rc=r,u.bubble.showEvent(t.event))}}},this.Si=function(){return"Days"!==this.viewType?this.itline.length:Math.floor(1440/this.cellDuration)},this.xh=function(t){var t=t||i.range||u.rangeHold;if(!t)return null;var e=u.rowlist[t.start.y];if(!e)return null;var n=t.Tk?t.Tk:t,o=e.id,a=n.end.x>n.start.x?n.start.x:n.end.x,r=n.end.x>n.start.x?n.end.x:n.start.x,l=0;l=e.start.getTime()-this.Aa().getTime();var s=this.itline[a].start.addTime(l),c=this.itline[r].end.addTime(l);return new DayPilot.Selection(s,c,o,u)},this.rb=function(t){var e=t.parentNode,n=u.eventEditMinWidth,i=document.createElement("textarea");return i.style.position="absolute",i.style.width=(t.offsetWidth<n?n:t.offsetWidth-2)+"px",i.style.height=t.offsetHeight-2+"px",i.style.fontFamily=DayPilot.gs(t,"fontFamily")||DayPilot.gs(t,"font-family"),i.style.fontSize=DayPilot.gs(t,"fontSize")||DayPilot.gs(t,"font-size"),i.style.left=t.offsetLeft+"px",i.style.top=t.offsetTop+"px",i.style.border="1px solid black",i.style.padding="0px",i.style.marginTop="0px",i.style.backgroundColor="white",i.value=DayPilot.tr(t.event.text()),i.event=t.event,e.appendChild(i),i},this.Uk=function(t){var e=d.events();e.sort(function(t,e){var n=t.event,i=e.event;return n.part.dayIndex!==i.part.dayIndex?n.part.dayIndex-i.part.dayIndex:n.start()!==i.start()?n.start().getTime()-i.start().getTime():i.end().getTime()-n.end().getTime()});var n=e.indexOf(t);return-1===n?null:n+1<e.length?e[n+1]:e[0]},this.Ha=function(t){if(t&&(i.editing&&i.editing.blur(),t.event)){var e=this.rb(t);i.editing=e,DayPilot.re(e,DayPilot.touch.start,function(t){t.stopPropagation()}),e.onblur=function(){if(e.onblur=null,i.editing===e&&(i.editing=null),e.parentNode&&e.parentNode.removeChild(e),t.event){var n=(t.event.text(),e.value);u.ab(t.event,n,e.canceling)}},e.onmousedown=function(t){t=t||window.event,t.stopPropagation&&t.stopPropagation()},e.onkeypress=function(t){return 13!==(window.event?event.keyCode:t.keyCode)||(this.onblur(),!1)},e.cancel=function(){i.editing&&(i.editing.canceling=!0,i.editing.blur())},e.onkeydown=function(e){var n=window.event?event.keyCode:e.keyCode;if(27===n)i.editing.cancel();else if(9===n){var o=u.Uk(t);return i.editing.cancel(),o&&(DayPilot.browser.ie?setTimeout(function(){u.Ha(o)},0):u.Ha(o)),!1}},e.select(),e.focus()}},this.tj=function(t){var e=this,n=e.row;if(void 0!==DayPilot.Bubble&&(u.cellBubble&&u.cellBubble.hideOnMouseOut(),u.resourceBubble)){var i={};i.calendar=u,i.id=n.id,n.bubbleHtml&&(i.bubbleHtml=function(){return n.bubbleHtml}),i.toJSON=function(){var t={};return t.id=this.id,t},u.resourceBubble.showResource(i)}},this.uj=function(t){var e=this;void 0!==DayPilot.Bubble&&u.resourceBubble&&u.resourceBubble.hideOnMouseOut();var n=e.firstChild;DayPilot.Areas.hideAreas(n,t),n.data=null},this.vj=function(t){a.row&&(k.cancelClick=!0,setTimeout(function(){k.cancelClick=!1},100))},this.Uf=function(){if(this.timeHeader){this.s.timeHeader={};var t=document.createElement("div");t.style.position="relative",this.nav.timeHeader=t;for(var e=0;e<this.timeHeader.length;e++)for(var n=this.timeHeader[e],i=0;i<n.length;i++)this.Vk(i,e);var o=this.divNorth;1===o.childNodes.length?o.replaceChild(t,o.childNodes[0]):(o.innerHTML="",o.appendChild(t));var a=this.xg();o.style.width=a+5e3+"px",u.divCorner.innerHTML=this.cornerHtml||"",a>0&&(this.divStretch.style.width=a+"px")}},this.Pg=function(t,e){var n=null,i=this.qc.locale(),e=e||this.cellGroupBy,o=t.start;switch(t.end,e){case"Hour":n="Clock12Hours"===u.qc.timeFormat()?o.toString("h tt",i):o.toString("H",i);break;case"Day":n=o.toString(i.datePattern);break;case"Week":n=1===M.weekStarts()?o.weekNumberISO():o.weekNumber();break;case"Month":n=o.toString("MMMM yyyy",i);break;case"Quarter":n="Q"+Math.floor(o.getMonth()/3+1);break;case"Year":n=o.toString("yyyy");break;case"None":n="";break;case"Cell":var a=(t.end.ticks-t.start.ticks)/6e4;n=this.Wk(o,a);break;default:throw"Invalid cellGroupBy value"}return n},this.Wk=function(t,e){var n=this.qc.locale(),e=e||this.cellDuration;return e<60?t.toString("mm"):e<1440?"Clock12Hours"===u.qc.timeFormat()?t.toString("h tt",n):t.toString("H",n):e<10080?t.toString("d"):10080===e?1===M.weekStarts()?t.weekNumberISO():t.weekNumber():t.toString("MMMM yyyy",n)},this.Lg=function(t){var e=this.scale;switch(e){case"Cell":throw"Invalid scale: Cell";case"Manual":throw"Internal error (addScaleSize in Manual mode)";case"Minute":return t.addMinutes(1);case"CellDuration":return t.addMinutes(this.cellDuration);default:return this.Og(t,e)}},this.Og=function(t,e){var n,i="Days"!==this.viewType?this.days:1,o=this.startDate.addDays(i);"Manual"===u.scale&&(o=u.Ng());var e=e||this.cellGroupBy,a=60;switch(e){case"Hour":t.getHours()+t.getMinutes()+t.getSeconds()+t.getMilliseconds()>0&&(t=t.getDatePart().addHours(t.getHours())),n=t.addHours(1);break;case"Day":n=t.getDatePart().addDays(1);break;case"Week":for(n=t.getDatePart().addDays(1);n.dayOfWeek()!==M.weekStarts();)n=n.addDays(1);break;case"Month":n=t.addMonths(1),n=n.firstDayOfMonth();for(var r=DayPilot.DateUtil.diff(n,t)/6e4%a==0;!r;)n=n.addHours(1),r=DayPilot.DateUtil.diff(n,t)/6e4%a==0;break;case"Quarter":for(n=t.addMonths(1),n=n.firstDayOfMonth();n.getMonth()%3;)n=n.addMonths(1);for(var r=DayPilot.DateUtil.diff(n,t)/6e4%a==0;!r;)n=n.addHours(1),r=DayPilot.DateUtil.diff(n,t)/6e4%a==0;break;case"Year":n=t.addYears(1),n=n.firstDayOfYear();for(var r=DayPilot.DateUtil.diff(n,t)/6e4%a==0;!r;)n=n.addHours(1),r=DayPilot.DateUtil.diff(n,t)/6e4%a==0;break;case"None":n=o;break;case"Cell":var l=this.Tg(t);n=l.current?l.current.end:l.past?l.previous.end:l.next.start;break;default:throw"Invalid cellGroupBy value"}return n.getTime()>o.getTime()&&(n=o),n},this.Sk={},this.Sk.timeheadercol="_timeheadercol",this.Sk.timeheadercolInner="_timeheadercol_inner",this.Sk.resourcedivider="_resourcedivider",this.Sk.eventFloat="_event_float",this.Sk.eventFloatInner="_event_float_inner",this.Sk.event="_event",this.Sk.eventInner="_event_inner",this.Sk.eventBar="_event_bar",this.Sk.eventBarInner="_event_bar_inner",this.Sk.eventDelete="_event_delete",this.Sk.eventLine="_event_line",this.Sk.eventMovingSource="_event_moving_source";var E=this.Sk;this.Vk=function(t,e){var n=this.nav.timeHeader,i=this.timeHeader[e][t],o=e<this.timeHeader.length-1,a=i.left,r=i.width,l=H.timeHeader(e),s=l.top,c=l.height,d=document.createElement("div");d.style.position="absolute",d.style.top=s+"px",d.style.left=a+"px",d.style.width=r+"px",d.style.height=c+"px",i.toolTip&&(d.title=i.toolTip),i.cssClass&&DayPilot.Util.addClass(d,i.cssClass),d.setAttribute("unselectable","on"),d.style.KhtmlUserSelect="none",d.style.MozUserSelect="none",d.style.webkitUserSelect="none",d.oncontextmenu=function(){return!1},d.cell={},d.cell.start=i.start,d.cell.end=i.end,d.cell.level=e,d.cell.th=i,d.onclick=this.Aj,d.style.overflow="hidden",u.timeHeaderTextWrappingEnabled||(d.style.whiteSpace="nowrap");var h=document.createElement("div");h.setAttribute("unselectable","on"),i.innerHTML&&(h.innerHTML=i.innerHTML),i.backColor&&(h.style.background=i.backColor);var f=this.p(E.timeheadercol),p=this.p(E.timeheadercolInner);o&&(f=this.p("_timeheadergroup"),p=this.p("_timeheadergroup_inner")),DayPilot.Util.addClass(d,f),DayPilot.Util.addClass(h,p),DayPilot.list(i.areas).each(function(t){t.start&&(t.left=u.getPixels(new DayPilot.Date(t.start)).left-a,t.end&&(t.width=u.getPixels(new DayPilot.Date(t.end)).left-t.left-a))}),d.appendChild(h),DayPilot.Areas.attach(d,i,{areas:i.areas}),this.s.timeHeader[t+"_"+e]=d,n.appendChild(d)},this._g=function(){if(u.cellStacking)return void _.calculateEventPositions();for(var t=0;t<this.rowlist.length;t++){var e=this.rowlist[t],n=e.getHeight()+e.marginBottom+e.marginTop;e.height!==n&&(this.nh=!0),e.height=n}},this.Xf=function(){var t=this.divHeader;if(!t)return!1;for(var e=this.rowlist.length,n=(this.rowHeaderCols&&this.rowHeaderCols.length,0),i=0;i<e;i++){var o=this.rowlist[i];if(!o.hidden){var a=this.oj?i:n;if(t.rows[a]){for(var r=0;r<t.rows[a].cells.length;r++){var l=t.rows[a].cells[r];this.oj&&(l.style.top=o.top+"px");var s=o.height;l&&l.firstChild&&parseInt(l.firstChild.style.height,10)!==s&&(l.firstChild.style.height=s+"px")}n++}}}this.oj&&u.nav.resScrollSpace&&(u.nav.resScrollSpace.style.top=u.Nf+"px")},this.Vc=function(t){var e=this.separators[t];e.location=e.location||e.Location,e.color=e.color||e.Color,e.layer=e.layer||e.Layer,e.width=e.width||e.Width,e.opacity=e.opacity||e.Opacity;var n=new DayPilot.Date(e.location),i=e.color,o=e.width?e.width:1,a=!!e.layer&&"AboveEvents"===e.layer,r=e.opacity?e.opacity:100;if(!(n.getTime()<this.Aa().getTime()||n.getTime()>=this.Ng().getTime())){var l=this.getPixels(n);if(!l.cut&&!(l.left<0||l.left>this.Si()*this.cellWidth)){var s=document.createElement("div");s.style.width=o+"px",s.style.height=u.Nf+"px",s.style.position="absolute",s.style.left=l.left-1+"px",s.style.top="0px",s.style.backgroundColor=i,s.style.opacity=r/100,s.style.filter="alpha(opacity="+r+")",a?this.divSeparatorsAbove.appendChild(s):this.divSeparators.appendChild(s),this.elements.separators.push(s)}}},this.Ak=function(t){if("Disabled"===u.timeRangeDoubleClickHandling)return!1;if(i.timeRangeTimeout&&(clearTimeout(i.timeRangeTimeout),i.timeRangeTimeout=null),!u.coords){var e=u.jg;u.coords=DayPilot.mo3(e,t)}if(t=t||window.event,t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,u.Xk(u.coords)){var n=u.xh(u.rangeHold);u._a(n.start,n.end,n.resource)}else if(i.range=u.Rk(),i.range){i.rangeCalendar=u;var n=u.xh(i.range);u._a(n.start,n.end,n.resource),u.rangeHold=i.range}},this.xk=function(t){if(!A.start&&!A.active){if(i.timeRangeTimeout,u.Yk(),u.vk(),!u.coords){var e=u.jg;u.coords=DayPilot.mo3(e,t)}if(i.rectangleSelect)return!1;t=t||window.event;var n=DayPilot.Util.mouseButton(t);if(n.middle||n.right&&u.Xk(u.coords))return!1;if(u.Xk(u.coords))return!1;var o=t.ctrlKey,a=t.metaKey,r=t.shiftKey,l=o||a,s={};if(s.action="None","Disabled"!==u.multiSelectRectangle&&r?s.action="RectangleSelect":"Disabled"!==u.timeRangeSelectedHandling&&(s.action="TimeRangeSelect"),s.shift=r,s.ctrl=r,s.meta=a,s.originalEvent=t,s.preventDefault=function(){s.action="None"},"function"==typeof u.onGridMouseDown&&u.onGridMouseDown(s),"None"===s.action)return t.preventDefault(),t.stopPropagation(),!1;if("RectangleSelect"===s.action){var c={};return c.start=u.coords,c.calendar=u,i.rectangleSelect=c,!1}u.allowMultiRange&&!l&&R.clear();var d=u.Xh(u.coords.y).i;return!u.rowlist[d].isNewRow&&(i.range=u.Rk(),i.range&&(i.range.ctrl=l,i.rangeCalendar=u),!1)}},this.Rk=function(){var t={},e=this.Rg(u.coords.x).x;return t.start={y:u.Xh(u.coords.y).i,x:e},t.end={x:e},this.bi(u.Xh(u.coords.y).i)?null:(t.calendar=u,u.zh(t),t)},this.dj=function(){u.Bc();var t=i.resizingShadow,e=i.resizing;!function(){var n=u.Zk,o={start:t.start,end:u.Ze(t.end)};t.original=o;var a=t.original;if(!a||!n||n.start!==a.start||n.end!==u.Ze(a.end)){var r={};r.start=o.start,r.end=o.end,r.duration=new DayPilot.Duration(r.start,r.end),r.e=e.event,r.allowed=!0,r.resizing="left"===i.resizing.dpBorder?"start":"end",r.left={},r.left.html=r.start.toString(u.eventResizingStartEndFormat,M.locale()),r.left.enabled=u.eventResizingStartEndEnabled,r.left.space=5,r.left.width=null,r.right={},r.right.html=r.end.toString(u.eventResizingStartEndFormat,M.locale()),r.right.enabled=u.eventResizingStartEndEnabled,r.right.space=5,r.right.width=null,r.multiresize=DayPilot.list(b.list);var l={};l.event=e,l.start=r.start,l.end=r.end,r.multiresize.splice(0,0,l),u.Zk=o,"function"==typeof u.onEventResizing&&u.onEventResizing(r),t.allowed=r.allowed;var s=r.start,c=u.ye(r.end);t.finalStart=s,t.finalEnd=c;var d=DayPilot.DateUtil.diff(s,c);d=Math.max(d,1);var h=M.useBox(d),f=h?u.getPixels(s).boxLeft:u.getPixels(s).left,p=h?u.getPixels(c).boxRight:u.getPixels(c).left;t.style.left=f+"px",t.style.width=p-f+"px",t.left=f,t.width=p-f,u.ej(i.resizingShadow,r),u.fj(i.resizingShadow,r)}}()},this.yk=function(t){if(i.rectangleSelect){var t=t||window.event;return t.cancelBubble=!0,t.preventDefault&&t.preventDefault(),i.gMouseUp(t),!1}if(S={},u.rangeHold&&DayPilot.Util.mouseButton(t).left){var e=u.rangeHold;if(u.Xk(u.coords)){var n=function(t){return function(){i.timeRangeTimeout=null;var e=u.xh(t);if(e){var n={};n.start=e.start,n.end=e.end,n.resource=e.resource,n.preventDefault=function(){n.preventDefault.value=!0},"function"==typeof u.onTimeRangeClick&&u.onTimeRangeClick(n),n.preventDefault.value||"function"==typeof u.onTimeRangeClicked&&u.onTimeRangeClicked(n)}}};"Disabled"!=u.timeRangeClickHandling&&("Disabled"===u.timeRangeDoubleClickHandling?n(e)():(clearTimeout(i.timeRangeTimeout),i.timeRangeTimeout=setTimeout(n(e),u.doubleClickTimeout)))}}},this.$k=function(){return i.resizing||i.moving||i.range},this.hj=function(t){if(!A.active){i.activeCalendar=u,t=t||window.event;var e=DayPilot.mc(t);if(u.coords=DayPilot.mo3(u.jg,t),t.insideMainD=!0,window.event&&window.event.srcElement&&(window.event.srcElement.inside=!0),S.start&&DayPilot.distance(S.originalMouse,e)>3&&(DayPilot.Util.copyProps(S,i),document.body.style.cursor="move",S={}),i.resizing&&i.resizingEvent.calendar===u)i.resizing.event||(i.resizing.event=i.resizingEvent),u._k();else if(i.moving&&(i.movingEvent.calendar===u||i.movingEvent.calendar.dragOutAllowed))i.moving.event||(i.moving.event=i.movingEvent),u.al();else if(i.range&&i.range.calendar===u)i.range.moved=!0,u.bl();else if(l.source){var n=l.source;p.drawShadow(n.coords,u.coords)}else i.rectangleSelect&&(i.rectangleSelect.moved=!0,T.draw());"Disabled"!==u.crosshairType&&u.cl(),u.dl();var o=t.insideEvent;if(window.event&&window.event.srcElement&&(o=window.event.srcElement.insideEvent),u.cellBubble&&u.coords&&u.rowlist&&u.rowlist.length>0&&!o){var a=u.Rg(u.coords.x).x,r=u.Xh(u.coords.y).i;if(0<=r&&r<u.rowlist.length&&0<=a&&a<u.itline.length){var s={};s.calendar=u,s.start=u.itline[a].start,s.end=u.itline[a].end,s.resource=u.rowlist[r].id,s.toJSON=function(){var t={};return t.start=this.start,t.end=this.end,t.resource=this.resource,t},u.cellBubble.showCell(s)}}if(i.drag){if(u.Yk(),i.gShadow&&document.body.removeChild(i.gShadow),i.gShadow=null,!i.movingShadow&&u.coords&&u.rowlist.length>0){if(!i.moving){i.moving=i.drag.schedulerSourceEvent||{};var d=i.drag.event;if(!d){var f=u.itline[0].start,t={id:i.drag.id,start:f,end:f.addSeconds(i.drag.duration),text:i.drag.text},v=i.drag.data;if(v){var g=["duration","element","id","text"];for(var m in v)DayPilot.contains(g,m)||(t[m]=v[m])}d=new DayPilot.Event(t),d.calendar=u}d.part.external=!0,i.drag.schedulerSourceEvent&&i.drag.schedulerSourceEvent.event.calendar===u&&(d.part.external=!1),i.moving.event=d,i.movingEvent=d}i.movingShadow=u.sa(i.moving)}t.cancelBubble=!0}if("Always"===u.autoScroll||"Drag"===u.autoScroll&&(i.moving||i.resizing||i.range)){var y=u.nav.scroll,b={x:u.coords.x,y:u.coords.y};b.x-=y.scrollLeft,b.x+=h.shiftX,b.y-=y.scrollTop;var w=y.clientWidth,D=y.clientHeight,C=30,k=b.x<C?b.x:0,x=w-b.x<C?w-b.x:0,P=b.y<C?b.y:0,_=D-b.y<C?D-b.y:0,a=0,r=0,E=50;k&&(a=-50*c(k,C)),x&&(a=E*c(x,C)),P&&(r=-50*c(P,C)/2),_&&(r=E*c(P,C)/2),(i.resizing||i.range)&&(r=0),a||r?u.fl(a,r):u.vk()}}},this.bl=function(){var t=i.range;t.end={x:u.Rg(u.coords.x).x},u.zh(t)},this._k=function(){i.resizingShadow||(i.resizingShadow=u.sa(i.resizing)),u.cj()},this.al=function(){if(i.movingShadow&&i.movingShadow.calendar!==u&&(i.movingShadow.calendar=null,DayPilot.de(i.movingShadow),i.movingShadow=null),!i.movingShadow){var t=i.moving;i.movingShadow=u.sa(t)}u.Ki(),i.moving.target=u,u.Mi()},this.gl={};var T=this.gl;T.start=function(){var t={};t.start=u.coords,t.calendar=u,i.rectangleSelect=t},T.draw=function(){var t=i.rectangleSelect,e=i.rectangleSelect.start,n=u.coords;T.clear();var o,a,r,l,s,c,h,f,p={x:t.x,y:t.y,width:t.width,height:t.height};if(function(){s=Math.min(e.x,n.x),h=Math.max(e.x,n.x),"Free"===u.multiSelectRectangle?(c=Math.min(e.y,n.y),f=Math.max(e.y,n.y)):"Row"===u.multiSelectRectangle&&(c=e.y,f=e.y)}(),"Free"===u.multiSelectRectangle)o=s,a=c,r=h-s,l=f-c;else{if("Row"!==u.multiSelectRectangle)throw"Invalid DayPilot.Scheduler.multiSelectRectangle value: "+u.multiSelectRectangle;var v=u.Xh(c).i,g=u.rowlist[v];a=g.top,l=g.height,o=u.Rg(s).cell.left;var m=u.Rg(h).cell;r=m.left+m.width-o}var y=DayPilot.Util.div(u.divRectangle,o,a,r,l);if(y.style.boxSizing="border-box",y.style.backgroundColor="#0000ff",y.style.border="1px solid #000033",y.style.opacity=.4,t.x=o,t.y=a,t.width=r,t.height=l,(t.x!==p.x||t.y!==p.y||t.width!==p.width||t.height!==p.height)&&"function"==typeof u.onRectangleEventSelecting){var b={};b.events=d.eventsInRectangle(t.x,t.y,t.width,t.height).map(function(t){return t.event}),b.start=u.getDate(t.x,!0),b.end=u.getDate(t.x+t.width,!0),u.onRectangleEventSelecting(b)}},T.clear=function(){u.divRectangle.innerHTML="",u.elements.rectangle=[]},this.hl=function(){var t,e;return u.coords&&u.rowlist&&u.rowlist.length>0&&u.itline&&u.itline.length>0?(t=u.Rg(u.coords.x).x,(e=u.Xh(u.coords.y).i)>=u.rowlist.length?void 0:u.cells.findXy(t,e)[0]):null},this.dl=function(){var t=this.hl();if(this.hover.cell){if(this.hover.cell.x===t.x&&this.hover.cell.y===t.y)return;this.wk()}if(this.hover.cell=t,"function"==typeof this.onCellMouseOver){var e={};e.cell=t,this.onCellMouseOver(e)}},this.wk=function(){if(this.hover.cell){if("function"==typeof this.onCellMouseOut){var t={};t.cell=this.hover.cell,this.onCellMouseOut(t)}this.hover.cell=null}},this.hover={},this.cl=function(){var t=this.hl();this.hover.cell&&this.hover.cell.x===t.x&&this.hover.cell.y===t.y||this.Ac()},this.Yk=function(){this.divCrosshair.innerHTML="",this.il=null,this.jl=null},this.S=function(){if(this.Yk(),this.kl&&this.kl.parentNode&&(this.kl.parentNode.removeChild(this.kl),this.kl=null),this.ll){for(var t=0;t<this.ll.length;t++){var e=this.ll[t];e.parentNode&&e.parentNode.removeChild(e)}this.ll=null}this.Mf=-1,this.Lf=-1},this.Ac=function(){var t,e;if(u.coords&&u.rowlist&&u.rowlist.length>0&&(t=u.Rg(u.coords.x).x,!((e=u.Xh(u.coords.y).i)>=u.rowlist.length))){var n=this.crosshairType,i=u.rowlist[e];if("Full"===n){var o=this.itline[t],a=o.left,r=this.il;if(!r){var r=document.createElement("div");r.style.height=u.Nf+"px",r.style.position="absolute",r.style.top="0px",r.className=u.p("_crosshair_vertical"),this.il=r,this.divCrosshair.appendChild(r)}r.style.left=a+"px",r.style.width=o.width+"px";var l=i.top,s=i.height,c=this.xg(),r=this.jl;if(!r){var r=document.createElement("div");r.style.width=c+"px",r.style.height=s+"px",r.style.position="absolute",r.style.top=l+"px",r.style.left="0px",r.className=u.p("_crosshair_horizontal"),this.jl=r,this.divCrosshair.appendChild(r)}r.style.top=l+"px",r.style.height=s+"px"}var d=this.ml(this.coords.x);if(d&&this.Mf!==d.x){this.kl&&this.kl.parentNode&&(this.kl.parentNode.removeChild(this.kl),this.kl=null);var s=H.timeHeader(u.timeHeaders.length-1).height,r=document.createElement("div");r.style.width=d.cell.width+"px",r.style.height=s+"px",r.style.left="0px",r.style.top="0px",r.style.position="absolute",r.className=u.p("_crosshair_top"),this.kl=r;var h=this.divNorth,f=this.timeHeader?this.timeHeader.length-1:1;this.nav.timeHeader?this.s.timeHeader[d.x+"_"+f].appendChild(r):h.firstChild.rows[f].cells[t]&&h.firstChild.rows[f].cells[t].firstChild.appendChild(r)}if(this.Lf!==e){if(this.ll){for(var p=0;p<this.ll.length;p++){var v=this.ll[p];v.parentNode&&v.parentNode.removeChild(v)}this.ll=null}if(this.rowHeaderCols&&this.rowHeaderCols.length,this.ll=[],this.divHeader.rows[e])for(var p=0;p<this.divHeader.rows[e].cells.length;p++){var c=u.Ag(),r=document.createElement("div");r.style.width=c+"px",r.style.height=i.height+"px",r.style.left="0px",r.style.top="0px",r.style.position="absolute",r.className=u.p("_crosshair_left"),this.ll.push(r),this.divHeader.rows[e].cells[p].firstChild.appendChild(r)}}d&&(this.Mf=d.x),this.Lf=e}},this.Vi=function(t,e){var n=u.timeHeader[t];if(!n)return null;for(var i=0;i<n.length;i++){var o=n[i];if(e>=o.left&&e<o.left+o.width){var a={};return a.cell=o,a.x=i,a}}return null},this.ml=function(t){return u.Vi(u.timeHeader.length-1,t)},this.zk=function(t){if(t=t||window.event,"Disabled"===u.timeRangeSelectedHandling)return!1;if("Disabled"===u.timeRangeRightClickHandling)return!1;var e=null;if(e=u.Xk(u.coords)?u.xh(u.rangeHold):u.xh()){e.end=u.Ze(e.end);var n={};return n.start=e.start,n.end=e.end,n.resource=e.resource,n.preventDefault=function(){this.preventDefault.value=!0},("function"!=typeof u.onTimeRangeRightClick||(u.onTimeRangeRightClick(n),!n.preventDefault.value))&&("ContextMenu"===u.timeRangeRightClickHandling&&u.contextMenuSelection&&u.contextMenuSelection.show(e),"function"==typeof u.onTimeRangeRightClicked&&u.onTimeRangeRightClicked(n),t.cancelBubble=!0,!!u.allowDefaultContextMenu&&void 0)}},this.Xk=function(t){var e=u.rangeHold;if(!e||!e.start||!e.end)return!1;var n=this.gi(e.start.y),i=e.start.x<e.end.x,o=(i?e.start.x:e.end.x)*this.cellWidth,a=(i?e.end.x:e.start.x)*this.cellWidth+this.cellWidth,r=n.top,l=n.bottom;return t.x>=o&&t.x<=a&&t.y>=r&&t.y<=l},this.zh=function(t,e){function n(t){var e=t.end.x>t.start.x?t.start.x:t.end.x,n=t.end.x>t.start.x?t.end.x:t.start.x,i=t.start.y,o=(u.rowlist[i],u.itline[e]),a=u.itline[n],r=o.left,l=a.left+a.width,s=l-r,c=u.elements.range2;if(!c){c=document.createElement("div"),c.style.position="absolute",c.setAttribute("unselectable","on"),c.className=u.p("_shadow");var d=document.createElement("div");d.className=u.p("_shadow_inner"),c.appendChild(d),u.divRange.appendChild(c)}return c.style.left=o.left+"px",c.style.top=u.rowlist[i].top+"px",c.style.width=s+"px",c.style.height=u.rowlist[i].height-1+"px",u.elements.range2=c,function(){var t=u.rowlist[i],e=o.left;u._i(c,t,e,s,null)}(),c}var t=t||i.range;t&&t.calendar===u&&function(){var i=t.end.x>t.start.x?t.start.x:t.end.x,o=t.end.x>t.start.x?t.end.x:t.start.x,a=t.start.y,r=u.rowlist[a];if(r){var l=u.itline[i],s=u.itline[o],c=u.nl,d=l.start.addTime(r.data.offset),h=s.end.addTime(r.data.offset);if(e||!c||c.start.getTime()!==d.getTime()||c.end.getTime()!==h.getTime()||c.resource!==u.rowlist[a].id){var f={start:d,end:u.Ze(h)},p={};p.start=f.start,p.end=f.end,p.duration=new DayPilot.Duration(f.start,f.end),p.resource=u.rowlist[a].id,p.allowed=!0,p.left={},p.left.html=p.start.toString(u.timeRangeSelectingStartEndFormat,M.locale()),p.left.enabled=u.timeRangeSelectingStartEndEnabled,p.left.space=5,p.left.width=null,p.right={},p.right.html=p.end.toString(u.timeRangeSelectingStartEndFormat,M.locale()),p.right.enabled=u.timeRangeSelectingStartEndEnabled,p.right.space=5,p.right.width=null,u.nl=p,"function"!=typeof u.onTimeRangeSelecting||e||u.onTimeRangeSelecting(p);var v=u.ol(t);u.yh(v,p.start,p.end);var g=n(v);u.ej(g,p),t.Tk=v,t.disabled=!p.allowed,u.fj(g,p),p.start=f.start,p.end=f.end}}}()},this.ol=function(t){return{start:{x:t.start.x,y:t.start.y},end:{x:t.end.x},disabled:t.disabled,calendar:t.calendar}},this.range={},this.range.all=function(){return R.get()},this.pl={};var R=this.pl;this.pl.list=[],this.pl.clear=function(){DayPilot.de(DayPilot.list(R.list).map(function(t){return t.div})),R.list=[]},this.pl.add=function(t){t.div=u.elements.range2,u.elements.range2=null,u.gj(),R.list.push(t)},this.pl.get=function(){return DayPilot.list(R.list).map(function(t){return u.xh(t)})},this.pl.dispatch=function(){if(u.allowMultiRange&&!i.range){var t=DayPilot.list(R.list).last();u.wh(t)}},this.ql=function(t){if("Disabled"===u.timeRangeSelectedHandling)return!1;if(!A.active&&!A.start){t=t||window.event;var e=DayPilot.Util.mouseButton(t);if(!i.range&&!i.rectangleSelect&&!(u.rangeHold&&u.Xk(u.coords)&&(e.right||e.middle)||u.bi(u.Xh(u.coords.y).i))){var n={},o=u.Rg(u.coords.x).x;n.start={y:u.Xh(u.coords.y).i,x:o},n.end={x:o},n.calendar=u,u.rangeHold=n,u.wh(n)}}},this.timeouts={},this.timeouts.drawEvents=null,this.timeouts.drawCells=null,this.timeouts.click=null,this.timeouts.resClick=[],this.timeouts.updateFloats=null,this.disableOnScroll=!1,this.fg=function(t){if(!u.disableOnScroll){if(u.Pf(),h.isEnabled()&&!h.active&&u.z&&"Auto"!=u.cellWidthSpec&&(u.nav.scroll.scrollLeft<u.If?(h.active=!0,setTimeout(function(){h.shiftStart(-u.Jf)},100)):u.nav.scroll.scrollWidth-(u.nav.scroll.scrollLeft+u.nav.scroll.clientWidth)<u.If&&(h.active=!0,setTimeout(function(){h.shiftStart(u.Jf)},100))),u.navigatorBackSync&&function(){var t=DayPilot.Util.evalVariable(u.navigatorBackSync),e=u.getViewPort().start;t.select(e,{dontNotify:!0,dontFocus:!0})}(),u.dynamicLoading)return u.pf(),void u.rl();var e=u.nav.scroll;u.Ti=e.scrollLeft,u.Ri=e.scrollTop,u.Ui=e.clientWidth,u.divTimeScroll.scrollLeft=u.Ti,u.divResScroll.scrollTop=u.Ri,u.timeouts.drawEvents&&(clearTimeout(u.timeouts.drawEvents),u.timeouts.drawEvents=null),u.scrollDelayEvents>0?u.timeouts.drawEvents=setTimeout(u.sl(),u.scrollDelayEvents):u.na(),u.timeouts.drawCells&&(clearTimeout(u.timeouts.drawCells),u.timeouts.drawCells=null),u.scrollDelayCells>0?u.timeouts.drawCells=setTimeout(u.ul(),u.scrollDelayCells):u.ul()(),u.timeouts.updateFloats&&(clearTimeout(u.timeouts.updateFloats),u.timeouts.updateFloats=null),u.scrollDelayFloats>0?u.timeouts.updateFloats=setTimeout(function(){u.dg()},u.scrollDelayFloats):u.dg(),u.onScrollCalled=!0}},this.ul=function(){return function(){u&&(u.pf(),u._f())}},this.sl=function(){var t=u.dynamicEventRenderingCacheSweeping,e=u.dynamicEventRenderingCacheSize;return function(){u&&(u.Jk()?window.setTimeout(function(){t&&u.Gk(e),window.setTimeout(function(){u.na(!0)},50)},50):u.rg())}},this.Pf=function(){this.s.eventHeight=null,this.s.drawArea=null},this.show=function(){this.visible=!0,this.Kf=!0,u.nav.top.style.display="",this.ma(),this.Wf(),this.oi(),u.fg()},this.hide=function(){this.visible=!1,this.Kf=!1,u.nav.top.style.display="none"},this.vl=function(){},this.rl=function(){var t=u.nav.scroll;u.Ti=t.scrollLeft,u.Ri=t.scrollTop,u.Ui=t.clientWidth,u.divTimeScroll.scrollLeft=u.Ti,u.divResScroll.scrollTop=u.Ri,u.refreshTimeout&&window.clearTimeout(u.refreshTimeout);var e=u.scrollDelayDynamic;u.refreshTimeout=window.setTimeout(u.wl(t.scrollLeft,t.scrollTop),e),u.dg()},this.xl=function(t){for(var e=t.id,n=new DayPilot.Date(t.start).toString(),i=0;i<this.events.list.length;i++){var o=this.events.list[i];if(o.id===e){if(DayPilot.Util.isNullOrUndefined(e)&&!DayPilot.Util.isNullOrUndefined(t.recurrentMasterId)){var a=new DayPilot.Date(o.start).toString();if(o.recurrentMasterId!==t.recurrentMasterId||n!==a)continue}var r={};return r.ex=o,r.index=i,r.modified=!u.yl(t,o),r}}return null},this.yl=function(t,e){for(var n in t)if(("object"!=typeof t[n]||t[n]instanceof DayPilot.Date)&&t[n]!==e[n])return!1;for(var n in e)if("object"!=typeof e[n]&&t[n]!==e[n])return!1;return!0},this.bg=function(t,e){for(var n=[],i=0;i<t.length;i++){var o=t[i],a=u.xl(o),r=a&&a.modified,l=!a;if(r){this.events.list[a.index]=o;var s=u.events.Yg(a.ex);n=n.concat(s)}else l&&this.events.list.push(o);(r||l)&&(n=n.concat(u.events.Zg(o)))}u.$g(n),u._g(),u.Vf(),u.ia(),u.L(),u.Yf(),u.Xf(),u._f(),u.na()},this.wl=function(t,e){return u.q()?function(){u.scrollX=t,u.scrollY=e,u.F("Scroll")}:function(){if("function"==typeof u.onScroll){var t=function(t){var e=function(){if(u.ra()&&"function"==typeof u.onAfterRender){var t={};t.isCallBack=!1,t.isScroll=!0,t.data=null,u.onAfterRender(t)}};u.bg(t,e)},e={};e.viewport=u.getViewPort(),e.async=!1,e.events=[],e.loaded=function(){this.async&&t(this.events)},u.onScroll(e),e.async||t(e.events)}}},this.zl=function(){var t=this.og(),e=t.xStart,n=t.xEnd-t.xStart,i=t.yStart,o=t.yEnd-t.yStart;this.cellProperties||(this.cellProperties={});for(var a=0;a<=n;a++){for(var r=e+a,l=0;l<o;l++){var s=i+l;this.rowlist[s].hidden||this.Ue(r,s)}this.Al(r)}for(var c=this.kj(),s=c.start;s<c.end;s++)this.rowlist[s].hidden||this.Bl(s)},this._f=function(){if(!u.xd){if(u.progressiveRowRendering&&this.fh(),null!==this.rowlist&&this.rowlist.length>0){if(this.cellSweeping){var t=this.cellSweepingCacheSize;this.Ik(t)}this.zl(),this.Cl(),k.Ij()}this.nh=!1}},this.Cl=function(){for(var t=this.og(),e=t.xStart;e<t.xEnd;e++)e<this.itline.length-1&&this.itline[e+1].breakBefore&&this.Dl(e)},this.Dl=function(t){var e="x"+t;if(!this.s.breaks[e]){var n=this.itline[t+1].left-1,i=this.Nf,o=document.createElement("div");o.style.left=n+"px",o.style.top="0px",o.style.width="1px",o.style.height=i+"px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.setAttribute("unselectable","on"),o.className=this.p("_matrix_vertical_break"),this.divBreaks.appendChild(o),this.elements.breaks.push(o),this.s.breaks[e]=o}},this.og=function(){if(u.s.drawArea)return u.s.drawArea;if(!this.nav.scroll)return null;var t=u.Ri,e={},n=this.dynamicEventRenderingMargin,n=null!=this.dynamicEventRenderingMarginX?this.dynamicEventRenderingMarginX:this.dynamicEventRenderingMargin,i=null!=this.dynamicEventRenderingMarginY?this.dynamicEventRenderingMarginY:this.dynamicEventRenderingMargin,o=u.Ti-n-h.shiftX,a=o+u.Ui+2*n,r=0,l=0;if(u.itline&&u.itline.length>0){r=u.Rg(o).x,l=u.Rg(a,!0).x;var s=this.Si();l=Math.min(l,s),r=Math.max(r,0)}var c=t-i,d=t+this.nav.scroll.offsetHeight+2*i,f=this.Xh(c).i,p=this.Xh(d).i;return p<this.rowlist.length&&p++,e.xStart=r,e.xEnd=l,e.yStart=f,e.yEnd=p,e.pixels={},e.pixels.left=this.nav.scroll.scrollLeft-h.shiftX,e.pixels.right=this.nav.scroll.scrollLeft-h.shiftX+this.nav.scroll.clientWidth,e.pixels.top=this.nav.scroll.scrollTop,e.pixels.bottom=this.nav.scroll.scrollTop+this.nav.scroll.clientHeight,e.pixels.width=this.nav.scroll.scrollWidth,u.s.drawArea=e,e},this.xg=function(){var t=0,e=this.itline[this.itline.length-1];return t=e?e.left+e.width:0,(t<0||isNaN(t))&&(t=0),t},this.Bl=function(t){var e="y"+t;if(!this.s.linesHorizontal[e]){var n=this.rowlist[t].top+this.rowlist[t].height-1,i=this.xg(),o=document.createElement("div");o.style.left="0px",o.style.top=n+"px",o.style.width=i+"px",o.style.height="1px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.setAttribute("unselectable","on"),o.className=this.p("_matrix_horizontal_line"),this.divLines.appendChild(o),this.s.linesHorizontal[e]=o}},this.Al=function(t){var e=this.itline[t];if(e){var n="x"+t;if(!this.s.linesVertical[n]){var i=e.left+e.width-1,o=document.createElement("div");o.style.left=i+"px",o.style.top="0px",o.style.width="1px",o.style.height=u.Nf+"px",o.style.fontSize="1px",o.style.lineHeight="1px",o.style.overflow="hidden",o.style.position="absolute",o.setAttribute("unselectable","on"),o.className=this.p("_matrix_vertical_line"),this.divLines.appendChild(o),this.elements.linesVertical.push(o),this.s.linesVertical[n]=o}}},this.Li=function(t){var e=this.rowlist[t],n=!e.expanded;e.expanded=n,e.resource&&(e.resource.expanded=n);var i=this.El(t,e.expanded);if(!n)for(var o=0;o<i.length;o++){var a=i[o];this.oh(a)}if(this.Vf(),this.Tf(),this.ia(),this.Pf(),n){for(var o=0;o<i.length;o++){var a=i[o];this.ph(a)}this.rg()}this.qh(),p.load(),this.Yf(),this._f(),this.na(),this.pf();var r=this.Dh(e,t);n?this.Mh(r):this.Lh(r),this.Pf()},this.zj=function(t){var e={};if(e.index=t,"function"==typeof this.onLoadNode){var n={},i=this.rowlist[t].resource;n.resource=i,n.async=!1,n.loaded=function(){this.async&&(i.dynamicChildren=!1,i.expanded=!0,u.update())},this.onLoadNode(n),n.async||(i.dynamicChildren=!1,i.expanded=!0,this.update())}else this.F("LoadNode",e)},this.El=function(t,e){var n=this.rowlist[t],i=[];if(null===n.children||0===n.children.length)return i;for(var o=0;o<n.children.length;o++){var a=n.children[o],r=this.rowlist[a],l=e&&n.expanded&&!r.Zj;r.hidden=!l,e===!r.hidden&&i.push(a);var s=this.El(a,e);s.length>0&&(i=i.concat(s))}return i},this.fl=function(t,e){this.vk(),this.Fl(t,e)},this.Gl=function(t){if(!t)return!1;var e=this.nav.scroll.scrollWidth,n=this.nav.scroll.scrollLeft,i=this.nav.scroll.clientWidth,o=n+i;return!(t<0&&n<=0||t>0&&o>=e||(this.nav.scroll.scrollLeft+=t,u.coords.x+=t,u.Hl(),0))},this.Il=function(t){if(!t)return!1;var e=this.nav.scroll.scrollHeight,n=this.nav.scroll.scrollTop,i=this.nav.scroll.clientHeight,o=n+i;return!(t<0&&n<=0||t>0&&o>=e||(this.nav.scroll.scrollTop+=t,u.coords.y+=t,u.Hl(),0))},this.Hl=function(){i.resizing&&i.resizing.event.calendar===u?u._k():i.moving&&(i.movingEvent.calendar===u||i.movingEvent.calendar.dragOutAllowed)?(i.moving.event||(i.moving.event=i.movingEvent),u.al()):i.range&&i.range.calendar===u&&u.bl()},this.Fl=function(t,e){if(this.Gl(t)||this.Il(e)){var n=function(t,e){return function(){u.Fl(t,e)}};this.Jl=window.setTimeout(n(t,e),100)}},this.vk=function(){u.Jl&&(window.clearTimeout(u.Jl),u.Jl=null)},this.Vf=function(){for(var t=0,e=0;e<this.rowlist.length;e++){var n=this.rowlist[e];n.hidden||(n.top=t,t+=n.height)}this.Nf=t},this.Yf=function(){this.elements.cells=[],this.elements.breaks=[],this.s.cells=[],this.s.breaks=[],this.divCells.innerHTML="",this.divBreaks.innerHTML="",u.sj()},this.sj=function(){this.divLines.innerHTML="",this.s.linesVertical={},this.s.linesHorizontal={},this.elements.linesVertical=[]},this.rh=function(t){var e=DayPilot.list();for(var n in u.s.cells)e.push(u.s.cells[n]);e.filter(function(e){return e&&e.coords&&e.coords.y===t}).each(function(t){u.qi(t)})},this.Kl=0,this.Ll=DayPilot.list(["html","cssClass","backColor","backImage","backRepeat","areas"]),this.Ml=u.Ll.add("business"),this.Ue=function(t,e){if(this.z){var n=u.Vg(t);if(n){var i=t+"_"+e;if(!this.s.cells[i]){var o=this.ri(t,e);if(u.Xi(t,e),!this.drawBlankCells){var a=!1;if(this.Ii(e)?a=!1:this.Nl(o,u.Ll)||(a=!0),a)return}var r=document.createElement("div");if(r.style.left=n.left+"px",r.style.top=this.rowlist[e].top+"px",r.style.width=n.width+"px",r.style.height=this.rowlist[e].height+"px",r.style.position="absolute",o&&o.backColor&&(r.style.backgroundColor=o.backColor),r.setAttribute("unselectable","on"),r.className=this.p("_cell"),r.coords={},r.coords.x=t,r.coords.y=e,this.Ii(e)&&DayPilot.Util.addClass(r,this.p("_cellparent")),o){o.cssClass&&DayPilot.Util.addClass(r,o.cssClass),DayPilot.Util.isNullOrUndefined(o.html)||(r.innerHTML=o.html),o.backImage&&(r.style.backgroundImage='url("'+o.backImage+'")'),o.backRepeat&&(r.style.backgroundRepeat=o.backRepeat),o.business&&u.cellsMarkBusiness&&DayPilot.Util.addClass(r,u.p("_cell_business")),DayPilot.list(o.areas).each(function(t){(t.start||t.end)&&(t.left=u.getPixels(new DayPilot.Date(t.start)).left-n.left,t.width=u.getPixels(new DayPilot.Date(t.end)).left-t.left-n.left)});var l=u.cells.findXy(t,e)[0];DayPilot.Areas.attach(r,l,{areas:o.areas})}this.divCells.appendChild(r),this.elements.cells.push(r),this.s.cells[i]=r}}}},this.gh={},this.oi=function(){u.Ol().each(function(t){u.rh(t)}),u._f()},this.Ol=function(){for(var t=DayPilot.list(),e=this.og(),n=e.xStart,i=e.xEnd-e.xStart,o=e.yStart,a=e.yEnd-e.yStart,r=0;r<a;r++)for(var l=o+r,s=0;s<=i;s++){var c=n+s;if(!this.rowlist[l].hidden&&!u.gh[c+"_"+l]){t.push(l);break}}return t},this.Xi=function(t,e){if("function"==typeof this.onBeforeCellRender){if(u.beforeCellRenderCaching&&u.gh[t+"_"+e])return;u.gh[t+"_"+e]=!0;var n=u.Vg(t);if(!n)return;var i=u.cells.findXy(t,e)[0],o={};return o.cell=i,o.getPixels=function(t){var t=new DayPilot.Date(t);return u.getPixels(t).left-n.left},this.onBeforeCellRender(o),DayPilot.Util.copyProps(o.cell,o.cell.properties,u.Ml),o}},this.Nl=function(t,e){if(e){for(var n=0;n<e.length;n++)if(!DayPilot.Util.isNullOrUndefined(t[e[n]]))return!0}else for(var i in t)if(!DayPilot.Util.isNullOrUndefined(t[i]))return!0;return!1},this.clearSelection=function(){this.cg(),R.clear()},this.cleanSelection=this.clearSelection,this.selectTimeRange=function(t,e,n,i){var o=u.mg(n),a=u.Tg(t),r=a.current||a.next;if(!r)throw new DayPilot.Exception("Time range selection 'start' out of timeline");var l=u.Tg(new DayPilot.Date(e).addSeconds(-1)),s=l.current||l.previous;if(!s)throw new DayPilot.Exception("Time range selection 'end' out of timeline");var c={};c.start={y:o.index,x:DayPilot.indexOf(u.itline,r)},c.end={x:DayPilot.indexOf(u.itline,s)},c.calendar=this,u.zh(c),i||setTimeout(function(){u.wh(c)},0)},this.vh=function(){DayPilot.de(i.movingShadow),i.movingShadow=null,u.gj(),u.bj.clear()},this.cg=function(){this.divRange.innerHTML='<div style="position:absolute; left:0px; top:0px; width:0px; height:0px;"></div>',this.elements.range=[],this.elements.range2=null,this.gj(),u.rangeHold=null},this.qc={};var M=this.qc;M.clearCache=function(){delete u.s.eventHeight,delete u.s.headerHeight},M.locale=function(){return DayPilot.Locale.find(u.locale)},M.timeFormat=function(){return"Auto"!==u.timeFormat?u.timeFormat:M.locale().timeFormat},M.weekStarts=function(){if("Auto"===u.weekStarts){var t=M.locale();return t?t.weekStarts:0}return u.weekStarts||0},M.rounded=function(){return"Rounded"===u.eventCorners},M.layout=function(){var t=/MSIE 6/i.test(navigator.userAgent);return"Auto"===u.layout?t?"TableBased":"DivBased":u.layout},M.notifyType=function(){var t;if("Immediate"===u.notifyCommit)t="Notify";else{if("Queue"!==u.notifyCommit)throw"Invalid notifyCommit value: "+u.notifyCommit;t="Queue"}return t},M.isResourcesView=function(){return"Days"!==u.viewType},M.useBox=function(t){return"Always"===u.useEventBoxes||"Never"!==u.useEventBoxes&&t<60*u.zi()*1e3},M.eventHeight=function(){if(u.s.eventHeight)return u.s.eventHeight;var t=u.fd("_event_height").height;return t||(t=u.eventHeight),u.s.eventHeight=t,t},M.headerHeight=function(){if(u.s.headerHeight)return u.s.headerHeight;var t=u.fd("_header_height").height;return t||(t=u.headerHeight),u.s.headerHeight=t,t},M.splitterWidth=function(){return u.rowHeaderScrolling?u.rowHeaderSplitterWidth:1},this.Pl={};var H=this.Pl;H.timeHeader=function(t){var e={};e.top=0,e.height=0;for(var n=M.headerHeight(),i=0;i<=t;i++){var o=u.timeHeaders[i];e.top+=e.height,e.height=o.height||n}return e},this.zc=function(t,e){var n=t+"_"+e;return this.cellProperties&&this.cellProperties[n]?this.cellProperties[n].backColor:null},this.ri=function(t,e){var n=t+"_"+e;if(u.cellConfig)for(var i=0,o=0;o<u.resources.length;o++)if(!u.resources[o].hidden){if(i===e){e=o;break}i+=1}if(this.cellProperties||(this.cellProperties={}),this.cellProperties[n])return this.cellProperties[n];if(this.Ff&&(this.cellProperties[n]=u.Ql(t,e)),!this.cellProperties[n]){var a=u.rowlist[e],r=a.id,l=a.start.getTime()-u.Aa().getTime(),s=u.Vg(t),c=s.start.addTime(l),d=s.end.addTime(l),h={};h.start=c,h.end=d,h.resource=r;var f={};f.business=u.isBusiness(h),this.cellProperties[n]=f}return this.cellProperties[n]},this.Rl=function(t,e,n){var i=e+"_"+n;return this.cellProperties[i]={},DayPilot.Util.copyProps(t,this.cellProperties[i],u.Ml),this.cellProperties[i]},this.Ql=function(t,e){if(!this.cellConfig)return null;var n=this.cellConfig,i=this.cellProperties[t+"_"+e];!i&&n.vertical&&(i=this.cellProperties[t+"_0"]),!i&&n.horizontal&&(i=this.cellProperties["0_"+e]),!i&&n.default&&(i=n.default);var o={};return DayPilot.Util.copyProps(i,o,u.Ml),o},this._=function(){if(!this.Ff&&!this.Gf&&(this.Gf=!0,this.cellConfig)){var t=this.cellConfig;if(t.vertical)for(var e=0;e<t.x;e++){var n=this.cellProperties[e+"_0"];if(n)for(var i=1;i<t.y;i++)this.Rl(n,e,i)}if(t.horizontal)for(var i=0;i<t.y;i++){var n=this.cellProperties["0_"+i];if(n)for(var e=1;e<t.x;e++)this.Rl(n,e,i)}if(t.default)for(var n=t.default,i=0;i<t.y;i++)for(var e=0;e<t.x;e++)this.cellProperties[e+"_"+i]||this.Rl(n,e,i)}},this.isBusiness=function(t){var e=t.start,n=t.end,i=(n.getTime()-e.getTime())/6e4;if(i<=1440&&"Days"!==u.viewType&&!u.businessWeekends&&(0===t.start.dayOfWeek()||6===t.start.dayOfWeek()))return!1;if(i<720){var o=e.getHours();if(o+=e.getMinutes()/60,o+=e.getSeconds()/3600,(o+=e.getMilliseconds()/36e5)<this.businessBeginsHour)return!1;if(this.businessEndsHour>=24)return!0;if(o>=this.businessEndsHour)return!1}return!0},this.ma=function(){"hidden"===this.nav.top.style.visibility&&(this.nav.top.style.visibility="visible")},this.Lc=function(){var t=u.nav.top;return!!t&&t.offsetWidth>0&&t.offsetHeight>0},this.Mc=function(){var t=u.Lc;t()||(u.Nc=setInterval(function(){t()&&(clearInterval(u.Nc),u.show(),u.mj())},100))},this.Sl=function(t){"Parent100Pct"!==this.heightSpec&&(this.heightSpec="Fixed"),this.height=t-(this.zg()+2),this.ia()},this.setHeight=this.Sl,this.mg=function(t){return DayPilot.list(D.rowcache[t]).first()},this.hd=function(){if(this.id&&this.id.tagName)this.nav.top=this.id;else{if("string"!=typeof this.id)throw"DayPilot.Scheduler() constructor requires the target element or its ID as a parameter";if(this.nav.top=document.getElementById(this.id),!this.nav.top)throw"DayPilot.Scheduler: The placeholder element not found: '"+t+"'."}},this.Tl=function(){this.bd(),this.Sf(),this.Wf(),this.Pc(),this.P(),i.register(this),this.X(this.afterRenderData,!1),this.Dk(),this.Mc(),this.qa(),this.F("Init")},this.init=function(){this.Ul(),this.Mc(),this.pk()},this.Ul=function(){if(this.hd(),!this.nav.top.dp){if(this.ck(),this.gd())return this.Tl(),this.z=!0,void this.Pf();this.Pc(),this.P(),i.register(this),this.Dk(),this.ad(),this.z=!0,u.scrollToDate?u.scrollTo(u.scrollToDate):u.scrollX||u.scrollY?u.setScroll(u.scrollX,u.scrollY):u.fg(),u.scrollToResourceId&&(u.scrollToResource(u.scrollToResourceId),u.scrollToResourceId=null);var t=function(){u.scrollY&&u.setScroll(u.scrollX,u.scrollY)};window.setTimeout(t,200),this.messageHTML&&window.setTimeout(function(){u.message(u.messageHTML)},0),this.qa(),this.Pf(),this.X(this.afterRenderData,!1),u.initEventEnabled&&setTimeout(function(){u.F("Init")}),this.kd(),this.Zh=!0}},this.ld=null,this.md=function(t){if(t){var e={events:{preInit:function(){var t=this.data;t&&(DayPilot.isArray(t.list)?u.events.list=t.list:u.events.list=t)},postInit:function(){}},scrollTo:{preInit:function(){},postInit:function(){this.data&&u.scrollTo(this.data,t.scrollToAnimated,t.scrollToPosition)}},scrollX:{postInit:function(){this.data&&u.setScrollX(this.data)}},scrollY:{postInit:function(){this.data&&u.setScrollY(this.data)}}};u.ld=e,u.gg.scrollToRequested&&(e.scrollTo.data=u.gg.scrollToRequested,u.gg.scrollToRequested=null),u.gg.scrollXRequested&&(e.scrollX.data=u.gg.scrollXRequested,u.gg.scrollXRequested=null),u.gg.scrollYRequested&&(e.scrollY.data=u.gg.scrollYRequested,u.gg.scrollYRequested=null);for(var n in t)if(e[n]){var i=e[n];i.data=t[n],i.preInit&&i.preInit()}else u[n]=t[n]}},this.kd=function(){var t=u.ld;for(var e in t){var n=t[e];n.postInit&&n.postInit()}u.ld={}},this.temp={},this.temp.getPosition=function(){var t=Math.floor(u.coords.x/u.cellWidth),e=u.Xh(u.coords.y).i;if(e<u.rowlist.length){var n={};return n.start=u.itline[t].start,n.end=u.itline[t].end,n.resource=u.rowlist[e].id,n}return null},this.internal={},this.internal.initialized=function(){return u.z},this.internal.dragInProgress=this.$k,this.internal.invokeEvent=this.Pa,this.internal.eventMenuClick=this.Ya,this.internal.timeRangeMenuClick=this.Za,this.internal.resourceHeaderMenuClick=this.Bh,this.internal.linkMenuClick=this.Ah,this.internal.bubbleCallBack=this.Wa,this.internal.findEventDiv=this._c,this.internal.rowtools=this.Jh,this.internal.getNodeChildren=this.V,this.internal.callback=function(){u.F.apply(u,arguments)},this.internal.createRowObject=this.Dh,this.internal.adjustEndIn=u.ye,this.internal.adjustEndNormalize=u._e,this.internal.touch=u.Rb,this.internal.cssNames=u.Sk,this.internal.skipUpdate=u.gg.skipUpdate,this.internal.skipped=u.gg.skipped,this.internal.loadOptions=u.md,this.internal.postInit=u.kd,this.internal.enableAngular2=function(){u.gg.enabled=!0},this.Init=this.init,this.md(s)},"2826"===(new DayPilot.Scheduler).v,DayPilot.Row=function(t,e){if(!t)throw"Now row object supplied when creating DayPilot.Row";if(!e)throw"No parent control supplied when creating DayPilot.Row";var n=DayPilot.indexOf(e.rowlist,t);this.Vl={};var i=this.Vl;i.id=t.id,i.name=t.name,i.data=t.resource,i.tags=t.tags;var o=this;o.isRow=!0,o.menuType="resource",o.start=t.start,o.name=t.name,o.value=t.id,o.id=t.id,o.tags=t.tags,o.index=n,o.level=t.level,o.calendar=e,o.data=t.resource,o.Wl=t,o.$={},o.$.row=t,o.toJSON=function(t){var e={};return e.start=this.start,e.name=this.name,e.value=this.value,e.id=this.id,e.index=this.index,e},o.parent=function(){return o.Wl.$j?e.Dh(o.Wl.$j):null},o.children=function(){var t=DayPilot.list(o.$.row.children).map(function(t){return e.Dh(e.rowlist[t])});return t.add=function(t){var e=o.$.row.resource;e.children||(e.children=[]),e.children.push(t)},t},o.loaded=function(){return o.Wl.loaded},o.cells={},o.cells.all=function(){for(var t=[],n=e.itline.length,i=o.index,a=0;a<n;a++){var r=e.cells.findXy(a,i);t.push(r[0])}return e.si(t)},o.cells.totalDuration=function(){return new DayPilot.Duration(o.cells.all().map(function(t){return t.end.getTime()-t.start.getTime()}).reduce(function(t,e){return t+e},0))},o.events={},o.events.all=function(){for(var t=DayPilot.list(),e=0;e<o.Wl.events.length;e++)t.push(o.Wl.events[e]);return t},o.events.isEmpty=function(){return 0===o.Wl.events.length},o.events.forRange=function(t,e){return o.Wl.events.forRange(t,e)},o.events.totalDuration=function(){var t=0;return o.events.all().each(function(e){t+=e.part.end.getTime()-e.part.start.getTime()}),new DayPilot.Duration(t)},o.groups={},o.groups.collapseAll=function(){for(var t=0;t<o.Wl.blocks.length;t++)new a(o.Wl.blocks[t]).Xl();e._g(),e.ah(o.index),e.ia()},o.groups.expandAll=function(){for(var t=0;t<o.Wl.blocks.length;t++)new a(o.Wl.blocks[t]).Yl();e._g(),e.ah(o.index),e.ia()},o.groups.expanded=function(){for(var t=[],n=0;n<o.Wl.blocks.length;n++){var i=o.Wl.blocks[n];i.expanded&&i.lines.length>e.groupConcurrentEventsLimit&&t.push(new a(i))}return DayPilot.list(t)},o.groups.collapsed=function(){for(var t=[],e=0;e<o.Wl.blocks.length;e++){var n=o.Wl.blocks[e];n.expanded||t.push(new a(n))}return DayPilot.list(t)},o.groups.all=function(){for(var t=[],e=0;e<o.Wl.blocks.length;e++){var n=o.Wl.blocks[e];t.push(new a(n))}return DayPilot.list(t)},o.events.collapseGroups=o.groups.collapseAll,o.events.expandGroups=o.groups.expandAll,o.column=function(t){return new r(o,t)},o.toggle=function(){e.Li(o.index)},o.collapse=function(){o.$.row.expanded&&o.toggle()},o.expand=function(){o.$.row.expanded||o.toggle()},o.remove=function(){e.rows.remove(o)},o.edit=function(){e.rows.edit(o)},o.addClass=function(t){var n=o,i=e.divHeader,n=i.rows[n.index];if(n){var a=DayPilot.list(n.cells).map(function(t){return t.cellDiv});DayPilot.Util.addClass(a,t)}o.$.row.cssClass=DayPilot.Util.addClassToString(o.$.row.cssClass,t)},o.removeClass=function(t){var n=o,i=e.divHeader,n=i.rows[n.index];if(n){var a=DayPilot.list(n.cells).map(function(t){return t.cellDiv});DayPilot.Util.removeClass(a,t)}o.$.row.cssClass=DayPilot.Util.removeClassFromString(o.$.row.cssClass,t)};var a=function(t){var n=function(t){for(var n=0;n<e.elements.events.length;n++){var i=e.elements.events[n];if(i.event===t)return i}return null};this.Yl=function(){t.expanded=!0;var i=e.Ej;DayPilot.list(t.events).each(function(t){i.push(t.id())});var o=n(t);if(o){e.Fk(o);var a=DayPilot.indexOf(e.elements.events,o);-1!==a&&e.elements.events.splice(a,1)}},this.expand=function(){this.Yl(),e._g(),e.ah(t.row.index),e.ia()},this.Xl=function(){if(t.lines.length>e.groupConcurrentEventsLimit){t.expanded=!1;var n=DayPilot.list(t.events).map(function(t){return t.id()});e.Ej=e.Ej.filter(function(t){return!DayPilot.contains(n,t)})}},this.collapse=function(){this.Xl(),e._g(),e.ah(t.row.index),e.ia()}},r=function(t,e){this.html=function(n){var i=t.calendar.divHeader,o=i.rows[t.index].cells[e],a=o.textDiv;return void 0===n?a.innerHTML:void(a.innerHTML=n)}}},i.moving=null,i.movingEvent=null,i.originalMouse=null,i.resizing=null,i.resizingEvent=null,i.preventEventClick=!1,i.globalHandlers=!1,i.timeRangeTimeout=null,i.selectedCells=null,i.dragStart=function(t,e,n,o){DayPilot.us(t);var a=i.drag={};return a.element=t,a.duration=e,a.text=o,a.id=n,a.data={id:n,text:o,duration:e,externalHtml:o},!1},DayPilot.Scheduler.startDragging=function(t){var t=t||{},e=t.element,n=t.keepElement?null:e;DayPilot.us(e);var o=i.drag={};return o.element=n,o.id=t.id,o.duration=t.duration||60,o.text=t.text||"",o.data=t,!1},DayPilot.Scheduler.makeDraggable=function(t){function e(){var e=i.drag={};e.element=o,e.id=t.id,e.duration=t.duration||60,e.text=t.text||"",e.data=t}t=t||{};var n=t.element,o=t.keepElement?null:t.remove||n;DayPilot.us(n),DayPilot.re(n,"mousedown",function(t){if(DayPilot.Util.mouseButton(t).left){e();var n=t.target||t.srcElement;if(n.tagName){var i=n.tagName.toLowerCase();if("textarea"===i||"select"===i||"input"===i)return!1}return t.preventDefault&&t.preventDefault(),!1}}),n.ontouchstart=function(t){window.setTimeout(function(){e(),i.gTouchMove(t),t.preventDefault()},0),t.preventDefault()}},DayPilot.Scheduler.stopDragging=function(){if(i.dragStop(),i.resizing&&(DayPilot.de(i.resizingShadow),i.resizing=null,i.resizingEvent=null,i.resizingShadow=null),i.moving){var t=i.movingEvent.calendar;DayPilot.Util.removeClass(i.moving,t.p(t.Sk.eventMovingSource)),DayPilot.de(i.movingShadow),i.moving=null,i.movingEvent=null,i.movingShadow=null}if(i.range){var t=i.range.calendar;t.clearSelection(),i.range=null}document.body.style.cursor="",DayPilot.list(i.registered).each(function(t){t.vk(),t.gj()})},i.dragStop=function(){i.gShadow&&(document.body.removeChild(i.gShadow),i.gShadow=null),i.drag=null},i.register=function(t){i.registered||(i.registered=[]);for(var e=0;e<i.registered.length;e++)if(i.registered[e]===t)return;i.registered.push(t)},i.unregister=function(t){var e=i.registered;if(e){var n=DayPilot.indexOf(e,t);-1!==n&&e.splice(n,1),0===e.length&&(e=null)}e||(DayPilot.ue(document,"mousemove",i.gMouseMove),DayPilot.ue(document,"mouseup",i.gMouseUp),DayPilot.ue(document,"mousedown",i.gMouseDown),DayPilot.ue(document,"touchmove",i.gTouchMove),DayPilot.ue(document,"touchend",i.gTouchEnd),DayPilot.ue(window,"keyup",i.gKeyUp),i.globalHandlers=!1)},i.gTouchMove=function(n){if(i.resizing){var o=i.resizing.event.calendar;o.coords=o.Rb.relativeCoords(n),o.Rb.updateResizing(),n.preventDefault()}if(i.moving){var o=i.movingEvent.calendar;o.coords=o.Rb.relativeCoords(n),o.Rb.updateMoving(),n.preventDefault()}if(i.drag){n.preventDefault();var a=e(n),o=t(n);if(o){if(i.gShadow&&document.body.removeChild(i.gShadow),i.gShadow=null,o.coords=o.Rb.relativeCoords(n),!i.movingShadow&&o.rowlist.length>0){if(!i.moving){i.moving={};var r=i.drag.event;if(!r){var l=o.itline[0].start,n={id:i.drag.id,start:l,end:l.addSeconds(i.drag.duration),text:i.drag.text},s=i.drag.data;if(s){var c=["duration","element","id","text"];for(var u in s)DayPilot.contains(c,u)||(n[u]=s[u])}r=new DayPilot.Event(n),r.calendar=o,r.part.external=!0}i.moving.event=r,i.movingEvent=r}i.movingShadow=o.sa(i.moving)}i.moving&&o.Rb.updateMoving()}else{DayPilot.de(i.movingShadow);var d=i.moving;i.moving=null,i.movingEvent=null,i.movingShadow=null,i.gShadow||(i.gShadow=i.createGShadow(i.drag.data),i.gShadow.source=d);var h=i.gShadow;h.style.left=a.x+"px",h.style.top=a.y+"px"}}},i.gTouchEnd=function(t){i.gMouseUp(t)},i.gMouseMove=function(t){if(void 0!==i&&(t=t||window.event,!(t.insideMainD||t.srcElement&&t.srcElement.inside))){var e=DayPilot.mc(t);if(i.drag){if(!i.drag.startFired){var n=i.drag.data||{},o=n.onDragStart,a=!1;if("function"==typeof o){var r={};r.data=n,r.preventDefault=function(){r.preventDefault.value=!0},o(r),a=r.preventDefault.value}if(i.drag.startFired=!0,a)return void(i.drag=null)}document.body.style.cursor="move",i.gShadow||(i.gShadow=i.createGShadow(i.drag.data));var l=i.gShadow;if(l.style.left=e.x+"px",l.style.top=e.y+"px",i.moving=null,i.movingEvent=null,i.movingShadow){var s=i.movingShadow.calendar;s&&s.gj(),i.movingShadow.calendar=null,DayPilot.de(i.movingShadow),i.movingShadow=null}}else if(i.moving&&i.movingEvent&&i.movingEvent.calendar.dragOutAllowed&&!i.drag){var s=i.movingEvent.calendar,t=i.movingEvent;i.moving.target=null,document.body.style.cursor="move",i.gShadow||(i.gShadow=i.createGShadow(t.data),i.gShadow.source=i.moving);var l=i.gShadow;l.style.left=e.x+"px",l.style.top=e.y+"px",i.drag={};var c=i.drag;c.schedulerSourceEvent=i.moving,c.element=null,c.duration=(t.rawend().getTime()-t.start().getTime())/1e3,c.text=t.text(),c.id=t.value(),c.event=t,s.gj(),DayPilot.de(i.movingShadow),i.movingShadow.calendar=null,i.movingShadow=null}for(var u=0;u<i.registered.length;u++)i.registered[u].R&&i.registered[u].R()}},i.gUnload=function(t){if(i.registered)for(var e=0;e<i.registered.length;e++){var n=i.registered[e];i.unregister(n)}},i.gMouseDown=function(t){i.editing&&i.editing.blur()},i.gKeyUp=function(t){var t=t||window.event;17===t.keyCode&&i.rangeCalendar&&i.rangeCalendar.pl.dispatch()},i.gMouseUp=function(t){if(DayPilot.list(i.registered).each(function(t){t.vk()}),i.resizing){var e=function(){var t=i.resizingEvent,e=t.calendar;document.body.style.cursor="",i.resizing=null,i.resizingEvent=null,DayPilot.de(i.resizingShadow),i.resizingShadow=null,e.vl()};if(setTimeout(function(){i.preventEventClick=!1}),!i.resizingShadow)return void e();var n=i.resizingEvent,r=n.calendar,s=i.resizingShadow.finalStart,c=i.resizingShadow.finalEnd,u=i.resizingShadow.overlapping,d=!i.resizingShadow.allowed;if(r.gj(),r.$i.clear(),e(),u||d)return;r.Ra(n,s,c)}else if(i.moving){var e=function(){var t=i.moving.target;i.movingShadow&&(DayPilot.de(i.movingShadow),i.movingShadow.calendar=null),document.body.style.cursor="",i.moving=null,i.movingEvent=null,i.drag=null,t.vl(),t&&(t.uh=null)};if(!i.movingShadow)return void e();var n=i.movingEvent,r=i.moving.target;if(!r)return void e();if(DayPilot.Util.removeClass(i.moving,r.p(r.Sk.eventMovingSource)),!i.movingShadow.row)return void e();clearTimeout(r.Ji.timeout);var s=i.movingShadow.start,c=i.movingShadow.end,h="Days"!==r.viewType?i.movingShadow.row.id:null,f=!!i.drag&&n.part.external,p=i.movingShadow.line,u=i.movingShadow.overlapping,d=!i.movingShadow.allowed;if(i.drag&&(r.todo||(r.todo={}),r.todo.del=i.drag.element,i.drag=null),i.movingShadow.calendar=null,document.body.style.cursor="",i.moving=null,i.movingEvent=null,u||d||r.bj.forbidden||r.bj.invalid)return void r.vh();var t=t||window.event;r.Ta(n,s,c,h,f,t,p)}else if(i.range){t=t||window.event;var v=DayPilot.Util.mouseButton(t),g=i.range,r=g.calendar,e=function(){r.vl()};r.nl=null;var m=t.ctrlKey||t.metaKey;if(r.allowMultiRange)return r.elements.range2.overlapping?(DayPilot.de(r.elements.range2),r.elements.range2=null,r.gj()):r.pl.add(g),i.range=null,m||r.pl.dispatch(),void e();if(i.timeRangeTimeout)return clearTimeout(i.timeRangeTimeout),i.timeRangeTimeout=null,void e();r.rangeHold=g,i.range=null;var y=function(t){return function(){i.timeRangeTimeout=null;var e=r.elements.range2;return e&&e.overlapping?void r.clearSelection():(r.wh(t),void("Hold"!==r.timeRangeSelectedHandling&&"HoldForever"!==r.timeRangeSelectedHandling?o():r.rangeHold=t))}},b=r.ol(g);if(e(),!v.left)return void(i.timeRangeTimeout=null);if(g.moved||"Disabled"===r.timeRangeDoubleClickHandling){y(b)();var t=t||window.event;return t.cancelBubble=!0,!1}i.timeRangeTimeout=setTimeout(y(b),r.doubleClickTimeout)}else if(a.row){var r=a.calendar;r&&r.Pj()}else if(l.source){var r=l.calendar;r.ci.clearShadow(),r.ci.hideLinkpoints(),l.source=null,l.calendar=null}else if(i.splitting){var w=i.splitting;w.cleanup(),i.splitting=null}else if(i.rectangleSelect){var D=i.rectangleSelect,r=D.calendar;if(!D.moved)return i.rectangleSelect=null,void(r.Xk(r.coords)||r.ql(t));var C=D.x,k=D.y,x=D.width,P=D.height,_=!1,S=r.sg.eventsInRectangle(C,k,x,P).map(function(t){return t.event});if("function"==typeof r.onRectangleEventSelect){var A={};if(A.events=S,A.append=!1,A.start=r.getDate(C,!0),A.end=r.getDate(C+x,!0),A.preventDefault=function(){this.preventDefault.value=!0},r.onRectangleEventSelect(A),A.preventDefault.value)return r.gl.clear(),void(i.rectangleSelect=null);_=A.append}if(_||r.multiselect.clear(!0),S.each(function(t){r.multiselect.add(t,!0)}),r.multiselect.redraw(),setTimeout(function(){r.gl.clear(),i.rectangleSelect=null},0),"function"==typeof r.onRectangleEventSelected){var A={};A.events=S,r.onRectangleEventSelected(A)}}if(i.drag&&(i.drag.event&&i.drag.event.part&&delete i.drag.event.part.external,i.drag=null,document.body.style.cursor=""),i.gShadow){if(i.gShadow.source){var r=i.gShadow.source.event.calendar;DayPilot.Util.removeClass(i.gShadow.source,r.p(r.Sk.eventMovingSource))}document.body.removeChild(i.gShadow),i.gShadow=null}i.moveOffsetX=null,i.moveDragStart=null},i.createGShadow=function(t){var t=t||{},e=document.createElement("div");return e.setAttribute("unselectable","on"),e.style.position="absolute",e.style.width="100px",e.style.height="20px",e.style.zIndex=101,e.style.pointerEvents="none",e.style.backgroundColor="#aaaaaa",e.style.opacity=.5,e.style.filter="alpha(opacity=50)",e.className=t.externalCssClass,t.externalHtml&&(e.innerHTML=t.externalHtml),document.body.appendChild(e),e};var a={};DayPilot.Global.rowmoving=a;var l={};DayPilot.Global.linking=l,"undefined"!=typeof jQuery&&function(t){t.fn.daypilotScheduler=function(t){var e=null,n=this.each(function(){if(!this.daypilot){var n=new DayPilot.Scheduler(this.id||this,t);n.init(),this.daypilot=n,e||(e=n)}});return 1===this.length?e:n}}(jQuery),function(){var t=DayPilot.am();t&&t.directive("daypilotScheduler",["$parse",function(t){return{restrict:"E",template:"<div id='{{id}}'></div>",compile:function(e,n){return e.replaceWith(this.template.replace("{{id}}",n.id)),function(e,n,i){var o=new DayPilot.Scheduler(n[0]);o.Jc.scope=e,o.init();var a=i.id;a&&(e[a]=o);var r=i.publishAs;r&&(0,t(r).assign)(e,o);for(var l in i)if(0===l.indexOf("on")){var s=DayPilot.Util.shouldApply(l);s?function(n){o[n]=function(o){var a=t(i[n]);DayPilot.Util.safeApply(e,function(){a(e,{args:o})})}}(l):function(n){o[n]=function(o){t(i[n])(e,{args:o})}}(l)}var c=e.$watch,u=i.config||i.daypilotConfig,d=i.events||i.daypilotEvents;c.call(e,u,function(t,e){o.md(t),o.update(),o.kd()},!0),c.call(e,d,function(t){o.events.list=t,o.ad({eventsOnly:!0})},!0)}}}}])}(),"undefined"!=typeof Sys&&Sys.Application&&Sys.Application.notifyScriptLoaded&&Sys.Application.notifyScriptLoaded()}}(),void 0===DayPilot)var DayPilot={};void 0===DayPilot.Global&&(DayPilot.Global={}),function(){void 0===DayPilot.Year&&(DayPilot.Year=function(t,e){this.v="2826",this.startDate=new DayPilot.Date,this.cssOnly=!0,this.cssClassPrefix=null,this.columns=4,this.cellWidth=20,this.showWeekNumbers=!1,this.Zl=[],this.af=function(){this.root.dp=this,this.Td=new DayPilot.Date(this.startDate.toString("yyyy-01-01","en-us"))},this.p=function(t){return this.cssClassPrefix?this.cssClassPrefix+t:""},this.bf=function(){return this.showWeekNumbers?this.cellWidth:0},this.$l=function(){this.Zl=[];var t=this.columns,e=12/t;this.root.className=this.p("_main"),this.root.style.width=t*(7*this.cellWidth+this.bf())+"px";for(var n=0;n<e;n++){for(var i=0;i<t;i++){var o=n*t+i,a=a+"_nav_"+o,r=document.createElement("div");r.id=a,r.style.float="left",this.root.appendChild(r);var l=new DayPilot.Navigator(a);l.startDate=this.Td.addMonths(o),l.cssOnly=this.cssOnly,l.cssClassPrefix=this.cssClassPrefix,l.cellWidth=this.cellWidth,l.showWeekNumbers=this.showWeekNumbers,l.internal.showLinks={},l.selectMode="none",l.timeRangeSelectedHandling="JavaScript",l.onTimeRangeSelected=this._l,l.init(),l.root.className="",this.Zl.push(l)}var s=document.createElement("div");s.style.clear="left",this.root.appendChild(s)}},this._l=function(t){alert("clicked: "+t.day)},this.init=function(){this.root=document.getElementById(t),this.root.dp||(this.af(),this.$l())}})}(),function(){"use strict";DayPilot.Angular={};var t=this&&this.a||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},e=this&&this.b||function(t,e){return function(n,i){e(n,i,t)}},n=__webpack_require__("3j3K"),i=function(){return 65536*(1+Math.random())|0},o=function(){var t={hashes:{},ids:[]};this.diff=function(e){for(var n={},i={},o=[],e=e||[],a=0;a<e.length;a++){var r=e[a],l=r.id;if(!l)throw"The 'id' property must be specified for event data object";if(i.hasOwnProperty(""+l))throw"Duplicate event IDs are not allowed, id: "+l;i[""+l]=JSON.stringify(r),o.push(""+l)}return n.add=e.filter(function(e){return!t.hashes.hasOwnProperty(e.id)}),n.remove=t.ids.filter(function(t){return!i.hasOwnProperty(t)}),n.modify=e.filter(function(e){return t.hashes.hasOwnProperty(e.id)&&t.hashes[e.id]!==i[e.id]}),n.changeCount=n.add.length+n.modify.length+n.remove.length,t.hashes=i,t.ids=o,n}};DayPilot.Angular.Scheduler=function(){function e(){this.c=!1,this.d=!1,this.e=new o,this.id="dp_"+(new Date).getTime()+"_"+i(),this.viewChange=new n.EventEmitter,this.f={start:null,end:null}}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){this.control=new DayPilot.Scheduler(this.id),this.control.internal.enableAngular2(),this.updateOptions(),this.control.init()},e.prototype.ngDoCheck=function(){if(this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.control.internal.postInit(),this.c=!1),this.d)){this.d=!1;var t={};t.visibleRangeChanged=this.f.start!==this.control.visibleStart()||this.f.end!==this.control.visibleEnd(),this.f.start=this.control.visibleStart(),this.f.end=this.control.visibleEnd(),this.viewChange.emit(t)}},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0,this.d=!0),this.g=t},e.prototype.updateEvents=function(){var t=this.e.diff(this.events);if(this.control.internal.skipUpdate())return void this.control.internal.skipped();var e=this.control;0!==t.changeCount&&(t.changeCount<10?(t.add.forEach(function(t){e.events.add(new DayPilot.Event(t))}),t.modify.forEach(function(t){e.events.update(new DayPilot.Event(t))}),t.remove.forEach(function(t){e.events.remove(new DayPilot.Event({id:t}))}),e.events.immediateRefresh()):(e.events.list=this.events,this.c=!0))},t([n.Input()],e.prototype,"events",void 0),t([n.Input()],e.prototype,"config",void 0),t([n.Output()],e.prototype,"viewChange",void 0),e=t([n.Component({selector:"daypilot-scheduler",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Gantt=function(){function e(){this.c=!1,this.id="dp_"+(new Date).getTime()+"_"+i()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Gantt(this.id);t.init(),this.control=t},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.c&&(this.control.update(),this.c=!1))},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0),this.g=t},t([n.Input()],e.prototype,"config",void 0),e=t([n.Component({selector:"daypilot-gantt",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Calendar=function(){function e(){this.c=!1,this.d=!1,this.viewChange=new n.EventEmitter,this.id="dp_"+(new Date).getTime()+"_"+i()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Calendar(this.id);this.control=t,this.updateOptions(),t.init()},e.prototype.ngDoCheck=function(){if(this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1),this.d)){this.d=!1;var t={};this.viewChange.emit(t)}},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);if(t!==this.g){var e=this.control;for(var n in this.config)e[n]=this.config[n];this.c=!0,this.d=!0}this.g=t},e.prototype.updateEvents=function(){var t=this.optHash(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t([n.Input()],e.prototype,"events",void 0),t([n.Input()],e.prototype,"config",void 0),t([n.Output()],e.prototype,"viewChange",void 0),e=t([n.Component({selector:"daypilot-calendar",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Month=function(){function e(){this.c=!1,this.id="dp_"+(new Date).getTime()+"_"+i()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Month(this.id);t.init(),this.control=t},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1))},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);if(t!==this.g){var e=this.control;for(var n in this.config)e[n]=this.config[n];this.c=!0}this.g=t},e.prototype.updateEvents=function(){var t=this.optHash(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t([n.Input()],e.prototype,"events",void 0),t([n.Input()],e.prototype,"config",void 0),e=t([n.Component({selector:"daypilot-month",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Kanban=function(){function e(){this.c=!1,this.id="dp_"+(new Date).getTime()+"_"+i()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Kanban(this.id);t.init(),this.control=t},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.c&&(this.control.update(),this.c=!1))},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.optHash(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0),this.g=t},t([n.Input()],e.prototype,"config",void 0),e=t([n.Component({selector:"daypilot-kanban",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Navigator=function(){function e(){this.c=!1,this.i=null,this.date=DayPilot.Date.today(),this.dateChange=new n.EventEmitter,this.id="dp_"+(new Date).getTime()+"_"+i()}return e.prototype.ngOnInit=function(){},e.prototype.ngAfterViewInit=function(){var t=new DayPilot.Navigator(this.id);this.control=t;var e=this;this.updateOptions(),t.onTimeRangeSelected=function(n){var i=e.date||DayPilot.Date.today();n.day!==new DayPilot.Date(i)&&e.dateChange.emit(n.day),e.i&&e.i.call(t,n)},t.init(),t.selectionDay!==DayPilot.Date.today()&&e.dateChange.emit(t.selectionDay)},e.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1))},e.prototype.optHash=function(t){return JSON.stringify(t)},e.prototype.updateOptions=function(){var t=this.control,e=this.optHash(this.config),n=this.date||DayPilot.Date.today(),i=this.optHash(new DayPilot.Date(n));if(e!==this.g){for(var o in this.config)"onTimeRangeSelected"===o?this.i=this.config.onTimeRangeSelected:t[o]=this.config[o];this.c=!0}else void 0!==this.date&&i!==this.j&&(t.select(this.date),this.j=i,this.c=!0);this.g=e},e.prototype.updateEvents=function(){var t=this.optHash(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t([n.Input()],e.prototype,"events",void 0),t([n.Input()],e.prototype,"config",void 0),t([n.Input()],e.prototype,"date",void 0),t([n.Output()],e.prototype,"dateChange",void 0),e=t([n.Component({selector:"daypilot-navigator",template:"<div id='{{id}}'></div>"})],e)}(),DayPilot.Angular.Modal=function(){function i(t,e,i){this.componentFactoryResolver=t,this.element=e,this.renderer=i,this.autoFocus=!0,this.visibility="hidden",this.close=new n.EventEmitter}return i.prototype.ngOnInit=function(){},i.prototype.show=function(t,e){if(this.visibility="visible",t){this.component=this.injectAsChild(this.placeholder,t);for(var n in e)this.component.instance[n]=e[n]}var i=this.element.nativeElement,o=this;this.autoFocus&&setTimeout(function(){o.renderer.invokeElementMethod(i.querySelector("input"),"focus",[])})},i.prototype.hide=function(t){this.component&&this.component.destroy(),this.visibility="hidden",this.close.emit({result:t})},i.prototype.injectAsChild=function(t,e){var n=this.componentFactoryResolver.resolveComponentFactory(e);return t.createComponent(n)},t([n.Input()],i.prototype,"autoFocus",void 0),t([n.ViewChild("placeholder",{read:n.ViewContainerRef})],i.prototype,"placeholder",void 0),t([n.Output()],i.prototype,"close",void 0),i=t([n.Component({selector:"daypilot-modal",styles:["\n  .modal {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    max-height: 80%;\n    overflow-y: auto;\n    padding: 20px;\n    background-color: white;\n  }\n  .overlay {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: #000;\n    opacity: 0.3;\n  }\n  "],template:'<div class="overlay" (click)="hide()" [@fade]="visibility"></div><div class="modal" [@slide]="visibility"><template #placeholder></template><ng-content></ng-content></div>',animations:[n.trigger("slide",[n.state("visible",n.style({transform:"translateY(0)",display:"block"})),n.state("hidden",n.style({transform:"translateY(-100%)",display:"none"})),n.transition("hidden => visible",[n.style({display:"block"}),n.animate("200ms")]),n.transition("visible => hidden",n.animate("200ms"))]),n.trigger("fade",[n.state("visible",n.style({opacity:.3,display:"block"})),n.state("hidden",n.style({opacity:0,display:"none"})),n.transition("hidden => visible",[n.style({display:"block"}),n.animate("200ms")]),n.transition("visible => hidden",n.animate("200ms"))])]}),e(0,n.Inject(n.ComponentFactoryResolver)),e(1,n.Inject(n.ElementRef)),e(2,n.Inject(n.Renderer))],i)}()}(),exports.DayPilot=DayPilot,function(){"use strict";var t=this&&this.a||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},e=this&&this.k||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},n=this&&this.b||function(t,e){return function(n,i){e(n,i,t)}};Object.defineProperty(exports,"__esModule",{value:!0});var i=__webpack_require__("3j3K"),o=__webpack_require__("esOA"),a=function(){return 65536*(1+Math.random())|0},r=function(t){return JSON.stringify(t)},l=function(){var t={hashes:{},ids:[]};this.diff=function(e){var n={},i={},o=[];e=e||[];for(var a=0;a<e.length;a++){var r=e[a],l=r.id;if(!l)throw"The 'id' property must be specified for event data object";if(i.hasOwnProperty(""+l))throw"Duplicate event IDs are not allowed, id: "+l;i[""+l]=JSON.stringify(r),o.push(""+l)}return n.add=e.filter(function(e){return!t.hashes.hasOwnProperty(e.id)}),n.remove=t.ids.filter(function(t){return!i.hasOwnProperty(t)}),n.modify=e.filter(function(e){return t.hashes.hasOwnProperty(e.id)&&t.hashes[e.id]!==i[e.id]}),n.changeCount=n.add.length+n.modify.length+n.remove.length,t.hashes=i,t.ids=o,n}},s=function(){function t(){this.c=!1,this.d=!1,this.e=new l,this.f={start:null,end:null},this.l="dp_"+(new Date).getTime()+a(),this.viewChange=new i.EventEmitter}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose(),this.control=new o.DayPilot.Scheduler(this.id),this.control.internal.enableAngular2(),this.updateOptions(),this.control.init()},t.prototype.ngDoCheck=function(){if(this.control){this.updateOptions(),this.updateEvents();var t=this.control;if(this.c&&(this.control.update(),t.internal.postInit(),this.c=!1),this.d){this.d=!1;var e={};e.visibleRangeChanged=this.f.start!==this.control.visibleStart()||this.f.end!==this.control.visibleEnd(),this.f.start=this.control.visibleStart(),this.f.end=this.control.visibleEnd(),this.viewChange.emit(e)}}},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0,this.d=!0),this.g=t},t.prototype.updateEvents=function(){var t=this.e.diff(this.events),e=this.control;return e.internal.skipUpdate()?void e.internal.skipped():void(0!==t.changeCount&&(t.changeCount<10?(t.add.forEach(function(t){e.events.add(new o.DayPilot.Event(t))}),t.modify.forEach(function(t){e.events.update(new o.DayPilot.Event(t))}),t.remove.forEach(function(t){e.events.remove(new o.DayPilot.Event({id:t,start:null,end:null,text:null}))}),e.events.immediateRefresh()):(e.events.list=this.events,this.c=!0)))},t}();t([i.Output(),e("design:type",i.EventEmitter)],s.prototype,"viewChange",void 0),t([i.Input(),e("design:type",Array)],s.prototype,"events",void 0),t([i.Input(),e("design:type",Object)],s.prototype,"config",void 0),s=t([i.Component({selector:"daypilot-scheduler",template:"<div id='{{id}}'></div>",styles:[""]})],s),exports.DayPilotSchedulerComponent=s;var c=function(){function t(){this.c=!1,this.d=!1,this.l="dp_"+(new Date).getTime()+a(),this.viewChange=new i.EventEmitter}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Calendar(this.id);this.control=t,this.updateOptions(),t.init()},t.prototype.ngDoCheck=function(){if(this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1),this.d)){this.d=!1;var t={};this.viewChange.emit(t)}},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);if(t!==this.g){var e=this.control;for(var n in this.config)e[n]=this.config[n];this.c=!0,this.d=!0}this.g=t},t.prototype.updateEvents=function(){var t=r(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t}();t([i.Output(),e("design:type",i.EventEmitter)],c.prototype,"viewChange",void 0),t([i.Input(),e("design:type",Array)],c.prototype,"events",void 0),t([i.Input(),e("design:type",Object)],c.prototype,"config",void 0),c=t([i.Component({selector:"daypilot-calendar",template:"<div id='{{id}}'></div>",styles:[""]})],c),exports.DayPilotCalendarComponent=c;var u=function(){function t(){this.c=!1,this.l="dp_"+(new Date).getTime()+a()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Gantt(this.id);t.init(),this.control=t},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.c&&(this.control.update(),this.c=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0),this.g=t},t}();t([i.Input(),e("design:type",Object)],u.prototype,"config",void 0),u=t([i.Component({selector:"daypilot-gantt",template:"<div id='{{id}}'></div>",styles:[""]})],u),exports.DayPilotGanttComponent=u;var d=function(){function t(){this.c=!1,this.l="dp_"+(new Date).getTime()+a()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Month(this.id);t.init(),this.control=t},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);if(t!==this.g){var e=this.control;for(var n in this.config)e[n]=this.config[n];this.c=!0}this.g=t},t.prototype.updateEvents=function(){var t=r(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t}();t([i.Input(),e("design:type",Array)],d.prototype,"events",void 0),t([i.Input(),e("design:type",Object)],d.prototype,"config",void 0),d=t([i.Component({selector:"daypilot-month",template:"<div id='{{id}}'></div>",styles:[""]})],d),exports.DayPilotMonthComponent=d;var h=function(){function t(){this.c=!1,this.l="dp_"+(new Date).getTime()+a()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Kanban(this.id);t.init(),this.control=t},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.c&&(this.control.update(),this.c=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=r(this.config);t!==this.g&&(this.control.internal.loadOptions(this.config),this.c=!0),this.g=t},t}();t([i.Input(),e("design:type",Object)],h.prototype,"config",void 0),h=t([i.Component({selector:"daypilot-kanban",template:"<div id='{{id}}'></div>",styles:[""]})],h),exports.DayPilotKanbanComponent=h;var f=function(){function t(){this.c=!1,this.i=null,this.date=o.DayPilot.Date.today(),this.dateChange=new i.EventEmitter,this.l="dp_"+(new Date).getTime()+a()}return Object.defineProperty(t.prototype,"id",{get:function(){return this.l},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.ngAfterViewInit=function(){this.dispose();var t=new o.DayPilot.Navigator(this.id);this.control=t;var e=this;this.updateOptions(),t.onTimeRangeSelected=function(n){var i=e.date||o.DayPilot.Date.today();n.day!==new o.DayPilot.Date(i)&&e.dateChange.emit(n.day),e.i&&e.i.call(t,n)},t.init(),t.selectionDay!==o.DayPilot.Date.today()&&e.dateChange.emit(t.selectionDay)},t.prototype.ngDoCheck=function(){this.control&&(this.updateOptions(),this.updateEvents(),this.c&&(this.control.update(),this.c=!1))},t.prototype.dispose=function(){this.control&&(this.control.dispose(),this.control=null)},t.prototype.updateOptions=function(){var t=this.control,e=r(this.config),n=this.date||o.DayPilot.Date.today(),i=r(new o.DayPilot.Date(n));if(e!==this.g){for(var a in this.config)"onTimeRangeSelected"===a?this.i=this.config.onTimeRangeSelected:t[a]=this.config[a];this.c=!0}else void 0!==this.date&&i!==this.j&&(t.select(this.date),this.j=i,this.c=!0);this.g=e},t.prototype.updateEvents=function(){var t=r(this.events);t!==this.h&&(this.control.events.list=this.events,this.c=!0),this.h=t},t}();t([i.Input(),e("design:type",o.DayPilot.Date)],f.prototype,"date",void 0),t([i.Input(),e("design:type",Array)],f.prototype,"events",void 0),t([i.Input(),e("design:type",Object)],f.prototype,"config",void 0),t([i.Output(),e("design:type",i.EventEmitter)],f.prototype,"dateChange",void 0),f=t([i.Component({selector:"daypilot-navigator",template:"<div id='{{id}}'></div>",styles:[""]})],f),exports.DayPilotNavigatorComponent=f;var p=function(){function t(t){this.element=t,this.autoFocus=!0,this.close=new i.EventEmitter,this.m="hidden"}return Object.defineProperty(t.prototype,"visible",{get:function(){return"visible"===this.m},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){},t.prototype.show=function(){this.m="visible";var t=this.element.nativeElement;this.autoFocus&&setTimeout(function(){var e=t.querySelector("input");e&&e.focus()})},t.prototype.hide=function(t){this.m="hidden",this.close.emit({result:t})},t}();t([i.Input(),e("design:type",Boolean)],p.prototype,"autoFocus",void 0),t([i.Output(),e("design:type",i.EventEmitter)],p.prototype,"close",void 0),p=t([i.Component({selector:"daypilot-modal",styles:["\n  .modal {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    max-height: 80%;\n    overflow-y: auto;\n    padding: 20px;\n    background-color: white;\n    \n    transform: translateY(-100%);\n  }\n  .modal.visible {\n    transform: translateY(0);\n  }\n\n  .overlay {\n    position: fixed;\n    top: 0px;\n    left: 0px;\n    right: 0px;\n    bottom: 0px;\n    background-color: #000;\n    \n    opacity: 0;\n    margin-left: 100%;\n  }\n  .overlay.visible {\n    margin-left: 0;\n    opacity: 0.3;\n  }\n  .modal {\n    transition: transform 0.3s cubic-bezier(0, 0, 0.3, 1);\n  }\n  .overlay {\n    transition: margin-left 0s linear 0.3s, opacity 0.3s;\n  }\n  .overlay.visible {\n    transition: margin-left 0s, opacity 0.3s;\n  }\n  "],template:'\n  <div \n      class="overlay" \n      (click)="hide()" \n      [class.visible]="visible"\n      ></div>\n  <div \n      class="modal" \n      [class.visible]="visible"\n      >    \n    <ng-content></ng-content>    \n  </div>'}),n(0,i.Inject(i.ElementRef)),e("design:paramtypes",[i.ElementRef])],p),exports.DayPilotModalComponent=p;var v=[s,c,d,f,u,h,p],g=function(){function t(){}return t}();g=t([i.NgModule({declarations:[v],exports:[v]})],g),exports.DayPilotModule=g}()},hamG:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("/U6W");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.create=new i.EventEmitter}return t.prototype.onCreate=function(t){t.stopPropagation(),this.grid.create(this.grid.getNewRow(),this.createConfirm)},t.prototype.ngOnChanges=function(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right"),this.addInputClass=this.grid.getSetting("add.inputClass")},t}();r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"grid",void 0),r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"row",void 0),r([n.i(i.Input)(),l("design:type",i.EventEmitter)],s.prototype,"createConfirm",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"create",void 0),s=r([n.i(i.Component)({selector:"[ng2-st-thead-form-row]",template:'\n      <td *ngIf=""></td>\n      <td  *ngIf="showActionColumnLeft"  class="ng2-smart-actions">\n        <ng2-st-actions [grid]="grid" (create)="onCreate($event)"></ng2-st-actions>\n      </td>\n      <td *ngFor="let cell of grid.getNewRow().getCells()">\n        <ng2-smart-table-cell [cell]="cell"\n                              [grid]="grid"\n                              [isNew]="true"\n                              [createConfirm]="createConfirm"\n                              [inputClass]="addInputClass"\n                              [isInEditing]="grid.getNewRow().isInEditing"\n                              (edited)="onCreate($event)">\n        </ng2-smart-table-cell>\n      </td>\n      <td  *ngIf="showActionColumnRight"  class="ng2-smart-actions">\n        <ng2-st-actions [grid]="grid" (create)="onCreate($event)"></ng2-st-actions>\n      </td>\n  '})],s)},jAbk:function(t,e,n){"use strict";var i=n("3j3K"),o=n("NVOs"),a=n("Fzro"),r=n("6ENF"),l=n("owf7"),s=n("oVzB"),c=n("S27I"),u=n("vfyQ"),d=n("I+b6"),h=n("wJsi"),f=n("BkNs"),p=n("yu8n"),v=n("2Je8");n.d(e,"a",function(){return g});var g=function(){function t(){}return t}();g.decorators=[{type:i.NgModule,args:[{imports:[v.b,o.d,a.g],declarations:[l.a,u.a,d.b,h.a,f.a,p.a,r.a],exports:[r.a,l.a,u.a,d.b,h.a,f.a,p.a],providers:[s.a,c.c,c.d]}]}],g.ctorParameters=function(){return[]}},jOIz:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("pbU0"),r=n("/U6W");n.d(e,"a",function(){return c});var l=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this.inputClass="",this.mode="inline",this.isInEditing=!1,this.edited=new i.EventEmitter}return t.prototype.onEdited=function(t){this.isNew?this.grid.create(this.grid.getNewRow(),this.createConfirm):this.grid.save(this.row,this.editConfirm)},t}();l([n.i(i.Input)(),s("design:type",o.a)],c.prototype,"grid",void 0),l([n.i(i.Input)(),s("design:type",r.a)],c.prototype,"row",void 0),l([n.i(i.Input)(),s("design:type",i.EventEmitter)],c.prototype,"editConfirm",void 0),l([n.i(i.Input)(),s("design:type",i.EventEmitter)],c.prototype,"createConfirm",void 0),l([n.i(i.Input)(),s("design:type",Boolean)],c.prototype,"isNew",void 0),l([n.i(i.Input)(),s("design:type",a.a)],c.prototype,"cell",void 0),l([n.i(i.Input)(),s("design:type",String)],c.prototype,"inputClass",void 0),l([n.i(i.Input)(),s("design:type",String)],c.prototype,"mode",void 0),l([n.i(i.Input)(),s("design:type",Boolean)],c.prototype,"isInEditing",void 0),l([n.i(i.Output)(),s("design:type",Object)],c.prototype,"edited",void 0),c=l([n.i(i.Component)({selector:"ng2-smart-table-cell",template:'\n    <table-cell-view-mode *ngIf="!isInEditing" [cell]="cell"></table-cell-view-mode>\n    <table-cell-edit-mode *ngIf="isInEditing" [cell]="cell"\n                          [inputClass]="inputClass"\n                          (edited)="onEdited($event)">\n    </table-cell-edit-mode>\n  '})],c)},ja3w:function(t,e,n){"use strict";var i=n("JbtN");n.d(e,"a",function(){return o});var o=(i.a,function(){function t(){}return t}())},jhB3:function(t,e,n){"use strict";var i=n("3j3K"),o=n("aXxY"),a=n("FLi/");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.currentDirection="",this.sort=new i.EventEmitter}return t.prototype.ngOnChanges=function(t){var e=this;t.source&&(t.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(function(t){var n=e.source.getSort();n.length>0&&n[0].field===e.column.id?e.currentDirection=n[0].direction:e.currentDirection="",n.forEach(function(t){})}))},t.prototype._sort=function(t){t.preventDefault(),this.changeSortDirection(),this.source.setSort([{field:this.column.id,direction:this.currentDirection,compare:this.column.getCompareFunction()}]),this.sort.emit(null)},t.prototype.changeSortDirection=function(){if(this.currentDirection){var t="asc"===this.currentDirection?"desc":"asc";this.currentDirection=t}else this.currentDirection=this.column.sortDirection;return this.currentDirection},t}();r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"column",void 0),r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"source",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"sort",void 0),s=r([n.i(i.Component)({selector:"ng2-smart-table-title",styles:["a.sort.asc,a.sort.desc{font-weight:700}a.sort.asc::after,a.sort.desc::after{content:'';display:inline-block;width:0;height:0;border-bottom:4px solid rgba(0,0,0,.3);border-top:4px solid transparent;border-left:4px solid transparent;border-right:4px solid transparent;margin-bottom:2px}a.sort.desc::after{-webkit-transform:rotate(-180deg);transform:rotate(-180deg);margin-bottom:-2px} /*# sourceMappingURL=title.component.css.map */ "],template:'\n    <a href="#" *ngIf="column.isSortable"\n                (click)="_sort($event, column)"\n                class="ng2-smart-sort-link sort"\n                [ngClass]="currentDirection">\n      {{ column.title }}\n    </a>\n    <span class="ng2-smart-sort" *ngIf="!column.isSortable">{{ column.title }}</span>\n  '})],s)},mkpQ:function(t,e,n){"use strict";var i=n("Fzro"),o=n("+pb+"),a=(n.n(o),n("6Yye")),r=(n.n(a),n("Dzj1"));n.d(e,"a",function(){return s});var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=function(t){function e(e){var n=t.call(this)||this;return n.http=e,n._urlFormater=null,n._dataField=null,n}return l(e,t),e.prototype.remoteUrl=function(t){return this._remoteUrl=t,this},e.prototype.urlFormater=function(t){this._urlFormater=t},e.prototype.dataField=function(t){this._dataField=t},e.prototype.headers=function(t){this._headers=t},e.prototype.requestOptions=function(t){this._requestOptions=t},e.prototype.search=function(t){var e=this;this.cancel();var n="";n=this._urlFormater?this._urlFormater(t):this._remoteUrl+encodeURIComponent(t),this._requestOptions||(this._requestOptions=new i.j,this._requestOptions.headers=this._headers||new i.l),this.remoteSearch=this.http.get(n,this._requestOptions).map(function(t){return t.json()}).map(function(n){var i=e.extractValue(n,e._dataField);return e.extractMatches(i,t)}).map(function(t){var n=e.processResults(t);return e.next(n),n}).catch(function(t){return e.error(t),null}).subscribe()},e.prototype.cancel=function(){this.remoteSearch&&this.remoteSearch.unsubscribe()},e.prototype.convertToItem=function(e){return t.prototype.convertToItem.call(this,e)},e}(r.a)},"n/cF":function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("3j3K"),o=n("pbyD"),a=n("5oXY"),r=n("ja3w"),l=n("GRaa"),s=(n.n(l),n("NVOs")),c=n("2Je8"),u=n("Fzro"),d=n("jAbk"),h=n("bMjW"),f=n("Xw8A"),p=n("/Trv"),v=n("uDMx"),g=n("poJR"),m=n("n1zK"),y=n("esOA"),b=(n.n(y),n("oVzB")),w=n("5FQu"),D=n("S27I"),C=n("JbtN"),k=n("OOcy"),x=n("mkpQ");n.d(e,"VerCitasModuleNgFactory",function(){return S});var P=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),_=function(t){function e(e){return t.call(this,e,[w.a],[])||this}return P(e,t),Object.defineProperty(e.prototype,"_ɵi_18",{get:function(){return null==this.__ɵi_18&&(this.__ɵi_18=new s.a),this.__ɵi_18},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_FormBuilder_19",{get:function(){return null==this.__FormBuilder_19&&(this.__FormBuilder_19=new s.b),this.__FormBuilder_19},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_NgLocalization_20",{get:function(){return null==this.__NgLocalization_20&&(this.__NgLocalization_20=new c.a(this.parent.get(i.LOCALE_ID))),this.__NgLocalization_20},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_BrowserXhr_21",{get:function(){return null==this.__BrowserXhr_21&&(this.__BrowserXhr_21=new u.a),this.__BrowserXhr_21},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_ResponseOptions_22",{get:function(){return null==this.__ResponseOptions_22&&(this.__ResponseOptions_22=new u.b),this.__ResponseOptions_22},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XSRFStrategy_23",{get:function(){return null==this.__XSRFStrategy_23&&(this.__XSRFStrategy_23=u.c()),this.__XSRFStrategy_23},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_XHRBackend_24",{get:function(){return null==this.__XHRBackend_24&&(this.__XHRBackend_24=new u.d(this._BrowserXhr_21,this._ResponseOptions_22,this._XSRFStrategy_23)),this.__XHRBackend_24},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RequestOptions_25",{get:function(){return null==this.__RequestOptions_25&&(this.__RequestOptions_25=new u.e),this.__RequestOptions_25},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_Http_26",{get:function(){return null==this.__Http_26&&(this.__Http_26=u.f(this._XHRBackend_24,this._RequestOptions_25)),this.__Http_26},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_LocalData_27",{get:function(){return null==this.__LocalData_27&&(this.__LocalData_27=D.a()),this.__LocalData_27},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_RemoteData_28",{get:function(){return null==this.__RemoteData_28&&(this.__RemoteData_28=D.b(this._Http_26)),this.__RemoteData_28},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"_CompleterService_29",{get:function(){return null==this.__CompleterService_29&&(this.__CompleterService_29=new b.a(this._LocalData_27,this._RemoteData_28)),this.__CompleterService_29},enumerable:!0,configurable:!0}),e.prototype.createInternal=function(){return this._RouterModule_0=new a.p(this.parent.get(a.q,null),this.parent.get(a.j,null)),this._VerCitasRoutingModule_1=new r.a,this._ChartsModule_2=new l.ChartsModule,this._ɵba_3=new s.c,this._FormsModule_4=new s.d,this._ReactiveFormsModule_5=new s.e,this._CommonModule_6=new c.b,this._HttpModule_7=new u.g,this._Ng2CompleterModule_8=new d.a,this._CellModule_9=new h.a,this._FilterModule_10=new f.a,this._PagerModule_11=new p.a,this._TBodyModule_12=new v.a,this._THeadModule_13=new g.a,this._Ng2SmartTableModule_14=new m.a,this._DayPilotModule_15=new y.DayPilotModule,this._VerCitasModule_16=new o.a,this._ROUTES_17=[[{path:"",component:C.a,data:{title:"Citas"}}]],this._VerCitasModule_16},e.prototype.getInternal=function(t,e){return t===a.p?this._RouterModule_0:t===r.a?this._VerCitasRoutingModule_1:t===l.ChartsModule?this._ChartsModule_2:t===s.c?this._ɵba_3:t===s.d?this._FormsModule_4:t===s.e?this._ReactiveFormsModule_5:t===c.b?this._CommonModule_6:t===u.g?this._HttpModule_7:t===d.a?this._Ng2CompleterModule_8:t===h.a?this._CellModule_9:t===f.a?this._FilterModule_10:t===p.a?this._PagerModule_11:t===v.a?this._TBodyModule_12:t===g.a?this._THeadModule_13:t===m.a?this._Ng2SmartTableModule_14:t===y.DayPilotModule?this._DayPilotModule_15:t===o.a?this._VerCitasModule_16:t===a.s?this._ROUTES_17:t===s.a?this._ɵi_18:t===s.b?this._FormBuilder_19:t===c.h?this._NgLocalization_20:t===u.a?this._BrowserXhr_21:t===u.h?this._ResponseOptions_22:t===u.i?this._XSRFStrategy_23:t===u.d?this._XHRBackend_24:t===u.j?this._RequestOptions_25:t===u.k?this._Http_26:t===k.a?this._LocalData_27:t===x.a?this._RemoteData_28:t===b.a?this._CompleterService_29:e},e.prototype.destroyInternal=function(){},e}(i["ɵNgModuleInjector"]),S=new i.NgModuleFactory(_,o.a)},n1e7:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=[".cita[_ngcontent-%COMP%]{background:#fff;margin:5px;padding:3px;text-align:center}.bloque-dia[_ngcontent-%COMP%], .cita[_ngcontent-%COMP%]{border:1px solid #000}.header-dia[_ngcontent-%COMP%]{border-bottom:1px solid #000}.btn-ver-detalles[_ngcontent-%COMP%]{width:100%;padding:1px;margin:4px auto}.calendario[_ngcontent-%COMP%]{min-height:100px;margin:20px auto}"]},n1zK:function(t,e,n){"use strict";var i=n("3j3K"),o=n("2Je8"),a=n("NVOs"),r=n("bMjW"),l=n("Xw8A"),s=n("/Trv"),c=n("uDMx"),u=n("poJR"),d=n("GvoF");n.d(e,"a",function(){return f});var h=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},f=function(){function t(){}return t}();f=h([n.i(i.NgModule)({imports:[o.b,a.d,a.e,r.a,l.a,s.a,c.a,u.a],declarations:[d.a],exports:[d.a]})],f)},"nn+T":function(t,e,n){"use strict";var i=n("3j3K"),o=n("3ERO");n.d(e,"a",function(){return s});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(t){function e(){return t.call(this)||this}return a(e,t),e}(o.a);s=r([n.i(i.Component)({selector:"select-editor",template:'\n    <select [ngClass]="inputClass"\n            class="form-control"\n            [(ngModel)]="cell.newValue"\n            [name]="cell.getId()"\n            [disabled]="!cell.isEditable()"\n            (click)="onClick.emit($event)"\n            (keydown.enter)="onEdited.emit($event)"\n            (keydown.esc)="onStopEditing.emit()">\n\n        <option *ngFor="let option of cell.getColumn().getConfig()?.list" [value]="option.value"\n                [selected]="option.value === cell.getValue()">{{ option.title }}\n        </option>\n    </select>\n    '}),l("design:paramtypes",[])],s)},oVzB:function(t,e,n){"use strict";var i=n("3j3K"),o=n("OOcy"),a=n("mkpQ");n.d(e,"a",function(){return r});var r=function(){function t(t,e){this.localDataFactory=t,this.remoteDataFactory=e}return t.prototype.local=function(t,e,n){return void 0===e&&(e=""),void 0===n&&(n=""),this.localDataFactory().data(t).searchFields(e).titleField(n)},t.prototype.remote=function(t,e,n){return void 0===e&&(e=""),void 0===n&&(n=""),this.remoteDataFactory().remoteUrl(t).searchFields(e).titleField(n)},t}();r.decorators=[{type:i.Injectable}],r.ctorParameters=function(){return[{type:void 0,decorators:[{type:i.Inject,args:[o.a]}]},{type:void 0,decorators:[{type:i.Inject,args:[a.a]}]}]}},owf7:function(t,e,n){"use strict";var i=n("3j3K");n.d(e,"a",function(){return o});var o=function(){function t(){this.parts=[]}return t.prototype.ngOnInit=function(){if(!this.searchStr)return void this.parts.push({isMatch:!1,text:this.text});for(var t=this.text.toLowerCase(),e=t.indexOf(this.searchStr.toLowerCase()),n=0;e>=0;){var i=this.text.slice(e,e+this.searchStr.length);if(0===e)this.parts.push({isMatch:!0,text:i}),n+=this.searchStr.length;else if(e>0){var o=this.text.slice(n,e);this.parts.push({isMatch:!1,text:o}),this.parts.push({isMatch:!0,text:i}),n+=this.searchStr.length+o.length}e=t.indexOf(this.searchStr.toLowerCase(),n)}n<this.text.length&&this.parts.push({isMatch:!1,text:this.text.slice(n,this.text.length)})},t}();o.decorators=[{type:i.Component,args:[{selector:"completer-list-item",template:'\n    <span class="completer-list-item-holder" [ngClass]="{\'completer-title\': type === \'title\', \'completer-description\': type === \'description\'}" >\n        <span class="completer-list-item" *ngFor="let part of parts" [ngClass]="part.isMatch ? matchClass : null">{{part.text}}</span>\n    </span>\n    '}]}],o.ctorParameters=function(){return[]},o.propDecorators={text:[{type:i.Input}],searchStr:[{type:i.Input}],matchClass:[{type:i.Input}],type:[{type:i.Input}]}},pbU0:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(t,e,n,i){this.value=t,this.row=e,this.column=n,this.dataSet=i,this.newValue="",this.newValue=t}return t.prototype.getColumn=function(){return this.column},t.prototype.getRow=function(){return this.row},t.prototype.getValue=function(){return(this.column.getValuePrepareFunction()instanceof Function?this.column.getValuePrepareFunction():t.PREPARE).call(null,this.value,this.row.getData())},t.prototype.setValue=function(t){this.newValue=t},t.prototype.getId=function(){return this.getColumn().id},t.prototype.getTitle=function(){return this.getColumn().title},t.prototype.isEditable=function(){return-1===this.getRow().index?this.getColumn().isAddable:this.getColumn().isEditable},t}();i.PREPARE=function(t){return t}},pbyD:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t}()},poJR:function(t,e,n){"use strict";var i=n("3j3K"),o=n("2Je8"),a=n("NVOs"),r=n("Xw8A"),l=n("bMjW"),s=n("OVKi"),c=n("dfXa"),u=n("MUrH"),d=n("F6un"),h=n("6okf"),f=n("JIYj"),p=n("jhB3"),v=n("X6i5"),g=n("hamG"),m=n("qmLv");n.d(e,"a",function(){return w});var y=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},b=[c.a,u.a,d.a,h.a,f.a,p.a,v.a,g.a,m.a,s.a],w=function(){function t(){}return t}();w=y([n.i(i.NgModule)({imports:[o.b,a.d,r.a,l.a],declarations:b.slice(),exports:b.slice()})],w)},qmLv:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("aXxY");n.d(e,"a",function(){return s});var r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(){function t(){this.sort=new i.EventEmitter,this.selectAllRows=new i.EventEmitter}return t.prototype.ngOnChanges=function(){this.isMultiSelectVisible=this.grid.isMultiSelectVisible(),this.showActionColumnLeft=this.grid.showActionColumn("left"),this.showActionColumnRight=this.grid.showActionColumn("right")},t}();r([n.i(i.Input)(),l("design:type",o.a)],s.prototype,"grid",void 0),r([n.i(i.Input)(),l("design:type",Boolean)],s.prototype,"isAllSelected",void 0),r([n.i(i.Input)(),l("design:type",a.a)],s.prototype,"source",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"sort",void 0),r([n.i(i.Output)(),l("design:type",Object)],s.prototype,"selectAllRows",void 0),s=r([n.i(i.Component)({selector:"[ng2-st-thead-titles-row]",template:'\n    <th ng2-st-checkbox-select-all *ngIf="isMultiSelectVisible"\n                                   [grid]="grid"\n                                   [source]="source"\n                                   [isAllSelected]="isAllSelected"\n                                   (click)="selectAllRows.emit($event)">\n    </th>\n    <th ng2-st-actions-title *ngIf="showActionColumnLeft" [grid]="grid"></th>\n    <th *ngFor="let column of grid.getColumns()" class="ng2-smart-th {{ column.id }}" [ngClass]="column.class"\n      [style.width]="column.width" >\n      <ng2-st-column-title [source]="source" [column]="column" (sort)="sort.emit($event)"></ng2-st-column-title>\n    </th>\n    <th ng2-st-actions-title *ngIf="showActionColumnRight" [grid]="grid"></th>\n  '})],s)},sJoL:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){function t(){}return t.filter=function(t,e,n,i){var o=i||this.FILTER;return t.filter(function(t){var i=void 0===t[e]||null===t[e]?"":t[e];return o.call(null,i,n)})},t}();i.FILTER=function(t,e){return t.toString().toLowerCase().includes(e.toString().toLowerCase())}},suyt:function(t,e,n){"use strict";var i=n("3j3K"),o=n("3ERO");n.d(e,"a",function(){return s});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(t){function e(){return t.call(this)||this}return a(e,t),e}(o.a);s=r([n.i(i.Component)({selector:"input-editor",styles:[":host input,:host textarea{width:100%;line-height:normal;padding:.375em .75em} /*# sourceMappingURL=editor.component.css.map */ "],template:'\n    <input [ngClass]="inputClass"\n           class="form-control"\n           [(ngModel)]="cell.newValue"\n           [name]="cell.getId()"\n           [placeholder]="cell.getTitle()"\n           [disabled]="!cell.isEditable()"\n           (click)="onClick.emit($event)"\n           (keydown.enter)="onEdited.emit($event)"\n           (keydown.esc)="onStopEditing.emit()">\n    '}),l("design:paramtypes",[])],s)},tfux:function(t,e,n){"use strict";var i=n("3j3K"),o=n("pbU0");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.inputClass="",this.edited=new i.EventEmitter}return t.prototype.onEdited=function(t){return this.edited.next(t),!1},t.prototype.onStopEditing=function(){return this.cell.getRow().isInEditing=!1,!1},t.prototype.onClick=function(t){t.stopPropagation()},t}();a([n.i(i.Input)(),r("design:type",o.a)],l.prototype,"cell",void 0),a([n.i(i.Input)(),r("design:type",String)],l.prototype,"inputClass",void 0),a([n.i(i.Output)(),r("design:type",Object)],l.prototype,"edited",void 0)},tukb:function(t,e,n){"use strict";var i=n("3j3K"),o=n("NVOs"),a=n("Layv"),r=n("aV5h");n.n(r);n.d(e,"a",function(){return u});var l=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),s=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},c=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},u=function(t){function e(){var e=t.call(this)||this;return e.filterActive=!1,e.inputControl=new o.h,e}return l(e,t),e.prototype.ngOnInit=function(){var t=this;this.changesSubscription=this.inputControl.valueChanges.debounceTime(this.delay).subscribe(function(e){t.filterActive=!0;var n=t.column.getFilterConfig()&&t.column.getFilterConfig().true||!0,i=t.column.getFilterConfig()&&t.column.getFilterConfig().false||!1;t.query=e?n:i,t.setFilter()})},e.prototype.resetFilter=function(t){t.preventDefault(),this.query="",this.inputControl.setValue(!1,{emitEvent:!1}),this.filterActive=!1,this.setFilter()},e}(a.a);u=s([n.i(i.Component)({selector:"checkbox-filter",template:'\n    <input type="checkbox" [formControl]="inputControl" [ngClass]="inputClass" class="form-control">\n    <a href="#" *ngIf="filterActive"\n                (click)="resetFilter($event)">{{column.getFilterConfig()?.resetText || \'reset\'}}</a>\n  '}),c("design:paramtypes",[])],u)},u8XI:function(t,e,n){"use strict";var i=n("jAbk");n.d(e,"a",function(){return i.a});var o=(n("6ENF"),n("owf7"),n("oVzB"));n.d(e,"b",function(){return o.a});n("S27I"),n("OOcy"),n("mkpQ"),n("Dzj1"),n("vfyQ"),n("I+b6"),n("wJsi"),n("BkNs"),n("yu8n")},uDMx:function(t,e,n){"use strict";var i=n("3j3K"),o=n("2Je8"),a=n("NVOs"),r=n("bMjW"),l=n("REgC"),s=n("8lCG"),c=n("wkag"),u=n("4bAY");n.d(e,"a",function(){return f});var d=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},h=[s.a,c.a,u.a,l.a],f=function(){function t(){}return t}();f=d([n.i(i.NgModule)({imports:[o.b,a.d,r.a],declarations:h.slice(),exports:h.slice()})],f)},ukuU:function(t,e,n){"use strict";var i=n("3j3K"),o=n("aXxY");n.d(e,"a",function(){return l});var a=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},r=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},l=function(){function t(){this.changePage=new i.EventEmitter,this.count=0}return t.prototype.ngOnChanges=function(t){var e=this;t.source&&(t.source.firstChange||this.dataChangedSub.unsubscribe(),this.dataChangedSub=this.source.onChanged().subscribe(function(t){e.page=e.source.getPaging().page,e.perPage=e.source.getPaging().perPage,e.count=e.source.count(),e.isPageOutOfBounce()&&e.source.setPage(--e.page),e.processPageChange(t),e.initPages()}))},t.prototype.processPageChange=function(t){"prepend"===t.action&&this.source.setPage(1),"append"===t.action&&this.source.setPage(this.getLast())},t.prototype.shouldShow=function(){return this.source.count()>this.perPage},t.prototype.paginate=function(t){return this.source.setPage(t),this.page=t,this.changePage.emit({page:t}),!1},t.prototype.getPage=function(){return this.page},t.prototype.getPages=function(){return this.pages},t.prototype.getLast=function(){return Math.ceil(this.count/this.perPage)},t.prototype.isPageOutOfBounce=function(){return this.page*this.perPage>=this.count+this.perPage&&this.page>1},t.prototype.initPages=function(){var t=this.getLast(),e=4;if(e=t<e?t:e,this.pages=[],this.shouldShow()){var n=Math.ceil(e/2);n=this.page>=n?this.page:n;var i=n+Math.floor(e/2);i=i>=t?t:i;for(var o=i-e+1,a=o;a<=i;a++)this.pages.push(a)}},t}();a([n.i(i.Input)(),r("design:type",o.a)],l.prototype,"source",void 0),a([n.i(i.Output)(),r("design:type",Object)],l.prototype,"changePage",void 0),l=a([n.i(i.Component)({selector:"ng2-smart-table-pager",styles:[".ng2-smart-pagination{display:inline-flex;font-size:.875em;padding:0}.ng2-smart-pagination .sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);border:0}.ng2-smart-pagination .ng2-smart-page-item{display:inline} /*# sourceMappingURL=pager.component.css.map */ "],template:'\n    <nav *ngIf="shouldShow()" class="ng2-smart-pagination-nav">\n      <ul class="ng2-smart-pagination pagination">\n        <li class="ng2-smart-page-item page-item" [ngClass]="{disabled: getPage() == 1}">\n          <a class="ng2-smart-page-link page-link" href="#"\n          (click)="getPage() == 1 ? false : paginate(1)" aria-label="First">\n            <span aria-hidden="true">&laquo;</span>\n            <span class="sr-only">First</span>\n          </a>\n        </li>\n        <li class="ng2-smart-page-item page-item"\n        [ngClass]="{active: getPage() == page}" *ngFor="let page of getPages()">\n          <span class="ng2-smart-page-link page-link"\n          *ngIf="getPage() == page">{{ page }} <span class="sr-only">(current)</span></span>\n          <a class="ng2-smart-page-link page-link" href="#"\n          (click)="paginate(page)" *ngIf="getPage() != page">{{ page }}</a>\n        </li>\n\n        <li class="ng2-smart-page-item page-item"\n        [ngClass]="{disabled: getPage() == getLast()}">\n          <a class="ng2-smart-page-link page-link" href="#"\n          (click)="getPage() == getLast() ? false : paginate(getLast())" aria-label="Last">\n            <span aria-hidden="true">&raquo;</span>\n            <span class="sr-only">Last</span>\n          </a>\n        </li>\n      </ul>\n    </nav>\n  '})],l)},vfyQ:function(t,e,n){"use strict";var i=n("3j3K");n.d(e,"a",function(){return o});var o=function(){function t(){this.selected=new i.EventEmitter,this.highlighted=new i.EventEmitter,this.opened=new i.EventEmitter,this._hasHighlighted=!1,this._hasSelected=!1,this._cancelBlur=!1,this._isOpen=!1}return t.prototype.registerList=function(t){this.list=t},t.prototype.registerDropdown=function(t){this.dropdown=t},t.prototype.onHighlighted=function(t){this.highlighted.emit(t),this._hasHighlighted=!!t},t.prototype.onSelected=function(t,e){void 0===e&&(e=!0),this.selected.emit(t),t&&(this._hasSelected=!0),e&&this.clear()},t.prototype.search=function(t){this._hasSelected&&(this.selected.emit(null),this._hasSelected=!1),this.list&&this.list.search(t)},t.prototype.clear=function(){this.dropdown&&this.dropdown.clear(),this.list&&this.list.clear(),this._hasHighlighted=!1,this.isOpen=!1},t.prototype.selectCurrent=function(){this.dropdown&&this.dropdown.selectCurrent()},t.prototype.nextRow=function(){this.dropdown&&this.dropdown.nextRow()},t.prototype.prevRow=function(){this.dropdown&&this.dropdown.prevRow()},t.prototype.hasHighlighted=function(){return this._hasHighlighted},t.prototype.cancelBlur=function(t){this._cancelBlur=t},t.prototype.isCancelBlur=function(){return this._cancelBlur},t.prototype.open=function(){this._isOpen||(this.isOpen=!0,this.list.open())},Object.defineProperty(t.prototype,"isOpen",{get:function(){return this._isOpen},set:function(t){this._isOpen=t,this.opened.emit(this._isOpen),this.list&&this.list.isOpen(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"autoHighlightIndex",{get:function(){return this._autoHighlightIndex},set:function(t){this._autoHighlightIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasSelected",{get:function(){return this._hasSelected},enumerable:!0,configurable:!0}),t}();o.decorators=[{type:i.Directive,args:[{selector:"[ctrCompleter]"}]}],o.ctorParameters=function(){return[]},o.propDecorators={selected:[{type:i.Output}],highlighted:[{type:i.Output}],opened:[{type:i.Output}]}},wJsi:function(t,e,n){"use strict";var i=n("3j3K"),o=n("NVOs"),a=n("rCTf"),r=(n.n(a),n("vfyQ")),l=n("Dgu4");n.d(e,"a",function(){return v});var s=40,c=39,u=38,d=37,h=27,f=13,p=9,v=function(){function t(t,e,o){var a=this;this.completer=t,this.ngModel=e,this.el=o,this.clearSelected=!1,this.clearUnselected=!1,this.overrideSuggested=!1,this.fillHighlighted=!0,this.openOnFocus=!1,this.ngModelChange=new i.EventEmitter,this._searchStr="",this._displayStr="",this.blurTimer=null,this.completer.selected.subscribe(function(t){t&&(a.clearSelected?a.searchStr="":a.searchStr=t.title,a.ngModelChange.emit(a.searchStr))}),this.completer.highlighted.subscribe(function(t){a.fillHighlighted&&(t?(a._displayStr=t.title,a.ngModelChange.emit(t.title)):(a._displayStr=a.searchStr,a.ngModelChange.emit(a.searchStr)))}),this.ngModel.valueChanges.subscribe(function(t){n.i(l.a)(t)||a._displayStr===t||(a.searchStr!==t&&a.completer.search(t),a.searchStr=t)})}return t.prototype.keyupHandler=function(t){t.keyCode!==d&&t.keyCode!==c&&t.keyCode!==p&&(t.keyCode===u||t.keyCode===f?t.preventDefault():t.keyCode===s?(t.preventDefault(),this.completer.search(this.searchStr)):t.keyCode===h?(this.restoreSearchValue(),this.completer.clear()):this.searchStr&&this.completer.open())},t.prototype.keydownHandler=function(t){t.keyCode===f?(this.completer.hasHighlighted()&&t.preventDefault(),this.handleSelection()):t.keyCode===s?(t.preventDefault(),this.completer.open(),this.completer.nextRow()):t.keyCode===u?(t.preventDefault(),this.completer.prevRow()):t.keyCode===p?this.handleSelection():t.keyCode===h&&t.preventDefault()},t.prototype.onBlur=function(t){var e=this;if(this.completer.isCancelBlur())return void setTimeout(function(){e.el.nativeElement.focus()},0);this.blurTimer=a.Observable.timer(200).subscribe(function(){e.blurTimer.unsubscribe(),e.blurTimer=null,e.overrideSuggested?e.completer.onSelected({title:e.searchStr,originalObject:null}):e.clearUnselected&&!e.completer.hasSelected?(e.searchStr="",e.ngModelChange.emit(e.searchStr)):e.restoreSearchValue(),e.completer.clear()})},t.prototype.onfocus=function(){this.blurTimer&&(this.blurTimer.unsubscribe(),this.blurTimer=null),this.openOnFocus&&this.completer.open()},Object.defineProperty(t.prototype,"searchStr",{get:function(){return this._searchStr},set:function(t){this._searchStr=t,this._displayStr=t},enumerable:!0,configurable:!0}),t.prototype.handleSelection=function(){this.completer.hasHighlighted()?(this._searchStr="",this.completer.selectCurrent()):this.overrideSuggested?this.completer.onSelected({title:this.searchStr,originalObject:null}):this.completer.clear()},t.prototype.restoreSearchValue=function(){this.fillHighlighted&&this._displayStr!=this.searchStr&&(this._displayStr=this.searchStr,this.ngModelChange.emit(this.searchStr))},t}();v.decorators=[{type:i.Directive,args:[{selector:"[ctrInput]"}]}],v.ctorParameters=function(){return[{type:r.a,decorators:[{type:i.Host}]},{type:o.f},{type:i.ElementRef}]},v.propDecorators={clearSelected:[{type:i.Input,args:["clearSelected"]}],clearUnselected:[{type:i.Input,args:["clearUnselected"]}],overrideSuggested:[{type:i.Input,args:["overrideSuggested"]}],fillHighlighted:[{type:i.Input,args:["fillHighlighted"]}],openOnFocus:[{type:i.Input,args:["openOnFocus"]}],ngModelChange:[{type:i.Output}],keyupHandler:[{type:i.HostListener,args:["keyup",["$event"]]}],keydownHandler:[{type:i.HostListener,args:["keydown",["$event"]]}],onBlur:[{type:i.HostListener,args:["blur",["$event"]]}],onfocus:[{type:i.HostListener,args:["focus",["$event"]]}]}},wkag:function(t,e,n){"use strict";var i=n("3j3K"),o=n("bICd"),a=n("/U6W"),r=n("aXxY");n.d(e,"a",function(){return c});var l=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},c=function(){function t(){this.edit=new i.EventEmitter,this.delete=new i.EventEmitter,this.editRowSelect=new i.EventEmitter}return t.prototype.onEdit=function(t){t.preventDefault(),t.stopPropagation(),this.editRowSelect.emit(this.row),"external"===this.grid.getSetting("mode")?this.edit.emit({data:this.row.getData(),source:this.source}):this.grid.edit(this.row)},t.prototype.onDelete=function(t){t.preventDefault(),t.stopPropagation(),"external"===this.grid.getSetting("mode")?this.delete.emit({data:this.row.getData(),source:this.source}):this.grid.delete(this.row,this.deleteConfirm)},t.prototype.ngOnChanges=function(){this.isActionEdit=this.grid.getSetting("actions.edit"),this.isActionDelete=this.grid.getSetting("actions.delete"),this.editRowButtonContent=this.grid.getSetting("edit.editButtonContent"),this.deleteRowButtonContent=this.grid.getSetting("delete.deleteButtonContent")},t}();l([n.i(i.Input)(),s("design:type",o.a)],c.prototype,"grid",void 0),l([n.i(i.Input)(),s("design:type",a.a)],c.prototype,"row",void 0),l([n.i(i.Input)(),s("design:type",r.a)],c.prototype,"source",void 0),l([n.i(i.Input)(),s("design:type",i.EventEmitter)],c.prototype,"deleteConfirm",void 0),l([n.i(i.Input)(),s("design:type",i.EventEmitter)],c.prototype,"editConfirm",void 0),l([n.i(i.Output)(),s("design:type",Object)],c.prototype,"edit",void 0),l([n.i(i.Output)(),s("design:type",Object)],c.prototype,"delete",void 0),l([n.i(i.Output)(),s("design:type",Object)],c.prototype,"editRowSelect",void 0),c=l([n.i(i.Component)({selector:"ng2-st-tbody-edit-delete",changeDetection:i.ChangeDetectionStrategy.OnPush,template:'\n    <a href="#" *ngIf="isActionEdit" class="ng2-smart-action ng2-smart-action-edit-edit"\n        [innerHTML]="editRowButtonContent" (click)="onEdit($event)"></a>\n    <a href="#" *ngIf="isActionDelete" class="ng2-smart-action ng2-smart-action-delete-delete"\n        [innerHTML]="deleteRowButtonContent" (click)="onDelete($event)"></a>\n  '})],c)},xRlJ:function(t,e,n){"use strict";var i=n("3j3K"),o=n("3ERO");n.d(e,"a",function(){return s});var a=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(e,n){function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),r=this&&this.__decorate||function(t,e,n,i){var o,a=arguments.length,r=a<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(t,e,n,i);else for(var l=t.length-1;l>=0;l--)(o=t[l])&&(r=(a<3?o(r):a>3?o(e,n,r):o(e,n))||r);return a>3&&r&&Object.defineProperty(e,n,r),r},l=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},s=function(t){function e(){return t.call(this)||this}return a(e,t),e}(o.a);s=r([n.i(i.Component)({selector:"textarea-editor",styles:[":host input,:host textarea{width:100%;line-height:normal;padding:.375em .75em} /*# sourceMappingURL=editor.component.css.map */ "],template:'\n    <textarea [ngClass]="inputClass"\n              class="form-control"\n              [(ngModel)]="cell.newValue"\n              [name]="cell.getId()"\n              [disabled]="!cell.isEditable()"\n              [placeholder]="cell.getTitle()"\n              (click)="onClick.emit($event)"\n              (keydown.enter)="onEdited.emit($event)"\n              (keydown.esc)="onStopEditing.emit()">\n    </textarea>\n    '}),l("design:paramtypes",[])],s)},yu8n:function(t,e,n){"use strict";var i=n("3j3K"),o=n("I+b6");n.d(e,"a",function(){return a});var a=function(){function t(t,e,n){this.el=t,this.renderer=e,this.dropdown=n,this.selected=!1}return t.prototype.ngOnInit=function(){this.dropdown.registerRow(new o.a(this,this._rowIndex))},Object.defineProperty(t.prototype,"ctrRow",{set:function(t){this._rowIndex=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataItem",{set:function(t){this._item=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(t){this.dropdown.onSelected(this._item)},t.prototype.onMouseEnter=function(t){this.dropdown.highlightRow(this._rowIndex)},t.prototype.setHighlighted=function(t){this.selected=t,this.renderer.setElementClass(this.el.nativeElement,"completer-selected-row",this.selected)},t.prototype.getNativeElement=function(){return this.el.nativeElement},t.prototype.getDataItem=function(){return this._item},t}();a.decorators=[{type:i.Directive,args:[{selector:"[ctrRow]"}]}],a.ctorParameters=function(){return[{type:i.ElementRef},{type:i.Renderer},{type:o.b,decorators:[{type:i.Host}]}]},a.propDecorators={ctrRow:[{type:i.Input}],dataItem:[{type:i.Input}],onClick:[{type:i.HostListener,args:["click",["$event"]]}],onMouseEnter:[{type:i.HostListener,args:["mouseenter",["$event"]]}]}}});